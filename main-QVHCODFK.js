import{a as B,b as se,d as wu,e as ri}from"./chunk-LGPK3X4Q.js";var xI=null;var Uw=1,PI=Symbol("SIGNAL");function bn(e){let t=xI;return xI=e,t}var OI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function jW(e){if(!(Gw(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Uw)){if(!e.producerMustRecompute(e)&&!jw(e)){e.dirty=!1,e.lastCleanEpoch=Uw;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Uw}}function SI(e){return e&&(e.nextProducerIndex=0),bn(e)}function EI(e,t){if(bn(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Gw(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Hw(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function jw(e){zy(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(jW(n),i!==n.version))return!0}return!1}function DI(e){if(zy(e),Gw(e))for(let t=0;t<e.producerNode.length;t++)Hw(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Hw(e,t){if(HW(e),zy(e),e.liveConsumerNode.length===1)for(let i=0;i<e.producerNode.length;i++)Hw(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];zy(r),r.producerIndexOfThis[i]=t}}function Gw(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function zy(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function HW(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function GW(){throw new Error}var WW=GW;function AI(e){WW=e}function Xt(e){return typeof e=="function"}function Cp(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var By=Cp(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function yg(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var or=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(Xt(i))try{i()}catch(o){t=o instanceof By?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{TI(o)}catch(a){t=t??[],a instanceof By?t=[...t,...a.errors]:t.push(a)}}if(t)throw new By(t)}}add(t){var n;if(t&&t!==this)if(this.closed)TI(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&yg(n,t)}remove(t){let{_finalizers:n}=this;n&&yg(n,t),t instanceof e&&t._removeParent(this)}};or.EMPTY=(()=>{let e=new or;return e.closed=!0,e})();var Ww=or.EMPTY;function Vy(e){return e instanceof or||e&&"closed"in e&&Xt(e.remove)&&Xt(e.add)&&Xt(e.unsubscribe)}function TI(e){Xt(e)?e():e.unsubscribe()}var Ms={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Mp={setTimeout(e,t,...n){let{delegate:i}=Mp;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Mp;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Uy(e){Mp.setTimeout(()=>{let{onUnhandledError:t}=Ms;if(t)t(e);else throw e})}function bg(){}var II=qw("C",void 0,void 0);function RI(e){return qw("E",void 0,e)}function LI(e){return qw("N",e,void 0)}function qw(e,t,n){return{kind:e,value:t,error:n}}var xu=null;function wp(e){if(Ms.useDeprecatedSynchronousErrorHandling){let t=!xu;if(t&&(xu={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=xu;if(xu=null,n)throw i}}else e()}function kI(e){Ms.useDeprecatedSynchronousErrorHandling&&xu&&(xu.errorThrown=!0,xu.error=e)}var Pu=class extends or{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Vy(t)&&t.add(this)):this.destination=XW}static create(t,n,i){return new xp(t,n,i)}next(t){this.isStopped?Xw(LI(t),this):this._next(t)}error(t){this.isStopped?Xw(RI(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Xw(II,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qW=Function.prototype.bind;function Yw(e,t){return qW.call(e,t)}var Qw=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){jy(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){jy(i)}else jy(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){jy(n)}}},xp=class extends Pu{constructor(t,n,i){super();let r;if(Xt(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Ms.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Yw(t.next,o),error:t.error&&Yw(t.error,o),complete:t.complete&&Yw(t.complete,o)}):r=t}this.destination=new Qw(r)}};function jy(e){Ms.useDeprecatedSynchronousErrorHandling?kI(e):Uy(e)}function YW(e){throw e}function Xw(e,t){let{onStoppedNotification:n}=Ms;n&&Mp.setTimeout(()=>n(e,t))}var XW={closed:!0,next:bg,error:YW,complete:bg};var Pp=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ga(e){return e}function Zw(...e){return $w(e)}function $w(e){return e.length===0?ga:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var ei=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=ZW(n)?n:new xp(n,i,r);return wp(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=FI(i),new i((r,o)=>{let a=new xp({next:s=>{try{n(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Pp](){return this}pipe(...n){return $w(n)(this)}toPromise(n){return n=FI(n),new n((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return e.create=t=>new e(t),e})();function FI(e){var t;return(t=e??Ms.Promise)!==null&&t!==void 0?t:Promise}function QW(e){return e&&Xt(e.next)&&Xt(e.error)&&Xt(e.complete)}function ZW(e){return e&&e instanceof Pu||QW(e)&&Vy(e)}function Kw(e){return Xt(e?.lift)}function Sn(e){return t=>{if(Kw(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function En(e,t,n,i,r){return new Jw(e,t,n,i,r)}var Jw=class extends Pu{constructor(t,n,i,r,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(s){try{n(s)}catch(l){t.error(l)}}:super._next,this._error=r?function(s){try{r(s)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Op(){return Sn((e,t)=>{let n=null;e._refCount++;let i=En(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var Sp=class extends ei{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Kw(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new or;let n=this.getSubject();t.add(this.source.subscribe(En(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=or.EMPTY)}return t}refCount(){return Op()(this)}};var NI=Cp(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var no=(()=>{class e extends ei{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Hy(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new NI}next(n){wp(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){wp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){wp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Ww:(this.currentObservers=null,o.push(n),new or(()=>{this.currentObservers=null,yg(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new ei;return n.source=this,n}}return e.create=(t,n)=>new Hy(t,n),e})(),Hy=class extends no{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:Ww}};var Nr=class extends no{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var va=new ei(e=>e.complete());function zI(e){return e&&Xt(e.schedule)}function BI(e){return e[e.length-1]}function VI(e){return Xt(BI(e))?e.pop():void 0}function ld(e){return zI(BI(e))?e.pop():void 0}function jI(e,t,n,i){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{c(i.next(d))}catch(u){a(u)}}function l(d){try{c(i.throw(d))}catch(u){a(u)}}function c(d){d.done?o(d.value):r(d.value).then(s,l)}c((i=i.apply(e,t||[])).next())})}function UI(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ou(e){return this instanceof Ou?(this.v=e,this):new Ou(e)}function HI(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(h){i[h]&&(r[h]=function(p){return new Promise(function(m,g){o.push([h,p,m,g])>1||s(h,p)})})}function s(h,p){try{l(i[h](p))}catch(m){u(o[0][3],m)}}function l(h){h.value instanceof Ou?Promise.resolve(h.value.v).then(c,d):u(o[0][2],h)}function c(h){s("next",h)}function d(h){s("throw",h)}function u(h,p){h(p),o.shift(),o.length&&s(o[0][0],o[0][1])}}function GI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof UI=="function"?UI(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(a){return new Promise(function(s,l){a=e[o](a),r(s,l,a.done,a.value)})}}function r(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}var Gy=e=>e&&typeof e.length=="number"&&typeof e!="function";function Wy(e){return Xt(e?.then)}function qy(e){return Xt(e[Pp])}function Yy(e){return Symbol.asyncIterator&&Xt(e?.[Symbol.asyncIterator])}function Xy(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function $W(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qy=$W();function Zy(e){return Xt(e?.[Qy])}function $y(e){return HI(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield Ou(n.read());if(r)return yield Ou(void 0);yield yield Ou(i)}}finally{n.releaseLock()}})}function Ky(e){return Xt(e?.getReader)}function br(e){if(e instanceof ei)return e;if(e!=null){if(qy(e))return KW(e);if(Gy(e))return JW(e);if(Wy(e))return eq(e);if(Yy(e))return WI(e);if(Zy(e))return tq(e);if(Ky(e))return nq(e)}throw Xy(e)}function KW(e){return new ei(t=>{let n=e[Pp]();if(Xt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function JW(e){return new ei(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function eq(e){return new ei(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Uy)})}function tq(e){return new ei(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function WI(e){return new ei(t=>{iq(e,t).catch(n=>t.error(n))})}function nq(e){return WI($y(e))}function iq(e,t){var n,i,r,o;return jI(this,void 0,void 0,function*(){try{for(n=GI(e);i=yield n.next(),!i.done;){let a=i.value;if(t.next(a),t.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})}function Qo(e,t,n,i=0,r=!1){let o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function Jy(e,t=0){return Sn((n,i)=>{n.subscribe(En(i,r=>Qo(i,e,()=>i.next(r),t),()=>Qo(i,e,()=>i.complete(),t),r=>Qo(i,e,()=>i.error(r),t)))})}function e1(e,t=0){return Sn((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function qI(e,t){return br(e).pipe(e1(t),Jy(t))}function YI(e,t){return br(e).pipe(e1(t),Jy(t))}function XI(e,t){return new ei(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function QI(e,t){return new ei(n=>{let i;return Qo(n,t,()=>{i=e[Qy](),Qo(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){n.error(a);return}o?n.complete():n.next(r)},0,!0)}),()=>Xt(i?.return)&&i.return()})}function t1(e,t){if(!e)throw new Error("Iterable cannot be null");return new ei(n=>{Qo(n,t,()=>{let i=e[Symbol.asyncIterator]();Qo(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function ZI(e,t){return t1($y(e),t)}function $I(e,t){if(e!=null){if(qy(e))return qI(e,t);if(Gy(e))return XI(e,t);if(Wy(e))return YI(e,t);if(Yy(e))return t1(e,t);if(Zy(e))return QI(e,t);if(Ky(e))return ZI(e,t)}throw Xy(e)}function Gi(e,t){return t?$I(e,t):br(e)}function Ht(...e){let t=ld(e);return Gi(e,t)}function Ep(e,t){let n=Xt(e)?e:()=>e,i=r=>r.error(n());return new ei(t?r=>t.schedule(i,0,r):i)}function ex(e){return!!e&&(e instanceof ei||Xt(e.lift)&&Xt(e.subscribe))}var ic=Cp(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Dn(e,t){return Sn((n,i)=>{let r=0;n.subscribe(En(i,o=>{i.next(e.call(t,o,r++))}))})}var{isArray:rq}=Array;function oq(e,t){return rq(t)?e(...t):e(t)}function KI(e){return Dn(t=>oq(e,t))}var{isArray:aq}=Array,{getPrototypeOf:sq,prototype:lq,keys:cq}=Object;function JI(e){if(e.length===1){let t=e[0];if(aq(t))return{args:t,keys:null};if(dq(t)){let n=cq(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function dq(e){return e&&typeof e=="object"&&sq(e)===lq}function e4(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function n1(...e){let t=ld(e),n=VI(e),{args:i,keys:r}=JI(e);if(i.length===0)return Gi([],t);let o=new ei(uq(i,t,r?a=>e4(r,a):ga));return n?o.pipe(KI(n)):o}function uq(e,t,n=ga){return i=>{t4(t,()=>{let{length:r}=e,o=new Array(r),a=r,s=r;for(let l=0;l<r;l++)t4(t,()=>{let c=Gi(e[l],t),d=!1;c.subscribe(En(i,u=>{o[l]=u,d||(d=!0,s--),s||i.next(n(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function t4(e,t,n){e?Qo(n,e,t):t()}function n4(e,t,n,i,r,o,a,s){let l=[],c=0,d=0,u=!1,h=()=>{u&&!l.length&&!c&&t.complete()},p=g=>c<i?m(g):l.push(g),m=g=>{o&&t.next(g),c++;let v=!1;br(n(g,d++)).subscribe(En(t,b=>{r?.(b),o?p(b):t.next(b)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<i;){let b=l.shift();a?Qo(t,a,()=>m(b)):m(b)}h()}catch(b){t.error(b)}}))};return e.subscribe(En(t,p,()=>{u=!0,h()})),()=>{s?.()}}function ar(e,t,n=1/0){return Xt(t)?ar((i,r)=>Dn((o,a)=>t(i,o,r,a))(br(e(i,r))),n):(typeof t=="number"&&(n=t),Sn((i,r)=>n4(i,r,e,n)))}function Dp(e=1/0){return ar(ga,e)}function i4(){return Dp(1)}function Ap(...e){return i4()(Gi(e,ld(e)))}function i1(e){return new ei(t=>{br(e()).subscribe(t)})}function ya(e,t){return Sn((n,i)=>{let r=0;n.subscribe(En(i,o=>e.call(t,o,r++)&&i.next(o)))})}function cd(e){return Sn((t,n)=>{let i=null,r=!1,o;i=t.subscribe(En(n,void 0,void 0,a=>{o=br(e(a,cd(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function r4(e,t,n,i,r){return(o,a)=>{let s=n,l=t,c=0;o.subscribe(En(a,d=>{let u=c++;l=s?e(l,d,u):(s=!0,d),i&&a.next(l)},r&&(()=>{s&&a.next(l),a.complete()})))}}function Tp(e,t){return Xt(t)?ar(e,t,1):ar(e,1)}function dd(e){return Sn((t,n)=>{let i=!1;t.subscribe(En(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function rc(e){return e<=0?()=>va:Sn((t,n)=>{let i=0;t.subscribe(En(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function tx(e){return Dn(()=>e)}function r1(e=hq){return Sn((t,n)=>{let i=!1;t.subscribe(En(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function hq(){return new ic}function _g(e){return Sn((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function il(e,t){let n=arguments.length>=2;return i=>i.pipe(e?ya((r,o)=>e(r,o,i)):ga,rc(1),n?dd(t):r1(()=>new ic))}function Ip(e){return e<=0?()=>va:Sn((t,n)=>{let i=[];t.subscribe(En(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function nx(e,t){let n=arguments.length>=2;return i=>i.pipe(e?ya((r,o)=>e(r,o,i)):ga,Ip(1),n?dd(t):r1(()=>new ic))}function ix(e,t){return Sn(r4(e,t,arguments.length>=2,!0))}function rx(...e){let t=ld(e);return Sn((n,i)=>{(t?Ap(e,n,t):Ap(e,n)).subscribe(i)})}function ws(e,t){return Sn((n,i)=>{let r=null,o=0,a=!1,s=()=>a&&!r&&i.complete();n.subscribe(En(i,l=>{r?.unsubscribe();let c=0,d=o++;br(e(l,d)).subscribe(r=En(i,u=>i.next(t?t(l,u,d,c++):u),()=>{r=null,s()}))},()=>{a=!0,s()}))})}function ox(e){return Sn((t,n)=>{br(e).subscribe(En(n,()=>n.complete(),bg)),!n.closed&&t.subscribe(n)})}function zr(e,t,n){let i=Xt(e)||t||n?{next:e,error:t,complete:n}:e;return i?Sn((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let s=!0;r.subscribe(En(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;s=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;s=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;s&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):ga}var H4="https://g.co/ng/security#xss",It=class extends Error{constructor(t,n){super(vP(t,n)),this.code=t}};function vP(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function L1(e){return{toString:e}.toString()}var o1="__parameters__";function pq(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function G4(e,t,n){return L1(()=>{let i=pq(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let a=new r(...o);return s.annotation=a,s;function s(l,c,d){let u=l.hasOwnProperty(o1)?l[o1]:Object.defineProperty(l,o1,{value:[]})[o1];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(a),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Su=globalThis;function oi(e){for(let t in e)if(e[t]===oi)return t;throw Error("Could not find renamed property on target object.")}function wo(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(wo).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function o4(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var mq=oi({__forward_ref__:oi});function W4(e){return e.__forward_ref__=W4,e.toString=function(){return wo(this())},e}function ja(e){return q4(e)?e():e}function q4(e){return typeof e=="function"&&e.hasOwnProperty(mq)&&e.__forward_ref__===W4}function $t(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function k1(e){return a4(e,X4)||a4(e,Q4)}function Y4(e){return k1(e)!==null}function a4(e,t){return e.hasOwnProperty(t)?e[t]:null}function fq(e){let t=e&&(e[X4]||e[Q4]);return t||null}function s4(e){return e&&(e.hasOwnProperty(l4)||e.hasOwnProperty(gq))?e[l4]:null}var X4=oi({\u0275prov:oi}),l4=oi({\u0275inj:oi}),Q4=oi({ngInjectableDef:oi}),gq=oi({ngInjectorDef:oi}),_n=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$t({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Z4(e){return e&&!!e.\u0275providers}var vq=oi({\u0275cmp:oi}),yq=oi({\u0275dir:oi}),bq=oi({\u0275pipe:oi}),_q=oi({\u0275mod:oi}),m1=oi({\u0275fac:oi}),Cg=oi({__NG_ELEMENT_ID__:oi}),c4=oi({__NG_ENV_ID__:oi});function F1(e){return typeof e=="string"?e:e==null?"":String(e)}function Cq(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():F1(e)}function Mq(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new It(-200,e)}function yP(e,t){throw new It(-201,!1)}var hn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(hn||{}),_x;function $4(){return _x}function Ua(e){let t=_x;return _x=e,t}function K4(e,t,n){let i=k1(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&hn.Optional)return null;if(t!==void 0)return t;yP(e,"Injector")}var wq={},Mg=wq,Cx="__NG_DI_FLAG__",f1="ngTempTokenPath",xq="ngTokenPath",Pq=/\n/gm,Oq="\u0275",d4="__source",Np;function Sq(){return Np}function ud(e){let t=Np;return Np=e,t}function Eq(e,t=hn.Default){if(Np===void 0)throw new It(-203,!1);return Np===null?K4(e,void 0,t):Np.get(e,t&hn.Optional?null:void 0,t)}function An(e,t=hn.Default){return($4()||Eq)(ja(e),t)}function dt(e,t=hn.Default){return An(e,N1(t))}function N1(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Mx(e){let t=[];for(let n=0;n<e.length;n++){let i=ja(e[n]);if(Array.isArray(i)){if(i.length===0)throw new It(900,!1);let r,o=hn.Default;for(let a=0;a<i.length;a++){let s=i[a],l=Dq(s);typeof l=="number"?l===-1?r=s.token:o|=l:r=s}t.push(An(r,o))}else t.push(An(i))}return t}function J4(e,t){return e[Cx]=t,e.prototype[Cx]=t,e}function Dq(e){return e[Cx]}function Aq(e,t,n,i){let r=e[f1];throw t[d4]&&r.unshift(t[d4]),e.message=Tq(`
`+e.message,r,n,i),e[xq]=r,e[f1]=null,e}function Tq(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Oq?e.slice(2):e;let r=wo(t);if(Array.isArray(t))r=t.map(wo).join(" -> ");else if(typeof t=="object"){let o=[];for(let a in t)if(t.hasOwnProperty(a)){let s=t[a];o.push(a+":"+(typeof s=="string"?JSON.stringify(s):wo(s)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(Pq,`
  `)}`}var bP=J4(G4("Optional"),8);var e5=J4(G4("SkipSelf"),4);function Bp(e,t){let n=e.hasOwnProperty(m1);return n?e[m1]:null}function Iq(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function Rq(e){return e.flat(Number.POSITIVE_INFINITY)}function _P(e,t){e.forEach(n=>Array.isArray(n)?_P(n,t):t(n))}function t5(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function g1(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Lq(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function kq(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function Fq(e,t,n){let i=Ng(e,t);return i>=0?e[i|1]=n:(i=~i,kq(e,i,t,n)),i}function ax(e,t){let n=Ng(e,t);if(n>=0)return e[n|1]}function Ng(e,t){return Nq(e,t,1)}function Nq(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),a=e[o<<n];if(t===a)return o<<n;a>t?r=o:i=o+1}return~(r<<n)}var wg={},Au=[],Vp=new _n(""),n5=new _n("",-1),i5=new _n(""),v1=class{get(t,n=Mg){if(n===Mg){let i=new Error(`NullInjectorError: No provider for ${wo(t)}!`);throw i.name="NullInjectorError",i}return n}},r5=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(r5||{}),al=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(al||{}),Ha=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ha||{});function zq(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function wx(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],a=n[i++],s=n[i++];e.setAttribute(t,a,s,o)}else{let o=r,a=n[++i];Bq(o)?e.setProperty(t,o,a):e.setAttribute(t,o,a),i++}}return i}function o5(e){return e===3||e===4||e===6}function Bq(e){return e.charCodeAt(0)===64}function CP(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?u4(e,n,r,null,t[++i]):u4(e,n,r,null,null))}}return e}function u4(e,t,n,i,r){let o=0,a=e.length;if(t===-1)a=-1;else for(;o<e.length;){let s=e[o++];if(typeof s=="number"){if(s===t){a=-1;break}else if(s>t){a=o-1;break}}}for(;o<e.length;){let s=e[o];if(typeof s=="number")break;if(s===n){if(i===null){r!==null&&(e[o+1]=r);return}else if(i===e[o+1]){e[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}a!==-1&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i),r!==null&&e.splice(o++,0,r)}var a5="ng-template";function Vq(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&zq(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(MP(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function MP(e){return e.type===4&&e.value!==a5}function Uq(e,t,n){let i=e.type===4&&!n?a5:e.value;return t===i}function jq(e,t,n){let i=4,r=e.attrs,o=r!==null?Wq(r):0,a=!1;for(let s=0;s<t.length;s++){let l=t[s];if(typeof l=="number"){if(!a&&!xs(i)&&!xs(l))return!1;if(a&&xs(l))continue;a=!1,i=l|i&1;continue}if(!a)if(i&4){if(i=2|i&1,l!==""&&!Uq(e,l,n)||l===""&&t.length===1){if(xs(i))return!1;a=!0}}else if(i&8){if(r===null||!Vq(e,r,l,n)){if(xs(i))return!1;a=!0}}else{let c=t[++s],d=Hq(l,r,MP(e),n);if(d===-1){if(xs(i))return!1;a=!0;continue}if(c!==""){let u;if(d>o?u="":u=r[d+1].toLowerCase(),i&2&&c!==u){if(xs(i))return!1;a=!0}}}}return xs(i)||a}function xs(e){return(e&1)===0}function Hq(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let a=t[r];if(a===e)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=t[++r];for(;typeof s=="string";)s=t[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return qq(t,e)}function s5(e,t,n=!1){for(let i=0;i<t.length;i++)if(jq(e,t[i],n))return!0;return!1}function Gq(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function Wq(e){for(let t=0;t<e.length;t++){let n=e[t];if(o5(n))return t}return e.length}function qq(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function Yq(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function h4(e,t){return e?":not("+t.trim()+")":t}function Xq(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let a=e[n];if(typeof a=="string")if(i&2){let s=e[++n];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!xs(a)&&(t+=h4(o,r),r=""),i=a,o=o||!xs(i);n++}return r!==""&&(t+=h4(o,r)),t}function Qq(e){return e.map(Xq).join(",")}function Zq(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!xs(r))break;r=o}i++}return{attrs:t,classes:n}}function mt(e){return L1(()=>{let t=h5(e),n=se(B({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===r5.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||al.Emulated,styles:e.styles||Au,_:null,schemas:e.schemas||null,tView:null,id:""});p5(n);let i=e.dependencies;return n.directiveDefs=m4(i,!1),n.pipeDefs=m4(i,!0),n.id=Jq(n),n})}function $q(e){return Tu(e)||l5(e)}function Kq(e){return e!==null}function p4(e,t){if(e==null)return wg;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,a,s=Ha.None;Array.isArray(r)?(s=r[0],o=r[1],a=r[2]??o):(o=r,a=r),t?(n[o]=s!==Ha.None?[i,s]:i,t[o]=a):n[o]=i}return n}function md(e){return L1(()=>{let t=h5(e);return p5(t),t})}function Tu(e){return e[vq]||null}function l5(e){return e[yq]||null}function c5(e){return e[bq]||null}function d5(e){let t=Tu(e)||l5(e)||c5(e);return t!==null?t.standalone:!1}function u5(e,t){let n=e[_q]||null;if(!n&&t===!0)throw new Error(`Type ${wo(e)} does not have '\u0275mod' property.`);return n}function h5(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||wg,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Au,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:p4(e.inputs,t),outputs:p4(e.outputs),debugInfo:null}}function p5(e){e.features?.forEach(t=>t(e))}function m4(e,t){if(!e)return null;let n=t?c5:$q;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(Kq)}function Jq(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function z1(e){return{\u0275providers:e}}function eY(...e){return{\u0275providers:m5(!0,e),\u0275fromNgModule:!0}}function m5(e,...t){let n=[],i=new Set,r,o=a=>{n.push(a)};return _P(t,a=>{let s=a;xx(s,o,[],i)&&(r||=[],r.push(s))}),r!==void 0&&f5(r,o),n}function f5(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];wP(r,o=>{t(o,i)})}}function xx(e,t,n,i){if(e=ja(e),!e)return!1;let r=null,o=s4(e),a=!o&&Tu(e);if(!o&&!a){let l=e.ngModule;if(o=s4(l),o)r=l;else return!1}else{if(a&&!a.standalone)return!1;r=e}let s=i.has(r);if(a){if(s)return!1;if(i.add(r),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let c of l)xx(c,t,n,i)}}else if(o){if(o.imports!=null&&!s){i.add(r);let c;try{_P(o.imports,d=>{xx(d,t,n,i)&&(c||=[],c.push(d))})}finally{}c!==void 0&&f5(c,t)}if(!s){let c=Bp(r)||(()=>new r);t({provide:r,useFactory:c,deps:Au},r),t({provide:i5,useValue:r,multi:!0},r),t({provide:Vp,useValue:()=>An(r),multi:!0},r)}let l=o.providers;if(l!=null&&!s){let c=e;wP(l,d=>{t(d,c)})}}else return!1;return r!==e&&e.providers!==void 0}function wP(e,t){for(let n of e)Z4(n)&&(n=n.\u0275providers),Array.isArray(n)?wP(n,t):t(n)}var tY=oi({provide:String,useValue:oi});function g5(e){return e!==null&&typeof e=="object"&&tY in e}function nY(e){return!!(e&&e.useExisting)}function iY(e){return!!(e&&e.useFactory)}function Px(e){return typeof e=="function"}var B1=new _n(""),l1={},rY={},sx;function xP(){return sx===void 0&&(sx=new v1),sx}var Ga=class{},xg=class extends Ga{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sx(t,a=>this.processProvider(a)),this.records.set(n5,Rp(void 0,this)),r.has("environment")&&this.records.set(Ga,Rp(void 0,this));let o=this.records.get(B1);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(i5,Au,hn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=bn(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),bn(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=ud(this),i=Ua(void 0),r;try{return t()}finally{ud(n),Ua(i)}}get(t,n=Mg,i=hn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(c4))return t[c4](this);i=N1(i);let r,o=ud(this),a=Ua(void 0);try{if(!(i&hn.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=dY(t)&&k1(t);c&&this.injectableDefInScope(c)?l=Rp(Ox(t),l1):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let s=i&hn.Self?xP():this.parent;return n=i&hn.Optional&&n===Mg?null:n,s.get(t,n)}catch(s){if(s.name==="NullInjectorError"){if((s[f1]=s[f1]||[]).unshift(wo(t)),o)throw s;return Aq(s,t,"R3InjectorError",this.source)}else throw s}finally{Ua(a),ud(o)}}resolveInjectorInitializers(){let t=bn(null),n=ud(this),i=Ua(void 0),r;try{let o=this.get(Vp,Au,hn.Self);for(let a of o)a()}finally{ud(n),Ua(i),bn(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(wo(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new It(205,!1)}processProvider(t){t=ja(t);let n=Px(t)?t:ja(t&&t.provide),i=aY(t);if(!Px(t)&&t.multi===!0){let r=this.records.get(n);r||(r=Rp(void 0,l1,!0),r.factory=()=>Mx(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=bn(null);try{return n.value===l1&&(n.value=rY,n.value=n.factory()),typeof n.value=="object"&&n.value&&cY(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{bn(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=ja(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ox(e){let t=k1(e),n=t!==null?t.factory:Bp(e);if(n!==null)return n;if(e instanceof _n)throw new It(204,!1);if(e instanceof Function)return oY(e);throw new It(204,!1)}function oY(e){if(e.length>0)throw new It(204,!1);let n=fq(e);return n!==null?()=>n.factory(e):()=>new e}function aY(e){if(g5(e))return Rp(void 0,e.useValue);{let t=sY(e);return Rp(t,l1)}}function sY(e,t,n){let i;if(Px(e)){let r=ja(e);return Bp(r)||Ox(r)}else if(g5(e))i=()=>ja(e.useValue);else if(iY(e))i=()=>e.useFactory(...Mx(e.deps||[]));else if(nY(e))i=()=>An(ja(e.useExisting));else{let r=ja(e&&(e.useClass||e.provide));if(lY(e))i=()=>new r(...Mx(e.deps));else return Bp(r)||Ox(r)}return i}function Rp(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function lY(e){return!!e.deps}function cY(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function dY(e){return typeof e=="function"||typeof e=="object"&&e instanceof _n}function Sx(e,t){for(let n of e)Array.isArray(n)?Sx(n,t):n&&Z4(n)?Sx(n.\u0275providers,t):t(n)}function sc(e,t){e instanceof xg&&e.assertNotDestroyed();let n,i=ud(e),r=Ua(void 0);try{return t()}finally{ud(i),Ua(r)}}function v5(){return $4()!==void 0||Sq()!=null}function uY(e){if(!v5())throw new It(-203,!1)}function hY(e){return typeof e=="function"}var lc=0,Zt=1,kt=2,Br=3,Ps=4,Ca=5,Up=6,Pg=7,io=8,jp=9,Os=10,_r=11,Og=12,f4=13,qp=14,Wa=15,zg=16,Lp=17,oc=18,V1=19,y5=20,hd=21,lx=22,Iu=23,qa=25,b5=1;var Ru=7,y1=8,Hp=9,ro=10,PP=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(PP||{});function Eu(e){return Array.isArray(e)&&typeof e[b5]=="object"}function cc(e){return Array.isArray(e)&&e[b5]===!0}function _5(e){return(e.flags&4)!==0}function U1(e){return e.componentOffset>-1}function OP(e){return(e.flags&1)===1}function Bg(e){return!!e.template}function pY(e){return(e[kt]&512)!==0}var Ex=class{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function C5(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}function fd(){return M5}function M5(e){return e.type.prototype.ngOnChanges&&(e.setInput=fY),mY}fd.ngInherit=!0;function mY(){let e=x5(this),t=e?.current;if(t){let n=e.previous;if(n===wg)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function fY(e,t,n,i,r){let o=this.declaredInputs[i],a=x5(e)||gY(e,{previous:wg,current:null}),s=a.current||(a.current={}),l=a.previous,c=l[o];s[o]=new Ex(c&&c.currentValue,n,l===wg),C5(e,t,r,n)}var w5="__ngSimpleChanges__";function x5(e){return e[w5]||null}function gY(e,t){return e[w5]=t}var g4=null;var rl=function(e,t,n){g4?.(e,t,n)},P5="svg",vY="math",yY=!1;function bY(){return yY}function sl(e){for(;Array.isArray(e);)e=e[lc];return e}function O5(e,t){return sl(t[e])}function Ya(e,t){return sl(t[e.index])}function SP(e,t){return e.data[t]}function gd(e,t){let n=t[e];return Eu(n)?n:n[lc]}function _Y(e){return(e[kt]&4)===4}function EP(e){return(e[kt]&128)===128}function CY(e){return cc(e[Br])}function b1(e,t){return t==null?null:e[t]}function S5(e){e[Lp]=0}function MY(e){e[kt]&1024||(e[kt]|=1024,EP(e)&&Sg(e))}function wY(e,t){for(;e>0;)t=t[qp],e--;return t}function DP(e){return!!(e[kt]&9216||e[Iu]?.dirty)}function Dx(e){e[Os].changeDetectionScheduler?.notify(1),DP(e)?Sg(e):e[kt]&64&&(bY()?(e[kt]|=1024,Sg(e)):e[Os].changeDetectionScheduler?.notify())}function Sg(e){e[Os].changeDetectionScheduler?.notify();let t=Eg(e);for(;t!==null&&!(t[kt]&8192||(t[kt]|=8192,!EP(t)));)t=Eg(t)}function E5(e,t){if((e[kt]&256)===256)throw new It(911,!1);e[hd]===null&&(e[hd]=[]),e[hd].push(t)}function xY(e,t){if(e[hd]===null)return;let n=e[hd].indexOf(t);n!==-1&&e[hd].splice(n,1)}function Eg(e){let t=e[Br];return cc(t)?t[Br]:t}var cn={lFrame:z5(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function PY(){return cn.lFrame.elementDepthCount}function OY(){cn.lFrame.elementDepthCount++}function SY(){cn.lFrame.elementDepthCount--}function D5(){return cn.bindingsEnabled}function A5(){return cn.skipHydrationRootTNode!==null}function EY(e){return cn.skipHydrationRootTNode===e}function DY(){cn.skipHydrationRootTNode=null}function In(){return cn.lFrame.lView}function Ma(){return cn.lFrame.tView}function jn(e){return cn.lFrame.contextLView=e,e[io]}function Hn(e){return cn.lFrame.contextLView=null,e}function wa(){let e=T5();for(;e!==null&&e.type===64;)e=e.parent;return e}function T5(){return cn.lFrame.currentTNode}function AY(){let e=cn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Vg(e,t){let n=cn.lFrame;n.currentTNode=e,n.isParent=t}function I5(){return cn.lFrame.isParent}function R5(){cn.lFrame.isParent=!1}function L5(){let e=cn.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function TY(e){return cn.lFrame.bindingIndex=e}function Ug(){return cn.lFrame.bindingIndex++}function IY(e){let t=cn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function RY(){return cn.lFrame.inI18n}function LY(e,t){let n=cn.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ax(t)}function kY(){return cn.lFrame.currentDirectiveIndex}function Ax(e){cn.lFrame.currentDirectiveIndex=e}function FY(e){let t=cn.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function k5(){return cn.lFrame.currentQueryIndex}function AP(e){cn.lFrame.currentQueryIndex=e}function NY(e){let t=e[Zt];return t.type===2?t.declTNode:t.type===1?e[Ca]:null}function F5(e,t,n){if(n&hn.SkipSelf){let r=t,o=e;for(;r=r.parent,r===null&&!(n&hn.Host);)if(r=NY(o),r===null||(o=o[qp],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=cn.lFrame=N5();return i.currentTNode=t,i.lView=e,!0}function TP(e){let t=N5(),n=e[Zt];cn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function N5(){let e=cn.lFrame,t=e===null?null:e.child;return t===null?z5(e):t}function z5(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function B5(){let e=cn.lFrame;return cn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var V5=B5;function IP(){let e=B5();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function zY(e){return(cn.lFrame.contextLView=wY(e,cn.lFrame.contextLView))[io]}function Bu(){return cn.lFrame.selectedIndex}function Lu(e){cn.lFrame.selectedIndex=e}function U5(){let e=cn.lFrame;return SP(e.tView,e.selectedIndex)}function Z(){cn.lFrame.currentNamespace=P5}function ee(){BY()}function BY(){cn.lFrame.currentNamespace=null}function VY(){return cn.lFrame.currentNamespace}var j5=!0;function RP(){return j5}function LP(e){j5=e}function UY(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let a=M5(t);(n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function kP(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;a&&(e.contentHooks??=[]).push(-n,a),s&&((e.contentHooks??=[]).push(n,s),(e.contentCheckHooks??=[]).push(n,s)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),d!=null&&(e.destroyHooks??=[]).push(n,d)}}function c1(e,t,n){H5(e,t,3,n)}function d1(e,t,n,i){(e[kt]&3)===n&&H5(e,t,n,i)}function cx(e,t){let n=e[kt];(n&3)===t&&(n&=16383,n+=1,e[kt]=n)}function H5(e,t,n,i){let r=i!==void 0?e[Lp]&65535:0,o=i??-1,a=t.length-1,s=0;for(let l=r;l<a;l++)if(typeof t[l+1]=="number"){if(s=t[l],i!=null&&s>=i)break}else t[l]<0&&(e[Lp]+=65536),(s<o||o==-1)&&(jY(e,n,t,l),e[Lp]=(e[Lp]&4294901760)+l+2),l++}function v4(e,t){rl(4,e,t);let n=bn(null);try{t.call(e)}finally{bn(n),rl(5,e,t)}}function jY(e,t,n,i){let r=n[i]<0,o=n[i+1],a=r?-n[i]:n[i],s=e[a];r?e[kt]>>14<e[Lp]>>16&&(e[kt]&3)===t&&(e[kt]+=16384,v4(s,o)):v4(s,o)}var zp=-1,Dg=class{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function HY(e){return e instanceof Dg}function GY(e){return(e.flags&8)!==0}function WY(e){return(e.flags&16)!==0}function G5(e){return e!==zp}function _1(e){return e&32767}function qY(e){return e>>16}function C1(e,t){let n=qY(e),i=t;for(;n>0;)i=i[qp],n--;return i}var Tx=!0;function y4(e){let t=Tx;return Tx=e,t}var YY=256,W5=YY-1,q5=5,XY=0,ol={};function QY(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Cg)&&(i=n[Cg]),i==null&&(i=n[Cg]=XY++);let r=i&W5,o=1<<r;t.data[e+(r>>q5)]|=o}function Y5(e,t){let n=X5(e,t);if(n!==-1)return n;let i=t[Zt];i.firstCreatePass&&(e.injectorIndex=t.length,dx(i.data,e),dx(t,null),dx(i.blueprint,null));let r=FP(e,t),o=e.injectorIndex;if(G5(r)){let a=_1(r),s=C1(r,t),l=s[Zt].data;for(let c=0;c<8;c++)t[o+c]=s[a+c]|l[a+c]}return t[o+8]=r,o}function dx(e,t){e.push(0,0,0,0,0,0,0,0,t)}function X5(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function FP(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=J5(r),i===null)return zp;if(n++,r=r[qp],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return zp}function ZY(e,t,n){QY(e,t,n)}function $Y(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(o5(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===t)return n[r+1];r=r+2}}}return null}function Q5(e,t,n){if(n&hn.Optional||e!==void 0)return e;yP(t,"NodeInjector")}function Z5(e,t,n,i){if(n&hn.Optional&&i===void 0&&(i=null),!(n&(hn.Self|hn.Host))){let r=e[jp],o=Ua(void 0);try{return r?r.get(t,i,n&hn.Optional):K4(t,i,n&hn.Optional)}finally{Ua(o)}}return Q5(i,t,n)}function $5(e,t,n,i=hn.Default,r){if(e!==null){if(t[kt]&2048&&!(i&hn.Self)){let a=tX(e,t,n,i,ol);if(a!==ol)return a}let o=K5(e,t,n,i,ol);if(o!==ol)return o}return Z5(t,n,i,r)}function K5(e,t,n,i,r){let o=JY(n);if(typeof o=="function"){if(!F5(t,e,i))return i&hn.Host?Q5(r,n,i):Z5(t,n,i,r);try{let a;if(a=o(i),a==null&&!(i&hn.Optional))yP(n);else return a}finally{V5()}}else if(typeof o=="number"){let a=null,s=X5(e,t),l=zp,c=i&hn.Host?t[Wa][Ca]:null;for((s===-1||i&hn.SkipSelf)&&(l=s===-1?FP(e,t):t[s+8],l===zp||!_4(i,!1)?s=-1:(a=t[Zt],s=_1(l),t=C1(l,t)));s!==-1;){let d=t[Zt];if(b4(o,s,d.data)){let u=KY(s,t,n,a,i,c);if(u!==ol)return u}l=t[s+8],l!==zp&&_4(i,t[Zt].data[s+8]===c)&&b4(o,s,t)?(a=d,s=_1(l),t=C1(l,t)):s=-1}}return r}function KY(e,t,n,i,r,o){let a=t[Zt],s=a.data[e+8],l=i==null?U1(s)&&Tx:i!=a&&(s.type&3)!==0,c=r&hn.Host&&o===s,d=u1(s,a,n,l,c);return d!==null?Gp(t,a,d,s):ol}function u1(e,t,n,i,r){let o=e.providerIndexes,a=t.data,s=o&1048575,l=e.directiveStart,c=e.directiveEnd,d=o>>20,u=i?s:s+d,h=r?s+d:c;for(let p=u;p<h;p++){let m=a[p];if(p<l&&n===m||p>=l&&m.type===n)return p}if(r){let p=a[l];if(p&&Bg(p)&&p.type===n)return l}return null}function Gp(e,t,n,i){let r=e[n],o=t.data;if(HY(r)){let a=r;a.resolving&&Mq(Cq(o[n]));let s=y4(a.canSeeViewProviders);a.resolving=!0;let l,c=a.injectImpl?Ua(a.injectImpl):null,d=F5(e,i,hn.Default);try{r=e[n]=a.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&UY(n,o[n],t)}finally{c!==null&&Ua(c),y4(s),a.resolving=!1,V5()}}return r}function JY(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Cg)?e[Cg]:void 0;return typeof t=="number"?t>=0?t&W5:eX:t}function b4(e,t,n){let i=1<<e;return!!(n[t+(e>>q5)]&i)}function _4(e,t){return!(e&hn.Self)&&!(e&hn.Host&&t)}var Du=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return $5(this._tNode,this._lView,t,N1(i),n)}};function eX(){return new Du(wa(),In())}function NP(e){return L1(()=>{let t=e.prototype.constructor,n=t[m1]||Ix(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[m1]||Ix(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Ix(e){return q4(e)?()=>{let t=Ix(ja(e));return t&&t()}:Bp(e)}function tX(e,t,n,i,r){let o=e,a=t;for(;o!==null&&a!==null&&a[kt]&2048&&!(a[kt]&512);){let s=K5(o,a,n,i|hn.Self,ol);if(s!==ol)return s;let l=o.parent;if(!l){let c=a[y5];if(c){let d=c.get(n,ol,i);if(d!==ol)return d}l=J5(a),a=a[qp]}o=l}return r}function J5(e){let t=e[Zt],n=t.type;return n===2?t.declTNode:n===1?e[Ca]:null}function zP(e){return $Y(wa(),e)}function C4(e,t=null,n=null,i){let r=e6(e,t,n,i);return r.resolveInjectorInitializers(),r}function e6(e,t=null,n=null,i,r=new Set){let o=[n||Au,eY(e)];return i=i||(typeof e=="object"?void 0:wo(e)),new xg(o,t||xP(),i||null,r)}var Vu=(()=>{let t=class t{static create(i,r){if(Array.isArray(i))return C4({name:""},r,i,"");{let o=i.name??"";return C4({name:o},i.parent,i.providers,o)}}};t.THROW_IF_NOT_FOUND=Mg,t.NULL=new v1,t.\u0275prov=$t({token:t,providedIn:"any",factory:()=>An(n5)}),t.__NG_ELEMENT_ID__=-1;let e=t;return e})();var nX="ngOriginalError";function ux(e){return e[nX]}var ll=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&ux(t);for(;n&&ux(n);)n=ux(n);return n||null}},t6=new _n("",{providedIn:"root",factory:()=>dt(ll).handleError.bind(void 0)}),BP=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=iX,t.__NG_ENV_ID__=i=>i;let e=t;return e})(),Rx=class extends BP{constructor(t){super(),this._lView=t}onDestroy(t){return E5(this._lView,t),()=>xY(this._lView,t)}};function iX(){return new Rx(In())}function rX(){return Yp(wa(),In())}function Yp(e,t){return new oo(Ya(e,t))}var oo=(()=>{let t=class t{constructor(i){this.nativeElement=i}};t.__NG_ELEMENT_ID__=rX;let e=t;return e})();function oX(e){return e instanceof oo?e.nativeElement:e}var Lx=class extends no{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,v5()&&(this.destroyRef=dt(BP,{optional:!0})??void 0)}emit(t){let n=bn(null);try{super.next(t)}finally{bn(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),a=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=hx(o),r&&(r=hx(r)),a&&(a=hx(a)));let s=super.subscribe({next:r,error:o,complete:a});return t instanceof or&&t.add(s),s}};function hx(e){return t=>{setTimeout(e,void 0,t)}}var ba=Lx;function aX(){return this._results[Symbol.iterator]()}var kx=class e{get changes(){return this._changes??=new ba}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=aX)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=Rq(t);(this._changesDetected=!Iq(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function n6(e){return(e.flags&128)===128}var i6=new Map,sX=0;function lX(){return sX++}function cX(e){i6.set(e[V1],e)}function dX(e){i6.delete(e[V1])}var M4="__ngContext__";function ku(e,t){Eu(t)?(e[M4]=t[V1],cX(t)):e[M4]=t}function r6(e){return a6(e[Og])}function o6(e){return a6(e[Ps])}function a6(e){for(;e!==null&&!cc(e);)e=e[Ps];return e}var Fx;function s6(e){Fx=e}function uX(){if(Fx!==void 0)return Fx;if(typeof document<"u")return document;throw new It(210,!1)}var VP=new _n("",{providedIn:"root",factory:()=>hX}),hX="ng",UP=new _n(""),Uu=new _n("",{providedIn:"platform",factory:()=>"unknown"});var jP=new _n("",{providedIn:"root",factory:()=>uX().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var pX="h",mX="b";var fX=()=>null;function HP(e,t,n=!1){return fX(e,t,n)}var l6=!1,gX=new _n("",{providedIn:"root",factory:()=>l6});var a1;function vX(){if(a1===void 0&&(a1=null,Su.trustedTypes))try{a1=Su.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return a1}function w4(e){return vX()?.createScriptURL(e)||e}var M1=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${H4})`}};function jg(e){return e instanceof M1?e.changingThisBreaksApplicationSecurity:e}function GP(e,t){let n=yX(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${H4})`)}return n===t}function yX(e){return e instanceof M1&&e.getTypeName()||null}var bX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function c6(e){return e=String(e),e.match(bX)?e:"unsafe:"+e}var j1=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(j1||{});function Hg(e){let t=u6();return t?t.sanitize(j1.URL,e)||"":GP(e,"URL")?jg(e):c6(F1(e))}function _X(e){let t=u6();if(t)return w4(t.sanitize(j1.RESOURCE_URL,e)||"");if(GP(e,"ResourceURL"))return w4(jg(e));throw new It(904,!1)}function CX(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?_X:Hg}function d6(e,t,n){return CX(t,n)(e)}function u6(){let e=In();return e&&e[Os].sanitizer}function H1(e){return e.ownerDocument.defaultView}function h6(e){return e instanceof Function?e():e}function MX(e){return(e??dt(Vu)).get(Uu)==="browser"}var ac=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ac||{}),wX;function WP(e,t){return wX(e,t)}function kp(e,t,n,i,r){if(i!=null){let o,a=!1;cc(i)?o=i:Eu(i)&&(a=!0,i=i[lc]);let s=sl(i);e===0&&n!==null?r==null?v6(t,n,s):w1(t,n,s,r||null,!0):e===1&&n!==null?w1(t,n,s,r||null,!0):e===2?zX(t,s,a):e===3&&t.destroyNode(s),o!=null&&VX(t,e,o,n,r)}}function xX(e,t){return e.createText(t)}function PX(e,t,n){e.setValue(t,n)}function p6(e,t,n){return e.createElement(t,n)}function OX(e,t){m6(e,t),t[lc]=null,t[Ca]=null}function SX(e,t,n,i,r,o){i[lc]=r,i[Ca]=t,W1(e,i,n,1,r,o)}function m6(e,t){t[Os].changeDetectionScheduler?.notify(1),W1(e,t,t[_r],2,null,null)}function EX(e){let t=e[Og];if(!t)return px(e[Zt],e);for(;t;){let n=null;if(Eu(t))n=t[Og];else{let i=t[ro];i&&(n=i)}if(!n){for(;t&&!t[Ps]&&t!==e;)Eu(t)&&px(t[Zt],t),t=t[Br];t===null&&(t=e),Eu(t)&&px(t[Zt],t),n=t&&t[Ps]}t=n}}function DX(e,t,n,i){let r=ro+i,o=n.length;i>0&&(n[r-1][Ps]=t),i<o-ro?(t[Ps]=n[r],t5(n,ro+i,t)):(n.push(t),t[Ps]=null),t[Br]=n;let a=t[zg];a!==null&&n!==a&&AX(a,t);let s=t[oc];s!==null&&s.insertView(e),Dx(t),t[kt]|=128}function AX(e,t){let n=e[Hp],r=t[Br][Br][Wa];t[Wa]!==r&&(e[kt]|=PP.HasTransplantedViews),n===null?e[Hp]=[t]:n.push(t)}function f6(e,t){let n=e[Hp],i=n.indexOf(t);n.splice(i,1)}function Ag(e,t){if(e.length<=ro)return;let n=ro+t,i=e[n];if(i){let r=i[zg];r!==null&&r!==e&&f6(r,i),t>0&&(e[n-1][Ps]=i[Ps]);let o=g1(e,ro+t);OX(i[Zt],i);let a=o[oc];a!==null&&a.detachView(o[Zt]),i[Br]=null,i[Ps]=null,i[kt]&=-129}return i}function G1(e,t){if(!(t[kt]&256)){let n=t[_r];n.destroyNode&&W1(e,t,n,3,null,null),EX(t)}}function px(e,t){if(t[kt]&256)return;let n=bn(null);try{t[kt]&=-129,t[kt]|=256,t[Iu]&&DI(t[Iu]),IX(e,t),TX(e,t),t[Zt].type===1&&t[_r].destroy();let i=t[zg];if(i!==null&&cc(t[Br])){i!==t[Br]&&f6(i,t);let r=t[oc];r!==null&&r.detachView(e)}dX(t)}finally{bn(n)}}function TX(e,t){let n=e.cleanup,i=t[Pg];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?i[a]():i[-a].unsubscribe(),o+=2}else{let a=i[n[o+1]];n[o].call(a)}i!==null&&(t[Pg]=null);let r=t[hd];if(r!==null){t[hd]=null;for(let o=0;o<r.length;o++){let a=r[o];a()}}}function IX(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof Dg)){let o=n[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=r[o[a]],l=o[a+1];rl(4,s,l);try{l.call(s)}finally{rl(5,s,l)}}else{rl(4,r,o);try{o.call(r)}finally{rl(5,r,o)}}}}}function g6(e,t,n){return RX(e,t.parent,n)}function RX(e,t,n){let i=t;for(;i!==null&&i.type&40;)t=i,i=t.parent;if(i===null)return n[lc];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=e.data[i.directiveStart+r];if(o===al.None||o===al.Emulated)return null}return Ya(i,n)}}function w1(e,t,n,i,r){e.insertBefore(t,n,i,r)}function v6(e,t,n){e.appendChild(t,n)}function x4(e,t,n,i,r){i!==null?w1(e,t,n,i,r):v6(e,t,n)}function LX(e,t,n,i){e.removeChild(t,n,i)}function qP(e,t){return e.parentNode(t)}function kX(e,t){return e.nextSibling(t)}function y6(e,t,n){return NX(e,t,n)}function FX(e,t,n){return e.type&40?Ya(e,n):null}var NX=FX,P4;function YP(e,t,n,i){let r=g6(e,i,t),o=t[_r],a=i.parent||t[Ca],s=y6(a,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)x4(o,r,n[l],s,!1);else x4(o,r,n,s,!1);P4!==void 0&&P4(o,i,t,n,r)}function h1(e,t){if(t!==null){let n=t.type;if(n&3)return Ya(t,e);if(n&4)return Nx(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return h1(e,i);{let r=e[t.index];return cc(r)?Nx(-1,r):sl(r)}}else{if(n&32)return WP(t,e)()||sl(e[t.index]);{let i=b6(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=Eg(e[Wa]);return h1(r,i)}else return h1(e,t.next)}}}return null}function b6(e,t){if(t!==null){let i=e[Wa][Ca],r=t.projection;return i.projection[r]}return null}function Nx(e,t){let n=ro+e+1;if(n<t.length){let i=t[n],r=i[Zt].firstChild;if(r!==null)return h1(i,r)}return t[Ru]}function zX(e,t,n){let i=qP(e,t);i&&LX(e,i,t,n)}function XP(e,t,n,i,r,o,a){for(;n!=null;){let s=i[n.index],l=n.type;if(a&&t===0&&(s&&ku(sl(s),i),n.flags|=2),(n.flags&32)!==32)if(l&8)XP(e,t,n.child,i,r,o,!1),kp(t,e,r,s,o);else if(l&32){let c=WP(n,i),d;for(;d=c();)kp(t,e,r,d,o);kp(t,e,r,s,o)}else l&16?_6(e,t,i,n,r,o):kp(t,e,r,s,o);n=a?n.projectionNext:n.next}}function W1(e,t,n,i,r,o){XP(n,i,e.firstChild,t,r,o,!1)}function BX(e,t,n){let i=t[_r],r=g6(e,n,t),o=n.parent||t[Ca],a=y6(o,n,t);_6(i,0,t,n,r,a)}function _6(e,t,n,i,r,o){let a=n[Wa],l=a[Ca].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];kp(t,e,r,d,o)}else{let c=l,d=a[Br];n6(i)&&(c.flags|=128),XP(e,t,c,d,r,o,!0)}}function VX(e,t,n,i,r){let o=n[Ru],a=sl(n);o!==a&&kp(t,e,i,o,r);for(let s=ro;s<n.length;s++){let l=n[s];W1(l[Zt],l,e,t,i,o)}}function UX(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:ac.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ac.Important),e.setStyle(n,i,r,o))}}function jX(e,t,n){e.setAttribute(t,"style",n)}function C6(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function M6(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&wx(e,t,i),r!==null&&C6(e,t,r),o!==null&&jX(e,t,o)}var ju={};function nn(e=1){w6(Ma(),In(),Bu()+e,!1)}function w6(e,t,n,i){if(!i)if((t[kt]&3)===3){let o=e.preOrderCheckHooks;o!==null&&c1(t,o,n)}else{let o=e.preOrderHooks;o!==null&&d1(t,o,0,n)}Lu(n)}function kn(e,t=hn.Default){let n=In();if(n===null)return An(e,t);let i=wa();return $5(i,n,ja(e),t)}function x6(e,t,n,i,r,o){let a=bn(null);try{let s=null;r&Ha.SignalBased&&(s=t[i][PI]),s!==null&&s.transformFn!==void 0&&(o=s.transformFn(o)),r&Ha.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(t,o)),e.setInput!==null?e.setInput(t,s,o,n,i):C5(t,s,i,o)}finally{bn(a)}}function HX(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Lu(~r);else{let o=r,a=n[++i],s=n[++i];LY(a,o);let l=t[o];s(2,l)}}}finally{Lu(-1)}}function q1(e,t,n,i,r,o,a,s,l,c,d){let u=t.blueprint.slice();return u[lc]=r,u[kt]=i|4|128|8|64,(c!==null||e&&e[kt]&2048)&&(u[kt]|=2048),S5(u),u[Br]=u[qp]=e,u[io]=n,u[Os]=a||e&&e[Os],u[_r]=s||e&&e[_r],u[jp]=l||e&&e[jp]||null,u[Ca]=o,u[V1]=lX(),u[Up]=d,u[y5]=c,u[Wa]=t.type==2?e[Wa]:u,u}function Gg(e,t,n,i,r){let o=e.data[t];if(o===null)o=GX(e,t,n,i,r),RY()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let a=AY();o.injectorIndex=a===null?-1:a.injectorIndex}return Vg(o,!0),o}function GX(e,t,n,i,r){let o=T5(),a=I5(),s=a?o:o&&o.parent,l=e.data[t]=ZX(e,s,n,t,i,r);return e.firstChild===null&&(e.firstChild=l),o!==null&&(a?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function P6(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function O6(e,t,n,i,r){let o=Bu(),a=i&2;try{Lu(-1),a&&t.length>qa&&w6(e,t,qa,!1),rl(a?2:0,r),n(i,r)}finally{Lu(o),rl(a?3:1,r)}}function S6(e,t,n){if(_5(t)){let i=bn(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let a=r;a<o;a++){let s=e.data[a];if(s.contentQueries){let l=n[a];s.contentQueries(1,l,a)}}}finally{bn(i)}}}function E6(e,t,n){D5()&&(iQ(e,t,n,Ya(n,t)),(n.flags&64)===64&&R6(e,t,n))}function D6(e,t,n=Ya){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],s=a===-1?n(t,e):e[a];e[r++]=s}}}function A6(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=QP(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function QP(e,t,n,i,r,o,a,s,l,c,d){let u=qa+i,h=u+r,p=WX(u,h),m=typeof c=="function"?c():c;return p[Zt]={type:e,blueprint:p,template:n,queries:null,viewQuery:s,declTNode:t,data:p.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1,ssrId:d}}function WX(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:ju);return n}function qX(e,t,n,i){let o=i.get(gX,l6)||n===al.ShadowDom,a=e.selectRootElement(t,o);return YX(a),a}function YX(e){XX(e)}var XX=()=>null;function QX(e,t,n,i){let r=F6(t);r.push(n),e.firstCreatePass&&N6(e).push(i,r.length-1)}function ZX(e,t,n,i,r,o){let a=t?t.injectorIndex:-1,s=0;return A5()&&(s|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function O4(e,t,n,i,r){for(let o in t){if(!t.hasOwnProperty(o))continue;let a=t[o];if(a===void 0)continue;i??={};let s,l=Ha.None;Array.isArray(a)?(s=a[0],l=a[1]):s=a;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}e===0?S4(i,n,c,s,l):S4(i,n,c,s)}return i}function S4(e,t,n,i,r){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,i):o=e[n]=[t,i],r!==void 0&&o.push(r)}function $X(e,t,n){let i=t.directiveStart,r=t.directiveEnd,o=e.data,a=t.attrs,s=[],l=null,c=null;for(let d=i;d<r;d++){let u=o[d],h=n?n.get(u):null,p=h?h.inputs:null,m=h?h.outputs:null;l=O4(0,u.inputs,d,l,p),c=O4(1,u.outputs,d,c,m);let g=l!==null&&a!==null&&!MP(t)?mQ(l,d,a):null;s.push(g)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=s,t.inputs=l,t.outputs=c}function KX(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function JX(e,t,n,i,r,o,a,s){let l=Ya(t,n),c=t.inputs,d;!s&&c!=null&&(d=c[i])?(ZP(e,n,d,i,r),U1(t)&&eQ(n,t.index)):t.type&3?(i=KX(i),r=a!=null?a(r,t.value||"",i):r,o.setProperty(l,i,r)):t.type&12}function eQ(e,t){let n=gd(t,e);n[kt]&16||(n[kt]|=64)}function T6(e,t,n,i){if(D5()){let r=i===null?null:{"":-1},o=oQ(e,n),a,s;o===null?a=s=null:[a,s]=o,a!==null&&I6(e,t,n,a,r,s),r&&aQ(n,i,r)}n.mergedAttrs=CP(n.mergedAttrs,n.attrs)}function I6(e,t,n,i,r,o){for(let c=0;c<i.length;c++)ZY(Y5(n,t),e,i[c].type);lQ(n,e.data.length,i.length);for(let c=0;c<i.length;c++){let d=i[c];d.providersResolver&&d.providersResolver(d)}let a=!1,s=!1,l=P6(e,t,i.length,null);for(let c=0;c<i.length;c++){let d=i[c];n.mergedAttrs=CP(n.mergedAttrs,d.hostAttrs),cQ(e,n,t,l,d),sQ(l,d,r),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let u=d.type.prototype;!a&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),a=!0),!s&&(u.ngOnChanges||u.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),s=!0),l++}$X(e,n,o)}function tQ(e,t,n,i,r){let o=r.hostBindings;if(o){let a=e.hostBindingOpCodes;a===null&&(a=e.hostBindingOpCodes=[]);let s=~t.index;nQ(a)!=s&&a.push(s),a.push(n,i,o)}}function nQ(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function iQ(e,t,n,i){let r=n.directiveStart,o=n.directiveEnd;U1(n)&&dQ(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Y5(n,t),ku(i,t);let a=n.initialInputs;for(let s=r;s<o;s++){let l=e.data[s],c=Gp(t,e,s,n);if(ku(c,t),a!==null&&pQ(t,s-r,c,l,n,a),Bg(l)){let d=gd(n.index,t);d[io]=Gp(t,e,s,n)}}}function R6(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,a=kY();try{Lu(o);for(let s=i;s<r;s++){let l=e.data[s],c=t[s];Ax(s),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&rQ(l,c)}}finally{Lu(-1),Ax(a)}}function rQ(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function oQ(e,t){let n=e.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let a=n[o];if(s5(t,a.selectors,!1))if(i||(i=[]),Bg(a))if(a.findHostDirectiveDefs!==null){let s=[];r=r||new Map,a.findHostDirectiveDefs(a,s,r),i.unshift(...s,a);let l=s.length;zx(e,t,l)}else i.unshift(a),zx(e,t,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return i===null?null:[i,r]}function zx(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function aQ(e,t,n){if(t){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new It(-301,!1);i.push(t[r],o)}}}function sQ(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Bg(t)&&(n[""]=e)}}function lQ(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function cQ(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=Bp(r.type,!0)),a=new Dg(o,Bg(r),kn);e.blueprint[i]=a,n[i]=a,tQ(e,t,i,P6(e,n,r.hostVars,ju),r)}function dQ(e,t,n){let i=Ya(t,e),r=A6(n),o=e[Os].rendererFactory,a=16;n.signals?a=4096:n.onPush&&(a=64);let s=Y1(e,q1(e,r,null,a,i,t,null,o.createRenderer(i,n),null,null,null));e[t.index]=s}function uQ(e,t,n,i,r,o){let a=Ya(e,t);hQ(t[_r],a,o,e.value,n,i,r)}function hQ(e,t,n,i,r,o,a){if(o==null)e.removeAttribute(t,r,n);else{let s=a==null?F1(o):a(o,i||"",r);e.setAttribute(t,r,s,n)}}function pQ(e,t,n,i,r,o){let a=o[t];if(a!==null)for(let s=0;s<a.length;){let l=a[s++],c=a[s++],d=a[s++],u=a[s++];x6(i,n,l,c,d,u)}}function mQ(e,t,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){i===null&&(i=[]);let a=e[o];for(let s=0;s<a.length;s+=3)if(a[s]===t){i.push(o,a[s+1],a[s+2],n[r+1]);break}}r+=2}return i}function L6(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function k6(e,t){let n=e.contentQueries;if(n!==null){let i=bn(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],a=n[r+1];if(a!==-1){let s=e.data[a];AP(o),s.contentQueries(2,t[a],a)}}}finally{bn(i)}}}function Y1(e,t){return e[Og]?e[f4][Ps]=t:e[Og]=t,e[f4]=t,t}function Bx(e,t,n){AP(0);let i=bn(null);try{t(e,n)}finally{bn(i)}}function F6(e){return e[Pg]||(e[Pg]=[])}function N6(e){return e.cleanup||(e.cleanup=[])}function z6(e,t){let n=e[jp],i=n?n.get(ll,null):null;i&&i.handleError(t)}function ZP(e,t,n,i,r){for(let o=0;o<n.length;){let a=n[o++],s=n[o++],l=n[o++],c=t[a],d=e.data[a];x6(d,c,i,s,l,r)}}function fQ(e,t,n){let i=O5(t,e);PX(e[_r],i,n)}function gQ(e,t){let n=gd(t,e),i=n[Zt];vQ(i,n);let r=n[lc];r!==null&&n[Up]===null&&(n[Up]=HP(r,n[jp])),$P(i,n,n[io])}function vQ(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function $P(e,t,n){TP(t);try{let i=e.viewQuery;i!==null&&Bx(1,i,n);let r=e.template;r!==null&&O6(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[oc]?.finishViewCreation(e),e.staticContentQueries&&k6(e,t),e.staticViewQueries&&Bx(2,e.viewQuery,n);let o=e.components;o!==null&&yQ(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[kt]&=-5,IP()}}function yQ(e,t){for(let n=0;n<t.length;n++)gQ(e,t[n])}function X1(e,t,n,i){let r=bn(null);try{let o=t.tView,s=e[kt]&4096?4096:16,l=q1(e,o,n,s,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[t.index];l[zg]=c;let d=e[oc];return d!==null&&(l[oc]=d.createEmbeddedView(o)),$P(o,l,n),l}finally{bn(r)}}function B6(e,t){let n=ro+t;if(n<e.length)return e[n]}function Tg(e,t){return!t||t.firstChild===null||n6(e)}function Q1(e,t,n,i=!0){let r=t[Zt];if(DX(r,t,e,n),i){let a=Nx(n,e),s=t[_r],l=qP(s,e[Ru]);l!==null&&SX(r,e[Ca],s,t,l,a)}let o=t[Up];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function V6(e,t){let n=Ag(e,t);return n!==void 0&&G1(n[Zt],n),n}function x1(e,t,n,i,r=!1){for(;n!==null;){let o=t[n.index];o!==null&&i.push(sl(o)),cc(o)&&bQ(o,i);let a=n.type;if(a&8)x1(e,t,n.child,i);else if(a&32){let s=WP(n,t),l;for(;l=s();)i.push(l)}else if(a&16){let s=b6(t,n);if(Array.isArray(s))i.push(...s);else{let l=Eg(t[Wa]);x1(l[Zt],l,s,i,!0)}}n=r?n.projectionNext:n.next}return i}function bQ(e,t){for(let n=ro;n<e.length;n++){let i=e[n],r=i[Zt].firstChild;r!==null&&x1(i[Zt],i,r,t)}e[Ru]!==e[lc]&&t.push(e[Ru])}var U6=[];function _Q(e){return e[Iu]??CQ(e)}function CQ(e){let t=U6.pop()??Object.create(wQ);return t.lView=e,t}function MQ(e){e.lView[Iu]!==e&&(e.lView=null,U6.push(e))}var wQ=se(B({},OI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Sg(e.lView)},consumerOnSignalRead(){this.lView[Iu]=this}}),j6=100;function H6(e,t=!0,n=0){let i=e[Os],r=i.rendererFactory,o=!1;o||r.begin?.();try{xQ(e,n)}catch(a){throw t&&z6(e,a),a}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function xQ(e,t){Vx(e,t);let n=0;for(;DP(e);){if(n===j6)throw new It(103,!1);n++,Vx(e,1)}}function PQ(e,t,n,i){let r=t[kt];if((r&256)===256)return;let o=!1;!o&&t[Os].inlineEffectRunner?.flush(),TP(t);let a=null,s=null;!o&&OQ(e)&&(s=_Q(t),a=SI(s));try{S5(t),TY(e.bindingStartIndex),n!==null&&O6(e,t,n,2,i);let l=(r&3)===3;if(!o)if(l){let u=e.preOrderCheckHooks;u!==null&&c1(t,u,null)}else{let u=e.preOrderHooks;u!==null&&d1(t,u,0,null),cx(t,0)}if(SQ(t),G6(t,0),e.contentQueries!==null&&k6(e,t),!o)if(l){let u=e.contentCheckHooks;u!==null&&c1(t,u)}else{let u=e.contentHooks;u!==null&&d1(t,u,1),cx(t,1)}HX(e,t);let c=e.components;c!==null&&q6(t,c,0);let d=e.viewQuery;if(d!==null&&Bx(2,d,i),!o)if(l){let u=e.viewCheckHooks;u!==null&&c1(t,u)}else{let u=e.viewHooks;u!==null&&d1(t,u,2),cx(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[lx]){for(let u of t[lx])u();t[lx]=null}o||(t[kt]&=-73)}catch(l){throw Sg(t),l}finally{s!==null&&(EI(s,a),MQ(s)),IP()}}function OQ(e){return e.type!==2}function G6(e,t){for(let n=r6(e);n!==null;n=o6(n))for(let i=ro;i<n.length;i++){let r=n[i];W6(r,t)}}function SQ(e){for(let t=r6(e);t!==null;t=o6(t)){if(!(t[kt]&PP.HasTransplantedViews))continue;let n=t[Hp];for(let i=0;i<n.length;i++){let r=n[i],o=r[Br];MY(r)}}}function EQ(e,t,n){let i=gd(t,e);W6(i,n)}function W6(e,t){EP(e)&&Vx(e,t)}function Vx(e,t){let i=e[Zt],r=e[kt],o=e[Iu],a=!!(t===0&&r&16);if(a||=!!(r&64&&t===0),a||=!!(r&1024),a||=!!(o?.dirty&&jw(o)),o&&(o.dirty=!1),e[kt]&=-9217,a)PQ(i,e,i.template,e[io]);else if(r&8192){G6(e,1);let s=i.components;s!==null&&q6(e,s,1)}}function q6(e,t,n){for(let i=0;i<t.length;i++)EQ(e,t[i],n)}function KP(e){for(e[Os].changeDetectionScheduler?.notify();e;){e[kt]|=64;let t=Eg(e);if(pY(e)&&!t)return e;e=t}return null}var Fu=class{get rootNodes(){let t=this._lView,n=t[Zt];return x1(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[io]}set context(t){this._lView[io]=t}get destroyed(){return(this._lView[kt]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Br];if(cc(t)){let n=t[y1],i=n?n.indexOf(this):-1;i>-1&&(Ag(t,i),g1(n,i))}this._attachedToViewContainer=!1}G1(this._lView[Zt],this._lView)}onDestroy(t){E5(this._lView,t)}markForCheck(){KP(this._cdRefInjectingView||this._lView)}detach(){this._lView[kt]&=-129}reattach(){Dx(this._lView),this._lView[kt]|=128}detectChanges(){this._lView[kt]|=1024,H6(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new It(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,m6(this._lView[Zt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new It(902,!1);this._appRef=t,Dx(this._lView)}},Nu=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=TQ;let e=t;return e})(),DQ=Nu,AQ=class extends DQ{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=X1(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new Fu(r)}};function TQ(){return JP(wa(),In())}function JP(e,t){return e.type&4?new AQ(t,e,Yp(e,t)):null}var j5e=new RegExp(`^(\\d+)*(${mX}|${pX})*(.*)`);var IQ=()=>null;function Ig(e,t){return IQ(e,t)}var P1=class{},Ux=class{},O1=class{};function RQ(e){let t=Error(`No component factory found for ${wo(e)}.`);return t[LQ]=e,t}var LQ="ngComponent";var jx=class{resolveComponentFactory(t){throw RQ(t)}},Z1=(()=>{let t=class t{};t.NULL=new jx;let e=t;return e})(),Rg=class{},dl=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>kQ();let e=t;return e})();function kQ(){let e=In(),t=wa(),n=gd(t.index,e);return(Eu(n)?n:e)[_r]}var FQ=(()=>{let t=class t{};t.\u0275prov=$t({token:t,providedIn:"root",factory:()=>null});let e=t;return e})(),mx={};var E4=new Set;function Wg(e){E4.has(e)||(E4.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function D4(...e){}function NQ(){let e=typeof Su.requestAnimationFrame=="function",t=Su[e?"requestAnimationFrame":"setTimeout"],n=Su[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){let i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}var Oi=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ba(!1),this.onMicrotaskEmpty=new ba(!1),this.onStable=new ba(!1),this.onError=new ba(!1),typeof Zone>"u")throw new It(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=NQ().nativeRequestAnimationFrame,VQ(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new It(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new It(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,t,zQ,D4,D4);try{return o.runTask(a,n,i)}finally{o.cancelTask(a)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},zQ={};function eO(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function BQ(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Su,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Hx(e),e.isCheckStableRunning=!0,eO(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Hx(e))}function VQ(e){let t=()=>{BQ(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,a,s)=>{if(UQ(s))return n.invokeTask(r,o,a,s);try{return A4(e),n.invokeTask(r,o,a,s)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),T4(e)}},onInvoke:(n,i,r,o,a,s,l)=>{try{return A4(e),n.invoke(r,o,a,s,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),T4(e)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,Hx(e),eO(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function Hx(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function A4(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function T4(e){e._nesting--,eO(e)}function UQ(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var Fp=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Fp||{}),jQ={destroy(){}};function tO(e,t){!t&&uY(tO);let n=t?.injector??dt(Vu);if(!MX(n))return jQ;Wg("NgAfterNextRender");let i=n.get(nO),r=i.handler??=new Wx,o=t?.phase??Fp.MixedReadWrite,a=()=>{r.unregister(l),s()},s=n.get(BP).onDestroy(a),l=sc(n,()=>new Gx(o,()=>{a(),e()}));return r.register(l),{destroy:a}}var Gx=class{constructor(t,n){this.phase=t,this.callbackFn=n,this.zone=dt(Oi),this.errorHandler=dt(ll,{optional:!0}),dt(P1,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}},Wx=class{constructor(){this.executingCallbacks=!1,this.buckets={[Fp.EarlyRead]:new Set,[Fp.Write]:new Set,[Fp.MixedReadWrite]:new Set,[Fp.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let n of t)n.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},nO=(()=>{let t=class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=$t({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();function qx(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let a=0;a<t.length;a++){let s=t[a];if(typeof s=="number")o=s;else if(o==1)r=o4(r,s);else if(o==2){let l=s,c=t[++a];i=o4(i,l+": "+c+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var S1=class extends Z1{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Tu(t);return new Lg(n,this.ngModule)}};function I4(e){let t=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let i=e[n];i!==void 0&&t.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return t}function HQ(e){let t=e.toLowerCase();return t==="svg"?P5:t==="math"?vY:null}var Yx=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=N1(i);let r=this.injector.get(t,mx,i);return r!==mx||n===mx?r:this.parentInjector.get(t,n,i)}},Lg=class extends O1{get inputs(){let t=this.componentDef,n=t.inputTransforms,i=I4(t.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return I4(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Qq(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let o=bn(null);try{r=r||this.ngModule;let a=r instanceof Ga?r:r?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let s=a?new Yx(t,a):t,l=s.get(Rg,null);if(l===null)throw new It(407,!1);let c=s.get(FQ,null),d=s.get(nO,null),u=s.get(P1,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:u},p=l.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",g=i?qX(p,i,this.componentDef.encapsulation,s):p6(p,m,HQ(m)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let b=null;g!==null&&(b=HP(g,s,!0));let _=QP(0,null,null,1,0,null,null,null,null,null,null),C=q1(null,_,null,v,null,null,h,p,s,null,b);TP(C);let M,P;try{let x=this.componentDef,E,O=null;x.findHostDirectiveDefs?(E=[],O=new Map,x.findHostDirectiveDefs(x,E,O),E.push(x)):E=[x];let S=GQ(C,g),D=WQ(S,g,x,E,C,h,p);P=SP(_,qa),g&&XQ(p,x,g,i),n!==void 0&&QQ(P,this.ngContentSelectors,n),M=YQ(D,x,E,O,C,[ZQ]),$P(_,C,null)}finally{IP()}return new Xx(this.componentType,M,Yp(P,C),C,P)}finally{bn(o)}}},Xx=class extends Ux{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Fu(r,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;ZP(o[Zt],o,r,t,n),this.previousInputValues.set(t,n);let a=gd(this._tNode.index,o);KP(a)}}get injector(){return new Du(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function GQ(e,t){let n=e[Zt],i=qa;return e[i]=t,Gg(n,i,2,"#host",null)}function WQ(e,t,n,i,r,o,a){let s=r[Zt];qQ(i,e,t,a);let l=null;t!==null&&(l=HP(t,r[jp]));let c=o.rendererFactory.createRenderer(t,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let u=q1(r,A6(n),null,d,r[e.index],e,o,c,null,null,l);return s.firstCreatePass&&zx(s,e,i.length-1),Y1(r,u),r[e.index]=u}function qQ(e,t,n,i){for(let r of e)t.mergedAttrs=CP(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(qx(t,t.mergedAttrs,!0),n!==null&&M6(i,n,t))}function YQ(e,t,n,i,r,o){let a=wa(),s=r[Zt],l=Ya(a,r);I6(s,r,a,n,null,i);for(let d=0;d<n.length;d++){let u=a.directiveStart+d,h=Gp(r,s,u,a);ku(h,r)}R6(s,r,a),l&&ku(l,r);let c=Gp(r,s,a.directiveStart+a.componentOffset,a);if(e[io]=r[io]=c,o!==null)for(let d of o)d(c,t);return S6(s,a,r),c}function XQ(e,t,n,i){if(i)wx(e,n,["ng-version","17.3.5"]);else{let{attrs:r,classes:o}=Zq(t.selectors[0]);r&&wx(e,n,r),o&&o.length>0&&C6(e,n,o.join(" "))}}function QQ(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function ZQ(){let e=wa();kP(In()[Zt],e)}var vd=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=$Q;let e=t;return e})();function $Q(){let e=wa();return X6(e,In())}var KQ=vd,Y6=class extends KQ{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Yp(this._hostTNode,this._hostLView)}get injector(){return new Du(this._hostTNode,this._hostLView)}get parentInjector(){let t=FP(this._hostTNode,this._hostLView);if(G5(t)){let n=C1(t,this._hostLView),i=_1(t),r=n[Zt].data[i+8];return new Du(r,n)}else return new Du(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=R4(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ro}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=Ig(this._lContainer,t.ssrId),s=t.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(s,r,Tg(this._hostTNode,a)),s}createComponent(t,n,i,r,o){let a=t&&!hY(t),s;if(a)s=n;else{let m=n||{};s=m.index,i=m.injector,r=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let l=a?t:new Lg(Tu(t)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let g=(a?c:this.parentInjector).get(Ga,null);g&&(o=g)}let d=Tu(l.componentType??{}),u=Ig(this._lContainer,d?.id??null),h=u?.firstChild??null,p=l.create(c,r,h,o);return this.insertImpl(p.hostView,s,Tg(this._hostTNode,u)),p}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(CY(r)){let s=this.indexOf(t);if(s!==-1)this.detach(s);else{let l=r[Br],c=new Y6(l,l[Ca],l[Br]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),a=this._lContainer;return Q1(a,r,o,i),t.attachToViewContainerRef(),t5(fx(a),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=R4(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=Ag(this._lContainer,n);i&&(g1(fx(this._lContainer),n),G1(i[Zt],i))}detach(t){let n=this._adjustIndex(t,-1),i=Ag(this._lContainer,n);return i&&g1(fx(this._lContainer),n)!=null?new Fu(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function R4(e){return e[y1]}function fx(e){return e[y1]||(e[y1]=[])}function X6(e,t){let n,i=t[e.index];return cc(i)?n=i:(n=L6(i,t,null,e),t[e.index]=n,Y1(t,n)),eZ(n,t,e,i),new Y6(n,e,t)}function JQ(e,t){let n=e[_r],i=n.createComment(""),r=Ya(t,e),o=qP(n,r);return w1(n,o,i,kX(n,r),!1),i}var eZ=iZ,tZ=()=>!1;function nZ(e,t,n){return tZ(e,t,n)}function iZ(e,t,n,i){if(e[Ru])return;let r;n.type&8?r=sl(i):r=JQ(t,n),e[Ru]=r}var Qx=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Zx=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let a=n.getByIndex(o),s=this.queries[a.indexInDeclarationView];r.push(s.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)iO(t,n).matches!==null&&this.queries[n].setDirty()}},E1=class{constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=uZ(t):this.predicate=t}},$x=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Kx=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,rZ(n,o)),this.matchTNodeWithReadOption(t,n,u1(n,t,o,!1,!1))}else i===Nu?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,u1(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===oo||r===vd||r===Nu&&n.type&4)this.addMatch(n.index,-2);else{let o=u1(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function rZ(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function oZ(e,t){return e.type&11?Yp(e,t):e.type&4?JP(e,t):null}function aZ(e,t,n,i){return n===-1?oZ(t,e):n===-2?sZ(e,t,i):Gp(e,e[Zt],n,t)}function sZ(e,t,n){if(n===oo)return Yp(t,e);if(n===Nu)return JP(t,e);if(n===vd)return X6(t,e)}function Q6(e,t,n,i){let r=t[oc].queries[i];if(r.matches===null){let o=e.data,a=n.matches,s=[];for(let l=0;a!==null&&l<a.length;l+=2){let c=a[l];if(c<0)s.push(null);else{let d=o[c];s.push(aZ(t,d,a[l+1],n.metadata.read))}}r.matches=s}return r.matches}function Jx(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let a=Q6(e,t,r,n);for(let s=0;s<o.length;s+=2){let l=o[s];if(l>0)i.push(a[s/2]);else{let c=o[s+1],d=t[-l];for(let u=ro;u<d.length;u++){let h=d[u];h[zg]===h[Br]&&Jx(h[Zt],h,c,i)}if(d[Hp]!==null){let u=d[Hp];for(let h=0;h<u.length;h++){let p=u[h];Jx(p[Zt],p,c,i)}}}}}return i}function lZ(e,t){return e[oc].queries[t].queryList}function Z6(e,t,n){let i=new kx((n&4)===4);return QX(e,t,i,i.destroy),(t[oc]??=new Zx).queries.push(new Qx(i))-1}function cZ(e,t,n){let i=Ma();return i.firstCreatePass&&($6(i,new E1(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),Z6(i,In(),t)}function dZ(e,t,n,i){let r=Ma();if(r.firstCreatePass){let o=wa();$6(r,new E1(t,n,i),o.index),hZ(r,e),(n&2)===2&&(r.staticContentQueries=!0)}return Z6(r,In(),n)}function uZ(e){return e.split(",").map(t=>t.trim())}function $6(e,t,n){e.queries===null&&(e.queries=new $x),e.queries.track(new Kx(t,n))}function hZ(e,t){let n=e.contentQueries||(e.contentQueries=[]),i=n.length?n[n.length-1]:-1;t!==i&&n.push(e.queries.length-1,t)}function iO(e,t){return e.queries.getByIndex(t)}function pZ(e,t){let n=e[Zt],i=iO(n,t);return i.crossesNgTemplate?Jx(n,e,t,[]):Q6(n,e,i,t)}function rO(e){let t=e.inputConfig,n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}e.inputTransforms=n}var pd=class{},kg=class{};var eP=class extends pd{constructor(t,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new S1(this);let r=u5(t);this._bootstrapComponents=h6(r.bootstrap),this._r3Injector=e6(t,n,[{provide:pd,useValue:this},{provide:Z1,useValue:this.componentFactoryResolver},...i],wo(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},tP=class extends kg{constructor(t){super(),this.moduleType=t}create(t){return new eP(this.moduleType,t,[])}};var D1=class extends pd{constructor(t){super(),this.componentFactoryResolver=new S1(this),this.instance=null;let n=new xg([...t.providers,{provide:pd,useValue:this},{provide:Z1,useValue:this.componentFactoryResolver}],t.parent||xP(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function oO(e,t,n=null){return new D1({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var $1=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Nr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function K6(e){return fZ(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function mZ(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function fZ(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function J6(e,t,n){return e[t]=n}function cl(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function gZ(e,t,n,i){let r=cl(e,t,n);return cl(e,t+1,i)||r}function vZ(e,t,n,i,r){let o=gZ(e,t,n,i);return cl(e,t+2,r)||o}function yZ(e){return(e.flags&32)===32}function bZ(e,t,n,i,r,o,a,s,l){let c=t.consts,d=Gg(t,e,4,a||null,b1(c,s));T6(t,n,d,b1(c,l)),kP(t,d);let u=d.tView=QP(2,d,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,d),u.queries=t.queries.embeddedTView(d)),d}function _a(e,t,n,i,r,o,a,s){let l=In(),c=Ma(),d=e+qa,u=c.firstCreatePass?bZ(d,c,l,t,n,i,r,o,a):c.data[d];Vg(u,!1);let h=_Z(c,l,u,e);RP()&&YP(c,l,h,u),ku(h,l);let p=L6(h,l,h,u);return l[d]=p,Y1(l,p),nZ(p,u,l),OP(u)&&E6(c,l,u),a!=null&&D6(l,u,s),_a}var _Z=CZ;function CZ(e,t,n,i){return LP(!0),t[_r].createComment("")}function dc(e,t,n,i){let r=In(),o=Ug();if(cl(r,o,t)){let a=Ma(),s=U5();uQ(s,r,e,t,n,i)}return dc}function MZ(e,t,n,i){return cl(e,Ug(),n)?t+F1(n)+i:ju}function s1(e,t){return e<<17|t<<2}function zu(e){return e>>17&32767}function wZ(e){return(e&2)==2}function xZ(e,t){return e&131071|t<<17}function nP(e){return e|2}function Wp(e){return(e&131068)>>2}function gx(e,t){return e&-131069|t<<2}function PZ(e){return(e&1)===1}function iP(e){return e|1}function OZ(e,t,n,i,r,o){let a=o?t.classBindings:t.styleBindings,s=zu(a),l=Wp(a);e[i]=n;let c=!1,d;if(Array.isArray(n)){let u=n;d=u[1],(d===null||Ng(u,d)>0)&&(c=!0)}else d=n;if(r)if(l!==0){let h=zu(e[s+1]);e[i+1]=s1(h,s),h!==0&&(e[h+1]=gx(e[h+1],i)),e[s+1]=xZ(e[s+1],i)}else e[i+1]=s1(s,0),s!==0&&(e[s+1]=gx(e[s+1],i)),s=i;else e[i+1]=s1(l,0),s===0?s=i:e[l+1]=gx(e[l+1],i),l=i;c&&(e[i+1]=nP(e[i+1])),L4(e,d,i,!0),L4(e,d,i,!1),SZ(t,d,e,i,o),a=s1(s,l),o?t.classBindings=a:t.styleBindings=a}function SZ(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Ng(o,t)>=0&&(n[i+1]=iP(n[i+1]))}function L4(e,t,n,i){let r=e[n+1],o=t===null,a=i?zu(r):Wp(r),s=!1;for(;a!==0&&(s===!1||o);){let l=e[a],c=e[a+1];EZ(l,t)&&(s=!0,e[a+1]=i?iP(c):nP(c)),a=i?zu(c):Wp(c)}s&&(e[n+1]=i?nP(r):iP(r))}function EZ(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ng(e,t)>=0:!1}function gi(e,t,n){let i=In(),r=Ug();if(cl(i,r,t)){let o=Ma(),a=U5();JX(o,a,i,e,t,i[_r],n,!1)}return gi}function k4(e,t,n,i,r){let o=t.inputs,a=r?"class":"style";ZP(e,n,o[a],a,i)}function K1(e,t,n){return eR(e,t,n,!1),K1}function qg(e,t){return eR(e,t,null,!0),qg}function eR(e,t,n,i){let r=In(),o=Ma(),a=IY(2);if(o.firstUpdatePass&&AZ(o,e,a,i),t!==ju&&cl(r,a,t)){let s=o.data[Bu()];kZ(o,s,r,r[_r],e,r[a+1]=FZ(t,n),i,a)}}function DZ(e,t){return t>=e.expandoStartIndex}function AZ(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[Bu()],a=DZ(e,n);NZ(o,i)&&t===null&&!a&&(t=!1),t=TZ(r,o,t,i),OZ(r,o,t,n,a,i)}}function TZ(e,t,n,i){let r=FY(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=vx(null,e,t,n,i),n=Fg(n,t.attrs,i),o=null);else{let a=t.directiveStylingLast;if(a===-1||e[a]!==r)if(n=vx(r,e,t,n,i),o===null){let l=IZ(e,t,i);l!==void 0&&Array.isArray(l)&&(l=vx(null,e,t,l[1],i),l=Fg(l,t.attrs,i),RZ(e,t,i,l))}else o=LZ(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function IZ(e,t,n){let i=n?t.classBindings:t.styleBindings;if(Wp(i)!==0)return e[zu(i)]}function RZ(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[zu(r)]=i}function LZ(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let a=e[o].hostAttrs;i=Fg(i,a,n)}return Fg(i,t.attrs,n)}function vx(e,t,n,i,r){let o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(s===-1?s=n.directiveStart:s++;s<a&&(o=t[s],i=Fg(i,o.hostAttrs,r),o!==e);)s++;return e!==null&&(n.directiveStylingLast=s),i}function Fg(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];typeof a=="number"?r=a:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Fq(e,a,n?!0:t[++o]))}return e===void 0?null:e}function kZ(e,t,n,i,r,o,a,s){if(!(t.type&3))return;let l=e.data,c=l[s+1],d=PZ(c)?F4(l,t,n,r,Wp(c),a):void 0;if(!A1(d)){A1(o)||wZ(c)&&(o=F4(l,null,n,r,s,a));let u=O5(Bu(),n);UX(i,a,u,r,o)}}function F4(e,t,n,i,r,o){let a=t===null,s;for(;r>0;){let l=e[r],c=Array.isArray(l),d=c?l[1]:l,u=d===null,h=n[r+1];h===ju&&(h=u?Au:void 0);let p=u?ax(h,i):d===i?h:void 0;if(c&&!A1(p)&&(p=ax(l,i)),A1(p)&&(s=p,a))return s;let m=e[r+1];r=a?zu(m):Wp(m)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(s=ax(l,i))}return s}function A1(e){return e!==void 0}function FZ(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=wo(jg(e)))),e}function NZ(e,t){return(e.flags&(t?8:16))!==0}var rP=class{destroy(t){}updateValue(t,n){}swap(t,n){let i=Math.min(t,n),r=Math.max(t,n),o=this.detach(r);if(r-i>1){let a=this.detach(i);this.attach(i,o),this.attach(r,a)}else this.attach(i,o)}move(t,n){this.attach(n,this.detach(t))}};function yx(e,t,n,i,r){return e===n&&Object.is(t,i)?1:Object.is(r(e,t),r(n,i))?-1:0}function zZ(e,t,n){let i,r,o=0,a=e.length-1;if(Array.isArray(t)){let s=t.length-1;for(;o<=a&&o<=s;){let l=e.at(o),c=t[o],d=yx(o,l,o,c,n);if(d!==0){d<0&&e.updateValue(o,c),o++;continue}let u=e.at(a),h=t[s],p=yx(a,u,s,h,n);if(p!==0){p<0&&e.updateValue(a,h),a--,s--;continue}let m=n(o,l),g=n(a,u),v=n(o,c);if(Object.is(v,g)){let b=n(s,h);Object.is(b,m)?(e.swap(o,a),e.updateValue(a,h),s--,a--):e.move(a,o),e.updateValue(o,c),o++;continue}if(i??=new T1,r??=z4(e,o,a,n),oP(e,i,o,v))e.updateValue(o,c),o++,a++;else if(r.has(v))i.set(m,e.detach(o)),a--;else{let b=e.create(o,t[o]);e.attach(o,b),o++,a++}}for(;o<=s;)N4(e,i,n,o,t[o]),o++}else if(t!=null){let s=t[Symbol.iterator](),l=s.next();for(;!l.done&&o<=a;){let c=e.at(o),d=l.value,u=yx(o,c,o,d,n);if(u!==0)u<0&&e.updateValue(o,d),o++,l=s.next();else{i??=new T1,r??=z4(e,o,a,n);let h=n(o,d);if(oP(e,i,o,h))e.updateValue(o,d),o++,a++,l=s.next();else if(!r.has(h))e.attach(o,e.create(o,d)),o++,a++,l=s.next();else{let p=n(o,c);i.set(p,e.detach(o)),a--}}}for(;!l.done;)N4(e,i,n,e.length,l.value),l=s.next()}for(;o<=a;)e.destroy(e.detach(a--));i?.forEach(s=>{e.destroy(s)})}function oP(e,t,n,i){return t!==void 0&&t.has(i)?(e.attach(n,t.get(i)),t.delete(i),!0):!1}function N4(e,t,n,i,r){if(oP(e,t,i,n(i,r)))e.updateValue(i,r);else{let o=e.create(i,r);e.attach(i,o)}}function z4(e,t,n,i){let r=new Set;for(let o=t;o<=n;o++)r.add(i(o,e.at(o)));return r}var T1=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,i]of this.kvMap)if(t(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,n)}}};function aO(e,t,n){Wg("NgControlFlow");let i=In(),r=Ug(),o=cP(i,qa+e),a=0;if(cl(i,r,t)){let s=bn(null);try{if(V6(o,a),t!==-1){let l=dP(i[Zt],qa+t),c=Ig(o,l.tView.ssrId),d=X1(i,l,n,{dehydratedView:c});Q1(o,d,a,Tg(l,c))}}finally{bn(s)}}else{let s=B6(o,a);s!==void 0&&(s[io]=n)}}var aP=class{constructor(t,n,i){this.lContainer=t,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-ro}};var sP=class{constructor(t,n,i){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=i}};function tR(e,t,n,i,r,o,a,s,l,c,d,u,h){Wg("NgControlFlow");let p=l!==void 0,m=In(),g=s?a.bind(m[Wa][io]):a,v=new sP(p,g);m[qa+e]=v,_a(e+1,t,n,i,r,o),p&&_a(e+2,l,c,d,u,h)}var lP=class extends rP{constructor(t,n,i){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ro}at(t){return this.getLView(t)[io].$implicit}attach(t,n){let i=n[Up];this.needsIndexUpdate||=t!==this.length,Q1(this.lContainer,n,t,Tg(this.templateTNode,i))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,BZ(this.lContainer,t)}create(t,n){let i=Ig(this.lContainer,this.templateTNode.tView.ssrId);return X1(this.hostLView,this.templateTNode,new aP(this.lContainer,n,t),{dehydratedView:i})}destroy(t){G1(t[Zt],t)}updateValue(t,n){this.getLView(t)[io].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[io].$index=t}getLView(t){return VZ(this.lContainer,t)}};function nR(e){let t=bn(null),n=Bu();try{let i=In(),r=i[Zt],o=i[n];if(o.liveCollection===void 0){let s=n+1,l=cP(i,s),c=dP(r,s);o.liveCollection=new lP(l,i,c)}else o.liveCollection.reset();let a=o.liveCollection;if(zZ(a,e,o.trackByFn),a.updateIndexes(),o.hasEmptyBlock){let s=Ug(),l=a.length===0;if(cl(i,s,l)){let c=n+2,d=cP(i,c);if(l){let u=dP(r,c),h=Ig(d,u.tView.ssrId),p=X1(i,u,void 0,{dehydratedView:h});Q1(d,p,0,Tg(u,h))}else V6(d,0)}}}finally{bn(t)}}function cP(e,t){return e[t]}function BZ(e,t){return Ag(e,t)}function VZ(e,t){return B6(e,t)}function dP(e,t){return SP(e,t)}function UZ(e,t,n,i,r,o){let a=t.consts,s=b1(a,r),l=Gg(t,e,2,i,s);return T6(t,n,l,b1(a,o)),l.attrs!==null&&qx(l,l.attrs,!1),l.mergedAttrs!==null&&qx(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function f(e,t,n,i){let r=In(),o=Ma(),a=qa+e,s=r[_r],l=o.firstCreatePass?UZ(a,o,r,t,n,i):o.data[a],c=jZ(o,r,l,s,t,e);r[a]=c;let d=OP(l);return Vg(l,!0),M6(s,c,l),!yZ(l)&&RP()&&YP(o,r,c,l),PY()===0&&ku(c,r),OY(),d&&(E6(o,r,l),S6(o,l,r)),i!==null&&D6(r,l),f}function y(){let e=wa();I5()?R5():(e=e.parent,Vg(e,!1));let t=e;EY(t)&&DY(),SY();let n=Ma();return n.firstCreatePass&&(kP(n,e),_5(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&GY(t)&&k4(n,t,In(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&WY(t)&&k4(n,t,In(),t.stylesWithoutHost,!1),y}function A(e,t,n,i){return f(e,t,n,i),y(),A}var jZ=(e,t,n,i,r,o)=>(LP(!0),p6(i,r,VY()));function J1(){return In()}var I1="en-US";var HZ=I1;function GZ(e){typeof e=="string"&&(HZ=e.toLowerCase().replace(/_/g,"-"))}function Cn(e,t,n,i){let r=In(),o=Ma(),a=wa();return qZ(o,r,r[_r],a,e,t,i),Cn}function WZ(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===n&&r[o+1]===i){let s=t[Pg],l=r[o+2];return s.length>l?s[l]:null}typeof a=="string"&&(o+=2)}return null}function qZ(e,t,n,i,r,o,a){let s=OP(i),c=e.firstCreatePass&&N6(e),d=t[io],u=F6(t),h=!0;if(i.type&3||a){let g=Ya(i,t),v=a?a(g):g,b=u.length,_=a?M=>a(sl(M[i.index])):i.index,C=null;if(!a&&s&&(C=WZ(e,t,r,i.index)),C!==null){let M=C.__ngLastListenerFn__||C;M.__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,h=!1}else{o=V4(i,t,d,o,!1);let M=n.listen(v,r,o);u.push(o,M),c&&c.push(r,_,b,b+1)}}else o=V4(i,t,d,o,!1);let p=i.outputs,m;if(h&&p!==null&&(m=p[r])){let g=m.length;if(g)for(let v=0;v<g;v+=2){let b=m[v],_=m[v+1],P=t[b][_].subscribe(o),x=u.length;u.push(o,P),c&&c.push(r,i.index,x,-(x+1))}}}function B4(e,t,n,i){let r=bn(null);try{return rl(6,t,n),n(i)!==!1}catch(o){return z6(e,o),!1}finally{rl(7,t,n),bn(r)}}function V4(e,t,n,i,r){return function o(a){if(a===Function)return i;let s=e.componentOffset>-1?gd(e.index,t):t;KP(s);let l=B4(t,n,i,a),c=o.__ngNextListenerFn__;for(;c;)l=B4(t,n,c,a)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&a.preventDefault(),l}}function eb(e=1){return zY(e)}function YZ(e,t){let n=null,i=Gq(e);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){n=r;continue}if(i===null?s5(e,o,!0):Yq(i,o))return r}return n}function iR(e){let t=In()[Wa][Ca];if(!t.projection){let n=e?e.length:1,i=t.projection=Lq(n,null),r=i.slice(),o=t.child;for(;o!==null;){let a=e?YZ(o,e):0;a!==null&&(r[a]?r[a].projectionNext=o:i[a]=o,r[a]=o),o=o.next}}}function rR(e,t=0,n){let i=In(),r=Ma(),o=Gg(r,qa+e,16,null,n||null);o.projection===null&&(o.projection=t),R5(),(!i[Up]||A5())&&(o.flags&32)!==32&&BX(r,i,o)}function oR(e,t,n,i){dZ(e,t,n,i)}function dn(e,t,n){cZ(e,t,n)}function Kt(e){let t=In(),n=Ma(),i=k5();AP(i+1);let r=iO(n,i);if(e.dirty&&_Y(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=pZ(t,i);e.reset(o,oX),e.notifyOnChanges()}return!0}return!1}function Jt(){return lZ(In(),k5())}function w(e,t=""){let n=In(),i=Ma(),r=e+qa,o=i.firstCreatePass?Gg(i,r,1,t,null):i.data[r],a=XZ(i,n,o,t,e);n[r]=a,RP()&&YP(i,n,a,o),Vg(o,!1)}var XZ=(e,t,n,i,r)=>(LP(!0),xX(t[_r],i));function xa(e){return tb("",e,""),xa}function tb(e,t,n){let i=In(),r=MZ(i,e,t,n);return r!==ju&&fQ(i,Bu(),r),tb}var QZ=(()=>{let t=class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=m5(!1,i.type),o=r.length>0?oO([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=$t({token:t,providedIn:"environment",factory:()=>new t(An(Ga))});let e=t;return e})();function gt(e){Wg("NgStandalone"),e.getStandaloneInjector=t=>t.get(QZ).getOrCreateStandaloneInjector(e)}function uc(e,t,n,i){return ZZ(In(),L5(),e,t,n,i)}function aR(e,t,n,i,r,o){return $Z(In(),L5(),e,t,n,i,r,o)}function sR(e,t){let n=e[t];return n===ju?void 0:n}function ZZ(e,t,n,i,r,o){let a=t+n;return cl(e,a,r)?J6(e,a+1,o?i.call(o,r):i(r)):sR(e,a+1)}function $Z(e,t,n,i,r,o,a,s){let l=t+n;return vZ(e,l,r,o,a)?J6(e,l+3,s?i.call(s,r,o,a):i(r,o,a)):sR(e,l+3)}var nb=(()=>{let t=class t{log(i){console.log(i)}warn(i){console.warn(i)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();var lR=new _n("");function Yg(e){return!!e&&typeof e.then=="function"}function cR(e){return!!e&&typeof e.subscribe=="function"}var dR=new _n(""),uR=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=dt(dR,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let a=o();if(Yg(a))i.push(a);else if(cR(a)){let s=new Promise((l,c)=>{a.subscribe({complete:l,error:c})});i.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),sO=new _n("");function KZ(){AI(()=>{throw new It(600,!1)})}function JZ(e){return e.isBoundToModule}function e$(e,t,n){try{let i=n();return Yg(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}var Xg=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=dt(t6),this.afterRenderEffectManager=dt(nO),this.externalTestViews=new Set,this.beforeRender=new no,this.afterTick=new no,this.componentTypes=[],this.components=[],this.isStable=dt($1).hasPendingTasks.pipe(Dn(i=>!i)),this._injector=dt(Ga)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof O1;if(!this._injector.get(uR).done){let p=!o&&d5(i),m=!1;throw new It(405,m)}let s;o?s=i:s=this._injector.get(Z1).resolveComponentFactory(i),this.componentTypes.push(s.componentType);let l=JZ(s)?void 0:this._injector.get(pd),c=r||s.selector,d=s.create(Vu.NULL,[],c,l),u=d.location.nativeElement,h=d.injector.get(lR,null);return h?.registerApplication(u),d.onDestroy(()=>{this.detachView(d.hostView),bx(this.components,d),h?.unregisterApplication(u)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new It(101,!1);let r=bn(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,bn(r)}}detectChangesInAttachedViews(i){let r=0,o=this.afterRenderEffectManager;for(;;){if(r===j6)throw new It(103,!1);if(i){let a=r===0;this.beforeRender.next(a);for(let{_lView:s,notifyErrorHandler:l}of this._views)t$(s,a,l)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:a})=>uP(a))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:a})=>uP(a))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;bx(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(sO,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>bx(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new It(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function bx(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function t$(e,t,n){!t&&!uP(e)||n$(e,n,t)}function uP(e){return DP(e)}function n$(e,t,n){let i;n?(i=0,e[kt]|=1024):e[kt]&64?i=0:i=1,H6(e,t,i)}var hP=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},lO=(()=>{let t=class t{compileModuleSync(i){return new tP(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=u5(i),a=h6(o.declarations).reduce((s,l)=>{let c=Tu(l);return c&&s.push(new Lg(c)),s},[]);return new hP(r,a)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var i$=(()=>{let t=class t{constructor(){this.zone=dt(Oi),this.applicationRef=dt(Xg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function r$(e){return[{provide:Oi,useFactory:e},{provide:Vp,multi:!0,useFactory:()=>{let t=dt(i$,{optional:!0});return()=>t.initialize()}},{provide:Vp,multi:!0,useFactory:()=>{let t=dt(l$);return()=>{t.initialize()}}},{provide:t6,useFactory:o$}]}function o$(){let e=dt(Oi),t=dt(ll);return n=>e.runOutsideAngular(()=>t.handleError(n))}function a$(e){let t=r$(()=>new Oi(s$(e)));return z1([[],t])}function s$(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var l$=(()=>{let t=class t{constructor(){this.subscription=new or,this.initialized=!1,this.zone=dt(Oi),this.pendingTasks=dt($1)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oi.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oi.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function c$(){return typeof $localize<"u"&&$localize.locale||I1}var cO=new _n("",{providedIn:"root",factory:()=>dt(cO,hn.Optional|hn.SkipSelf)||c$()});var hR=new _n("");var p1=null;function d$(e=[],t){return Vu.create({name:t,providers:[{provide:B1,useValue:"platform"},{provide:hR,useValue:new Set([()=>p1=null])},...e]})}function u$(e=[]){if(p1)return p1;let t=d$(e);return p1=t,KZ(),h$(t),t}function h$(e){e.get(UP,null)?.forEach(n=>n())}var Xp=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=p$;let e=t;return e})();function p$(e){return m$(wa(),In(),(e&16)===16)}function m$(e,t,n){if(U1(e)&&!n){let i=gd(e.index,t);return new Fu(i,i)}else if(e.type&47){let i=t[Wa];return new Fu(i,t)}return null}var pP=class{constructor(){}supports(t){return K6(t)}create(t){return new mP(t)}},f$=(e,t)=>t,mP=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||f$}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let a=!i||n&&n.currentIndex<U4(i,r,o)?n:i,s=U4(a,r,o),l=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(n=n._next,a.previousIndex==null)r++;else{o||(o=[]);let c=s-r,d=l-r;if(c!=d){for(let h=0;h<c;h++){let p=h<o.length?o[h]:o[h]=0,m=p+h;d<=m&&m<c&&(o[h]=p+1)}let u=a.previousIndex;o[u]=d-c}}s!==l&&t(a,s,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!K6(t))throw new It(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,o,a;if(Array.isArray(t)){this.length=t.length;for(let s=0;s<this.length;s++)o=t[s],a=this._trackByFn(s,o),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,o,a,s),i=!0):(i&&(n=this._verifyReinsertion(n,o,a,s)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,mZ(t,s=>{a=this._trackByFn(r,s),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,s,a,r),i=!0):(i&&(n=this._verifyReinsertion(n,s,a,r)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new fP(n,i),o,r)),t}_verifyReinsertion(t,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new R1),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new R1),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},fP=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},gP=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},R1=class{constructor(){this.map=new Map}put(t){let n=t.trackById,i=this.map.get(n);i||(i=new gP,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function U4(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function j4(){return new dO([new pP])}var dO=(()=>{let t=class t{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new t(i)}static extend(i){return{provide:t,useFactory:r=>t.create(i,r||j4()),deps:[[t,new e5,new bP]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new It(901,!1)}};t.\u0275prov=$t({token:t,providedIn:"root",factory:j4});let e=t;return e})();function pR(e){try{let{rootComponent:t,appProviders:n,platformProviders:i}=e,r=u$(i),o=[a$(),...n||[]],s=new D1({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,l=s.get(Oi);return l.run(()=>{s.resolveInjectorInitializers();let c=s.get(ll,null),d;l.runOutsideAngular(()=>{d=l.onError.subscribe({next:p=>{c.handleError(p)}})});let u=()=>s.destroy(),h=r.get(hR);return h.add(u),s.onDestroy(()=>{d.unsubscribe(),h.delete(u)}),e$(c,l,()=>{let p=s.get(uR);return p.runInitializers(),p.donePromise.then(()=>{let m=s.get(cO,I1);GZ(m||I1);let g=s.get(Xg);return t!==void 0&&g.bootstrap(t),g})})})}catch(t){return Promise.reject(t)}}function Qg(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var MR=null;function Qp(){return MR}function wR(e){MR??=e}var ib=class{};var Pa=new _n(""),xR=(()=>{let t=class t{historyGo(i){throw new Error("")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:()=>dt(g$),providedIn:"platform"});let e=t;return e})();var g$=(()=>{let t=class t extends xR{constructor(){super(),this._doc=dt(Pa),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qp().getBaseHref(this._doc)}onPopState(i){let r=Qp().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Qp().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:()=>new t,providedIn:"platform"});let e=t;return e})();function PR(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function mR(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,i=n-(e[n-1]==="/"?1:0);return e.slice(0,i)+e.slice(n)}function Hu(e){return e&&e[0]!=="?"?"?"+e:e}var Zp=(()=>{let t=class t{historyGo(i){throw new Error("")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:()=>dt(OR),providedIn:"root"});let e=t;return e})(),v$=new _n(""),OR=(()=>{let t=class t extends Zp{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??dt(Pa).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return PR(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Hu(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,a){let s=this.prepareExternalUrl(o+Hu(a));this._platformLocation.pushState(i,r,s)}replaceState(i,r,o,a){let s=this.prepareExternalUrl(o+Hu(a));this._platformLocation.replaceState(i,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};t.\u0275fac=function(r){return new(r||t)(An(xR),An(v$,8))},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Zg=(()=>{let t=class t{constructor(i){this._subject=new ba,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=_$(mR(fR(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Hu(r))}normalize(i){return t.stripTrailingSlash(b$(this._basePath,fR(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Hu(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Hu(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};t.normalizeQueryParams=Hu,t.joinWithSlash=PR,t.stripTrailingSlash=mR,t.\u0275fac=function(r){return new(r||t)(An(Zp))},t.\u0275prov=$t({token:t,factory:()=>y$(),providedIn:"root"});let e=t;return e})();function y$(){return new Zg(An(Zp))}function b$(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function fR(e){return e.replace(/\/index.html$/,"")}function _$(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function SR(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var uO=/\s+/,gR=[],ER=(()=>{let t=class t{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=gR,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(uO):gR}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(uO):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(uO).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};t.\u0275fac=function(r){return new(r||t)(kn(oo),kn(dl))},t.\u0275dir=md({type:t,selectors:[["","ngClass",""]],inputs:{klass:[Ha.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let e=t;return e})();var hO=class{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ob=(()=>{let t=class t{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,a,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new hO(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(a===null?void 0:a);else if(a!==null){let l=r.get(a);r.move(l,s),vR(l,o)}});for(let o=0,a=r.length;o<a;o++){let l=r.get(o).context;l.index=o,l.count=a,l.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let a=r.get(o.currentIndex);vR(a,o)})}static ngTemplateContextGuard(i,r){return!0}};t.\u0275fac=function(r){return new(r||t)(kn(vd),kn(Nu),kn(dO))},t.\u0275dir=md({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let e=t;return e})();function vR(e,t){e.context.$implicit=t.item}var DR=(()=>{let t=class t{constructor(i,r){this._viewContainer=i,this._context=new pO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){yR("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){yR("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};t.\u0275fac=function(r){return new(r||t)(kn(vd),kn(Nu))},t.\u0275dir=md({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let e=t;return e})(),pO=class{constructor(){this.$implicit=null,this.ngIf=null}};function yR(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${wo(t)}'.`)}var AR="browser",C$="server";function mO(e){return e===C$}var rb=class{};var vO=class extends ib{constructor(){super(...arguments),this.supportsDOMEvents=!0}},yO=class e extends vO{static makeCurrent(){wR(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=w$();return n==null?null:x$(n)}resetBaseElement(){$g=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return SR(document.cookie,t)}},$g=null;function w$(){return $g=$g||document.querySelector("base"),$g?$g.getAttribute("href"):null}function x$(e){return new URL(e,document.baseURI).pathname}var P$=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac});let e=t;return e})(),bO=new _n(""),LR=(()=>{let t=class t{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(a=>a.supports(i)),!r)throw new It(5101,!1);return this._eventNameToPlugin.set(i,r),r}};t.\u0275fac=function(r){return new(r||t)(An(bO),An(Oi))},t.\u0275prov=$t({token:t,factory:t.\u0275fac});let e=t;return e})(),ab=class{constructor(t){this._doc=t}},fO="ng-app-id",kR=(()=>{let t=class t{constructor(i,r,o,a={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mO(a),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${fO}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let a=o.get(i);return a.usage+=r,a.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,a=o?.get(r);if(a?.parentNode===i)return o.delete(r),a.removeAttribute(fO),a;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(fO,this.appId),i.appendChild(s),s}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),a=this.styleRef,s=a.get(r)?.elements;s?s.push(o):a.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(An(Pa),An(VP),An(jP,8),An(Uu))},t.\u0275prov=$t({token:t,factory:t.\u0275fac});let e=t;return e})(),gO={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},CO=/%COMP%/g,FR="%COMP%",O$=`_nghost-${FR}`,S$=`_ngcontent-${FR}`,E$=!0,D$=new _n("",{providedIn:"root",factory:()=>E$});function A$(e){return S$.replace(CO,e)}function T$(e){return O$.replace(CO,e)}function NR(e,t){return t.map(n=>n.replace(CO,e))}var TR=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=s,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=mO(l),this.defaultRenderer=new Kg(i,s,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===al.ShadowDom&&(r=se(B({},r),{encapsulation:al.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof sb?o.applyToHost(i):o instanceof Jg&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,a=o.get(r.id);if(!a){let s=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case al.Emulated:a=new sb(c,d,r,this.appId,u,s,l,h);break;case al.ShadowDom:return new _O(c,d,i,r,s,l,this.nonce,h);default:a=new Jg(c,d,r,u,s,l,h);break}o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(An(LR),An(kR),An(VP),An(D$),An(Pa),An(Uu),An(Oi),An(jP))},t.\u0275prov=$t({token:t,factory:t.\u0275fac});let e=t;return e})(),Kg=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(gO[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(IR(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(IR(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new It(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=gO[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=gO[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(ac.DashCase|ac.Important)?t.style.setProperty(n,i,r&ac.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&ac.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=Qp().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function IR(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var _O=class extends Kg{constructor(t,n,i,r,o,a,s,l){super(t,o,a,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=NR(r.id,r.styles);for(let d of c){let u=document.createElement("style");s&&u.setAttribute("nonce",s),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Jg=class extends Kg{constructor(t,n,i,r,o,a,s,l){super(t,o,a,s),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?NR(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},sb=class extends Jg{constructor(t,n,i,r,o,a,s,l){let c=r+"-"+i.id;super(t,n,i,o,a,s,l,c),this.contentAttr=A$(c),this.hostAttr=T$(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},I$=(()=>{let t=class t extends ab{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};t.\u0275fac=function(r){return new(r||t)(An(Pa))},t.\u0275prov=$t({token:t,factory:t.\u0275fac});let e=t;return e})(),RR=["alt","control","meta","shift"],R$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},L$={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},k$=(()=>{let t=class t extends ab{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,r,o){let a=t.parseEventName(r),s=t.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qp().onAndCancel(i,a.domEventName,s))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let a=t._normalizeKey(r.pop()),s="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),s="code."),RR.forEach(d=>{let u=r.indexOf(d);u>-1&&(r.splice(u,1),s+=d+".")}),s+=a,r.length!=0||a.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(i,r){let o=R$[i.key]||i.key,a="";return r.indexOf("code.")>-1&&(o=i.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),RR.forEach(s=>{if(s!==o){let l=L$[s];l(i)&&(a+=s+".")}}),a+=o,a===r)}static eventCallback(i,r,o){return a=>{t.matchEventFullKeyCode(a,i)&&o.runGuarded(()=>r(a))}}static _normalizeKey(i){return i==="esc"?"escape":i}};t.\u0275fac=function(r){return new(r||t)(An(Pa))},t.\u0275prov=$t({token:t,factory:t.\u0275fac});let e=t;return e})();function zR(e,t){return pR(B({rootComponent:e},F$(t)))}function F$(e){return{appProviders:[...U$,...e?.providers??[]],platformProviders:V$}}function N$(){yO.makeCurrent()}function z$(){return new ll}function B$(){return s6(document),document}var V$=[{provide:Uu,useValue:AR},{provide:UP,useValue:N$,multi:!0},{provide:Pa,useFactory:B$,deps:[]}];var U$=[{provide:B1,useValue:"root"},{provide:ll,useFactory:z$,deps:[]},{provide:bO,useClass:I$,multi:!0,deps:[Pa,Oi,Uu]},{provide:bO,useClass:k$,multi:!0,deps:[Pa]},TR,kR,LR,{provide:Rg,useExisting:TR},{provide:rb,useClass:P$,deps:[]},[]];var BR=(()=>{let t=class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};t.\u0275fac=function(r){return new(r||t)(An(Pa))},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var rn="primary",h0=Symbol("RouteTitle"),OO=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function tm(e){return new OO(e)}function H$(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],s=e[o];if(a.startsWith(":"))r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function G$(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ul(e[n],t[n]))return!1;return!0}function ul(e,t){let n=e?SO(e):void 0,i=t?SO(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!WR(e[r],t[r]))return!1;return!0}function SO(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function WR(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function qR(e){return e.length>0?e[e.length-1]:null}function bd(e){return ex(e)?e:Yg(e)?Gi(Promise.resolve(e)):Ht(e)}var W$={exact:XR,subset:QR},YR={exact:q$,subset:Y$,ignored:()=>!0};function VR(e,t,n){return W$[n.paths](e.root,t.root,n.matrixParams)&&YR[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function q$(e,t){return ul(e,t)}function XR(e,t,n){if(!Wu(e.segments,t.segments)||!db(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!XR(e.children[i],t.children[i],n))return!1;return!0}function Y$(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>WR(e[n],t[n]))}function QR(e,t,n){return ZR(e,t,t.segments,n)}function ZR(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Wu(r,n)||t.hasChildren()||!db(r,n,i))}else if(e.segments.length===n.length){if(!Wu(e.segments,n)||!db(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!QR(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Wu(e.segments,r)||!db(e.segments,r,i)||!e.children[rn]?!1:ZR(e.children[rn],t,o,i)}}function db(e,t,n){return t.every((i,r)=>YR[n](e[r].parameters,i.parameters))}var yd=class{constructor(t=new Gn([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=tm(this.queryParams),this._queryParamMap}toString(){return Z$.serialize(this)}},Gn=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ub(this)}},Gu=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=tm(this.parameters),this._parameterMap}toString(){return KR(this)}};function X$(e,t){return Wu(e,t)&&e.every((n,i)=>ul(n.parameters,t[i].parameters))}function Wu(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function Q$(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===rn&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==rn&&(n=n.concat(t(r,i)))}),n}var JO=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:()=>new pb,providedIn:"root"});let e=t;return e})(),pb=class{parse(t){let n=new DO(t);return new yd(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${e0(t.root,!0)}`,i=J$(t.queryParams),r=typeof t.fragment=="string"?`#${$$(t.fragment)}`:"";return`${n}${i}${r}`}},Z$=new pb;function ub(e){return e.segments.map(t=>KR(t)).join("/")}function e0(e,t){if(!e.hasChildren())return ub(e);if(t){let n=e.children[rn]?e0(e.children[rn],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==rn&&i.push(`${r}:${e0(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=Q$(e,(i,r)=>r===rn?[e0(e.children[rn],!1)]:[`${r}:${e0(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[rn]!=null?`${ub(e)}/${n[0]}`:`${ub(e)}/(${n.join("//")})`}}function $R(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lb(e){return $R(e).replace(/%3B/gi,";")}function $$(e){return encodeURI(e)}function EO(e){return $R(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hb(e){return decodeURIComponent(e)}function UR(e){return hb(e.replace(/\+/g,"%20"))}function KR(e){return`${EO(e.path)}${K$(e.parameters)}`}function K$(e){return Object.entries(e).map(([t,n])=>`;${EO(t)}=${EO(n)}`).join("")}function J$(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${lb(n)}=${lb(r)}`).join("&"):`${lb(n)}=${lb(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var eK=/^[^\/()?;#]+/;function MO(e){let t=e.match(eK);return t?t[0]:""}var tK=/^[^\/()?;=#]+/;function nK(e){let t=e.match(tK);return t?t[0]:""}var iK=/^[^=?&#]+/;function rK(e){let t=e.match(iK);return t?t[0]:""}var oK=/^[^&#]+/;function aK(e){let t=e.match(oK);return t?t[0]:""}var DO=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gn([],{}):new Gn([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[rn]=new Gn(t,n)),i}parseSegment(){let t=MO(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new It(4009,!1);return this.capture(t),new Gu(hb(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=nK(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=MO(this.remaining);r&&(i=r,this.capture(i))}t[hb(n)]=hb(i)}parseQueryParam(t){let n=rK(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let a=aK(this.remaining);a&&(i=a,this.capture(i))}let r=UR(n),o=UR(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=MO(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new It(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=rn);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[rn]:new Gn([],a),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new It(4011,!1)}};function JR(e){return e.segments.length>0?new Gn([],{[rn]:e}):e}function eL(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=eL(r);if(i===rn&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new Gn(e.segments,t);return sK(n)}function sK(e){if(e.numberOfChildren===1&&e.children[rn]){let t=e.children[rn];return new Gn(e.segments.concat(t.segments),t.children)}return e}function nm(e){return e instanceof yd}function lK(e,t,n=null,i=null){let r=tL(e);return nL(r,t,n,i)}function tL(e){let t;function n(o){let a={};for(let l of o.children){let c=n(l);a[l.outlet]=c}let s=new Gn(o.url,a);return o===e&&(t=s),s}let i=n(e.root),r=JR(i);return t??r}function nL(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return wO(r,r,r,n,i);let o=cK(t);if(o.toRoot())return wO(r,r,new Gn([],{}),n,i);let a=dK(o,r,e),s=a.processChildren?i0(a.segmentGroup,a.index,o.commands):rL(a.segmentGroup,a.index,o.commands);return wO(r,a.segmentGroup,s,n,i)}function mb(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function a0(e){return typeof e=="object"&&e!=null&&e.outlets}function wO(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let a;e===t?a=n:a=iL(e,t,n);let s=JR(eL(a));return new yd(s,o,r)}function iL(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=iL(o,t,n)}),new Gn(e.segments,i)}var fb=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&mb(i[0]))throw new It(4003,!1);let r=i.find(a0);if(r&&r!==qR(i))throw new It(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cK(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new fb(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([l,c])=>{s[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?n=!0:s===".."?t++:s!=""&&r.push(s))}),r):[...r,o]},[]);return new fb(n,t,i)}var Jp=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function dK(e,t,n){if(e.isAbsolute)return new Jp(t,!0,0);if(!n)return new Jp(t,!1,NaN);if(n.parent===null)return new Jp(n,!0,0);let i=mb(e.commands[0])?0:1,r=n.segments.length-1+i;return uK(n,r,e.numberOfDoubleDots)}function uK(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new It(4005,!1);r=i.segments.length}return new Jp(i,!1,r-o)}function hK(e){return a0(e[0])?e[0].outlets:{[rn]:e}}function rL(e,t,n){if(e??=new Gn([],{}),e.segments.length===0&&e.hasChildren())return i0(e,t,n);let i=pK(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new Gn(e.segments.slice(0,i.pathIndex),{});return o.children[rn]=new Gn(e.segments.slice(i.pathIndex),e.children),i0(o,0,r)}else return i.match&&r.length===0?new Gn(e.segments,{}):i.match&&!e.hasChildren()?AO(e,t,n):i.match?i0(e,0,r):AO(e,t,n)}function i0(e,t,n){if(n.length===0)return new Gn(e.segments,{});{let i=hK(n),r={};if(Object.keys(i).some(o=>o!==rn)&&e.children[rn]&&e.numberOfChildren===1&&e.children[rn].segments.length===0){let o=i0(e.children[rn],t,n);return new Gn(e.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=rL(e.children[o],t,a))}),Object.entries(e.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new Gn(e.segments,r)}}function pK(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let a=e.segments[r],s=n[i];if(a0(s))break;let l=`${s}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!HR(l,c,a))return o;i+=2}else{if(!HR(l,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function AO(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(a0(o)){let l=mK(o.outlets);return new Gn(i,l)}if(r===0&&mb(n[0])){let l=e.segments[t];i.push(new Gu(l.path,jR(n[0]))),r++;continue}let a=a0(o)?o.outlets[rn]:`${o}`,s=r<n.length-1?n[r+1]:null;a&&s&&mb(s)?(i.push(new Gu(a,jR(s))),r+=2):(i.push(new Gu(a,{})),r++)}return new Gn(i,{})}function mK(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=AO(new Gn([],{}),0,i))}),t}function jR(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function HR(e,t,n){return e==n.path&&ul(t,n.parameters)}var r0="imperative",Vr=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Vr||{}),Xa=class{constructor(t,n){this.id=t,this.url=n}},qu=class extends Xa{constructor(t,n,i="imperative",r=null){super(t,n),this.type=Vr.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Qa=class extends Xa{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=Vr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Sa=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Sa||{}),TO=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(TO||{}),hl=class extends Xa{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Vr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yu=class extends Xa{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Vr.NavigationSkipped}},Xu=class extends Xa{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=Vr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},gb=class extends Xa{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Vr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},IO=class extends Xa{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Vr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},RO=class extends Xa{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Vr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},LO=class extends Xa{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Vr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kO=class extends Xa{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Vr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},FO=class{constructor(t){this.route=t,this.type=Vr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},NO=class{constructor(t){this.route=t,this.type=Vr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zO=class{constructor(t){this.snapshot=t,this.type=Vr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},BO=class{constructor(t){this.snapshot=t,this.type=Vr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},VO=class{constructor(t){this.snapshot=t,this.type=Vr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},UO=class{constructor(t){this.snapshot=t,this.type=Vr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var s0=class{},l0=class{constructor(t){this.url=t}};var jO=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Mb,this.attachRef=null}},Mb=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new jO,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),vb=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=HO(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=HO(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=GO(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return GO(t,this._root).map(n=>n.value)}};function HO(e,t){if(e===t.value)return t;for(let n of t.children){let i=HO(e,n);if(i)return i}return null}function GO(e,t){if(e===t.value)return[t];for(let n of t.children){let i=GO(e,n);if(i.length)return i.unshift(t),i}return[]}var Oa=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Kp(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var yb=class extends vb{constructor(t,n){super(t),this.snapshot=n,tS(this,t)}toString(){return this.snapshot.toString()}};function oL(e){let t=fK(e),n=new Nr([new Gu("",{})]),i=new Nr({}),r=new Nr({}),o=new Nr({}),a=new Nr(""),s=new Qu(n,i,o,a,r,rn,e,t.root);return s.snapshot=t.root,new yb(new Oa(s,[]),t)}function fK(e){let t={},n={},i={},r="",o=new c0([],t,i,r,n,rn,e,null,{});return new bb("",new Oa(o,[]))}var Qu=class{constructor(t,n,i,r,o,a,s,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Dn(c=>c[h0]))??Ht(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Dn(t=>tm(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Dn(t=>tm(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function eS(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:B(B({},t.params),e.params),data:B(B({},t.data),e.data),resolve:B(B(B(B({},e.data),t.data),r?.data),e._resolvedData)}:i={params:B({},e.params),data:B({},e.data),resolve:B(B({},e.data),e._resolvedData??{})},r&&sL(r)&&(i.resolve[h0]=r.title),i}var c0=class{get title(){return this.data?.[h0]}constructor(t,n,i,r,o,a,s,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=tm(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=tm(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},bb=class extends vb{constructor(t,n){super(n),this.url=t,tS(this,n)}toString(){return aL(this._root)}};function tS(e,t){t.value._routerState=e,t.children.forEach(n=>tS(e,n))}function aL(e){let t=e.children.length>0?` { ${e.children.map(aL).join(", ")} } `:"";return`${e.value}${t}`}function xO(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ul(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),ul(t.params,n.params)||e.paramsSubject.next(n.params),G$(t.url,n.url)||e.urlSubject.next(n.url),ul(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function WO(e,t){let n=ul(e.params,t.params)&&X$(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||WO(e.parent,t.parent))}function sL(e){return typeof e.title=="string"||e.title===null}var nS=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=rn,this.activateEvents=new ba,this.deactivateEvents=new ba,this.attachEvents=new ba,this.detachEvents=new ba,this.parentContexts=dt(Mb),this.location=dt(vd),this.changeDetector=dt(Xp),this.environmentInjector=dt(Ga),this.inputBinder=dt(iS,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new It(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new It(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new It(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new It(4013,!1);this._activatedRoute=i;let o=this.location,s=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new qO(i,l,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=md({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fd]});let e=t;return e})(),qO=class{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i,this.__ngOutletInjector=!0}get(t,n){return t===Qu?this.route:t===Mb?this.childContexts:this.parent.get(t,n)}},iS=new _n("");function gK(e,t,n){let i=d0(e,t._root,n?n._root:void 0);return new yb(i,t)}function d0(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=vK(e,t,n);return new Oa(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>d0(e,s)),a}}let i=yK(t.value),r=t.children.map(o=>d0(e,o));return new Oa(i,r)}}function vK(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return d0(e,i,r);return d0(e,i)})}function yK(e){return new Qu(new Nr(e.url),new Nr(e.params),new Nr(e.queryParams),new Nr(e.fragment),new Nr(e.data),e.outlet,e.component,e)}var lL="ngNavigationCancelingError";function cL(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=nm(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=dL(!1,Sa.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function dL(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[lL]=!0,n.cancellationCode=t,n}function bK(e){return uL(e)&&nm(e.url)}function uL(e){return!!e&&e[lL]}var _K=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["ng-component"]],standalone:!0,features:[gt],decls:1,vars:0,template:function(r,o){r&1&&A(0,"router-outlet")},dependencies:[nS],encapsulation:2});let e=t;return e})();function CK(e,t){return e.providers&&!e._injector&&(e._injector=oO(e.providers,t,`Route: ${e.path}`)),e._injector??t}function rS(e){let t=e.children&&e.children.map(rS),n=t?se(B({},e),{children:t}):B({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==rn&&(n.component=_K),n}function pl(e){return e.outlet||rn}function MK(e,t){let n=e.filter(i=>pl(i)===t);return n.push(...e.filter(i=>pl(i)!==t)),n}function p0(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var wK=(e,t,n,i)=>Dn(r=>(new YO(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),YO=class{constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),xO(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=Kp(n);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,n,a.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Kp(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Kp(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=Kp(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new UO(o.value.snapshot))}),t.children.length&&this.forwardEvent(new BO(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(xO(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,a.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),xO(s.route.value),this.activateChildRoutes(t,null,a.children)}else{let s=p0(r.snapshot);a.attachRef=null,a.route=r,a.injector=s,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}},_b=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},em=class{constructor(t,n){this.component=t,this.route=n}};function xK(e,t,n){let i=e._root,r=t?t._root:null;return t0(i,r,n,[i.value])}function PK(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function rm(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!Y4(e)?e:t.get(e):i}function t0(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Kp(t);return e.children.forEach(a=>{OK(a,o[a.value.outlet],n,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>o0(s,n.getContext(a),r)),r}function OK(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,a=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=SK(a,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new _b(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?t0(e,t,s?s.children:null,i,r):t0(e,t,n,i,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new em(s.outlet.component,a))}else a&&o0(t,s,r),r.canActivateChecks.push(new _b(i)),o.component?t0(e,null,s?s.children:null,i,r):t0(e,null,n,i,r);return r}function SK(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Wu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Wu(e.url,t.url)||!ul(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!WO(e,t)||!ul(e.queryParams,t.queryParams);case"paramsChange":default:return!WO(e,t)}}function o0(e,t,n){let i=Kp(e),r=e.value;Object.entries(i).forEach(([o,a])=>{r.component?t?o0(a,t.children.getContext(o),n):o0(a,null,n):o0(a,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new em(t.outlet.component,r)):n.canDeactivateChecks.push(new em(null,r)):n.canDeactivateChecks.push(new em(null,r))}function m0(e){return typeof e=="function"}function EK(e){return typeof e=="boolean"}function DK(e){return e&&m0(e.canLoad)}function AK(e){return e&&m0(e.canActivate)}function TK(e){return e&&m0(e.canActivateChild)}function IK(e){return e&&m0(e.canDeactivate)}function RK(e){return e&&m0(e.canMatch)}function hL(e){return e instanceof ic||e?.name==="EmptyError"}var cb=Symbol("INITIAL_VALUE");function im(){return ws(e=>n1(e.map(t=>t.pipe(rc(1),rx(cb)))).pipe(Dn(t=>{for(let n of t)if(n!==!0){if(n===cb)return cb;if(n===!1||n instanceof yd)return n}return!0}),ya(t=>t!==cb),rc(1)))}function LK(e,t){return ar(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?Ht(se(B({},n),{guardsResult:!0})):kK(a,i,r,e).pipe(ar(s=>s&&EK(s)?FK(i,o,e,t):Ht(s)),Dn(s=>se(B({},n),{guardsResult:s})))})}function kK(e,t,n,i){return Gi(e).pipe(ar(r=>UK(r.component,r.route,n,t,i)),il(r=>r!==!0,!0))}function FK(e,t,n,i){return Gi(t).pipe(Tp(r=>Ap(zK(r.route.parent,i),NK(r.route,i),VK(e,r.path,n),BK(e,r.route,n))),il(r=>r!==!0,!0))}function NK(e,t){return e!==null&&t&&t(new VO(e)),Ht(!0)}function zK(e,t){return e!==null&&t&&t(new zO(e)),Ht(!0)}function BK(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return Ht(!0);let r=i.map(o=>i1(()=>{let a=p0(t)??n,s=rm(o,a),l=AK(s)?s.canActivate(t,e):sc(a,()=>s(t,e));return bd(l).pipe(il())}));return Ht(r).pipe(im())}function VK(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>PK(a)).filter(a=>a!==null).map(a=>i1(()=>{let s=a.guards.map(l=>{let c=p0(a.node)??n,d=rm(l,c),u=TK(d)?d.canActivateChild(i,e):sc(c,()=>d(i,e));return bd(u).pipe(il())});return Ht(s).pipe(im())}));return Ht(o).pipe(im())}function UK(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ht(!0);let a=o.map(s=>{let l=p0(t)??r,c=rm(s,l),d=IK(c)?c.canDeactivate(e,t,n,i):sc(l,()=>c(e,t,n,i));return bd(d).pipe(il())});return Ht(a).pipe(im())}function jK(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return Ht(!0);let o=r.map(a=>{let s=rm(a,e),l=DK(s)?s.canLoad(t,n):sc(e,()=>s(t,n));return bd(l)});return Ht(o).pipe(im(),pL(i))}function pL(e){return Zw(zr(t=>{if(nm(t))throw cL(e,t)}),Dn(t=>t===!0))}function HK(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return Ht(!0);let o=r.map(a=>{let s=rm(a,e),l=RK(s)?s.canMatch(t,n):sc(e,()=>s(t,n));return bd(l)});return Ht(o).pipe(im(),pL(i))}var u0=class{constructor(t){this.segmentGroup=t||null}},Cb=class extends Error{constructor(t){super(),this.urlTree=t}};function $p(e){return Ep(new u0(e))}function GK(e){return Ep(new It(4e3,!1))}function WK(e){return Ep(dL(!1,Sa.GuardRejected))}var XO=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Ht(i);if(r.numberOfChildren>1||!r.children[rn])return GK(t.redirectTo);r=r.children[rn]}}applyRedirectCommands(t,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n.startsWith("/"))throw new Cb(r);return r}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new yd(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let s=o.substring(1);i[r]=n[s]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),a={};return Object.entries(n.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(t,l,i,r)}),new Gn(o,a)}createSegments(t,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new It(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},QO={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qK(e,t,n,i,r){let o=oS(e,t,n);return o.matched?(i=CK(t,i),HK(i,t,n,r).pipe(Dn(a=>a===!0?o:B({},QO)))):Ht(o)}function oS(e,t,n){if(t.path==="**")return YK(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?B({},QO):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||H$)(n,e,t);if(!r)return B({},QO);let o={};Object.entries(r.posParams??{}).forEach(([s,l])=>{o[s]=l.path});let a=r.consumed.length>0?B(B({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function YK(e){return{matched:!0,parameters:e.length>0?qR(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function GR(e,t,n,i){return n.length>0&&ZK(e,n,i)?{segmentGroup:new Gn(t,QK(i,new Gn(n,e.children))),slicedSegments:[]}:n.length===0&&$K(e,n,i)?{segmentGroup:new Gn(e.segments,XK(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new Gn(e.segments,e.children),slicedSegments:n}}function XK(e,t,n,i){let r={};for(let o of n)if(wb(e,t,o)&&!i[pl(o)]){let a=new Gn([],{});r[pl(o)]=a}return B(B({},i),r)}function QK(e,t){let n={};n[rn]=t;for(let i of e)if(i.path===""&&pl(i)!==rn){let r=new Gn([],{});n[pl(i)]=r}return n}function ZK(e,t,n){return n.some(i=>wb(e,t,i)&&pl(i)!==rn)}function $K(e,t,n){return n.some(i=>wb(e,t,i))}function wb(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function KK(e,t,n,i){return pl(e)!==i&&(i===rn||!wb(t,n,e))?!1:oS(t,e,n).matched}function JK(e,t,n){return t.length===0&&!e.children[n]}var ZO=class{};function eJ(e,t,n,i,r,o,a="emptyOnly"){return new $O(e,t,n,i,r,a,o).recognize()}var tJ=31,$O=class{constructor(t,n,i,r,o,a,s){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new XO(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new It(4002,`'${t.segmentGroup}'`)}recognize(){let t=GR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Dn(n=>{let i=new c0([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,{},rn,this.rootComponentType,null,{}),r=new Oa(i,n),o=new bb("",r),a=lK(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root,null),{state:o,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,rn).pipe(cd(i=>{if(i instanceof Cb)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof u0?this.noMatchError(i):i}))}inheritParamsAndData(t,n){let i=t.value,r=eS(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(t,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r,!0).pipe(Dn(o=>o instanceof Oa?[o]:[]))}processChildren(t,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Gi(r).pipe(Tp(o=>{let a=i.children[o],s=MK(n,o);return this.processSegmentGroup(t,s,a,o)}),ix((o,a)=>(o.push(...a),o)),dd(null),nx(),ar(o=>{if(o===null)return $p(i);let a=mL(o);return nJ(a),Ht(a)}))}processSegment(t,n,i,r,o,a){return Gi(n).pipe(Tp(s=>this.processSegmentAgainstRoute(s._injector??t,n,s,i,r,o,a).pipe(cd(l=>{if(l instanceof u0)return Ht(null);throw l}))),il(s=>!!s),cd(s=>{if(hL(s))return JK(i,r,o)?Ht(new ZO):$p(i);throw s}))}processSegmentAgainstRoute(t,n,i,r,o,a,s){return KK(i,r,o,a)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,a):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,a):$p(r):$p(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,a){let{matched:s,consumedSegments:l,positionalParamSegments:c,remainingSegments:d}=oS(n,r,o);if(!s)return $p(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tJ&&(this.allowRedirects=!1));let u=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,u).pipe(ar(h=>this.processSegment(t,i,n,h.concat(d),a,!1)))}matchSegmentAgainstRoute(t,n,i,r,o){let a=qK(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(ws(s=>s.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(ws(({routes:l})=>{let c=i._loadedInjector??t,{consumedSegments:d,remainingSegments:u,parameters:h}=s,p=new c0(d,h,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,rJ(i),pl(i),i.component??i._loadedComponent??null,i,oJ(i)),{segmentGroup:m,slicedSegments:g}=GR(n,d,u,l);if(g.length===0&&m.hasChildren())return this.processChildren(c,l,m).pipe(Dn(b=>b===null?null:new Oa(p,b)));if(l.length===0&&g.length===0)return Ht(new Oa(p,[]));let v=pl(i)===o;return this.processSegment(c,l,m,g,v?rn:o,!0).pipe(Dn(b=>new Oa(p,b instanceof Oa?[b]:[])))}))):$p(n)))}getChildConfig(t,n,i){return n.children?Ht({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Ht({routes:n._loadedRoutes,injector:n._loadedInjector}):jK(t,n,i,this.urlSerializer).pipe(ar(r=>r?this.configLoader.loadChildren(t,n).pipe(zr(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):WK(n))):Ht({routes:[],injector:t})}};function nJ(e){e.sort((t,n)=>t.value.outlet===rn?-1:n.value.outlet===rn?1:t.value.outlet.localeCompare(n.value.outlet))}function iJ(e){let t=e.value.routeConfig;return t&&t.path===""}function mL(e){let t=[],n=new Set;for(let i of e){if(!iJ(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=mL(i.children);t.push(new Oa(i.value,r))}return t.filter(i=>!n.has(i))}function rJ(e){return e.data||{}}function oJ(e){return e.resolve||{}}function aJ(e,t,n,i,r,o){return ar(a=>eJ(e,t,n,i,a.extractedUrl,r,o).pipe(Dn(({state:s,tree:l})=>se(B({},a),{targetSnapshot:s,urlAfterRedirects:l}))))}function sJ(e,t){return ar(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Ht(n);let o=new Set(r.map(l=>l.route)),a=new Set;for(let l of o)if(!a.has(l))for(let c of fL(l))a.add(c);let s=0;return Gi(a).pipe(Tp(l=>o.has(l)?lJ(l,i,e,t):(l.data=eS(l,l.parent,e).resolve,Ht(void 0))),zr(()=>s++),Ip(1),ar(l=>s===a.size?Ht(n):va))})}function fL(e){let t=e.children.map(n=>fL(n)).flat();return[e,...t]}function lJ(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!sL(r)&&(o[h0]=r.title),cJ(o,e,t,i).pipe(Dn(a=>(e._resolvedData=a,e.data=eS(e,e.parent,n).resolve,null)))}function cJ(e,t,n,i){let r=SO(e);if(r.length===0)return Ht({});let o={};return Gi(r).pipe(ar(a=>dJ(e[a],t,n,i).pipe(il(),zr(s=>{o[a]=s}))),Ip(1),tx(o),cd(a=>hL(a)?va:Ep(a)))}function dJ(e,t,n,i){let r=p0(t)??i,o=rm(e,r),a=o.resolve?o.resolve(t,n):sc(r,()=>o(t,n));return bd(a)}function PO(e){return ws(t=>{let n=e(t);return n?Gi(n).pipe(Dn(()=>t)):Ht(t)})}var gL=(()=>{let t=class t{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===rn);return r}getResolvedTitleForRoute(i){return i.data[h0]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:()=>dt(uJ),providedIn:"root"});let e=t;return e})(),uJ=(()=>{let t=class t extends gL{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(An(BR))},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),aS=new _n("",{providedIn:"root",factory:()=>({})}),sS=new _n(""),hJ=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=dt(lO)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Ht(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=bd(i.loadComponent()).pipe(Dn(vL),zr(a=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a}),_g(()=>{this.componentLoaders.delete(i)})),o=new Sp(r,()=>new no).pipe(Op());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ht({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let a=pJ(r,this.compiler,i,this.onLoadEndListener).pipe(_g(()=>{this.childrenLoaders.delete(r)})),s=new Sp(a,()=>new no).pipe(Op());return this.childrenLoaders.set(r,s),s}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function pJ(e,t,n,i){return bd(e.loadChildren()).pipe(Dn(vL),ar(r=>r instanceof kg||Array.isArray(r)?Ht(r):Gi(t.compileModuleAsync(r))),Dn(r=>{i&&i(e);let o,a,s=!1;return Array.isArray(r)?(a=r,s=!0):(o=r.create(n).injector,a=o.get(sS,[],{optional:!0,self:!0}).flat()),{routes:a.map(rS),injector:o}}))}function mJ(e){return e&&typeof e=="object"&&"default"in e}function vL(e){return mJ(e)?e.default:e}var lS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:()=>dt(fJ),providedIn:"root"});let e=t;return e})(),fJ=(()=>{let t=class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),yL=new _n(""),bL=new _n("");function gJ(e,t,n){let i=e.get(bL),r=e.get(Pa);return e.get(Oi).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o,a=new Promise(c=>{o=c}),s=r.startViewTransition(()=>(o(),vJ(e))),{onViewTransitionCreated:l}=i;return l&&sc(e,()=>l({transition:s,from:t,to:n})),a})}function vJ(e){return new Promise(t=>{tO(t,{injector:e})})}var yJ=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new no,this.transitionAbortSubject=new no,this.configLoader=dt(hJ),this.environmentInjector=dt(Ga),this.urlSerializer=dt(JO),this.rootContexts=dt(Mb),this.location=dt(Zg),this.inputBindingEnabled=dt(iS,{optional:!0})!==null,this.titleStrategy=dt(gL),this.options=dt(aS,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=dt(lS),this.createViewTransition=dt(yL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ht(void 0),this.rootComponentType=null;let i=o=>this.events.next(new FO(o)),r=o=>this.events.next(new NO(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(se(B(B({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new Nr({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:r0,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ya(a=>a.id!==0),Dn(a=>se(B({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),ws(a=>{let s=!1,l=!1;return Ht(a).pipe(ws(c=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",Sa.SupersededByNewNavigation),va;this.currentTransition=a,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?se(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&u!=="reload"){let h="";return this.events.next(new Yu(c.id,this.urlSerializer.serialize(c.rawUrl),h,TO.IgnoredSameUrlNavigation)),c.resolve(null),va}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ht(c).pipe(ws(h=>{let p=this.transitions?.getValue();return this.events.next(new qu(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?va:Promise.resolve(h)}),aJ(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),zr(h=>{a.targetSnapshot=h.targetSnapshot,a.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=se(B({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new gb(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:p,source:m,restoredState:g,extras:v}=c,b=new qu(h,this.urlSerializer.serialize(p),m,g);this.events.next(b);let _=oL(this.rootComponentType).snapshot;return this.currentTransition=a=se(B({},c),{targetSnapshot:_,urlAfterRedirects:p,extras:se(B({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,Ht(a)}else{let h="";return this.events.next(new Yu(c.id,this.urlSerializer.serialize(c.extractedUrl),h,TO.IgnoredByUrlHandlingStrategy)),c.resolve(null),va}}),zr(c=>{let d=new IO(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Dn(c=>(this.currentTransition=a=se(B({},c),{guards:xK(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),a)),LK(this.environmentInjector,c=>this.events.next(c)),zr(c=>{if(a.guardsResult=c.guardsResult,nm(c.guardsResult))throw cL(this.urlSerializer,c.guardsResult);let d=new RO(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),ya(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Sa.GuardRejected),!1)),PO(c=>{if(c.guards.canActivateChecks.length)return Ht(c).pipe(zr(d=>{let u=new LO(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),ws(d=>{let u=!1;return Ht(d).pipe(sJ(this.paramsInheritanceStrategy,this.environmentInjector),zr({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(d,"",Sa.NoDataFromResolver)}}))}),zr(d=>{let u=new kO(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}))}),PO(c=>{let d=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(zr(p=>{u.component=p}),Dn(()=>{})));for(let p of u.children)h.push(...d(p));return h};return n1(d(c.targetSnapshot.root)).pipe(dd(null),rc(1))}),PO(()=>this.afterPreactivation()),ws(()=>{let{currentSnapshot:c,targetSnapshot:d}=a,u=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return u?Gi(u).pipe(Dn(()=>a)):Ht(a)}),Dn(c=>{let d=gK(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=a=se(B({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,a}),zr(()=>{this.events.next(new s0)}),wK(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),rc(1),zr({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),ox(this.transitionAbortSubject.pipe(zr(c=>{throw c}))),_g(()=>{!s&&!l&&this.cancelNavigationTransition(a,"",Sa.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),cd(c=>{if(l=!0,uL(c))this.events.next(new hl(a.id,this.urlSerializer.serialize(a.extractedUrl),c.message,c.cancellationCode)),bK(c)?this.events.next(new l0(c.url)):a.resolve(!1);else{this.events.next(new Xu(a.id,this.urlSerializer.serialize(a.extractedUrl),c,a.targetSnapshot??void 0));try{a.resolve(i.errorHandler(c))}catch(d){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(d)}}return va}))}))}cancelNavigationTransition(i,r,o){let a=new hl(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(a),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function bJ(e){return e!==r0}var _J=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:()=>dt(CJ),providedIn:"root"});let e=t;return e})(),KO=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},CJ=(()=>{let t=class t extends KO{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=NP(t)))(o||t)}})(),t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),_L=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:()=>dt(MJ),providedIn:"root"});let e=t;return e})(),MJ=(()=>{let t=class t extends _L{constructor(){super(...arguments),this.location=dt(Zg),this.urlSerializer=dt(JO),this.options=dt(aS,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=dt(lS),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=oL(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof qu)this.stateMemento=this.createStateMemento();else if(i instanceof Yu)this.rawUrlTree=r.initialUrl;else if(i instanceof gb){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof s0?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof hl&&(i.code===Sa.GuardRejected||i.code===Sa.NoDataFromResolver)?this.restoreHistory(r):i instanceof Xu?this.restoreHistory(r,!0):i instanceof Qa&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let a=this.browserPageId,s=B(B({},r.extras.state),this.generateNgRouterState(r.id,a));this.location.replaceState(o,"",s)}else{let a=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===i.finalUrl&&a===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=NP(t)))(o||t)}})(),t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),n0=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(n0||{});function wJ(e,t){e.events.pipe(ya(n=>n instanceof Qa||n instanceof hl||n instanceof Xu||n instanceof Yu),Dn(n=>n instanceof Qa||n instanceof Yu?n0.COMPLETE:(n instanceof hl?n.code===Sa.Redirect||n.code===Sa.SupersededByNewNavigation:!1)?n0.REDIRECTING:n0.FAILED),ya(n=>n!==n0.REDIRECTING),rc(1)).subscribe(()=>{t()})}function xJ(e){throw e}var PJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},om=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=dt(nb),this.stateManager=dt(_L),this.options=dt(aS,{optional:!0})||{},this.pendingTasks=dt($1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=dt(yJ),this.urlSerializer=dt(JO),this.location=dt(Zg),this.urlHandlingStrategy=dt(lS),this._events=new no,this.errorHandler=this.options.errorHandler||xJ,this.navigated=!1,this.routeReuseStrategy=dt(_J),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=dt(sS,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!dt(iS,{optional:!0}),this.eventsSubscription=new or,this.isNgZoneEnabled=dt(Oi)instanceof Oi&&Oi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(r,a),r instanceof hl&&r.code!==Sa.Redirect&&r.code!==Sa.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Qa)this.navigated=!0;else if(r instanceof l0){let s=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||bJ(o.source)};this.scheduleNavigation(s,r0,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}EJ(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),r0,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let a={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=B({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(a.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,s,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(rS),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:a,fragment:s,queryParamsHandling:l,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:s,u=null;switch(l){case"merge":u=B(B({},this.currentUrlTree.queryParams),a);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=a||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let p=o?o.snapshot:this.routerState.snapshot.root;h=tL(p)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),h=this.currentUrlTree.root}return nL(h,i,u,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=nm(i)?i:this.parseUrl(i),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,r0,null,r)}navigate(i,r={skipLocationChange:!1}){return SJ(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=B({},PJ):r===!1?o=B({},OJ):o=r,nm(i))return VR(this.currentUrlTree,i,o);let a=this.parseUrl(i);return VR(this.currentUrlTree,a,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,a])=>(a!=null&&(r[o]=a),r),{})}scheduleNavigation(i,r,o,a,s){if(this.disposed)return Promise.resolve(!1);let l,c,d;s?(l=s.resolve,c=s.reject,d=s.promise):d=new Promise((h,p)=>{l=h,c=p});let u=this.pendingTasks.add();return wJ(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:a,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(h=>Promise.reject(h))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function SJ(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new It(4008,!1)}function EJ(e){return!(e instanceof s0)&&!(e instanceof l0)}var Wi=(()=>{let t=class t{constructor(i,r,o,a,s,l){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=a,this.el=s,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new no,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=i.events.subscribe(d=>{d instanceof Qa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,a,s){let l=this.urlTree;if(l===null||this.isAnchorElement&&(i!==0||r||o||a||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:d6(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,a=this.el.nativeElement;r!==null?o.setAttribute(a,i,r):o.removeAttribute(a,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(r){return new(r||t)(kn(om),kn(Qu),zP("tabindex"),kn(dl),kn(oo),kn(Zp))},t.\u0275dir=md({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&Cn("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&dc("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ha.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Qg],skipLocationChange:[Ha.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Qg],replaceUrl:[Ha.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Qg],routerLink:"routerLink"},standalone:!0,features:[rO,fd]});let e=t;return e})(),Za=(()=>{let t=class t{get isActive(){return this._isActive}constructor(i,r,o,a,s){this.router=i,this.element=r,this.renderer=o,this.cdr=a,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ba,this.routerEventsSubscription=i.events.subscribe(l=>{l instanceof Qa&&this.update()})}ngAfterContentInit(){Ht(this.links.changes,Ht(null)).pipe(Dp()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Gi(i).pipe(Dp()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=DJ(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let a=o.urlTree;return a?i.isActive(a,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};t.\u0275fac=function(r){return new(r||t)(kn(om),kn(oo),kn(dl),kn(Xp),kn(Wi,8))},t.\u0275dir=md({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,a){if(r&1&&oR(a,Wi,5),r&2){let s;Kt(s=Jt())&&(o.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[fd]});let e=t;return e})();function DJ(e){return!!e.paths}var AJ=new _n("");function CL(e,...t){return z1([{provide:sS,multi:!0,useValue:e},[],{provide:Qu,useFactory:TJ,deps:[om]},{provide:sO,multi:!0,useFactory:RJ},t.map(n=>n.\u0275providers)])}function TJ(e){return e.routerState.root}function IJ(e,t){return{\u0275kind:e,\u0275providers:t}}function RJ(){let e=dt(Vu);return t=>{let n=e.get(Xg);if(t!==n.components[0])return;let i=e.get(om),r=e.get(LJ);e.get(kJ)===1&&i.initialNavigation(),e.get(FJ,null,hn.Optional)?.setUpPreloading(),e.get(AJ,null,hn.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var LJ=new _n("",{factory:()=>new no}),kJ=new _n("",{providedIn:"root",factory:()=>1});var FJ=new _n("");function ML(e){let t=[{provide:yL,useValue:gJ},{provide:bL,useValue:B({skipNextTransition:!!e?.skipInitialTransition},e)}];return IJ(9,t)}function hc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AL(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Jo={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},sm={duration:.5,overwrite:!1,delay:0},SS,ao,vi,Ka=1e8,li=1/Ka,gS=Math.PI*2,zJ=gS/4,BJ=0,TL=Math.sqrt,VJ=Math.cos,UJ=Math.sin,sr=function(t){return typeof t=="string"},Si=function(t){return typeof t=="function"},mc=function(t){return typeof t=="number"},Rb=function(t){return typeof t>"u"},gl=function(t){return typeof t=="object"},Ko=function(t){return t!==!1},ES=function(){return typeof window<"u"},xb=function(t){return Si(t)||sr(t)},IL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},so=Array.isArray,vS=/(?:-?\.?\d|\.)+/gi,DS=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,eh=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,cS=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,AS=/[+-]=-?[.\d]+/,RL=/[^,'"\[\]\s]+/gi,jJ=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,bi,ml,yS,TS,Da={},Eb={},LL,kL=function(t){return(Eb=Ju(t,Da))&&lo},Lb=function(t,n){return console.warn("Invalid property",t,"set to",n,"Missing plugin? gsap.registerPlugin()")},_0=function(t,n){return!n&&console.warn(t)},FL=function(t,n){return t&&(Da[t]=n)&&Eb&&(Eb[t]=n)||Da},C0=function(){return 0},HJ={suppressEvents:!0,isStart:!0,kill:!1},Pb={suppressEvents:!0,kill:!1},GJ={suppressEvents:!0},IS={},Cd=[],bS={},NL,Zo={},dS={},wL=30,Ob=[],RS="",LS=function(t){var n=t[0],i,r;if(gl(n)||Si(n)||(t=[t]),!(i=(n._gsap||{}).harness)){for(r=Ob.length;r--&&!Ob[r].targetTest(n););i=Ob[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new NS(t[r],i)))||t.splice(r,1);return t},Md=function(t){return t._gsap||LS(Ja(t))[0]._gsap},kS=function(t,n,i){return(i=t[n])&&Si(i)?t[n]():Rb(i)&&t.getAttribute&&t.getAttribute(n)||i},xo=function(t,n){return(t=t.split(",")).forEach(n)||t},Ei=function(t){return Math.round(t*1e5)/1e5||0},Cr=function(t){return Math.round(t*1e7)/1e7||0},th=function(t,n){var i=n.charAt(0),r=parseFloat(n.substr(2));return t=parseFloat(t),i==="+"?t+r:i==="-"?t-r:i==="*"?t*r:t/r},WJ=function(t,n){for(var i=n.length,r=0;t.indexOf(n[r])<0&&++r<i;);return r<i},Db=function(){var t=Cd.length,n=Cd.slice(0),i,r;for(bS={},Cd.length=0,i=0;i<t;i++)r=n[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},zL=function(t,n,i,r){Cd.length&&!ao&&Db(),t.render(n,i,r||ao&&n<0&&(t._initted||t._startAt)),Cd.length&&!ao&&Db()},BL=function(t){var n=parseFloat(t);return(n||n===0)&&(t+"").match(RL).length<2?n:sr(t)?t.trim():t},VL=function(t){return t},es=function(t,n){for(var i in n)i in t||(t[i]=n[i]);return t},qJ=function(t){return function(n,i){for(var r in i)r in n||r==="duration"&&t||r==="ease"||(n[r]=i[r])}},Ju=function(t,n){for(var i in n)t[i]=n[i];return t},xL=function e(t,n){for(var i in n)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(t[i]=gl(n[i])?e(t[i]||(t[i]={}),n[i]):n[i]);return t},Ab=function(t,n){var i={},r;for(r in t)r in n||(i[r]=t[r]);return i},v0=function(t){var n=t.parent||bi,i=t.keyframes?qJ(so(t.keyframes)):es;if(Ko(t.inherit))for(;n;)i(t,n.vars.defaults),n=n.parent||n._dp;return t},YJ=function(t,n){for(var i=t.length,r=i===n.length;r&&i--&&t[i]===n[i];);return i<0},UL=function(t,n,i,r,o){i===void 0&&(i="_first"),r===void 0&&(r="_last");var a=t[r],s;if(o)for(s=n[o];a&&a[o]>s;)a=a._prev;return a?(n._next=a._next,a._next=n):(n._next=t[i],t[i]=n),n._next?n._next._prev=n:t[r]=n,n._prev=a,n.parent=n._dp=t,n},kb=function(t,n,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var o=n._prev,a=n._next;o?o._next=a:t[i]===n&&(t[i]=a),a?a._prev=o:t[r]===n&&(t[r]=o),n._next=n._prev=n.parent=null},wd=function(t,n){t.parent&&(!n||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Zu=function(t,n){if(t&&(!n||n._end>t._dur||n._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},XJ=function(t){for(var n=t.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return t},_S=function(t,n,i,r){return t._startAt&&(ao?t._startAt.revert(Pb):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(n,!0,r))},QJ=function e(t){return!t||t._ts&&e(t.parent)},PL=function(t){return t._repeat?lm(t._tTime,t=t.duration()+t._rDelay)*t:0},lm=function(t,n){var i=Math.floor(t/=n);return t&&i===t?i-1:i},Tb=function(t,n){return(t-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Fb=function(t){return t._end=Cr(t._start+(t._tDur/Math.abs(t._ts||t._rts||li)||0))},Nb=function(t,n){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=Cr(i._time-(t._ts>0?n/t._ts:((t._dirty?t.totalDuration():t._tDur)-n)/-t._ts)),Fb(t),i._dirty||Zu(i,t)),t},jL=function(t,n){var i;if((n._time||!n._dur&&n._initted||n._start<t._time&&(n._dur||!n.add))&&(i=Tb(t.rawTime(),n),(!n._dur||x0(0,n.totalDuration(),i)-n._tTime>li)&&n.render(i,!0)),Zu(t,n)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-li}},fl=function(t,n,i,r){return n.parent&&wd(n),n._start=Cr((mc(i)?i:i||t!==bi?$a(t,i,n):t._time)+n._delay),n._end=Cr(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),UL(t,n,"_first","_last",t._sort?"_start":0),CS(n)||(t._recent=n),r||jL(t,n),t._ts<0&&Nb(t,t._tTime),t},HL=function(t,n){return(Da.ScrollTrigger||Lb("scrollTrigger",n))&&Da.ScrollTrigger.create(n,t)},GL=function(t,n,i,r,o){if(VS(t,n,o),!t._initted)return 1;if(!i&&t._pt&&!ao&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&NL!==$o.frame)return Cd.push(t),t._lazy=[o,r],1},ZJ=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},CS=function(t){var n=t.data;return n==="isFromStart"||n==="isStart"},$J=function(t,n,i,r){var o=t.ratio,a=n<0||!n&&(!t._start&&ZJ(t)&&!(!t._initted&&CS(t))||(t._ts<0||t._dp._ts<0)&&!CS(t))?0:1,s=t._rDelay,l=0,c,d,u;if(s&&t._repeat&&(l=x0(0,t._tDur,n),d=lm(l,s),t._yoyo&&d&1&&(a=1-a),d!==lm(t._tTime,s)&&(o=1-a,t.vars.repeatRefresh&&t._initted&&t.invalidate())),a!==o||ao||r||t._zTime===li||!n&&t._zTime){if(!t._initted&&GL(t,n,r,i,l))return;for(u=t._zTime,t._zTime=n||(i?li:0),i||(i=n&&!u),t.ratio=a,t._from&&(a=1-a),t._time=0,t._tTime=l,c=t._pt;c;)c.r(a,c.d),c=c._next;n<0&&_S(t,n,i,!0),t._onUpdate&&!i&&Ea(t,"onUpdate"),l&&t._repeat&&!i&&t.parent&&Ea(t,"onRepeat"),(n>=t._tDur||n<0)&&t.ratio===a&&(a&&wd(t,1),!i&&!ao&&(Ea(t,a?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=n)},KJ=function(t,n,i){var r;if(i>n)for(r=t._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>n)return r;r=r._next}else for(r=t._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<n)return r;r=r._prev}},cm=function(t,n,i,r){var o=t._repeat,a=Cr(n)||0,s=t._tTime/t._tDur;return s&&!r&&(t._time*=a/t._dur),t._dur=a,t._tDur=o?o<0?1e10:Cr(a*(o+1)+t._rDelay*o):a,s>0&&!r&&Nb(t,t._tTime=t._tDur*s),t.parent&&Fb(t),i||Zu(t.parent,t),t},OL=function(t){return t instanceof Ur?Zu(t):cm(t,t._dur)},JJ={_start:0,endTime:C0,totalDuration:C0},$a=function e(t,n,i){var r=t.labels,o=t._recent||JJ,a=t.duration()>=Ka?o.endTime(!1):t._dur,s,l,c;return sr(n)&&(isNaN(n)||n in r)?(l=n.charAt(0),c=n.substr(-1)==="%",s=n.indexOf("="),l==="<"||l===">"?(s>=0&&(n=n.replace(/=/,"")),(l==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(n.substr(1))||0)*(c?(s<0?o:i).totalDuration()/100:1)):s<0?(n in r||(r[n]=a),r[n]):(l=parseFloat(n.charAt(s-1)+n.substr(s+1)),c&&i&&(l=l/100*(so(i)?i[0]:i).totalDuration()),s>1?e(t,n.substr(0,s-1),i)+l:a+l)):n==null?a:+n},y0=function(t,n,i){var r=mc(n[1]),o=(r?2:1)+(t<2?0:1),a=n[o],s,l;if(r&&(a.duration=n[1]),a.parent=i,t){for(s=a,l=i;l&&!("immediateRender"in s);)s=l.vars.defaults||{},l=Ko(l.vars.inherit)&&l.parent;a.immediateRender=Ko(s.immediateRender),t<2?a.runBackwards=1:a.startAt=n[o-1]}return new Fi(n[0],a,n[o+1])},xd=function(t,n){return t||t===0?n(t):n},x0=function(t,n,i){return i<t?t:i>n?n:i},jr=function(t,n){return!sr(t)||!(n=jJ.exec(t))?"":n[1]},eee=function(t,n,i){return xd(i,function(r){return x0(t,n,r)})},MS=[].slice,WL=function(t,n){return t&&gl(t)&&"length"in t&&(!n&&!t.length||t.length-1 in t&&gl(t[0]))&&!t.nodeType&&t!==ml},tee=function(t,n,i){return i===void 0&&(i=[]),t.forEach(function(r){var o;return sr(r)&&!n||WL(r,1)?(o=i).push.apply(o,Ja(r)):i.push(r)})||i},Ja=function(t,n,i){return vi&&!n&&vi.selector?vi.selector(t):sr(t)&&!i&&(yS||!dm())?MS.call((n||TS).querySelectorAll(t),0):so(t)?tee(t,i):WL(t)?MS.call(t,0):t?[t]:[]},wS=function(t){return t=Ja(t)[0]||_0("Invalid scope")||{},function(n){var i=t.current||t.nativeElement||t;return Ja(n,i.querySelectorAll?i:i===t?_0("Invalid scope")||TS.createElement("div"):t)}},qL=function(t){return t.sort(function(){return .5-Math.random()})},YL=function(t){if(Si(t))return t;var n=gl(t)?t:{each:t},i=$u(n.ease),r=n.from||0,o=parseFloat(n.base)||0,a={},s=r>0&&r<1,l=isNaN(r)||s,c=n.axis,d=r,u=r;return sr(r)?d=u={center:.5,edges:.5,end:1}[r]||0:!s&&l&&(d=r[0],u=r[1]),function(h,p,m){var g=(m||n).length,v=a[g],b,_,C,M,P,x,E,O,S;if(!v){if(S=n.grid==="auto"?0:(n.grid||[1,Ka])[1],!S){for(E=-Ka;E<(E=m[S++].getBoundingClientRect().left)&&S<g;);S<g&&S--}for(v=a[g]=[],b=l?Math.min(S,g)*d-.5:r%S,_=S===Ka?0:l?g*u/S-.5:r/S|0,E=0,O=Ka,x=0;x<g;x++)C=x%S-b,M=_-(x/S|0),v[x]=P=c?Math.abs(c==="y"?M:C):TL(C*C+M*M),P>E&&(E=P),P<O&&(O=P);r==="random"&&qL(v),v.max=E-O,v.min=O,v.v=g=(parseFloat(n.amount)||parseFloat(n.each)*(S>g?g-1:c?c==="y"?g/S:S:Math.max(S,g/S))||0)*(r==="edges"?-1:1),v.b=g<0?o-g:o,v.u=jr(n.amount||n.each)||0,i=i&&g<0?nk(i):i}return g=(v[h]-v.min)/v.max||0,Cr(v.b+(i?i(g):g)*v.v)+v.u}},xS=function(t){var n=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var r=Cr(Math.round(parseFloat(i)/t)*t*n);return(r-r%1)/n+(mc(i)?0:jr(i))}},XL=function(t,n){var i=so(t),r,o;return!i&&gl(t)&&(r=i=t.radius||Ka,t.values?(t=Ja(t.values),(o=!mc(t[0]))&&(r*=r)):t=xS(t.increment)),xd(n,i?Si(t)?function(a){return o=t(a),Math.abs(o-a)<=r?o:a}:function(a){for(var s=parseFloat(o?a.x:a),l=parseFloat(o?a.y:0),c=Ka,d=0,u=t.length,h,p;u--;)o?(h=t[u].x-s,p=t[u].y-l,h=h*h+p*p):h=Math.abs(t[u]-s),h<c&&(c=h,d=u);return d=!r||c<=r?t[d]:a,o||d===a||mc(a)?d:d+jr(a)}:xS(t))},QL=function(t,n,i,r){return xd(so(t)?!n:i===!0?!!(i=0):!r,function(){return so(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(n-t+i*.99))/i)*i*r)/r})},nee=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return function(r){return n.reduce(function(o,a){return a(o)},r)}},iee=function(t,n){return function(i){return t(parseFloat(i))+(n||jr(i))}},ree=function(t,n,i){return $L(t,n,0,1,i)},ZL=function(t,n,i){return xd(i,function(r){return t[~~n(r)]})},oee=function e(t,n,i){var r=n-t;return so(t)?ZL(t,e(0,t.length),n):xd(i,function(o){return(r+(o-t)%r)%r+t})},aee=function e(t,n,i){var r=n-t,o=r*2;return so(t)?ZL(t,e(0,t.length-1),n):xd(i,function(a){return a=(o+(a-t)%o)%o||0,t+(a>r?o-a:a)})},um=function(t){for(var n=0,i="",r,o,a,s;~(r=t.indexOf("random(",n));)a=t.indexOf(")",r),s=t.charAt(r+7)==="[",o=t.substr(r+7,a-r-7).match(s?RL:vS),i+=t.substr(n,r-n)+QL(s?o:+o[0],s?0:+o[1],+o[2]||1e-5),n=a+1;return i+t.substr(n,t.length-n)},$L=function(t,n,i,r,o){var a=n-t,s=r-i;return xd(o,function(l){return i+((l-t)/a*s||0)})},see=function e(t,n,i,r){var o=isNaN(t+n)?0:function(p){return(1-p)*t+p*n};if(!o){var a=sr(t),s={},l,c,d,u,h;if(i===!0&&(r=1)&&(i=null),a)t={p:t},n={p:n};else if(so(t)&&!so(n)){for(d=[],u=t.length,h=u-2,c=1;c<u;c++)d.push(e(t[c-1],t[c]));u--,o=function(m){m*=u;var g=Math.min(h,~~m);return d[g](m-g)},i=n}else r||(t=Ju(so(t)?[]:{},t));if(!d){for(l in n)zS.call(s,t,l,"get",n[l]);o=function(m){return HS(m,s)||(a?t.p:t)}}}return xd(i,o)},SL=function(t,n,i){var r=t.labels,o=Ka,a,s,l;for(a in r)s=r[a]-n,s<0==!!i&&s&&o>(s=Math.abs(s))&&(l=a,o=s);return l},Ea=function(t,n,i){var r=t.vars,o=r[n],a=vi,s=t._ctx,l,c,d;if(o)return l=r[n+"Params"],c=r.callbackScope||t,i&&Cd.length&&Db(),s&&(vi=s),d=l?o.apply(c,l):o.call(c),vi=a,d},f0=function(t){return wd(t),t.scrollTrigger&&t.scrollTrigger.kill(!!ao),t.progress()<1&&Ea(t,"onInterrupt"),t},am,KL=[],JL=function(t){if(t)if(t=!t.name&&t.default||t,ES()||t.headless){var n=t.name,i=Si(t),r=n&&!i&&t.init?function(){this._props=[]}:t,o={init:C0,render:HS,add:zS,kill:wee,modifier:Mee,rawVars:0},a={targetTest:0,get:0,getSetter:zb,aliases:{},register:0};if(dm(),t!==r){if(Zo[n])return;es(r,es(Ab(t,o),a)),Ju(r.prototype,Ju(o,Ab(t,a))),Zo[r.prop=n]=r,t.targetTest&&(Ob.push(r),IS[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}FL(n,r),t.register&&t.register(lo,r,Po)}else KL.push(t)},ai=255,g0={aqua:[0,ai,ai],lime:[0,ai,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ai],navy:[0,0,128],white:[ai,ai,ai],olive:[128,128,0],yellow:[ai,ai,0],orange:[ai,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ai,0,0],pink:[ai,192,203],cyan:[0,ai,ai],transparent:[ai,ai,ai,0]},uS=function(t,n,i){return t+=t<0?1:t>1?-1:0,(t*6<1?n+(i-n)*t*6:t<.5?i:t*3<2?n+(i-n)*(2/3-t)*6:n)*ai+.5|0},ek=function(t,n,i){var r=t?mc(t)?[t>>16,t>>8&ai,t&ai]:0:g0.black,o,a,s,l,c,d,u,h,p,m;if(!r){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),g0[t])r=g0[t];else if(t.charAt(0)==="#"){if(t.length<6&&(o=t.charAt(1),a=t.charAt(2),s=t.charAt(3),t="#"+o+o+a+a+s+s+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return r=parseInt(t.substr(1,6),16),[r>>16,r>>8&ai,r&ai,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),r=[t>>16,t>>8&ai,t&ai]}else if(t.substr(0,3)==="hsl"){if(r=m=t.match(vS),!n)l=+r[0]%360/360,c=+r[1]/100,d=+r[2]/100,a=d<=.5?d*(c+1):d+c-d*c,o=d*2-a,r.length>3&&(r[3]*=1),r[0]=uS(l+1/3,o,a),r[1]=uS(l,o,a),r[2]=uS(l-1/3,o,a);else if(~t.indexOf("="))return r=t.match(DS),i&&r.length<4&&(r[3]=1),r}else r=t.match(vS)||g0.transparent;r=r.map(Number)}return n&&!m&&(o=r[0]/ai,a=r[1]/ai,s=r[2]/ai,u=Math.max(o,a,s),h=Math.min(o,a,s),d=(u+h)/2,u===h?l=c=0:(p=u-h,c=d>.5?p/(2-u-h):p/(u+h),l=u===o?(a-s)/p+(a<s?6:0):u===a?(s-o)/p+2:(o-a)/p+4,l*=60),r[0]=~~(l+.5),r[1]=~~(c*100+.5),r[2]=~~(d*100+.5)),i&&r.length<4&&(r[3]=1),r},tk=function(t){var n=[],i=[],r=-1;return t.split(pc).forEach(function(o){var a=o.match(eh)||[];n.push.apply(n,a),i.push(r+=a.length+1)}),n.c=i,n},EL=function(t,n,i){var r="",o=(t+r).match(pc),a=n?"hsla(":"rgba(",s=0,l,c,d,u;if(!o)return t;if(o=o.map(function(h){return(h=ek(h,n,1))&&a+(n?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),i&&(d=tk(t),l=i.c,l.join(r)!==d.c.join(r)))for(c=t.replace(pc,"1").split(eh),u=c.length-1;s<u;s++)r+=c[s]+(~l.indexOf(s)?o.shift()||a+"0,0,0,0)":(d.length?d:o.length?o:i).shift());if(!c)for(c=t.split(pc),u=c.length-1;s<u;s++)r+=c[s]+o[s];return r+c[u]},pc=function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in g0)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),lee=/hsl[a]?\(/,FS=function(t){var n=t.join(" "),i;if(pc.lastIndex=0,pc.test(n))return i=lee.test(n),t[1]=EL(t[1],i),t[0]=EL(t[0],i,tk(t[1])),!0},M0,$o=function(){var e=Date.now,t=500,n=33,i=e(),r=i,o=1e3/240,a=o,s=[],l,c,d,u,h,p,m=function g(v){var b=e()-r,_=v===!0,C,M,P,x;if((b>t||b<0)&&(i+=b-n),r+=b,P=r-i,C=P-a,(C>0||_)&&(x=++u.frame,h=P-u.time*1e3,u.time=P=P/1e3,a+=C+(C>=o?4:o-C),M=1),_||(l=c(g)),M)for(p=0;p<s.length;p++)s[p](P,h,x,v)};return u={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(v){return h/(1e3/(v||60))},wake:function(){LL&&(!yS&&ES()&&(ml=yS=window,TS=ml.document||{},Da.gsap=lo,(ml.gsapVersions||(ml.gsapVersions=[])).push(lo.version),kL(Eb||ml.GreenSockGlobals||!ml.gsap&&ml||{}),KL.forEach(JL)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&u.sleep(),c=d||function(v){return setTimeout(v,a-u.time*1e3+1|0)},M0=1,m(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(l),M0=0,c=C0},lagSmoothing:function(v,b){t=v||1/0,n=Math.min(b||33,t)},fps:function(v){o=1e3/(v||240),a=u.time*1e3+o},add:function(v,b,_){var C=b?function(M,P,x,E){v(M,P,x,E),u.remove(C)}:v;return u.remove(v),s[_?"unshift":"push"](C),dm(),C},remove:function(v,b){~(b=s.indexOf(v))&&s.splice(b,1)&&p>=b&&p--},_listeners:s},u}(),dm=function(){return!M0&&$o.wake()},Mn={},cee=/^[\d.\-M][\d.\-,\s]/,dee=/["']/g,uee=function(t){for(var n={},i=t.substr(1,t.length-3).split(":"),r=i[0],o=1,a=i.length,s,l,c;o<a;o++)l=i[o],s=o!==a-1?l.lastIndexOf(","):l.length,c=l.substr(0,s),n[r]=isNaN(c)?c.replace(dee,"").trim():+c,r=l.substr(s+1).trim();return n},hee=function(t){var n=t.indexOf("(")+1,i=t.indexOf(")"),r=t.indexOf("(",n);return t.substring(n,~r&&r<i?t.indexOf(")",i+1):i)},pee=function(t){var n=(t+"").split("("),i=Mn[n[0]];return i&&n.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[uee(n[1])]:hee(t).split(",").map(BL)):Mn._CE&&cee.test(t)?Mn._CE("",t):i},nk=function(t){return function(n){return 1-t(1-n)}},ik=function e(t,n){for(var i=t._first,r;i;)i instanceof Ur?e(i,n):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==n&&(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},$u=function(t,n){return t&&(Si(t)?t:Mn[t]||pee(t))||n},nh=function(t,n,i,r){i===void 0&&(i=function(l){return 1-n(1-l)}),r===void 0&&(r=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var o={easeIn:n,easeOut:i,easeInOut:r},a;return xo(t,function(s){Mn[s]=Da[s]=o,Mn[a=s.toLowerCase()]=i;for(var l in o)Mn[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Mn[s+"."+l]=o[l]}),o},rk=function(t){return function(n){return n<.5?(1-t(1-n*2))/2:.5+t((n-.5)*2)/2}},hS=function e(t,n,i){var r=n>=1?n:1,o=(i||(t?.3:.45))/(n<1?n:1),a=o/gS*(Math.asin(1/r)||0),s=function(d){return d===1?1:r*Math.pow(2,-10*d)*UJ((d-a)*o)+1},l=t==="out"?s:t==="in"?function(c){return 1-s(1-c)}:rk(s);return o=gS/o,l.config=function(c,d){return e(t,c,d)},l},pS=function e(t,n){n===void 0&&(n=1.70158);var i=function(a){return a?--a*a*((n+1)*a+n)+1:0},r=t==="out"?i:t==="in"?function(o){return 1-i(1-o)}:rk(i);return r.config=function(o){return e(t,o)},r};xo("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;nh(e+",Power"+(n-1),t?function(i){return Math.pow(i,n)}:function(i){return i},function(i){return 1-Math.pow(1-i,n)},function(i){return i<.5?Math.pow(i*2,n)/2:1-Math.pow((1-i)*2,n)/2})});Mn.Linear.easeNone=Mn.none=Mn.Linear.easeIn;nh("Elastic",hS("in"),hS("out"),hS());(function(e,t){var n=1/t,i=2*n,r=2.5*n,o=function(s){return s<n?e*s*s:s<i?e*Math.pow(s-1.5/t,2)+.75:s<r?e*(s-=2.25/t)*s+.9375:e*Math.pow(s-2.625/t,2)+.984375};nh("Bounce",function(a){return 1-o(1-a)},o)})(7.5625,2.75);nh("Expo",function(e){return e?Math.pow(2,10*(e-1)):0});nh("Circ",function(e){return-(TL(1-e*e)-1)});nh("Sine",function(e){return e===1?1:-VJ(e*zJ)+1});nh("Back",pS("in"),pS("out"),pS());Mn.SteppedEase=Mn.steps=Da.SteppedEase={config:function(t,n){t===void 0&&(t=1);var i=1/t,r=t+(n?0:1),o=n?1:0,a=1-li;return function(s){return((r*x0(0,a,s)|0)+o)*i}}};sm.ease=Mn["quad.out"];xo("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return RS+=e+","+e+"Params,"});var NS=function(t,n){this.id=BJ++,t._gsap=this,this.target=t,this.harness=n,this.get=n?n.get:kS,this.set=n?n.getSetter:zb},w0=function(){function e(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,cm(this,+n.duration,1,1),this.data=n.data,vi&&(this._ctx=vi,vi.data.push(this)),M0||$o.wake()}var t=e.prototype;return t.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,cm(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,r){if(dm(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(Nb(this,i),!o._dp||o.parent||jL(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&fl(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===li||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),zL(this,i,r)),this},t.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+PL(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},t.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+PL(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(i,r){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*o,r):this._repeat?lm(this._tTime,o)+1:1},t.timeScale=function(i,r){if(!arguments.length)return this._rts===-li?0:this._rts;if(this._rts===i)return this;var o=this.parent&&this._ts?Tb(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-li?0:this._rts,this.totalTime(x0(-Math.abs(this._delay),this._tDur,o),r!==!1),Fb(this),XJ(this)},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(dm(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==li&&(this._tTime-=li)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&fl(r,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(Ko(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Tb(r.rawTime(i),this):this._tTime:this._tTime},t.revert=function(i){i===void 0&&(i=GJ);var r=ao;return ao=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),ao=r,this},t.globalTime=function(i){for(var r=this,o=arguments.length?i:r.rawTime();r;)o=r._start+o/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):o},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,OL(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,OL(this),r?this.time(r):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,r){return this.totalTime($a(this,i),Ko(r))},t.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Ko(r))},t.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},t.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},t.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-li:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-li,this},t.isActive=function(){var i=this.parent||this._dp,r=this._start,o;return!!(!i||this._ts&&this._initted&&i.isActive()&&(o=i.rawTime(!0))>=r&&o<this.endTime(!0)-li)},t.eventCallback=function(i,r,o){var a=this.vars;return arguments.length>1?(r?(a[i]=r,o&&(a[i+"Params"]=o),i==="onUpdate"&&(this._onUpdate=r)):delete a[i],this):a[i]},t.then=function(i){var r=this;return new Promise(function(o){var a=Si(i)?i:VL,s=function(){var c=r.then;r.then=null,Si(a)&&(a=a(r))&&(a.then||a===r)&&(r.then=c),o(a),r.then=c};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?s():r._prom=s})},t.kill=function(){f0(this)},e}();es(w0.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-li,_prom:0,_ps:!1,_rts:1});var Ur=function(e){AL(t,e);function t(i,r){var o;return i===void 0&&(i={}),o=e.call(this,i)||this,o.labels={},o.smoothChildTiming=!!i.smoothChildTiming,o.autoRemoveChildren=!!i.autoRemoveChildren,o._sort=Ko(i.sortChildren),bi&&fl(i.parent||bi,hc(o),r),i.reversed&&o.reverse(),i.paused&&o.paused(!0),i.scrollTrigger&&HL(hc(o),i.scrollTrigger),o}var n=t.prototype;return n.to=function(r,o,a){return y0(0,arguments,this),this},n.from=function(r,o,a){return y0(1,arguments,this),this},n.fromTo=function(r,o,a,s){return y0(2,arguments,this),this},n.set=function(r,o,a){return o.duration=0,o.parent=this,v0(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new Fi(r,o,$a(this,a),1),this},n.call=function(r,o,a){return fl(this,Fi.delayedCall(0,r,o),a)},n.staggerTo=function(r,o,a,s,l,c,d){return a.duration=o,a.stagger=a.stagger||s,a.onComplete=c,a.onCompleteParams=d,a.parent=this,new Fi(r,a,$a(this,l)),this},n.staggerFrom=function(r,o,a,s,l,c,d){return a.runBackwards=1,v0(a).immediateRender=Ko(a.immediateRender),this.staggerTo(r,o,a,s,l,c,d)},n.staggerFromTo=function(r,o,a,s,l,c,d,u){return s.startAt=a,v0(s).immediateRender=Ko(s.immediateRender),this.staggerTo(r,o,s,l,c,d,u)},n.render=function(r,o,a){var s=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,d=r<=0?0:Cr(r),u=this._zTime<0!=r<0&&(this._initted||!c),h,p,m,g,v,b,_,C,M,P,x,E;if(this!==bi&&d>l&&r>=0&&(d=l),d!==this._tTime||a||u){if(s!==this._time&&c&&(d+=this._time-s,r+=this._time-s),h=d,M=this._start,C=this._ts,b=!C,u&&(c||(s=this._zTime),(r||!o)&&(this._zTime=r)),this._repeat){if(x=this._yoyo,v=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(v*100+r,o,a);if(h=Cr(d%v),d===l?(g=this._repeat,h=c):(g=~~(d/v),g&&g===d/v&&(h=c,g--),h>c&&(h=c)),P=lm(this._tTime,v),!s&&this._tTime&&P!==g&&this._tTime-P*v-this._dur<=0&&(P=g),x&&g&1&&(h=c-h,E=1),g!==P&&!this._lock){var O=x&&P&1,S=O===(x&&g&1);if(g<P&&(O=!O),s=O?0:d%c?c:d,this._lock=1,this.render(s||(E?0:Cr(g*v)),o,!c)._lock=0,this._tTime=d,!o&&this.parent&&Ea(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),s&&s!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,S&&(this._lock=2,s=O?c:-1e-4,this.render(s,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;ik(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=KJ(this,Cr(s),Cr(h)),_&&(d-=h-(h=_._start))),this._tTime=d,this._time=h,this._act=!C,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,s=0),!s&&h&&!o&&!g&&(Ea(this,"onStart"),this._tTime!==d))return this;if(h>=s&&r>=0)for(p=this._first;p;){if(m=p._next,(p._act||h>=p._start)&&p._ts&&_!==p){if(p.parent!==this)return this.render(r,o,a);if(p.render(p._ts>0?(h-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(h-p._start)*p._ts,o,a),h!==this._time||!this._ts&&!b){_=0,m&&(d+=this._zTime=-li);break}}p=m}else{p=this._last;for(var D=r<0?r:h;p;){if(m=p._prev,(p._act||D<=p._end)&&p._ts&&_!==p){if(p.parent!==this)return this.render(r,o,a);if(p.render(p._ts>0?(D-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(D-p._start)*p._ts,o,a||ao&&(p._initted||p._startAt)),h!==this._time||!this._ts&&!b){_=0,m&&(d+=this._zTime=D?-li:li);break}}p=m}}if(_&&!o&&(this.pause(),_.render(h>=s?0:-li)._zTime=h>=s?1:-1,this._ts))return this._start=M,Fb(this),this.render(r,o,a);this._onUpdate&&!o&&Ea(this,"onUpdate",!0),(d===l&&this._tTime>=this.totalDuration()||!d&&s)&&(M===this._start||Math.abs(C)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(d===l&&this._ts>0||!d&&this._ts<0)&&wd(this,1),!o&&!(r<0&&!s)&&(d||s||!l)&&(Ea(this,d===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(r,o){var a=this;if(mc(o)||(o=$a(this,o,r)),!(r instanceof w0)){if(so(r))return r.forEach(function(s){return a.add(s,o)}),this;if(sr(r))return this.addLabel(r,o);if(Si(r))r=Fi.delayedCall(0,r);else return this}return this!==r?fl(this,r,o):this},n.getChildren=function(r,o,a,s){r===void 0&&(r=!0),o===void 0&&(o=!0),a===void 0&&(a=!0),s===void 0&&(s=-Ka);for(var l=[],c=this._first;c;)c._start>=s&&(c instanceof Fi?o&&l.push(c):(a&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,o,a)))),c=c._next;return l},n.getById=function(r){for(var o=this.getChildren(1,1,1),a=o.length;a--;)if(o[a].vars.id===r)return o[a]},n.remove=function(r){return sr(r)?this.removeLabel(r):Si(r)?this.killTweensOf(r):(kb(this,r),r===this._recent&&(this._recent=this._last),Zu(this))},n.totalTime=function(r,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Cr($o.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),e.prototype.totalTime.call(this,r,o),this._forcing=0,this):this._tTime},n.addLabel=function(r,o){return this.labels[r]=$a(this,o),this},n.removeLabel=function(r){return delete this.labels[r],this},n.addPause=function(r,o,a){var s=Fi.delayedCall(0,o||C0,a);return s.data="isPause",this._hasPause=1,fl(this,s,$a(this,r))},n.removePause=function(r){var o=this._first;for(r=$a(this,r);o;)o._start===r&&o.data==="isPause"&&wd(o),o=o._next},n.killTweensOf=function(r,o,a){for(var s=this.getTweensOf(r,a),l=s.length;l--;)_d!==s[l]&&s[l].kill(r,o);return this},n.getTweensOf=function(r,o){for(var a=[],s=Ja(r),l=this._first,c=mc(o),d;l;)l instanceof Fi?WJ(l._targets,s)&&(c?(!_d||l._initted&&l._ts)&&l.globalTime(0)<=o&&l.globalTime(l.totalDuration())>o:!o||l.isActive())&&a.push(l):(d=l.getTweensOf(s,o)).length&&a.push.apply(a,d),l=l._next;return a},n.tweenTo=function(r,o){o=o||{};var a=this,s=$a(a,r),l=o,c=l.startAt,d=l.onStart,u=l.onStartParams,h=l.immediateRender,p,m=Fi.to(a,es({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:s,overwrite:"auto",duration:o.duration||Math.abs((s-(c&&"time"in c?c.time:a._time))/a.timeScale())||li,onStart:function(){if(a.pause(),!p){var v=o.duration||Math.abs((s-(c&&"time"in c?c.time:a._time))/a.timeScale());m._dur!==v&&cm(m,v,0,1).render(m._time,!0,!0),p=1}d&&d.apply(m,u||[])}},o));return h?m.render(0):m},n.tweenFromTo=function(r,o,a){return this.tweenTo(o,es({startAt:{time:$a(this,r)}},a))},n.recent=function(){return this._recent},n.nextLabel=function(r){return r===void 0&&(r=this._time),SL(this,$a(this,r))},n.previousLabel=function(r){return r===void 0&&(r=this._time),SL(this,$a(this,r),1)},n.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+li)},n.shiftChildren=function(r,o,a){a===void 0&&(a=0);for(var s=this._first,l=this.labels,c;s;)s._start>=a&&(s._start+=r,s._end+=r),s=s._next;if(o)for(c in l)l[c]>=a&&(l[c]+=r);return Zu(this)},n.invalidate=function(r){var o=this._first;for(this._lock=0;o;)o.invalidate(r),o=o._next;return e.prototype.invalidate.call(this,r)},n.clear=function(r){r===void 0&&(r=!0);for(var o=this._first,a;o;)a=o._next,this.remove(o),o=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Zu(this)},n.totalDuration=function(r){var o=0,a=this,s=a._last,l=Ka,c,d,u;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(u=a.parent;s;)c=s._prev,s._dirty&&s.totalDuration(),d=s._start,d>l&&a._sort&&s._ts&&!a._lock?(a._lock=1,fl(a,s,d-s._delay,1)._lock=0):l=d,d<0&&s._ts&&(o-=d,(!u&&!a._dp||u&&u.smoothChildTiming)&&(a._start+=d/a._ts,a._time-=d,a._tTime-=d),a.shiftChildren(-d,!1,-1/0),l=0),s._end>o&&s._ts&&(o=s._end),s=c;cm(a,a===bi&&a._time>o?a._time:o,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(r){if(bi._ts&&(zL(bi,Tb(r,bi)),NL=$o.frame),$o.frame>=wL){wL+=Jo.autoSleep||120;var o=bi._first;if((!o||!o._ts)&&Jo.autoSleep&&$o._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||$o.sleep()}}},t}(w0);es(Ur.prototype,{_lock:0,_hasPause:0,_forcing:0});var mee=function(t,n,i,r,o,a,s){var l=new Po(this._pt,t,n,0,1,jS,null,o),c=0,d=0,u,h,p,m,g,v,b,_;for(l.b=i,l.e=r,i+="",r+="",(b=~r.indexOf("random("))&&(r=um(r)),a&&(_=[i,r],a(_,t,n),i=_[0],r=_[1]),h=i.match(cS)||[];u=cS.exec(r);)m=u[0],g=r.substring(c,u.index),p?p=(p+1)%5:g.substr(-5)==="rgba("&&(p=1),m!==h[d++]&&(v=parseFloat(h[d-1])||0,l._pt={_next:l._pt,p:g||d===1?g:",",s:v,c:m.charAt(1)==="="?th(v,m)-v:parseFloat(m)-v,m:p&&p<4?Math.round:0},c=cS.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=s,(AS.test(r)||b)&&(l.e=0),this._pt=l,l},zS=function(t,n,i,r,o,a,s,l,c,d){Si(r)&&(r=r(o||0,t,a));var u=t[n],h=i!=="get"?i:Si(u)?c?t[n.indexOf("set")||!Si(t["get"+n.substr(3)])?n:"get"+n.substr(3)](c):t[n]():u,p=Si(u)?c?bee:sk:US,m;if(sr(r)&&(~r.indexOf("random(")&&(r=um(r)),r.charAt(1)==="="&&(m=th(h,r)+(jr(h)||0),(m||m===0)&&(r=m))),!d||h!==r||PS)return!isNaN(h*r)&&r!==""?(m=new Po(this._pt,t,n,+h||0,r-(h||0),typeof u=="boolean"?Cee:lk,0,p),c&&(m.fp=c),s&&m.modifier(s,this,t),this._pt=m):(!u&&!(n in t)&&Lb(n,r),mee.call(this,t,n,h,r,p,l||Jo.stringFilter,c))},fee=function(t,n,i,r,o){if(Si(t)&&(t=b0(t,o,n,i,r)),!gl(t)||t.style&&t.nodeType||so(t)||IL(t))return sr(t)?b0(t,o,n,i,r):t;var a={},s;for(s in t)a[s]=b0(t[s],o,n,i,r);return a},BS=function(t,n,i,r,o,a){var s,l,c,d;if(Zo[t]&&(s=new Zo[t]).init(o,s.rawVars?n[t]:fee(n[t],r,o,a,i),i,r,a)!==!1&&(i._pt=l=new Po(i._pt,o,t,0,1,s.render,s,0,s.priority),i!==am))for(c=i._ptLookup[i._targets.indexOf(o)],d=s._props.length;d--;)c[s._props[d]]=l;return s},_d,PS,VS=function e(t,n,i){var r=t.vars,o=r.ease,a=r.startAt,s=r.immediateRender,l=r.lazy,c=r.onUpdate,d=r.runBackwards,u=r.yoyoEase,h=r.keyframes,p=r.autoRevert,m=t._dur,g=t._startAt,v=t._targets,b=t.parent,_=b&&b.data==="nested"?b.vars.targets:v,C=t._overwrite==="auto"&&!SS,M=t.timeline,P,x,E,O,S,D,I,T,R,k,z,W,N;if(M&&(!h||!o)&&(o="none"),t._ease=$u(o,sm.ease),t._yEase=u?nk($u(u===!0?o:u,sm.ease)):0,u&&t._yoyo&&!t._repeat&&(u=t._yEase,t._yEase=t._ease,t._ease=u),t._from=!M&&!!r.runBackwards,!M||h&&!r.stagger){if(T=v[0]?Md(v[0]).harness:0,W=T&&r[T.prop],P=Ab(r,IS),g&&(g._zTime<0&&g.progress(1),n<0&&d&&s&&!p?g.render(-1,!0):g.revert(d&&m?Pb:HJ),g._lazy=0),a){if(wd(t._startAt=Fi.set(v,es({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!g&&Ko(l),startAt:null,delay:0,onUpdate:c&&function(){return Ea(t,"onUpdate")},stagger:0},a))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(ao||!s&&!p)&&t._startAt.revert(Pb),s&&m&&n<=0&&i<=0){n&&(t._zTime=n);return}}else if(d&&m&&!g){if(n&&(s=!1),E=es({overwrite:!1,data:"isFromStart",lazy:s&&!g&&Ko(l),immediateRender:s,stagger:0,parent:b},P),W&&(E[T.prop]=W),wd(t._startAt=Fi.set(v,E)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(ao?t._startAt.revert(Pb):t._startAt.render(-1,!0)),t._zTime=n,!s)e(t._startAt,li,li);else if(!n)return}for(t._pt=t._ptCache=0,l=m&&Ko(l)||l&&!m,x=0;x<v.length;x++){if(S=v[x],I=S._gsap||LS(v)[x]._gsap,t._ptLookup[x]=k={},bS[I.id]&&Cd.length&&Db(),z=_===v?x:_.indexOf(S),T&&(R=new T).init(S,W||P,t,z,_)!==!1&&(t._pt=O=new Po(t._pt,S,R.name,0,1,R.render,R,0,R.priority),R._props.forEach(function(F){k[F]=O}),R.priority&&(D=1)),!T||W)for(E in P)Zo[E]&&(R=BS(E,P,t,z,S,_))?R.priority&&(D=1):k[E]=O=zS.call(t,S,E,"get",P[E],z,_,0,r.stringFilter);t._op&&t._op[x]&&t.kill(S,t._op[x]),C&&t._pt&&(_d=t,bi.killTweensOf(S,k,t.globalTime(n)),N=!t.parent,_d=0),t._pt&&l&&(bS[I.id]=1)}D&&GS(t),t._onInit&&t._onInit(t)}t._onUpdate=c,t._initted=(!t._op||t._pt)&&!N,h&&n<=0&&M.render(Ka,!0,!0)},gee=function(t,n,i,r,o,a,s,l){var c=(t._pt&&t._ptCache||(t._ptCache={}))[n],d,u,h,p;if(!c)for(c=t._ptCache[n]=[],h=t._ptLookup,p=t._targets.length;p--;){if(d=h[p][n],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==n&&d.fp!==n;)d=d._next;if(!d)return PS=1,t.vars[n]="+=0",VS(t,s),PS=0,l?_0(n+" not eligible for reset"):1;c.push(d)}for(p=c.length;p--;)u=c[p],d=u._pt||u,d.s=(r||r===0)&&!o?r:d.s+(r||0)+a*d.c,d.c=i-d.s,u.e&&(u.e=Ei(i)+jr(u.e)),u.b&&(u.b=d.s+jr(u.b))},vee=function(t,n){var i=t[0]?Md(t[0]).harness:0,r=i&&i.aliases,o,a,s,l;if(!r)return n;o=Ju({},n);for(a in r)if(a in o)for(l=r[a].split(","),s=l.length;s--;)o[l[s]]=o[a];return o},yee=function(t,n,i,r){var o=n.ease||r||"power1.inOut",a,s;if(so(n))s=i[t]||(i[t]=[]),n.forEach(function(l,c){return s.push({t:c/(n.length-1)*100,v:l,e:o})});else for(a in n)s=i[a]||(i[a]=[]),a==="ease"||s.push({t:parseFloat(t),v:n[a],e:o})},b0=function(t,n,i,r,o){return Si(t)?t.call(n,i,r,o):sr(t)&&~t.indexOf("random(")?um(t):t},ok=RS+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",ak={};xo(ok+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return ak[e]=1});var Fi=function(e){AL(t,e);function t(i,r,o,a){var s;typeof r=="number"&&(o.duration=r,r=o,o=null),s=e.call(this,a?r:v0(r))||this;var l=s.vars,c=l.duration,d=l.delay,u=l.immediateRender,h=l.stagger,p=l.overwrite,m=l.keyframes,g=l.defaults,v=l.scrollTrigger,b=l.yoyoEase,_=r.parent||bi,C=(so(i)||IL(i)?mc(i[0]):"length"in r)?[i]:Ja(i),M,P,x,E,O,S,D,I;if(s._targets=C.length?LS(C):_0("GSAP target "+i+" not found. https://gsap.com",!Jo.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=p,m||h||xb(c)||xb(d)){if(r=s.vars,M=s.timeline=new Ur({data:"nested",defaults:g||{},targets:_&&_.data==="nested"?_.vars.targets:C}),M.kill(),M.parent=M._dp=hc(s),M._start=0,h||xb(c)||xb(d)){if(E=C.length,D=h&&YL(h),gl(h))for(O in h)~ok.indexOf(O)&&(I||(I={}),I[O]=h[O]);for(P=0;P<E;P++)x=Ab(r,ak),x.stagger=0,b&&(x.yoyoEase=b),I&&Ju(x,I),S=C[P],x.duration=+b0(c,hc(s),P,S,C),x.delay=(+b0(d,hc(s),P,S,C)||0)-s._delay,!h&&E===1&&x.delay&&(s._delay=d=x.delay,s._start+=d,x.delay=0),M.to(S,x,D?D(P,S,C):0),M._ease=Mn.none;M.duration()?c=d=0:s.timeline=0}else if(m){v0(es(M.vars.defaults,{ease:"none"})),M._ease=$u(m.ease||r.ease||"none");var T=0,R,k,z;if(so(m))m.forEach(function(W){return M.to(C,W,">")}),M.duration();else{x={};for(O in m)O==="ease"||O==="easeEach"||yee(O,m[O],x,m.easeEach);for(O in x)for(R=x[O].sort(function(W,N){return W.t-N.t}),T=0,P=0;P<R.length;P++)k=R[P],z={ease:k.e,duration:(k.t-(P?R[P-1].t:0))/100*c},z[O]=k.v,M.to(C,z,T),T+=z.duration;M.duration()<c&&M.to({},{duration:c-M.duration()})}}c||s.duration(c=M.duration())}else s.timeline=0;return p===!0&&!SS&&(_d=hc(s),bi.killTweensOf(C),_d=0),fl(_,hc(s),o),r.reversed&&s.reverse(),r.paused&&s.paused(!0),(u||!c&&!m&&s._start===Cr(_._time)&&Ko(u)&&QJ(hc(s))&&_.data!=="nested")&&(s._tTime=-li,s.render(Math.max(0,-d)||0)),v&&HL(hc(s),v),s}var n=t.prototype;return n.render=function(r,o,a){var s=this._time,l=this._tDur,c=this._dur,d=r<0,u=r>l-li&&!d?l:r<li?0:r,h,p,m,g,v,b,_,C,M;if(!c)$J(this,r,o,a);else if(u!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d){if(h=u,C=this.timeline,this._repeat){if(g=c+this._rDelay,this._repeat<-1&&d)return this.totalTime(g*100+r,o,a);if(h=Cr(u%g),u===l?(m=this._repeat,h=c):(m=~~(u/g),m&&m===Cr(u/g)&&(h=c,m--),h>c&&(h=c)),b=this._yoyo&&m&1,b&&(M=this._yEase,h=c-h),v=lm(this._tTime,g),h===s&&!a&&this._initted&&m===v)return this._tTime=u,this;m!==v&&(C&&this._yEase&&ik(C,b),this.vars.repeatRefresh&&!b&&!this._lock&&this._time!==g&&this._initted&&(this._lock=a=1,this.render(Cr(g*m),!0).invalidate()._lock=0))}if(!this._initted){if(GL(this,d?r:h,a,o,u))return this._tTime=0,this;if(s!==this._time&&!(a&&this.vars.repeatRefresh&&m!==v))return this;if(c!==this._dur)return this.render(r,o,a)}if(this._tTime=u,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(M||this._ease)(h/c),this._from&&(this.ratio=_=1-_),h&&!s&&!o&&!m&&(Ea(this,"onStart"),this._tTime!==u))return this;for(p=this._pt;p;)p.r(_,p.d),p=p._next;C&&C.render(r<0?r:C._dur*C._ease(h/this._dur),o,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!o&&(d&&_S(this,r,o,a),Ea(this,"onUpdate")),this._repeat&&m!==v&&this.vars.onRepeat&&!o&&this.parent&&Ea(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(d&&!this._onUpdate&&_S(this,r,!0,!0),(r||!c)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&wd(this,1),!o&&!(d&&!s)&&(u||s||b)&&(Ea(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),e.prototype.invalidate.call(this,r)},n.resetTo=function(r,o,a,s,l){M0||$o.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||VS(this,c),d=this._ease(c/this._dur),gee(this,r,o,a,s,d,c,l)?this.resetTo(r,o,a,s,1):(Nb(this,0),this.parent||UL(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(r,o){if(o===void 0&&(o="all"),!r&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?f0(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,o,_d&&_d.vars.overwrite!==!0)._first||f0(this),this.parent&&a!==this.timeline.totalDuration()&&cm(this,this._dur*this.timeline._tDur/a,0,1),this}var s=this._targets,l=r?Ja(r):s,c=this._ptLookup,d=this._pt,u,h,p,m,g,v,b;if((!o||o==="all")&&YJ(s,l))return o==="all"&&(this._pt=0),f0(this);for(u=this._op=this._op||[],o!=="all"&&(sr(o)&&(g={},xo(o,function(_){return g[_]=1}),o=g),o=vee(s,o)),b=s.length;b--;)if(~l.indexOf(s[b])){h=c[b],o==="all"?(u[b]=o,m=h,p={}):(p=u[b]=u[b]||{},m=o);for(g in m)v=h&&h[g],v&&((!("kill"in v.d)||v.d.kill(g)===!0)&&kb(this,v,"_pt"),delete h[g]),p!=="all"&&(p[g]=1)}return this._initted&&!this._pt&&d&&f0(this),this},t.to=function(r,o){return new t(r,o,arguments[2])},t.from=function(r,o){return y0(1,arguments)},t.delayedCall=function(r,o,a,s){return new t(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:o,onReverseComplete:o,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:s})},t.fromTo=function(r,o,a){return y0(2,arguments)},t.set=function(r,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new t(r,o)},t.killTweensOf=function(r,o,a){return bi.killTweensOf(r,o,a)},t}(w0);es(Fi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});xo("staggerTo,staggerFrom,staggerFromTo",function(e){Fi[e]=function(){var t=new Ur,n=MS.call(arguments,0);return n.splice(e==="staggerFromTo"?5:4,0,0),t[e].apply(t,n)}});var US=function(t,n,i){return t[n]=i},sk=function(t,n,i){return t[n](i)},bee=function(t,n,i,r){return t[n](r.fp,i)},_ee=function(t,n,i){return t.setAttribute(n,i)},zb=function(t,n){return Si(t[n])?sk:Rb(t[n])&&t.setAttribute?_ee:US},lk=function(t,n){return n.set(n.t,n.p,Math.round((n.s+n.c*t)*1e6)/1e6,n)},Cee=function(t,n){return n.set(n.t,n.p,!!(n.s+n.c*t),n)},jS=function(t,n){var i=n._pt,r="";if(!t&&n.b)r=n.b;else if(t===1&&n.e)r=n.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*t):Math.round((i.s+i.c*t)*1e4)/1e4)+r,i=i._next;r+=n.c}n.set(n.t,n.p,r,n)},HS=function(t,n){for(var i=n._pt;i;)i.r(t,i.d),i=i._next},Mee=function(t,n,i,r){for(var o=this._pt,a;o;)a=o._next,o.p===r&&o.modifier(t,n,i),o=a},wee=function(t){for(var n=this._pt,i,r;n;)r=n._next,n.p===t&&!n.op||n.op===t?kb(this,n,"_pt"):n.dep||(i=1),n=r;return!i},xee=function(t,n,i,r){r.mSet(t,n,r.m.call(r.tween,i,r.mt),r)},GS=function(t){for(var n=t._pt,i,r,o,a;n;){for(i=n._next,r=o;r&&r.pr>n.pr;)r=r._next;(n._prev=r?r._prev:a)?n._prev._next=n:o=n,(n._next=r)?r._prev=n:a=n,n=i}t._pt=o},Po=function(){function e(n,i,r,o,a,s,l,c,d){this.t=i,this.s=o,this.c=a,this.p=r,this.r=s||lk,this.d=l||this,this.set=c||US,this.pr=d||0,this._next=n,n&&(n._prev=this)}var t=e.prototype;return t.modifier=function(i,r,o){this.mSet=this.mSet||this.set,this.set=xee,this.m=i,this.mt=o,this.tween=r},e}();xo(RS+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return IS[e]=1});Da.TweenMax=Da.TweenLite=Fi;Da.TimelineLite=Da.TimelineMax=Ur;bi=new Ur({sortChildren:!1,defaults:sm,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Jo.stringFilter=FS;var Ku=[],Sb={},Pee=[],DL=0,Oee=0,mS=function(t){return(Sb[t]||Pee).map(function(n){return n()})},OS=function(){var t=Date.now(),n=[];t-DL>2&&(mS("matchMediaInit"),Ku.forEach(function(i){var r=i.queries,o=i.conditions,a,s,l,c;for(s in r)a=ml.matchMedia(r[s]).matches,a&&(l=1),a!==o[s]&&(o[s]=a,c=1);c&&(i.revert(),l&&n.push(i))}),mS("matchMediaRevert"),n.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),DL=t,mS("matchMedia"))},ck=function(){function e(n,i){this.selector=i&&wS(i),this.data=[],this._r=[],this.isReverted=!1,this.id=Oee++,n&&this.add(n)}var t=e.prototype;return t.add=function(i,r,o){Si(i)&&(o=r,r=i,i=Si);var a=this,s=function(){var c=vi,d=a.selector,u;return c&&c!==a&&c.data.push(a),o&&(a.selector=wS(o)),vi=a,u=r.apply(a,arguments),Si(u)&&a._r.push(u),vi=c,a.selector=d,a.isReverted=!1,u};return a.last=s,i===Si?s(a,function(l){return a.add(null,l)}):i?a[i]=s:s},t.ignore=function(i){var r=vi;vi=null,i(this),vi=r},t.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof e?i.push.apply(i,r.getTweens()):r instanceof Fi&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(i,r){var o=this;if(i?function(){for(var s=o.getTweens(),l=o.data.length,c;l--;)c=o.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(d){return s.splice(s.indexOf(d),1)}));for(s.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,u){return u.g-d.g||-1/0}).forEach(function(d){return d.t.revert(i)}),l=o.data.length;l--;)c=o.data[l],c instanceof Ur?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Fi)&&c.revert&&c.revert(i);o._r.forEach(function(d){return d(i,o)}),o.isReverted=!0}():this.data.forEach(function(s){return s.kill&&s.kill()}),this.clear(),r)for(var a=Ku.length;a--;)Ku[a].id===this.id&&Ku.splice(a,1)},t.revert=function(i){this.kill(i||{})},e}(),See=function(){function e(n){this.contexts=[],this.scope=n,vi&&vi.data.push(this)}var t=e.prototype;return t.add=function(i,r,o){gl(i)||(i={matches:i});var a=new ck(0,o||this.scope),s=a.conditions={},l,c,d;vi&&!a.selector&&(a.selector=vi.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=i;for(c in i)c==="all"?d=1:(l=ml.matchMedia(i[c]),l&&(Ku.indexOf(a)<0&&Ku.push(a),(s[c]=l.matches)&&(d=1),l.addListener?l.addListener(OS):l.addEventListener("change",OS)));return d&&r(a,function(u){return a.add(null,u)}),this},t.revert=function(i){this.kill(i||{})},t.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},e}(),Ib={registerPlugin:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach(function(r){return JL(r)})},timeline:function(t){return new Ur(t)},getTweensOf:function(t,n){return bi.getTweensOf(t,n)},getProperty:function(t,n,i,r){sr(t)&&(t=Ja(t)[0]);var o=Md(t||{}).get,a=i?VL:BL;return i==="native"&&(i=""),t&&(n?a((Zo[n]&&Zo[n].get||o)(t,n,i,r)):function(s,l,c){return a((Zo[s]&&Zo[s].get||o)(t,s,l,c))})},quickSetter:function(t,n,i){if(t=Ja(t),t.length>1){var r=t.map(function(d){return lo.quickSetter(d,n,i)}),o=r.length;return function(d){for(var u=o;u--;)r[u](d)}}t=t[0]||{};var a=Zo[n],s=Md(t),l=s.harness&&(s.harness.aliases||{})[n]||n,c=a?function(d){var u=new a;am._pt=0,u.init(t,i?d+i:d,am,0,[t]),u.render(1,u),am._pt&&HS(1,am)}:s.set(t,l);return a?c:function(d){return c(t,l,i?d+i:d,s,1)}},quickTo:function(t,n,i){var r,o=lo.to(t,Ju((r={},r[n]="+=0.1",r.paused=!0,r),i||{})),a=function(l,c,d){return o.resetTo(n,l,c,d)};return a.tween=o,a},isTweening:function(t){return bi.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=$u(t.ease,sm.ease)),xL(sm,t||{})},config:function(t){return xL(Jo,t||{})},registerEffect:function(t){var n=t.name,i=t.effect,r=t.plugins,o=t.defaults,a=t.extendTimeline;(r||"").split(",").forEach(function(s){return s&&!Zo[s]&&!Da[s]&&_0(n+" effect requires "+s+" plugin.")}),dS[n]=function(s,l,c){return i(Ja(s),es(l||{},o),c)},a&&(Ur.prototype[n]=function(s,l,c){return this.add(dS[n](s,gl(l)?l:(c=l)&&{},this),c)})},registerEase:function(t,n){Mn[t]=$u(n)},parseEase:function(t,n){return arguments.length?$u(t,n):Mn},getById:function(t){return bi.getById(t)},exportRoot:function(t,n){t===void 0&&(t={});var i=new Ur(t),r,o;for(i.smoothChildTiming=Ko(t.smoothChildTiming),bi.remove(i),i._dp=0,i._time=i._tTime=bi._time,r=bi._first;r;)o=r._next,(n||!(!r._dur&&r instanceof Fi&&r.vars.onComplete===r._targets[0]))&&fl(i,r,r._start-r._delay),r=o;return fl(bi,i,0),i},context:function(t,n){return t?new ck(t,n):vi},matchMedia:function(t){return new See(t)},matchMediaRefresh:function(){return Ku.forEach(function(t){var n=t.conditions,i,r;for(r in n)n[r]&&(n[r]=!1,i=1);i&&t.revert()})||OS()},addEventListener:function(t,n){var i=Sb[t]||(Sb[t]=[]);~i.indexOf(n)||i.push(n)},removeEventListener:function(t,n){var i=Sb[t],r=i&&i.indexOf(n);r>=0&&i.splice(r,1)},utils:{wrap:oee,wrapYoyo:aee,distribute:YL,random:QL,snap:XL,normalize:ree,getUnit:jr,clamp:eee,splitColor:ek,toArray:Ja,selector:wS,mapRange:$L,pipe:nee,unitize:iee,interpolate:see,shuffle:qL},install:kL,effects:dS,ticker:$o,updateRoot:Ur.updateRoot,plugins:Zo,globalTimeline:bi,core:{PropTween:Po,globals:FL,Tween:Fi,Timeline:Ur,Animation:w0,getCache:Md,_removeLinkedListItem:kb,reverting:function(){return ao},context:function(t){return t&&vi&&(vi.data.push(t),t._ctx=vi),vi},suppressOverwrites:function(t){return SS=t}}};xo("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Ib[e]=Fi[e]});$o.add(Ur.updateRoot);am=Ib.to({},{duration:0});var Eee=function(t,n){for(var i=t._pt;i&&i.p!==n&&i.op!==n&&i.fp!==n;)i=i._next;return i},Dee=function(t,n){var i=t._targets,r,o,a;for(r in n)for(o=i.length;o--;)a=t._ptLookup[o][r],a&&(a=a.d)&&(a._pt&&(a=Eee(a,r)),a&&a.modifier&&a.modifier(n[r],t,i[o],r))},fS=function(t,n){return{name:t,rawVars:1,init:function(r,o,a){a._onInit=function(s){var l,c;if(sr(o)&&(l={},xo(o,function(d){return l[d]=1}),o=l),n){l={};for(c in o)l[c]=n(o[c]);o=l}Dee(s,o)}}}},lo=Ib.registerPlugin({name:"attr",init:function(t,n,i,r,o){var a,s,l;this.tween=i;for(a in n)l=t.getAttribute(a)||"",s=this.add(t,"setAttribute",(l||0)+"",n[a],r,o,0,0,a),s.op=a,s.b=l,this._props.push(a)},render:function(t,n){for(var i=n._pt;i;)ao?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",init:function(t,n){for(var i=n.length;i--;)this.add(t,i,t[i]||0,n[i],0,0,0,0,0,1)}},fS("roundProps",xS),fS("modifiers"),fS("snap",XL))||Ib;Fi.version=Ur.version=lo.version="3.12.5";LL=1;ES()&&dm();var Aee=Mn.Power0,Tee=Mn.Power1,Iee=Mn.Power2,Ree=Mn.Power3,Lee=Mn.Power4,kee=Mn.Linear,Fee=Mn.Quad,Nee=Mn.Cubic,zee=Mn.Quart,Bee=Mn.Quint,Vee=Mn.Strong,Uee=Mn.Elastic,jee=Mn.Back,Hee=Mn.SteppedEase,Gee=Mn.Bounce,Wee=Mn.Sine,qee=Mn.Expo,Yee=Mn.Circ;var dk,Pd,pm,$S,ah,Xee,uk,KS,Qee=function(){return typeof window<"u"},gc={},oh=180/Math.PI,mm=Math.PI/180,hm=Math.atan2,hk=1e8,JS=/([A-Z])/g,Zee=/(left|right|width|margin|padding|x)/i,$ee=/[\s,\(]\S/,vl={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},YS=function(t,n){return n.set(n.t,n.p,Math.round((n.s+n.c*t)*1e4)/1e4+n.u,n)},Kee=function(t,n){return n.set(n.t,n.p,t===1?n.e:Math.round((n.s+n.c*t)*1e4)/1e4+n.u,n)},Jee=function(t,n){return n.set(n.t,n.p,t?Math.round((n.s+n.c*t)*1e4)/1e4+n.u:n.b,n)},ete=function(t,n){var i=n.s+n.c*t;n.set(n.t,n.p,~~(i+(i<0?-.5:.5))+n.u,n)},bk=function(t,n){return n.set(n.t,n.p,t?n.e:n.b,n)},_k=function(t,n){return n.set(n.t,n.p,t!==1?n.b:n.e,n)},tte=function(t,n,i){return t.style[n]=i},nte=function(t,n,i){return t.style.setProperty(n,i)},ite=function(t,n,i){return t._gsap[n]=i},rte=function(t,n,i){return t._gsap.scaleX=t._gsap.scaleY=i},ote=function(t,n,i,r,o){var a=t._gsap;a.scaleX=a.scaleY=i,a.renderTransform(o,a)},ate=function(t,n,i,r,o){var a=t._gsap;a[n]=i,a.renderTransform(o,a)},_i="transform",ea=_i+"Origin",ste=function e(t,n){var i=this,r=this.target,o=r.style,a=r._gsap;if(t in gc&&o){if(this.tfm=this.tfm||{},t!=="transform")t=vl[t]||t,~t.indexOf(",")?t.split(",").forEach(function(s){return i.tfm[s]=fc(r,s)}):this.tfm[t]=a.x?a[t]:fc(r,t),t===ea&&(this.tfm.zOrigin=a.zOrigin);else return vl.transform.split(",").forEach(function(s){return e.call(i,s,n)});if(this.props.indexOf(_i)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(ea,n,"")),t=_i}(o||n)&&this.props.push(t,n,o[t])},Ck=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},lte=function(){var t=this.props,n=this.target,i=n.style,r=n._gsap,o,a;for(o=0;o<t.length;o+=3)t[o+1]?n[t[o]]=t[o+2]:t[o+2]?i[t[o]]=t[o+2]:i.removeProperty(t[o].substr(0,2)==="--"?t[o]:t[o].replace(JS,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),o=KS(),(!o||!o.isStart)&&!i[_i]&&(Ck(i),r.zOrigin&&i[ea]&&(i[ea]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},Mk=function(t,n){var i={target:t,props:[],revert:lte,save:ste};return t._gsap||lo.core.getCache(t),n&&n.split(",").forEach(function(r){return i.save(r)}),i},wk,XS=function(t,n){var i=Pd.createElementNS?Pd.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Pd.createElement(t);return i&&i.style?i:Pd.createElement(t)},yl=function e(t,n,i){var r=getComputedStyle(t);return r[n]||r.getPropertyValue(n.replace(JS,"-$1").toLowerCase())||r.getPropertyValue(n)||!i&&e(t,fm(n)||n,1)||""},pk="O,Moz,ms,Ms,Webkit".split(","),fm=function(t,n,i){var r=n||ah,o=r.style,a=5;if(t in o&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);a--&&!(pk[a]+t in o););return a<0?null:(a===3?"ms":a>=0?pk[a]:"")+t},QS=function(){Qee()&&window.document&&(dk=window,Pd=dk.document,pm=Pd.documentElement,ah=XS("div")||{style:{}},Xee=XS("div"),_i=fm(_i),ea=_i+"Origin",ah.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",wk=!!fm("perspective"),KS=lo.core.reverting,$S=1)},WS=function e(t){var n=XS("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,o=this.style.cssText,a;if(pm.appendChild(n),n.appendChild(this),this.style.display="block",t)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch{}else this._gsapBBox&&(a=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),pm.removeChild(n),this.style.cssText=o,a},mk=function(t,n){for(var i=n.length;i--;)if(t.hasAttribute(n[i]))return t.getAttribute(n[i])},xk=function(t){var n;try{n=t.getBBox()}catch{n=WS.call(t,!0)}return n&&(n.width||n.height)||t.getBBox===WS||(n=WS.call(t,!0)),n&&!n.width&&!n.x&&!n.y?{x:+mk(t,["x","cx","x1"])||0,y:+mk(t,["y","cy","y1"])||0,width:0,height:0}:n},Pk=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&xk(t))},sh=function(t,n){if(n){var i=t.style,r;n in gc&&n!==ea&&(n=_i),i.removeProperty?(r=n.substr(0,2),(r==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),i.removeProperty(r==="--"?n:n.replace(JS,"-$1").toLowerCase())):i.removeAttribute(n)}},Od=function(t,n,i,r,o,a){var s=new Po(t._pt,n,i,0,1,a?_k:bk);return t._pt=s,s.b=r,s.e=o,t._props.push(i),s},fk={deg:1,rad:1,turn:1},cte={grid:1,flex:1},Sd=function e(t,n,i,r){var o=parseFloat(i)||0,a=(i+"").trim().substr((o+"").length)||"px",s=ah.style,l=Zee.test(n),c=t.tagName.toLowerCase()==="svg",d=(c?"client":"offset")+(l?"Width":"Height"),u=100,h=r==="px",p=r==="%",m,g,v,b;if(r===a||!o||fk[r]||fk[a])return o;if(a!=="px"&&!h&&(o=e(t,n,i,"px")),b=t.getCTM&&Pk(t),(p||a==="%")&&(gc[n]||~n.indexOf("adius")))return m=b?t.getBBox()[l?"width":"height"]:t[d],Ei(p?o/m*u:o/100*m);if(s[l?"width":"height"]=u+(h?a:r),g=~n.indexOf("adius")||r==="em"&&t.appendChild&&!c?t:t.parentNode,b&&(g=(t.ownerSVGElement||{}).parentNode),(!g||g===Pd||!g.appendChild)&&(g=Pd.body),v=g._gsap,v&&p&&v.width&&l&&v.time===$o.time&&!v.uncache)return Ei(o/v.width*u);if(p&&(n==="height"||n==="width")){var _=t.style[n];t.style[n]=u+r,m=t[d],_?t.style[n]=_:sh(t,n)}else(p||a==="%")&&!cte[yl(g,"display")]&&(s.position=yl(t,"position")),g===t&&(s.position="static"),g.appendChild(ah),m=ah[d],g.removeChild(ah),s.position="absolute";return l&&p&&(v=Md(g),v.time=$o.time,v.width=g[d]),Ei(h?m*o/u:m&&o?u/m*o:0)},fc=function(t,n,i,r){var o;return $S||QS(),n in vl&&n!=="transform"&&(n=vl[n],~n.indexOf(",")&&(n=n.split(",")[0])),gc[n]&&n!=="transform"?(o=S0(t,r),o=n!=="transformOrigin"?o[n]:o.svg?o.origin:Vb(yl(t,ea))+" "+o.zOrigin+"px"):(o=t.style[n],(!o||o==="auto"||r||~(o+"").indexOf("calc("))&&(o=Bb[n]&&Bb[n](t,n,i)||yl(t,n)||kS(t,n)||(n==="opacity"?1:0))),i&&!~(o+"").trim().indexOf(" ")?Sd(t,n,o,i)+i:o},dte=function(t,n,i,r){if(!i||i==="none"){var o=fm(n,t,1),a=o&&yl(t,o,1);a&&a!==i?(n=o,i=a):n==="borderColor"&&(i=yl(t,"borderTopColor"))}var s=new Po(this._pt,t.style,n,0,1,jS),l=0,c=0,d,u,h,p,m,g,v,b,_,C,M,P;if(s.b=i,s.e=r,i+="",r+="",r==="auto"&&(g=t.style[n],t.style[n]=r,r=yl(t,n)||r,g?t.style[n]=g:sh(t,n)),d=[i,r],FS(d),i=d[0],r=d[1],h=i.match(eh)||[],P=r.match(eh)||[],P.length){for(;u=eh.exec(r);)v=u[0],_=r.substring(l,u.index),m?m=(m+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(m=1),v!==(g=h[c++]||"")&&(p=parseFloat(g)||0,M=g.substr((p+"").length),v.charAt(1)==="="&&(v=th(p,v)+M),b=parseFloat(v),C=v.substr((b+"").length),l=eh.lastIndex-C.length,C||(C=C||Jo.units[n]||M,l===r.length&&(r+=C,s.e+=C)),M!==C&&(p=Sd(t,n,g,C)||0),s._pt={_next:s._pt,p:_||c===1?_:",",s:p,c:b-p,m:m&&m<4||n==="zIndex"?Math.round:0});s.c=l<r.length?r.substring(l,r.length):""}else s.r=n==="display"&&r==="none"?_k:bk;return AS.test(r)&&(s.e=0),this._pt=s,s},gk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ute=function(t){var n=t.split(" "),i=n[0],r=n[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(t=i,i=r,r=t),n[0]=gk[i]||i,n[1]=gk[r]||r,n.join(" ")},hte=function(t,n){if(n.tween&&n.tween._time===n.tween._dur){var i=n.t,r=i.style,o=n.u,a=i._gsap,s,l,c;if(o==="all"||o===!0)r.cssText="",l=1;else for(o=o.split(","),c=o.length;--c>-1;)s=o[c],gc[s]&&(l=1,s=s==="transformOrigin"?ea:_i),sh(i,s);l&&(sh(i,_i),a&&(a.svg&&i.removeAttribute("transform"),S0(i,1),a.uncache=1,Ck(r)))}},Bb={clearProps:function(t,n,i,r,o){if(o.data!=="isFromStart"){var a=t._pt=new Po(t._pt,n,i,0,0,hte);return a.u=r,a.pr=-10,a.tween=o,t._props.push(i),1}}},O0=[1,0,0,1,0,0],Ok={},Sk=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},vk=function(t){var n=yl(t,_i);return Sk(n)?O0:n.substr(7).match(DS).map(Ei)},e2=function(t,n){var i=t._gsap||Md(t),r=t.style,o=vk(t),a,s,l,c;return i.svg&&t.getAttribute("transform")?(l=t.transform.baseVal.consolidate().matrix,o=[l.a,l.b,l.c,l.d,l.e,l.f],o.join(",")==="1,0,0,1,0,0"?O0:o):(o===O0&&!t.offsetParent&&t!==pm&&!i.svg&&(l=r.display,r.display="block",a=t.parentNode,(!a||!t.offsetParent)&&(c=1,s=t.nextElementSibling,pm.appendChild(t)),o=vk(t),l?r.display=l:sh(t,"display"),c&&(s?a.insertBefore(t,s):a?a.appendChild(t):pm.removeChild(t))),n&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},ZS=function(t,n,i,r,o,a){var s=t._gsap,l=o||e2(t,!0),c=s.xOrigin||0,d=s.yOrigin||0,u=s.xOffset||0,h=s.yOffset||0,p=l[0],m=l[1],g=l[2],v=l[3],b=l[4],_=l[5],C=n.split(" "),M=parseFloat(C[0])||0,P=parseFloat(C[1])||0,x,E,O,S;i?l!==O0&&(E=p*v-m*g)&&(O=M*(v/E)+P*(-g/E)+(g*_-v*b)/E,S=M*(-m/E)+P*(p/E)-(p*_-m*b)/E,M=O,P=S):(x=xk(t),M=x.x+(~C[0].indexOf("%")?M/100*x.width:M),P=x.y+(~(C[1]||C[0]).indexOf("%")?P/100*x.height:P)),r||r!==!1&&s.smooth?(b=M-c,_=P-d,s.xOffset=u+(b*p+_*g)-b,s.yOffset=h+(b*m+_*v)-_):s.xOffset=s.yOffset=0,s.xOrigin=M,s.yOrigin=P,s.smooth=!!r,s.origin=n,s.originIsAbsolute=!!i,t.style[ea]="0px 0px",a&&(Od(a,s,"xOrigin",c,M),Od(a,s,"yOrigin",d,P),Od(a,s,"xOffset",u,s.xOffset),Od(a,s,"yOffset",h,s.yOffset)),t.setAttribute("data-svg-origin",M+" "+P)},S0=function(t,n){var i=t._gsap||new NS(t);if("x"in i&&!n&&!i.uncache)return i;var r=t.style,o=i.scaleX<0,a="px",s="deg",l=getComputedStyle(t),c=yl(t,ea)||"0",d,u,h,p,m,g,v,b,_,C,M,P,x,E,O,S,D,I,T,R,k,z,W,N,F,X,V,G,Y,ie,te,ne;return d=u=h=g=v=b=_=C=M=0,p=m=1,i.svg=!!(t.getCTM&&Pk(t)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[_i]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[_i]!=="none"?l[_i]:"")),r.scale=r.rotate=r.translate="none"),E=e2(t,i.svg),i.svg&&(i.uncache?(F=t.getBBox(),c=i.xOrigin-F.x+"px "+(i.yOrigin-F.y)+"px",N=""):N=!n&&t.getAttribute("data-svg-origin"),ZS(t,N||c,!!N||i.originIsAbsolute,i.smooth!==!1,E)),P=i.xOrigin||0,x=i.yOrigin||0,E!==O0&&(I=E[0],T=E[1],R=E[2],k=E[3],d=z=E[4],u=W=E[5],E.length===6?(p=Math.sqrt(I*I+T*T),m=Math.sqrt(k*k+R*R),g=I||T?hm(T,I)*oh:0,_=R||k?hm(R,k)*oh+g:0,_&&(m*=Math.abs(Math.cos(_*mm))),i.svg&&(d-=P-(P*I+x*R),u-=x-(P*T+x*k))):(ne=E[6],ie=E[7],V=E[8],G=E[9],Y=E[10],te=E[11],d=E[12],u=E[13],h=E[14],O=hm(ne,Y),v=O*oh,O&&(S=Math.cos(-O),D=Math.sin(-O),N=z*S+V*D,F=W*S+G*D,X=ne*S+Y*D,V=z*-D+V*S,G=W*-D+G*S,Y=ne*-D+Y*S,te=ie*-D+te*S,z=N,W=F,ne=X),O=hm(-R,Y),b=O*oh,O&&(S=Math.cos(-O),D=Math.sin(-O),N=I*S-V*D,F=T*S-G*D,X=R*S-Y*D,te=k*D+te*S,I=N,T=F,R=X),O=hm(T,I),g=O*oh,O&&(S=Math.cos(O),D=Math.sin(O),N=I*S+T*D,F=z*S+W*D,T=T*S-I*D,W=W*S-z*D,I=N,z=F),v&&Math.abs(v)+Math.abs(g)>359.9&&(v=g=0,b=180-b),p=Ei(Math.sqrt(I*I+T*T+R*R)),m=Ei(Math.sqrt(W*W+ne*ne)),O=hm(z,W),_=Math.abs(O)>2e-4?O*oh:0,M=te?1/(te<0?-te:te):0),i.svg&&(N=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!Sk(yl(t,_i)),N&&t.setAttribute("transform",N))),Math.abs(_)>90&&Math.abs(_)<270&&(o?(p*=-1,_+=g<=0?180:-180,g+=g<=0?180:-180):(m*=-1,_+=_<=0?180:-180)),n=n||i.uncache,i.x=d-((i.xPercent=d&&(!n&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-d)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+a,i.y=u-((i.yPercent=u&&(!n&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-u)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+a,i.z=h+a,i.scaleX=Ei(p),i.scaleY=Ei(m),i.rotation=Ei(g)+s,i.rotationX=Ei(v)+s,i.rotationY=Ei(b)+s,i.skewX=_+s,i.skewY=C+s,i.transformPerspective=M+a,(i.zOrigin=parseFloat(c.split(" ")[2])||!n&&i.zOrigin||0)&&(r[ea]=Vb(c)),i.xOffset=i.yOffset=0,i.force3D=Jo.force3D,i.renderTransform=i.svg?mte:wk?Ek:pte,i.uncache=0,i},Vb=function(t){return(t=t.split(" "))[0]+" "+t[1]},qS=function(t,n,i){var r=jr(n);return Ei(parseFloat(n)+parseFloat(Sd(t,"x",i+"px",r)))+r},pte=function(t,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Ek(t,n)},ih="0deg",P0="0px",rh=") ",Ek=function(t,n){var i=n||this,r=i.xPercent,o=i.yPercent,a=i.x,s=i.y,l=i.z,c=i.rotation,d=i.rotationY,u=i.rotationX,h=i.skewX,p=i.skewY,m=i.scaleX,g=i.scaleY,v=i.transformPerspective,b=i.force3D,_=i.target,C=i.zOrigin,M="",P=b==="auto"&&t&&t!==1||b===!0;if(C&&(u!==ih||d!==ih)){var x=parseFloat(d)*mm,E=Math.sin(x),O=Math.cos(x),S;x=parseFloat(u)*mm,S=Math.cos(x),a=qS(_,a,E*S*-C),s=qS(_,s,-Math.sin(x)*-C),l=qS(_,l,O*S*-C+C)}v!==P0&&(M+="perspective("+v+rh),(r||o)&&(M+="translate("+r+"%, "+o+"%) "),(P||a!==P0||s!==P0||l!==P0)&&(M+=l!==P0||P?"translate3d("+a+", "+s+", "+l+") ":"translate("+a+", "+s+rh),c!==ih&&(M+="rotate("+c+rh),d!==ih&&(M+="rotateY("+d+rh),u!==ih&&(M+="rotateX("+u+rh),(h!==ih||p!==ih)&&(M+="skew("+h+", "+p+rh),(m!==1||g!==1)&&(M+="scale("+m+", "+g+rh),_.style[_i]=M||"translate(0, 0)"},mte=function(t,n){var i=n||this,r=i.xPercent,o=i.yPercent,a=i.x,s=i.y,l=i.rotation,c=i.skewX,d=i.skewY,u=i.scaleX,h=i.scaleY,p=i.target,m=i.xOrigin,g=i.yOrigin,v=i.xOffset,b=i.yOffset,_=i.forceCSS,C=parseFloat(a),M=parseFloat(s),P,x,E,O,S;l=parseFloat(l),c=parseFloat(c),d=parseFloat(d),d&&(d=parseFloat(d),c+=d,l+=d),l||c?(l*=mm,c*=mm,P=Math.cos(l)*u,x=Math.sin(l)*u,E=Math.sin(l-c)*-h,O=Math.cos(l-c)*h,c&&(d*=mm,S=Math.tan(c-d),S=Math.sqrt(1+S*S),E*=S,O*=S,d&&(S=Math.tan(d),S=Math.sqrt(1+S*S),P*=S,x*=S)),P=Ei(P),x=Ei(x),E=Ei(E),O=Ei(O)):(P=u,O=h,x=E=0),(C&&!~(a+"").indexOf("px")||M&&!~(s+"").indexOf("px"))&&(C=Sd(p,"x",a,"px"),M=Sd(p,"y",s,"px")),(m||g||v||b)&&(C=Ei(C+m-(m*P+g*E)+v),M=Ei(M+g-(m*x+g*O)+b)),(r||o)&&(S=p.getBBox(),C=Ei(C+r/100*S.width),M=Ei(M+o/100*S.height)),S="matrix("+P+","+x+","+E+","+O+","+C+","+M+")",p.setAttribute("transform",S),_&&(p.style[_i]=S)},fte=function(t,n,i,r,o){var a=360,s=sr(o),l=parseFloat(o)*(s&&~o.indexOf("rad")?oh:1),c=l-r,d=r+c+"deg",u,h;return s&&(u=o.split("_")[1],u==="short"&&(c%=a,c!==c%(a/2)&&(c+=c<0?a:-a)),u==="cw"&&c<0?c=(c+a*hk)%a-~~(c/a)*a:u==="ccw"&&c>0&&(c=(c-a*hk)%a-~~(c/a)*a)),t._pt=h=new Po(t._pt,n,i,r,c,Kee),h.e=d,h.u="deg",t._props.push(i),h},yk=function(t,n){for(var i in n)t[i]=n[i];return t},gte=function(t,n,i){var r=yk({},i._gsap),o="perspective,force3D,transformOrigin,svgOrigin",a=i.style,s,l,c,d,u,h,p,m;r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),a[_i]=n,s=S0(i,1),sh(i,_i),i.setAttribute("transform",c)):(c=getComputedStyle(i)[_i],a[_i]=n,s=S0(i,1),a[_i]=c);for(l in gc)c=r[l],d=s[l],c!==d&&o.indexOf(l)<0&&(p=jr(c),m=jr(d),u=p!==m?Sd(i,l,c,m):parseFloat(c),h=parseFloat(d),t._pt=new Po(t._pt,s,l,u,h-u,YS),t._pt.u=m||0,t._props.push(l));yk(s,r)};xo("padding,margin,Width,Radius",function(e,t){var n="Top",i="Right",r="Bottom",o="Left",a=(t<3?[n,i,r,o]:[n+o,n+i,r+i,r+o]).map(function(s){return t<2?e+s:"border"+s+e});Bb[t>1?"border"+e:e]=function(s,l,c,d,u){var h,p;if(arguments.length<4)return h=a.map(function(m){return fc(s,m,c)}),p=h.join(" "),p.split(h[0]).length===5?h[0]:p;h=(d+"").split(" "),p={},a.forEach(function(m,g){return p[m]=h[g]=h[g]||h[(g-1)/2|0]}),s.init(l,p,u)}});var t2={name:"css",register:QS,targetTest:function(t){return t.style&&t.nodeType},init:function(t,n,i,r,o){var a=this._props,s=t.style,l=i.vars.startAt,c,d,u,h,p,m,g,v,b,_,C,M,P,x,E,O;$S||QS(),this.styles=this.styles||Mk(t),O=this.styles.props,this.tween=i;for(g in n)if(g!=="autoRound"&&(d=n[g],!(Zo[g]&&BS(g,n,i,r,t,o)))){if(p=typeof d,m=Bb[g],p==="function"&&(d=d.call(i,r,t,o),p=typeof d),p==="string"&&~d.indexOf("random(")&&(d=um(d)),m)m(this,t,g,d,i)&&(E=1);else if(g.substr(0,2)==="--")c=(getComputedStyle(t).getPropertyValue(g)+"").trim(),d+="",pc.lastIndex=0,pc.test(c)||(v=jr(c),b=jr(d)),b?v!==b&&(c=Sd(t,g,c,b)+b):v&&(d+=v),this.add(s,"setProperty",c,d,r,o,0,0,g),a.push(g),O.push(g,0,s[g]);else if(p!=="undefined"){if(l&&g in l?(c=typeof l[g]=="function"?l[g].call(i,r,t,o):l[g],sr(c)&&~c.indexOf("random(")&&(c=um(c)),jr(c+"")||c==="auto"||(c+=Jo.units[g]||jr(fc(t,g))||""),(c+"").charAt(1)==="="&&(c=fc(t,g))):c=fc(t,g),h=parseFloat(c),_=p==="string"&&d.charAt(1)==="="&&d.substr(0,2),_&&(d=d.substr(2)),u=parseFloat(d),g in vl&&(g==="autoAlpha"&&(h===1&&fc(t,"visibility")==="hidden"&&u&&(h=0),O.push("visibility",0,s.visibility),Od(this,s,"visibility",h?"inherit":"hidden",u?"inherit":"hidden",!u)),g!=="scale"&&g!=="transform"&&(g=vl[g],~g.indexOf(",")&&(g=g.split(",")[0]))),C=g in gc,C){if(this.styles.save(g),M||(P=t._gsap,P.renderTransform&&!n.parseTransform||S0(t,n.parseTransform),x=n.smoothOrigin!==!1&&P.smooth,M=this._pt=new Po(this._pt,s,_i,0,1,P.renderTransform,P,0,-1),M.dep=1),g==="scale")this._pt=new Po(this._pt,P,"scaleY",P.scaleY,(_?th(P.scaleY,_+u):u)-P.scaleY||0,YS),this._pt.u=0,a.push("scaleY",g),g+="X";else if(g==="transformOrigin"){O.push(ea,0,s[ea]),d=ute(d),P.svg?ZS(t,d,0,x,0,this):(b=parseFloat(d.split(" ")[2])||0,b!==P.zOrigin&&Od(this,P,"zOrigin",P.zOrigin,b),Od(this,s,g,Vb(c),Vb(d)));continue}else if(g==="svgOrigin"){ZS(t,d,1,x,0,this);continue}else if(g in Ok){fte(this,P,g,h,_?th(h,_+d):d);continue}else if(g==="smoothOrigin"){Od(this,P,"smooth",P.smooth,d);continue}else if(g==="force3D"){P[g]=d;continue}else if(g==="transform"){gte(this,d,t);continue}}else g in s||(g=fm(g)||g);if(C||(u||u===0)&&(h||h===0)&&!$ee.test(d)&&g in s)v=(c+"").substr((h+"").length),u||(u=0),b=jr(d)||(g in Jo.units?Jo.units[g]:v),v!==b&&(h=Sd(t,g,c,b)),this._pt=new Po(this._pt,C?P:s,g,h,(_?th(h,_+u):u)-h,!C&&(b==="px"||g==="zIndex")&&n.autoRound!==!1?ete:YS),this._pt.u=b||0,v!==b&&b!=="%"&&(this._pt.b=c,this._pt.r=Jee);else if(g in s)dte.call(this,t,g,c,_?_+d:d);else if(g in t)this.add(t,g,c||t[g],_?_+d:d,r,o);else if(g!=="parseTransform"){Lb(g,d);continue}C||(g in s?O.push(g,0,s[g]):O.push(g,1,c||t[g])),a.push(g)}}E&&GS(this)},render:function(t,n){if(n.tween._time||!KS())for(var i=n._pt;i;)i.r(t,i.d),i=i._next;else n.styles.revert()},get:fc,aliases:vl,getSetter:function(t,n,i){var r=vl[n];return r&&r.indexOf(",")<0&&(n=r),n in gc&&n!==ea&&(t._gsap.x||fc(t,"x"))?i&&uk===i?n==="scale"?rte:ite:(uk=i||{})&&(n==="scale"?ote:ate):t.style&&!Rb(t.style[n])?tte:~n.indexOf("-")?nte:zb(t,n)},core:{_removeProperty:sh,_getMatrix:e2}};lo.utils.checkPrefix=fm;lo.core.getStyleSaver=Mk;(function(e,t,n,i){var r=xo(e+","+t+","+n,function(o){gc[o]=1});xo(t,function(o){Jo.units[o]="deg",Ok[o]=1}),vl[r[13]]=e+","+t,xo(i,function(o){var a=o.split(":");vl[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");xo("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){Jo.units[e]="px"});lo.registerPlugin(t2);var en=lo.registerPlugin(t2)||lo,fRe=en.core.Tween;var vte=/(?:^\s+|\s+$)/g,yte=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function gm(e){var t=e.nodeType,n="";if(t===1||t===9||t===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=gm(e)}else if(t===3||t===4)return e.nodeValue;return n}function Ub(e,t,n,i){for(var r=e.firstChild,o=[],a;r;)r.nodeType===3?(a=(r.nodeValue+"").replace(/^\n+/g,""),i||(a=a.replace(/\s+/g," ")),o.push.apply(o,ta(a,t,n,i))):(r.nodeName+"").toLowerCase()==="br"?o[o.length-1]+="<br>":o.push(r.outerHTML),r=r.nextSibling;for(a=o.length;a--;)o[a]==="&"&&o.splice(a,1,"&amp;");return o}function ta(e,t,n,i){if(e+="",n&&(e=e.trim?e.trim():e.replace(vte,"")),t&&t!=="")return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(t);for(var r=[],o=e.length,a=0,s,l;a<o;a++)l=e.charAt(a),(l.charCodeAt(0)>=55296&&l.charCodeAt(0)<=56319||e.charCodeAt(a+1)>=65024&&e.charCodeAt(a+1)<=65039)&&(s=((e.substr(a,12).split(yte)||[])[1]||"").length||2,l=e.substr(a,s),r.emoji=1,a+=s-1),r.push(l===">"?"&gt;":l==="<"?"&lt;":i&&l===" "&&(e.charAt(a-1)===" "||e.charAt(a+1)===" ")?"&nbsp;":l);return r}var jb=function(){function e(n){this.chars=ta(n),this.sets=[],this.length=50;for(var i=0;i<20;i++)this.sets[i]=Ak(80,this.chars)}var t=e.prototype;return t.grow=function(i){for(var r=0;r<20;r++)this.sets[r]+=Ak(i-this.length,this.chars);this.length=i},e}(),lh,Rk,Lk=function(){return lh||typeof window<"u"&&(lh=window.gsap)&&lh.registerPlugin&&lh},bte=1,Dk=/\s+/g,Ak=function(t,n){for(var i=n.length,r="";--t>-1;)r+=n[~~(Math.random()*i)];return r},n2="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Tk=n2.toLowerCase(),_te={upperCase:new jb(n2),lowerCase:new jb(Tk),upperAndLowerCase:new jb(n2+Tk)},Ik=function(){Rk=lh=Lk()},E0={version:"3.12.5",name:"scrambleText",register:function(t,n,i){lh=t,Ik()},init:function(t,n,i,r,o){if(Rk||Ik(),this.prop="innerHTML"in t?"innerHTML":"textContent"in t?"textContent":0,!!this.prop){this.target=t,typeof n!="object"&&(n={text:n});var a=n.text||n.value||"",s=n.trim!==!1,l=this,c,d,u,h;return l.delimiter=c=n.delimiter||"",l.original=ta(gm(t).replace(Dk," ").split("&nbsp;").join(""),c,s),(a==="{original}"||a===!0||a==null)&&(a=l.original.join(c)),l.text=ta((a||"").replace(Dk," "),c,s),l.hasClass=!!(n.newClass||n.oldClass),l.newClass=n.newClass,l.oldClass=n.oldClass,h=c==="",l.textHasEmoji=h&&!!l.text.emoji,l.charsHaveEmoji=!!n.chars&&!!ta(n.chars).emoji,l.length=h?l.original.length:l.original.join(c).length,l.lengthDif=(h?l.text.length:l.text.join(c).length)-l.length,l.fillChar=n.fillChar||n.chars&&~n.chars.indexOf(" ")?"&nbsp;":"",l.charSet=u=_te[n.chars||"upperCase"]||new jb(n.chars),l.speed=.05/(n.speed||1),l.prevScrambleTime=0,l.setIndex=Math.random()*20|0,d=l.length+Math.max(l.lengthDif,0),d>u.length&&u.grow(d),l.chars=u.sets[l.setIndex],l.revealDelay=n.revealDelay||0,l.tweenLength=n.tweenLength!==!1,l.tween=i,l.rightToLeft=!!n.rightToLeft,l._props.push("scrambleText","text"),bte}},render:function(t,n){var i=n.target,r=n.prop,o=n.text,a=n.delimiter,s=n.tween,l=n.prevScrambleTime,c=n.revealDelay,d=n.setIndex,u=n.chars,h=n.charSet,p=n.length,m=n.textHasEmoji,g=n.charsHaveEmoji,v=n.lengthDif,b=n.tweenLength,_=n.oldClass,C=n.newClass,M=n.rightToLeft,P=n.fillChar,x=n.speed,E=n.original,O=n.hasClass,S=o.length,D=s._time,I=D-l,T,R,k,z,W,N,F,X,V,G,Y;c&&(s._from&&(D=s._dur-D),t=D===0?0:D<c?1e-6:D===s._dur?1:s._ease((D-c)/(s._dur-c))),t<0?t=0:t>1&&(t=1),M&&(t=1-t),T=~~(t*S+.5),t?((I>x||I<-x)&&(n.setIndex=d=(d+(Math.random()*19|0))%20,n.chars=h.sets[d],n.prevScrambleTime+=I),z=u):z=E.join(a),Y=s._from?t:1-t,G=p+(b?s._from?Y*Y*Y:1-Y*Y*Y:1)*v,M?t===1&&(s._from||s.data==="isFromStart")?(k="",z=E.join(a)):(F=o.slice(T).join(a),g?k=ta(z).slice(0,G-(m?ta(F):F).length+.5|0).join(""):k=z.substr(0,G-(m?ta(F):F).length+.5|0),z=F):(k=o.slice(0,T).join(a),R=(m?ta(k):k).length,g?z=ta(z).slice(R,G+.5|0).join(""):z=z.substr(R,G-R+.5|0)),O?(X=M?_:C,V=M?C:_,W=X&&T!==0,N=V&&T!==S,F=(W?"<span class='"+X+"'>":"")+k+(W?"</span>":"")+(N?"<span class='"+V+"'>":"")+a+z+(N?"</span>":"")):F=k+a+z,i[r]=P==="&nbsp;"&&~F.indexOf("  ")?F.split("  ").join("&nbsp;&nbsp;"):F}};E0.emojiSafeSplit=ta;E0.getText=gm;Lk()&&lh.registerPlugin(E0);function Cte(e,t){if(e&1&&A(0,"button"),e&2){let n=t.index,i=eb();qg("active",n===i.currentIndex)}}en.registerPlugin(E0);var kk=(()=>{let t=class t{setActiveIndex(i){this.currentIndex=i}constructor(i){this.el=i,this.slides=[{title:"Cybersecurity",subtitle:"Solutions",content:"We help leading companies worldwide keep their digital realms secure via hands-on consulting, vulnerability management, penetration testing and more.",buttonLabel:"Get Secure",iconId:"shieldIcon"},{title:"IT & Web",subtitle:"Development",content:"Custom programming for advanced and high performance demands including e-commerce and custom corporate applications and presentations.",buttonLabel:"Build Together",iconId:"gearIcon"},{title:"Digital",subtitle:"Marketing",content:"Take advantage of our highly skilled teams in Video Production, SEO, Virtual Reality, 3D Animation and all manner of marketing materials design.",buttonLabel:"Promote Effectively",iconId:"megaphoneIcon"}],this.currentIndex=0}ngOnInit(){this.startAutoSlide()}ngOnDestroy(){clearInterval(this.interval)}startAutoSlide(){this.interval=setInterval(()=>this.onNextSlide(),5e3)}onNextSlide(){this.changeSlide(1)}onNextClick(){this.stopAutoSlide(),this.changeSlide(1)}onPrevClick(){this.stopAutoSlide(),this.changeSlide(-1)}changeSlide(i){let r=this.slides.length-1;this.currentIndex=(this.currentIndex+i+this.slides.length)%this.slides.length,this.animateSlide()}stopAutoSlide(){clearInterval(this.interval)}animateSlide(){en.fromTo(".slide-content",{opacity:0},{opacity:1,duration:2}),this.animationText()}ngAfterViewInit(){let i={bannerContentRight:this.el.nativeElement.querySelector(".banner-content-right"),bannerContentLeft:this.el.nativeElement.querySelector(".banner-content-left"),paragraph:this.el.nativeElement.querySelector(".banner-content-left p"),btnBanner:this.el.nativeElement.querySelector(".banner-content-left .btn-trans"),sliderIndicator:this.el.nativeElement.querySelectorAll(".banner-content-left .slider-indicator > *"),bannerContentLeftTitle:this.el.nativeElement.querySelector(".banner-content-left h1")};en.timeline({defaults:{duration:.4,ease:"power2.inOut"}}).from(i.bannerContentLeftTitle,{y:50,opacity:0,delay:.4}).from(i.paragraph,{y:30,opacity:0},"-=0.3").from(i.btnBanner,{y:30,opacity:0,scale:.9},"-=0.3").from(i.sliderIndicator,{y:20,opacity:0,stagger:.1},"-=0.3").from(i.bannerContentRight,{x:30,opacity:0,rotation:10,scale:.95},"-=0.3"),this.animationText()}animationText(){let i=this.el.nativeElement.querySelector("h1 span"),r=this.el.nativeElement.querySelector("h1 strong");i&&this.scrambleAnimationText(i,.2,.1,this.currentIndex,"title"),r&&this.scrambleAnimationText(r,.3,.2,this.currentIndex,"subtitle")}scrambleAnimationText(i,r,o,a,s){let l=this.slides[a][s]||"",c=Array.from(new Set(l.replace(/\s/g,""))).join("");en.to(i,{duration:1,scrambleText:{text:l,chars:c,revealDelay:r,speed:o}})}};t.\u0275fac=function(r){return new(r||t)(kn(oo))},t.\u0275cmp=mt({type:t,selectors:[["home-banner"]],standalone:!0,features:[gt],decls:94,vars:5,consts:[[1,"home-banner"],[1,"banner-wrapper"],[1,"app-container"],[1,"banner-content"],[1,"banner-content-slider"],[1,"slide-content"],[1,"btn-banner","btn-primary"],[0,"xlink","href","#shieldIcon"],[1,"link-icon"],[0,"xlink","href","#arrowUpRightIcon"],[1,"slider-indicator-wrapper"],[1,"slider-indicator"],[3,"active",4,"ngFor","ngForOf"],[1,"banner-content-news"],[1,"latest-news-box"],[1,"title"],[1,"latest-news-list"],[1,"latest-news-item"],[1,"item-label"],[1,"item-content"],[1,"banner-footer"],[1,"footer-top"],["href","#"],[1,"animated-border"],[1,"footer-bottom"],[1,"border"],[1,"text-item"],[1,"moblie-latest-news"]],template:function(r,o){r&1&&(f(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1")(7,"span"),w(8),y(),f(9,"strong"),w(10),y()(),f(11,"p"),w(12),y(),f(13,"button",6),Z(),f(14,"svg"),A(15,"use",7),y(),ee(),f(16,"span"),w(17),y(),Z(),f(18,"svg",8),A(19,"use",9),y()()(),ee(),f(20,"div",10)(21,"div",11),_a(22,Cte,1,2,"button",12),y()()(),f(23,"div",13)(24,"div",14)(25,"h6",15),w(26,"Latest News"),y(),f(27,"ul",16)(28,"li",17)(29,"label",18),w(30,"02 Aug 2023 - Cyber Security"),y(),f(31,"p",19),w(32,"White paper on secure software development practices for 2023 published"),y()(),f(33,"li",17)(34,"label",18),w(35,"03 Aug 2023 - Cyber Security"),y(),f(36,"p",19),w(37,"Hypersecure CMS updated with latest security enhancements and Passkey support"),y()(),f(38,"li",17)(39,"label",18),w(40,"04 Aug 2023 - Cyber Security"),y(),f(41,"p",19),w(42,"Top 20 threat intelligence feeds and services for SME\u2019s "),y()()()()()(),f(43,"div",20)(44,"div",21)(45,"span"),w(46,"Live Chat : Online \u2014 "),f(47,"a",22),w(48,"click here"),y()()(),A(49,"div",23),f(50,"div",24)(51,"ul")(52,"li")(53,"span"),w(54,"Shanghai: 16:45:55 GMT +8"),y()(),A(55,"li",25),f(56,"li")(57,"span",26),w(58,"info@seirim.com"),y()(),A(59,"li",25),f(60,"li")(61,"span",26),w(62,"English"),y(),w(63," \u2014 "),f(64,"span",26),w(65,"\u4E2D\u6587"),y()(),A(66,"li",25),f(67,"li")(68,"span",26),w(69,"Light"),y(),w(70," \u2014 "),f(71,"span",26),w(72,"Dark"),y()()()()()()(),f(73,"div",27)(74,"div",2)(75,"div",14)(76,"h6",15),w(77,"Latest News"),y(),f(78,"ul",16)(79,"li",17)(80,"label",18),w(81,"02 Aug 2023 - Cyber Security"),y(),f(82,"p",19),w(83,"White paper on secure software development practices for 2023 published"),y()(),f(84,"li",17)(85,"label",18),w(86,"03 Aug 2023 - Cyber Security"),y(),f(87,"p",19),w(88,"Hypersecure CMS updated with latest security enhancements and Passkey support"),y()(),f(89,"li",17)(90,"label",18),w(91,"04 Aug 2023 - Cyber Security"),y(),f(92,"p",19),w(93,"Top 20 threat intelligence feeds and services for SME\u2019s"),y()()()()()()()),r&2&&(nn(8),xa(o.slides[o.currentIndex].title),nn(2),xa(o.slides[o.currentIndex].subtitle),nn(2),xa(o.slides[o.currentIndex].content),nn(5),xa(o.slides[o.currentIndex].buttonLabel),nn(5),gi("ngForOf",o.slides))},dependencies:[ob],styles:['.home-banner[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--white);font-size:.9375rem;font-weight:400;letter-spacing:.09375rem;text-transform:uppercase;margin:0}.home-banner[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]{margin-top:.8rem}.home-banner[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]   .latest-news-item[_ngcontent-%COMP%]{position:relative;padding:1.4rem 0 1.5rem;cursor:pointer}.home-banner[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]   .latest-news-item[_ngcontent-%COMP%]:first-child{padding-top:.6rem}.home-banner[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]   .latest-news-item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.home-banner[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]   .latest-news-item[_ngcontent-%COMP%]:last-child:after{display:none}.home-banner[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]   .latest-news-item[_ngcontent-%COMP%]:after{position:absolute;content:"";bottom:0;left:0;width:8.254rem;height:1px;background:#69696980}.home-banner[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]   .latest-news-item[_ngcontent-%COMP%]   .item-label[_ngcontent-%COMP%]{color:var(--gray-1);font-size:.75rem;font-weight:500;line-height:100%;letter-spacing:.1125rem;text-transform:uppercase;display:flex}.home-banner[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]   .latest-news-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{color:var(--gray-5);font-weight:500;margin:0;line-height:normal;transition:all .2s ease-in-out;font-size:1.0625rem;line-height:1.5625rem;letter-spacing:.05313rem;margin-top:.5rem}.home-banner[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]   .latest-news-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]:hover{color:#048bd7}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]{padding-top:9rem;position:relative;z-index:11;width:100%;height:100%;background:linear-gradient(270deg,#06080f00 65%,#06080fb3),url("./media/banner-img-UDFRB3UQ.jpg");background-position:center center;background-size:cover}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:space-between;z-index:11}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]{max-width:36.125rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--white);font-size:5.5rem;line-height:100%;display:flex;flex-direction:column;margin:0}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:300}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:500}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:1.125rem;font-weight:400;line-height:1.875rem;letter-spacing:.05625rem;margin:1.5rem 0rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   .btn-banner[_ngcontent-%COMP%]{min-width:15rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   .btn-banner[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1.4rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   .btn-banner[_ngcontent-%COMP%]   .link-icon[_ngcontent-%COMP%]{width:.8rem;height:.8rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   .btn-banner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 1.2rem 0 1rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-news[_ngcontent-%COMP%]{max-width:30rem;padding:2.2rem;background:#06080f4d;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .slider-indicator-wrapper[_ngcontent-%COMP%]{margin-top:2.4rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .slider-indicator-wrapper[_ngcontent-%COMP%]   .slider-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .slider-indicator-wrapper[_ngcontent-%COMP%]   .slider-indicator[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-width:2rem;width:100%;height:3px;padding:0;border:none;outline:none;background:#ffffff80;position:relative}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .slider-indicator-wrapper[_ngcontent-%COMP%]   .slider-indicator[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;height:100%;animation:borderSlideAnimation 4s ease-in-out infinite}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .slider-indicator-wrapper[_ngcontent-%COMP%]   .slider-indicator[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){margin:0 .5rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .slider-indicator-wrapper[_ngcontent-%COMP%]   .slider-indicator[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]:after{background:#048bd7}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .slider-indicator-wrapper[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%], .home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .slider-indicator-wrapper[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{background:none;border:none;outline:none;cursor:pointer;width:34px;height:34px;transition:all .2s ease-in-out;background-color:#06080e80}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .slider-indicator-wrapper[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .slider-indicator-wrapper[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .slider-indicator-wrapper[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]:hover, .home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .slider-indicator-wrapper[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]:hover{background-color:var(--tech-blue-1)}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 2rem 1.2rem;position:absolute;bottom:0;left:0;right:0;width:100%;max-width:90rem;margin:0 auto}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]{margin-left:auto}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.938rem;font-weight:400;line-height:1.563;text-transform:uppercase;color:var(--white)}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--white);text-decoration:none;cursor:pointer;transition:all .2s ease-in-out}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#048bd7}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]{margin-left:auto}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--white);font-size:.938rem;font-weight:400;line-height:1.563;text-transform:uppercase;cursor:pointer;transition:all .2s ease-in-out}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .text-item[_ngcontent-%COMP%]:hover, .home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .active[_ngcontent-%COMP%]{color:#048bd7}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.border[_ngcontent-%COMP%]{background-color:var(--white);width:1px;height:1rem;margin:0 .75rem}.home-banner[_ngcontent-%COMP%]   .moblie-latest-news[_ngcontent-%COMP%]{background-color:#081321;padding:3.125rem 0}@media screen and (min-width: 991px) and (max-width: 1300px){.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]{padding-top:7rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]{margin-top:0rem;max-width:30rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0;margin-top:.75rem;line-height:1.4rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   .btn-banner[_ngcontent-%COMP%]{margin-top:1.5rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   .btn-banner[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.089rem;height:1.375rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   .btn-banner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 1.2rem 0 1rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   .slider-indicator-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   .slider-indicator-wrapper[_ngcontent-%COMP%]   .slider-indicator[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3px}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-news[_ngcontent-%COMP%]{margin-top:0rem;padding:1.4rem 1.8rem;max-width:25rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-news[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:.75rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-news[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:.875rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-news[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]   .latest-news-item[_ngcontent-%COMP%]{padding:1rem 0}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-news[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]   .latest-news-item[_ngcontent-%COMP%]:first-child{padding-top:.4rem!important}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-news[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]   .latest-news-item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-news[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]   .latest-news-item[_ngcontent-%COMP%]:last-child:after{display:none}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-news[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]   .latest-news-item[_ngcontent-%COMP%]:after{width:7rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-news[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]   .latest-news-item[_ngcontent-%COMP%]   .item-label[_ngcontent-%COMP%]{font-size:.6rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-news[_ngcontent-%COMP%]   .latest-news-box[_ngcontent-%COMP%]   .latest-news-list[_ngcontent-%COMP%]   .latest-news-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.4rem;margin-top:.3rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]{padding:0 1.2rem .75rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem!important}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]   .animated-border[_ngcontent-%COMP%]{margin:.5rem 0}}@media screen and (max-width: 991px){.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]{min-height:100vh}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-news[_ngcontent-%COMP%]{display:none}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;padding:0 1.2rem 1.2rem}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]{margin:auto}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]{display:none}}@media screen and (min-width: 991px){.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]{height:100vh}.home-banner[_ngcontent-%COMP%]   .moblie-latest-news[_ngcontent-%COMP%]{display:none}}@media screen and (min-height: 1000px){.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]{height:46rem!important;background-position:100% 0%}}@media screen and (max-width: 600px){.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:54px;word-break:break-all;height:112px;overflow:hidden}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:30px;margin:1rem 0rem 1.5rem 0}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   .btn-banner[_ngcontent-%COMP%]{padding:1rem 1.2rem;background:#06080e80}.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .slider-indicator-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:3.2rem}}@media screen and (max-width: 375px){.home-banner[_ngcontent-%COMP%]   .banner-wrapper[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-content-slider[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:45px;height:90px}}']});let e=t;return e})();function Fk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Mte(e,t,n){return t&&Fk(e.prototype,t),n&&Fk(e,n),e}var Hr,Wb,wte,Aa,Ed,Dd,ym,zk,ch,A0,Bk,vc,Ss,Vk,Uk=function(){return Hr||typeof window<"u"&&(Hr=window.gsap)&&Hr.registerPlugin&&Hr},jk=1,vm=[],pn=[],Es=[],T0=Date.now,i2=function(t,n){return n},xte=function(){var t=A0.core,n=t.bridge||{},i=t._scrollers,r=t._proxies;i.push.apply(i,pn),r.push.apply(r,Es),pn=i,Es=r,i2=function(a,s){return n[a](s)}},bc=function(t,n){return~Es.indexOf(t)&&Es[Es.indexOf(t)+1][n]},I0=function(t){return!!~Bk.indexOf(t)},So=function(t,n,i,r,o){return t.addEventListener(n,i,{passive:r!==!1,capture:!!o})},Oo=function(t,n,i,r){return t.removeEventListener(n,i,!!r)},Hb="scrollLeft",Gb="scrollTop",r2=function(){return vc&&vc.isPressed||pn.cache++},qb=function(t,n){var i=function r(o){if(o||o===0){jk&&(Aa.history.scrollRestoration="manual");var a=vc&&vc.isPressed;o=r.v=Math.round(o)||(vc&&vc.iOS?1:0),t(o),r.cacheID=pn.cache,a&&i2("ss",o)}else(n||pn.cache!==r.cacheID||i2("ref"))&&(r.cacheID=pn.cache,r.v=t());return r.v+r.offset};return i.offset=0,t&&i},co={s:Hb,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:qb(function(e){return arguments.length?Aa.scrollTo(e,qi.sc()):Aa.pageXOffset||Ed[Hb]||Dd[Hb]||ym[Hb]||0})},qi={s:Gb,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:co,sc:qb(function(e){return arguments.length?Aa.scrollTo(co.sc(),e):Aa.pageYOffset||Ed[Gb]||Dd[Gb]||ym[Gb]||0})},Eo=function(t,n){return(n&&n._ctx&&n._ctx.selector||Hr.utils.toArray)(t)[0]||(typeof t=="string"&&Hr.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},yc=function(t,n){var i=n.s,r=n.sc;I0(t)&&(t=Ed.scrollingElement||Dd);var o=pn.indexOf(t),a=r===qi.sc?1:2;!~o&&(o=pn.push(t)-1),pn[o+a]||So(t,"scroll",r2);var s=pn[o+a],l=s||(pn[o+a]=qb(bc(t,i),!0)||(I0(t)?r:qb(function(c){return arguments.length?t[i]=c:t[i]})));return l.target=t,s||(l.smooth=Hr.getProperty(t,"scrollBehavior")==="smooth"),l},Yb=function(t,n,i){var r=t,o=t,a=T0(),s=a,l=n||50,c=Math.max(500,l*3),d=function(m,g){var v=T0();g||v-a>l?(o=r,r=m,s=a,a=v):i?r+=m:r=o+(m-o)/(v-s)*(a-s)},u=function(){o=r=i?0:r,s=a=0},h=function(m){var g=s,v=o,b=T0();return(m||m===0)&&m!==r&&d(m),a===s||b-s>c?0:(r+(i?v:-v))/((i?b:a)-g)*1e3};return{update:d,reset:u,getVelocity:h}},D0=function(t,n){return n&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},Nk=function(t){var n=Math.max.apply(Math,t),i=Math.min.apply(Math,t);return Math.abs(n)>=Math.abs(i)?n:i},Hk=function(){A0=Hr.core.globals().ScrollTrigger,A0&&A0.core&&xte()},Gk=function(t){return Hr=t||Uk(),!Wb&&Hr&&typeof document<"u"&&document.body&&(Aa=window,Ed=document,Dd=Ed.documentElement,ym=Ed.body,Bk=[Aa,Ed,Dd,ym],wte=Hr.utils.clamp,Vk=Hr.core.context||function(){},ch="onpointerenter"in ym?"pointer":"mouse",zk=Di.isTouch=Aa.matchMedia&&Aa.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Aa||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Ss=Di.eventTypes=("ontouchstart"in Dd?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Dd?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return jk=0},500),Hk(),Wb=1),Wb};co.op=qi;pn.cache=0;var Di=function(){function e(n){this.init(n)}var t=e.prototype;return t.init=function(i){Wb||Gk(Hr)||console.warn("Please gsap.registerPlugin(Observer)"),A0||Hk();var r=i.tolerance,o=i.dragMinimum,a=i.type,s=i.target,l=i.lineHeight,c=i.debounce,d=i.preventDefault,u=i.onStop,h=i.onStopDelay,p=i.ignore,m=i.wheelSpeed,g=i.event,v=i.onDragStart,b=i.onDragEnd,_=i.onDrag,C=i.onPress,M=i.onRelease,P=i.onRight,x=i.onLeft,E=i.onUp,O=i.onDown,S=i.onChangeX,D=i.onChangeY,I=i.onChange,T=i.onToggleX,R=i.onToggleY,k=i.onHover,z=i.onHoverEnd,W=i.onMove,N=i.ignoreCheck,F=i.isNormalizer,X=i.onGestureStart,V=i.onGestureEnd,G=i.onWheel,Y=i.onEnable,ie=i.onDisable,te=i.onClick,ne=i.scrollSpeed,re=i.capture,ye=i.allowClicks,he=i.lockAxis,Me=i.onLockAxis;this.target=s=Eo(s)||Dd,this.vars=i,p&&(p=Hr.utils.toArray(p)),r=r||1e-9,o=o||0,m=m||1,ne=ne||1,a=a||"wheel,touch,pointer",c=c!==!1,l||(l=parseFloat(Aa.getComputedStyle(ym).lineHeight)||22);var pe,Ae,xe,be,Ve,He,Ge,de=this,Ue=0,fe=0,ce=i.passive||!d,Pe=yc(s,co),Q=yc(s,qi),H=Pe(),ue=Q(),Te=~a.indexOf("touch")&&!~a.indexOf("pointer")&&Ss[0]==="pointerdown",j=I0(s),_e=s.ownerDocument||Ed,qe=[0,0,0],Ne=[0,0,0],we=0,je=function(){return we=T0()},Re=function(ct,Lt){return(de.event=ct)&&p&&~p.indexOf(ct.target)||Lt&&Te&&ct.pointerType!=="touch"||N&&N(ct,Lt)},$e=function(){de._vx.reset(),de._vy.reset(),Ae.pause(),u&&u(de)},lt=function(){var ct=de.deltaX=Nk(qe),Lt=de.deltaY=Nk(Ne),Ke=Math.abs(ct)>=r,Nt=Math.abs(Lt)>=r;I&&(Ke||Nt)&&I(de,ct,Lt,qe,Ne),Ke&&(P&&de.deltaX>0&&P(de),x&&de.deltaX<0&&x(de),S&&S(de),T&&de.deltaX<0!=Ue<0&&T(de),Ue=de.deltaX,qe[0]=qe[1]=qe[2]=0),Nt&&(O&&de.deltaY>0&&O(de),E&&de.deltaY<0&&E(de),D&&D(de),R&&de.deltaY<0!=fe<0&&R(de),fe=de.deltaY,Ne[0]=Ne[1]=Ne[2]=0),(be||xe)&&(W&&W(de),xe&&(_(de),xe=!1),be=!1),He&&!(He=!1)&&Me&&Me(de),Ve&&(G(de),Ve=!1),pe=0},at=function(ct,Lt,Ke){qe[Ke]+=ct,Ne[Ke]+=Lt,de._vx.update(ct),de._vy.update(Lt),c?pe||(pe=requestAnimationFrame(lt)):lt()},Bt=function(ct,Lt){he&&!Ge&&(de.axis=Ge=Math.abs(ct)>Math.abs(Lt)?"x":"y",He=!0),Ge!=="y"&&(qe[2]+=ct,de._vx.update(ct,!0)),Ge!=="x"&&(Ne[2]+=Lt,de._vy.update(Lt,!0)),c?pe||(pe=requestAnimationFrame(lt)):lt()},Qt=function(ct){if(!Re(ct,1)){ct=D0(ct,d);var Lt=ct.clientX,Ke=ct.clientY,Nt=Lt-de.x,bt=Ke-de.y,Tt=de.isDragging;de.x=Lt,de.y=Ke,(Tt||Math.abs(de.startX-Lt)>=o||Math.abs(de.startY-Ke)>=o)&&(_&&(xe=!0),Tt||(de.isDragging=!0),Bt(Nt,bt),Tt||v&&v(de))}},At=de.onPress=function(tt){Re(tt,1)||tt&&tt.button||(de.axis=Ge=null,Ae.pause(),de.isPressed=!0,tt=D0(tt),Ue=fe=0,de.startX=de.x=tt.clientX,de.startY=de.y=tt.clientY,de._vx.reset(),de._vy.reset(),So(F?s:_e,Ss[1],Qt,ce,!0),de.deltaX=de.deltaY=0,C&&C(de))},ae=de.onRelease=function(tt){if(!Re(tt,1)){Oo(F?s:_e,Ss[1],Qt,!0);var ct=!isNaN(de.y-de.startY),Lt=de.isDragging,Ke=Lt&&(Math.abs(de.x-de.startX)>3||Math.abs(de.y-de.startY)>3),Nt=D0(tt);!Ke&&ct&&(de._vx.reset(),de._vy.reset(),d&&ye&&Hr.delayedCall(.08,function(){if(T0()-we>300&&!tt.defaultPrevented){if(tt.target.click)tt.target.click();else if(_e.createEvent){var bt=_e.createEvent("MouseEvents");bt.initMouseEvent("click",!0,!0,Aa,1,Nt.screenX,Nt.screenY,Nt.clientX,Nt.clientY,!1,!1,!1,!1,0,null),tt.target.dispatchEvent(bt)}}})),de.isDragging=de.isGesturing=de.isPressed=!1,u&&Lt&&!F&&Ae.restart(!0),b&&Lt&&b(de),M&&M(de,Ke)}},De=function(ct){return ct.touches&&ct.touches.length>1&&(de.isGesturing=!0)&&X(ct,de.isDragging)},ke=function(){return(de.isGesturing=!1)||V(de)},Fe=function(ct){if(!Re(ct)){var Lt=Pe(),Ke=Q();at((Lt-H)*ne,(Ke-ue)*ne,1),H=Lt,ue=Ke,u&&Ae.restart(!0)}},Qe=function(ct){if(!Re(ct)){ct=D0(ct,d),G&&(Ve=!0);var Lt=(ct.deltaMode===1?l:ct.deltaMode===2?Aa.innerHeight:1)*m;at(ct.deltaX*Lt,ct.deltaY*Lt,0),u&&!F&&Ae.restart(!0)}},st=function(ct){if(!Re(ct)){var Lt=ct.clientX,Ke=ct.clientY,Nt=Lt-de.x,bt=Ke-de.y;de.x=Lt,de.y=Ke,be=!0,u&&Ae.restart(!0),(Nt||bt)&&Bt(Nt,bt)}},gn=function(ct){de.event=ct,k(de)},sn=function(ct){de.event=ct,z(de)},Pi=function(ct){return Re(ct)||D0(ct,d)&&te(de)};Ae=de._dc=Hr.delayedCall(h||.25,$e).pause(),de.deltaX=de.deltaY=0,de._vx=Yb(0,50,!0),de._vy=Yb(0,50,!0),de.scrollX=Pe,de.scrollY=Q,de.isDragging=de.isGesturing=de.isPressed=!1,Vk(this),de.enable=function(tt){return de.isEnabled||(So(j?_e:s,"scroll",r2),a.indexOf("scroll")>=0&&So(j?_e:s,"scroll",Fe,ce,re),a.indexOf("wheel")>=0&&So(s,"wheel",Qe,ce,re),(a.indexOf("touch")>=0&&zk||a.indexOf("pointer")>=0)&&(So(s,Ss[0],At,ce,re),So(_e,Ss[2],ae),So(_e,Ss[3],ae),ye&&So(s,"click",je,!0,!0),te&&So(s,"click",Pi),X&&So(_e,"gesturestart",De),V&&So(_e,"gestureend",ke),k&&So(s,ch+"enter",gn),z&&So(s,ch+"leave",sn),W&&So(s,ch+"move",st)),de.isEnabled=!0,tt&&tt.type&&At(tt),Y&&Y(de)),de},de.disable=function(){de.isEnabled&&(vm.filter(function(tt){return tt!==de&&I0(tt.target)}).length||Oo(j?_e:s,"scroll",r2),de.isPressed&&(de._vx.reset(),de._vy.reset(),Oo(F?s:_e,Ss[1],Qt,!0)),Oo(j?_e:s,"scroll",Fe,re),Oo(s,"wheel",Qe,re),Oo(s,Ss[0],At,re),Oo(_e,Ss[2],ae),Oo(_e,Ss[3],ae),Oo(s,"click",je,!0),Oo(s,"click",Pi),Oo(_e,"gesturestart",De),Oo(_e,"gestureend",ke),Oo(s,ch+"enter",gn),Oo(s,ch+"leave",sn),Oo(s,ch+"move",st),de.isEnabled=de.isPressed=de.isDragging=!1,ie&&ie(de))},de.kill=de.revert=function(){de.disable();var tt=vm.indexOf(de);tt>=0&&vm.splice(tt,1),vc===de&&(vc=0)},vm.push(de),F&&I0(s)&&(vc=de),de.enable(g)},Mte(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e}();Di.version="3.12.5";Di.create=function(e){return new Di(e)};Di.register=Gk;Di.getAll=function(){return vm.slice()};Di.getById=function(e){return vm.filter(function(t){return t.vars.id===e})[0]};Uk()&&Hr.registerPlugin(Di);var ut,Cm,wn,Ci,Ds,hi,l8,c_,W0,B0,L0,Xb,uo,p_,h2,Ao,Wk,qk,Mm,c8,o2,d8,Do,p2,u8,h8,Ad,m2,b2,wm,_2,d_,f2,a2,Qb=1,ho=Date.now,s2=ho(),is=0,k0=0,Yk=function(t,n,i){var r=Ia(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return i["_"+n+"Clamp"]=r,r?t.substr(6,t.length-7):t},Xk=function(t,n){return n&&(!Ia(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},Pte=function e(){return k0&&requestAnimationFrame(e)},Qk=function(){return p_=1},Zk=function(){return p_=0},bl=function(t){return t},F0=function(t){return Math.round(t*1e5)/1e5||0},p8=function(){return typeof window<"u"},m8=function(){return ut||p8()&&(ut=window.gsap)&&ut.registerPlugin&&ut},fh=function(t){return!!~l8.indexOf(t)},f8=function(t){return(t==="Height"?_2:wn["inner"+t])||Ds["client"+t]||hi["client"+t]},g8=function(t){return bc(t,"getBoundingClientRect")||(fh(t)?function(){return l_.width=wn.innerWidth,l_.height=_2,l_}:function(){return _c(t)})},Ote=function(t,n,i){var r=i.d,o=i.d2,a=i.a;return(a=bc(t,"getBoundingClientRect"))?function(){return a()[r]}:function(){return(n?f8(o):t["client"+o])||0}},Ste=function(t,n){return!n||~Es.indexOf(t)?g8(t):function(){return l_}},_l=function(t,n){var i=n.s,r=n.d2,o=n.d,a=n.a;return Math.max(0,(i="scroll"+r)&&(a=bc(t,i))?a()-g8(t)()[o]:fh(t)?(Ds[i]||hi[i])-f8(r):t[i]-t["offset"+r])},Zb=function(t,n){for(var i=0;i<Mm.length;i+=3)(!n||~n.indexOf(Mm[i+1]))&&t(Mm[i],Mm[i+1],Mm[i+2])},Ia=function(t){return typeof t=="string"},Io=function(t){return typeof t=="function"},N0=function(t){return typeof t=="number"},dh=function(t){return typeof t=="object"},R0=function(t,n,i){return t&&t.progress(n?0:1)&&i&&t.pause()},l2=function(t,n){if(t.enabled){var i=t._ctx?t._ctx.add(function(){return n(t)}):n(t);i&&i.totalTime&&(t.callbackAnimation=i)}},bm=Math.abs,v8="left",y8="top",C2="right",M2="bottom",hh="width",ph="height",V0="Right",U0="Left",j0="Top",H0="Bottom",Yi="padding",ts="margin",Pm="Width",w2="Height",lr="px",ns=function(t){return wn.getComputedStyle(t)},Ete=function(t){var n=ns(t).position;t.style.position=n==="absolute"||n==="fixed"?n:"relative"},$k=function(t,n){for(var i in n)i in t||(t[i]=n[i]);return t},_c=function(t,n){var i=n&&ns(t)[h2]!=="matrix(1, 0, 0, 1, 0, 0)"&&ut.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=t.getBoundingClientRect();return i&&i.progress(0).kill(),r},u_=function(t,n){var i=n.d2;return t["offset"+i]||t["client"+i]||0},b8=function(t){var n=[],i=t.labels,r=t.duration(),o;for(o in i)n.push(i[o]/r);return n},Dte=function(t){return function(n){return ut.utils.snap(b8(t),n)}},x2=function(t){var n=ut.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort(function(r,o){return r-o});return i?function(r,o,a){a===void 0&&(a=.001);var s;if(!o)return n(r);if(o>0){for(r-=a,s=0;s<i.length;s++)if(i[s]>=r)return i[s];return i[s-1]}else for(s=i.length,r+=a;s--;)if(i[s]<=r)return i[s];return i[0]}:function(r,o,a){a===void 0&&(a=.001);var s=n(r);return!o||Math.abs(s-r)<a||s-r<0==o<0?s:n(o<0?r-t:r+t)}},Ate=function(t){return function(n,i){return x2(b8(t))(n,i.direction)}},$b=function(t,n,i,r){return i.split(",").forEach(function(o){return t(n,o,r)})},wr=function(t,n,i,r,o){return t.addEventListener(n,i,{passive:!r,capture:!!o})},Mr=function(t,n,i,r){return t.removeEventListener(n,i,!!r)},Kb=function(t,n,i){i=i&&i.wheelHandler,i&&(t(n,"wheel",i),t(n,"touchmove",i))},Kk={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Jb={toggleActions:"play",anticipatePin:0},h_={top:0,left:0,center:.5,bottom:1,right:1},r_=function(t,n){if(Ia(t)){var i=t.indexOf("="),r=~i?+(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(r*=n/100),t=t.substr(0,i-1)),t=r+(t in h_?h_[t]*n:~t.indexOf("%")?parseFloat(t)*n/100:parseFloat(t)||0)}return t},e_=function(t,n,i,r,o,a,s,l){var c=o.startColor,d=o.endColor,u=o.fontSize,h=o.indent,p=o.fontWeight,m=Ci.createElement("div"),g=fh(i)||bc(i,"pinType")==="fixed",v=t.indexOf("scroller")!==-1,b=g?hi:i,_=t.indexOf("start")!==-1,C=_?c:d,M="border-color:"+C+";font-size:"+u+";color:"+C+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return M+="position:"+((v||l)&&g?"fixed;":"absolute;"),(v||l||!g)&&(M+=(r===qi?C2:M2)+":"+(a+parseFloat(h))+"px;"),s&&(M+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),m._isStart=_,m.setAttribute("class","gsap-marker-"+t+(n?" marker-"+n:"")),m.style.cssText=M,m.innerText=n||n===0?t+"-"+n:t,b.children[0]?b.insertBefore(m,b.children[0]):b.appendChild(m),m._offset=m["offset"+r.op.d2],o_(m,0,r,_),m},o_=function(t,n,i,r){var o={display:"block"},a=i[r?"os2":"p2"],s=i[r?"p2":"os2"];t._isFlipped=r,o[i.a+"Percent"]=r?-100:0,o[i.a]=r?"1px":0,o["border"+a+Pm]=1,o["border"+s+Pm]=0,o[i.p]=n+"px",ut.set(t,o)},mn=[],g2={},q0,Jk=function(){return ho()-is>34&&(q0||(q0=requestAnimationFrame(Cc)))},_m=function(){(!Do||!Do.isPressed||Do.startX>hi.clientWidth)&&(pn.cache++,Do?q0||(q0=requestAnimationFrame(Cc)):Cc(),is||vh("scrollStart"),is=ho())},c2=function(){h8=wn.innerWidth,u8=wn.innerHeight},z0=function(){pn.cache++,!uo&&!d8&&!Ci.fullscreenElement&&!Ci.webkitFullscreenElement&&(!p2||h8!==wn.innerWidth||Math.abs(wn.innerHeight-u8)>wn.innerHeight*.25)&&c_.restart(!0)},gh={},Tte=[],_8=function e(){return Mr(Gt,"scrollEnd",e)||uh(!0)},vh=function(t){return gh[t]&&gh[t].map(function(n){return n()})||Tte},Ta=[],C8=function(t){for(var n=0;n<Ta.length;n+=5)(!t||Ta[n+4]&&Ta[n+4].query===t)&&(Ta[n].style.cssText=Ta[n+1],Ta[n].getBBox&&Ta[n].setAttribute("transform",Ta[n+2]||""),Ta[n+3].uncache=1)},P2=function(t,n){var i;for(Ao=0;Ao<mn.length;Ao++)i=mn[Ao],i&&(!n||i._ctx===n)&&(t?i.kill(1):i.revert(!0,!0));d_=!0,n&&C8(n),n||vh("revert")},M8=function(t,n){pn.cache++,(n||!To)&&pn.forEach(function(i){return Io(i)&&i.cacheID++&&(i.rec=0)}),Ia(t)&&(wn.history.scrollRestoration=b2=t)},To,mh=0,e8,Ite=function(){if(e8!==mh){var t=e8=mh;requestAnimationFrame(function(){return t===mh&&uh(!0)})}},w8=function(){hi.appendChild(wm),_2=!Do&&wm.offsetHeight||wn.innerHeight,hi.removeChild(wm)},t8=function(t){return W0(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=t?"none":"block"})},uh=function(t,n){if(is&&!t&&!d_){wr(Gt,"scrollEnd",_8);return}w8(),To=Gt.isRefreshing=!0,pn.forEach(function(r){return Io(r)&&++r.cacheID&&(r.rec=r())});var i=vh("refreshInit");c8&&Gt.sort(),n||P2(),pn.forEach(function(r){Io(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),mn.slice(0).forEach(function(r){return r.refresh()}),d_=!1,mn.forEach(function(r){if(r._subPinOffset&&r.pin){var o=r.vars.horizontal?"offsetWidth":"offsetHeight",a=r.pin[o];r.revert(!0,1),r.adjustPinSpacing(r.pin[o]-a),r.refresh()}}),f2=1,t8(!0),mn.forEach(function(r){var o=_l(r.scroller,r._dir),a=r.vars.end==="max"||r._endClamp&&r.end>o,s=r._startClamp&&r.start>=o;(a||s)&&r.setPositions(s?o-1:r.start,a?Math.max(s?o:r.start+1,o):r.end,!0)}),t8(!1),f2=0,i.forEach(function(r){return r&&r.render&&r.render(-1)}),pn.forEach(function(r){Io(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),M8(b2,1),c_.pause(),mh++,To=2,Cc(2),mn.forEach(function(r){return Io(r.vars.onRefresh)&&r.vars.onRefresh(r)}),To=Gt.isRefreshing=!1,vh("refresh")},v2=0,a_=1,G0,Cc=function(t){if(t===2||!To&&!d_){Gt.isUpdating=!0,G0&&G0.update(0);var n=mn.length,i=ho(),r=i-s2>=50,o=n&&mn[0].scroll();if(a_=v2>o?-1:1,To||(v2=o),r&&(is&&!p_&&i-is>200&&(is=0,vh("scrollEnd")),L0=s2,s2=i),a_<0){for(Ao=n;Ao-- >0;)mn[Ao]&&mn[Ao].update(0,r);a_=1}else for(Ao=0;Ao<n;Ao++)mn[Ao]&&mn[Ao].update(0,r);Gt.isUpdating=!1}q0=0},y2=[v8,y8,M2,C2,ts+H0,ts+V0,ts+j0,ts+U0,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],s_=y2.concat([hh,ph,"boxSizing","max"+Pm,"max"+w2,"position",ts,Yi,Yi+j0,Yi+V0,Yi+H0,Yi+U0]),Rte=function(t,n,i){xm(i);var r=t._gsap;if(r.spacerIsNative)xm(r.spacerState);else if(t._gsap.swappedIn){var o=n.parentNode;o&&(o.insertBefore(t,n),o.removeChild(n))}t._gsap.swappedIn=!1},d2=function(t,n,i,r){if(!t._gsap.swappedIn){for(var o=y2.length,a=n.style,s=t.style,l;o--;)l=y2[o],a[l]=i[l];a.position=i.position==="absolute"?"absolute":"relative",i.display==="inline"&&(a.display="inline-block"),s[M2]=s[C2]="auto",a.flexBasis=i.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[hh]=u_(t,co)+lr,a[ph]=u_(t,qi)+lr,a[Yi]=s[ts]=s[y8]=s[v8]="0",xm(r),s[hh]=s["max"+Pm]=i[hh],s[ph]=s["max"+w2]=i[ph],s[Yi]=i[Yi],t.parentNode!==n&&(t.parentNode.insertBefore(n,t),n.appendChild(t)),t._gsap.swappedIn=!0}},Lte=/([A-Z])/g,xm=function(t){if(t){var n=t.t.style,i=t.length,r=0,o,a;for((t.t._gsap||ut.core.getCache(t.t)).uncache=1;r<i;r+=2)a=t[r+1],o=t[r],a?n[o]=a:n[o]&&n.removeProperty(o.replace(Lte,"-$1").toLowerCase())}},t_=function(t){for(var n=s_.length,i=t.style,r=[],o=0;o<n;o++)r.push(s_[o],i[s_[o]]);return r.t=t,r},kte=function(t,n,i){for(var r=[],o=t.length,a=i?8:0,s;a<o;a+=2)s=t[a],r.push(s,s in n?n[s]:t[a+1]);return r.t=t.t,r},l_={left:0,top:0},n8=function(t,n,i,r,o,a,s,l,c,d,u,h,p,m){Io(t)&&(t=t(l)),Ia(t)&&t.substr(0,3)==="max"&&(t=h+(t.charAt(4)==="="?r_("0"+t.substr(3),i):0));var g=p?p.time():0,v,b,_;if(p&&p.seek(0),isNaN(t)||(t=+t),N0(t))p&&(t=ut.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,h,t)),s&&o_(s,i,r,!0);else{Io(n)&&(n=n(l));var C=(t||"0").split(" "),M,P,x,E;_=Eo(n,l)||hi,M=_c(_)||{},(!M||!M.left&&!M.top)&&ns(_).display==="none"&&(E=_.style.display,_.style.display="block",M=_c(_),E?_.style.display=E:_.style.removeProperty("display")),P=r_(C[0],M[r.d]),x=r_(C[1]||"0",i),t=M[r.p]-c[r.p]-d+P+o-x,s&&o_(s,x,r,i-x<20||s._isStart&&x>20),i-=i-x}if(m&&(l[m]=t||-.001,t<0&&(t=0)),a){var O=t+i,S=a._isStart;v="scroll"+r.d2,o_(a,O,r,S&&O>20||!S&&(u?Math.max(hi[v],Ds[v]):a.parentNode[v])<=O+1),u&&(c=_c(s),u&&(a.style[r.op.p]=c[r.op.p]-r.op.m-a._offset+lr))}return p&&_&&(v=_c(_),p.seek(h),b=_c(_),p._caScrollDist=v[r.p]-b[r.p],t=t/p._caScrollDist*h),p&&p.seek(g),p?t:Math.round(t)},Fte=/(webkit|moz|length|cssText|inset)/i,i8=function(t,n,i,r){if(t.parentNode!==n){var o=t.style,a,s;if(n===hi){t._stOrig=o.cssText,s=ns(t);for(a in s)!+a&&!Fte.test(a)&&s[a]&&typeof o[a]=="string"&&a!=="0"&&(o[a]=s[a]);o.top=i,o.left=r}else o.cssText=t._stOrig;ut.core.getCache(t).uncache=1,n.appendChild(t)}},x8=function(t,n,i){var r=n,o=r;return function(a){var s=Math.round(t());return s!==r&&s!==o&&Math.abs(s-r)>3&&Math.abs(s-o)>3&&(a=s,i&&i()),o=r,r=a,a}},n_=function(t,n,i){var r={};r[n.p]="+="+i,ut.set(t,r)},r8=function(t,n){var i=yc(t,n),r="_scroll"+n.p2,o=function a(s,l,c,d,u){var h=a.tween,p=l.onComplete,m={};c=c||i();var g=x8(i,c,function(){h.kill(),a.tween=0});return u=d&&u||0,d=d||s-c,h&&h.kill(),l[r]=s,l.inherit=!1,l.modifiers=m,m[r]=function(){return g(c+d*h.ratio+u*h.ratio*h.ratio)},l.onUpdate=function(){pn.cache++,a.tween&&Cc()},l.onComplete=function(){a.tween=0,p&&p.call(h)},h=a.tween=ut.to(t,l),h};return t[r]=i,i.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},wr(t,"wheel",i.wheelHandler),Gt.isTouch&&wr(t,"touchmove",i.wheelHandler),o},Gt=function(){function e(n,i){Cm||e.register(ut)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),m2(this),this.init(n,i)}var t=e.prototype;return t.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!k0){this.update=this.refresh=this.kill=bl;return}i=$k(Ia(i)||N0(i)||i.nodeType?{trigger:i}:i,Jb);var o=i,a=o.onUpdate,s=o.toggleClass,l=o.id,c=o.onToggle,d=o.onRefresh,u=o.scrub,h=o.trigger,p=o.pin,m=o.pinSpacing,g=o.invalidateOnRefresh,v=o.anticipatePin,b=o.onScrubComplete,_=o.onSnapComplete,C=o.once,M=o.snap,P=o.pinReparent,x=o.pinSpacer,E=o.containerAnimation,O=o.fastScrollEnd,S=o.preventOverlaps,D=i.horizontal||i.containerAnimation&&i.horizontal!==!1?co:qi,I=!u&&u!==0,T=Eo(i.scroller||wn),R=ut.core.getCache(T),k=fh(T),z=("pinType"in i?i.pinType:bc(T,"pinType")||k&&"fixed")==="fixed",W=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],N=I&&i.toggleActions.split(" "),F="markers"in i?i.markers:Jb.markers,X=k?0:parseFloat(ns(T)["border"+D.p2+Pm])||0,V=this,G=i.onRefreshInit&&function(){return i.onRefreshInit(V)},Y=Ote(T,k,D),ie=Ste(T,k),te=0,ne=0,re=0,ye=yc(T,D),he,Me,pe,Ae,xe,be,Ve,He,Ge,de,Ue,fe,ce,Pe,Q,H,ue,Te,j,_e,qe,Ne,we,je,Re,$e,lt,at,Bt,Qt,At,ae,De,ke,Fe,Qe,st,gn,sn;if(V._startClamp=V._endClamp=!1,V._dir=D,v*=45,V.scroller=T,V.scroll=E?E.time.bind(E):ye,Ae=ye(),V.vars=i,r=r||i.animation,"refreshPriority"in i&&(c8=1,i.refreshPriority===-9999&&(G0=V)),R.tweenScroll=R.tweenScroll||{top:r8(T,qi),left:r8(T,co)},V.tweenTo=he=R.tweenScroll[D.p],V.scrubDuration=function(Ke){De=N0(Ke)&&Ke,De?ae?ae.duration(Ke):ae=ut.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:De,paused:!0,onComplete:function(){return b&&b(V)}}):(ae&&ae.progress(1).kill(),ae=0)},r&&(r.vars.lazy=!1,r._initted&&!V.isReverted||r.vars.immediateRender!==!1&&i.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),V.animation=r.pause(),r.scrollTrigger=V,V.scrubDuration(u),Qt=0,l||(l=r.vars.id)),M&&((!dh(M)||M.push)&&(M={snapTo:M}),"scrollBehavior"in hi.style&&ut.set(k?[hi,Ds]:T,{scrollBehavior:"auto"}),pn.forEach(function(Ke){return Io(Ke)&&Ke.target===(k?Ci.scrollingElement||Ds:T)&&(Ke.smooth=!1)}),pe=Io(M.snapTo)?M.snapTo:M.snapTo==="labels"?Dte(r):M.snapTo==="labelsDirectional"?Ate(r):M.directional!==!1?function(Ke,Nt){return x2(M.snapTo)(Ke,ho()-ne<500?0:Nt.direction)}:ut.utils.snap(M.snapTo),ke=M.duration||{min:.1,max:2},ke=dh(ke)?B0(ke.min,ke.max):B0(ke,ke),Fe=ut.delayedCall(M.delay||De/2||.1,function(){var Ke=ye(),Nt=ho()-ne<500,bt=he.tween;if((Nt||Math.abs(V.getVelocity())<10)&&!bt&&!p_&&te!==Ke){var Tt=(Ke-be)/Pe,K=r&&!I?r.totalProgress():Tt,me=Nt?0:(K-At)/(ho()-L0)*1e3||0,Oe=ut.utils.clamp(-Tt,1-Tt,bm(me/2)*me/.185),ve=Tt+(M.inertia===!1?0:Oe),Se,Ye,nt=M,wt=nt.onStart,ht=nt.onInterrupt,Yt=nt.onComplete;if(Se=pe(ve,V),N0(Se)||(Se=ve),Ye=Math.round(be+Se*Pe),Ke<=Ve&&Ke>=be&&Ye!==Ke){if(bt&&!bt._initted&&bt.data<=bm(Ye-Ke))return;M.inertia===!1&&(Oe=Se-Tt),he(Ye,{duration:ke(bm(Math.max(bm(ve-K),bm(Se-K))*.185/me/.05||0)),ease:M.ease||"power3",data:bm(Ye-Ke),onInterrupt:function(){return Fe.restart(!0)&&ht&&ht(V)},onComplete:function(){V.update(),te=ye(),r&&(ae?ae.resetTo("totalProgress",Se,r._tTime/r._tDur):r.progress(Se)),Qt=At=r&&!I?r.totalProgress():V.progress,_&&_(V),Yt&&Yt(V)}},Ke,Oe*Pe,Ye-Ke-Oe*Pe),wt&&wt(V,he.tween)}}else V.isActive&&te!==Ke&&Fe.restart(!0)}).pause()),l&&(g2[l]=V),h=V.trigger=Eo(h||p!==!0&&p),sn=h&&h._gsap&&h._gsap.stRevert,sn&&(sn=sn(V)),p=p===!0?h:Eo(p),Ia(s)&&(s={targets:h,className:s}),p&&(m===!1||m===ts||(m=!m&&p.parentNode&&p.parentNode.style&&ns(p.parentNode).display==="flex"?!1:Yi),V.pin=p,Me=ut.core.getCache(p),Me.spacer?Q=Me.pinState:(x&&(x=Eo(x),x&&!x.nodeType&&(x=x.current||x.nativeElement),Me.spacerIsNative=!!x,x&&(Me.spacerState=t_(x))),Me.spacer=Te=x||Ci.createElement("div"),Te.classList.add("pin-spacer"),l&&Te.classList.add("pin-spacer-"+l),Me.pinState=Q=t_(p)),i.force3D!==!1&&ut.set(p,{force3D:!0}),V.spacer=Te=Me.spacer,Bt=ns(p),je=Bt[m+D.os2],_e=ut.getProperty(p),qe=ut.quickSetter(p,D.a,lr),d2(p,Te,Bt),ue=t_(p)),F){fe=dh(F)?$k(F,Kk):Kk,de=e_("scroller-start",l,T,D,fe,0),Ue=e_("scroller-end",l,T,D,fe,0,de),j=de["offset"+D.op.d2];var Pi=Eo(bc(T,"content")||T);He=this.markerStart=e_("start",l,Pi,D,fe,j,0,E),Ge=this.markerEnd=e_("end",l,Pi,D,fe,j,0,E),E&&(gn=ut.quickSetter([He,Ge],D.a,lr)),!z&&!(Es.length&&bc(T,"fixedMarkers")===!0)&&(Ete(k?hi:T),ut.set([de,Ue],{force3D:!0}),$e=ut.quickSetter(de,D.a,lr),at=ut.quickSetter(Ue,D.a,lr))}if(E){var tt=E.vars.onUpdate,ct=E.vars.onUpdateParams;E.eventCallback("onUpdate",function(){V.update(0,0,1),tt&&tt.apply(E,ct||[])})}if(V.previous=function(){return mn[mn.indexOf(V)-1]},V.next=function(){return mn[mn.indexOf(V)+1]},V.revert=function(Ke,Nt){if(!Nt)return V.kill(!0);var bt=Ke!==!1||!V.enabled,Tt=uo;bt!==V.isReverted&&(bt&&(Qe=Math.max(ye(),V.scroll.rec||0),re=V.progress,st=r&&r.progress()),He&&[He,Ge,de,Ue].forEach(function(K){return K.style.display=bt?"none":"block"}),bt&&(uo=V,V.update(bt)),p&&(!P||!V.isActive)&&(bt?Rte(p,Te,Q):d2(p,Te,ns(p),Re)),bt||V.update(bt),uo=Tt,V.isReverted=bt)},V.refresh=function(Ke,Nt,bt,Tt){if(!((uo||!V.enabled)&&!Nt)){if(p&&Ke&&is){wr(e,"scrollEnd",_8);return}!To&&G&&G(V),uo=V,he.tween&&!bt&&(he.tween.kill(),he.tween=0),ae&&ae.pause(),g&&r&&r.revert({kill:!1}).invalidate(),V.isReverted||V.revert(!0,!0),V._subPinOffset=!1;var K=Y(),me=ie(),Oe=E?E.duration():_l(T,D),ve=Pe<=.01,Se=0,Ye=Tt||0,nt=dh(bt)?bt.end:i.end,wt=i.endTrigger||h,ht=dh(bt)?bt.start:i.start||(i.start===0||!h?0:p?"0 0":"0 100%"),Yt=V.pinnedContainer=i.pinnedContainer&&Eo(i.pinnedContainer,V),Vt=h&&Math.max(0,mn.indexOf(V))||0,ft=Vt,vn,Rn,ir,Yo,tn,ot,Fr,Xo,fa,On,rr,Va,fi;for(F&&dh(bt)&&(Va=ut.getProperty(de,D.p),fi=ut.getProperty(Ue,D.p));ft--;)ot=mn[ft],ot.end||ot.refresh(0,1)||(uo=V),Fr=ot.pin,Fr&&(Fr===h||Fr===p||Fr===Yt)&&!ot.isReverted&&(On||(On=[]),On.unshift(ot),ot.revert(!0,!0)),ot!==mn[ft]&&(Vt--,ft--);for(Io(ht)&&(ht=ht(V)),ht=Yk(ht,"start",V),be=n8(ht,h,K,D,ye(),He,de,V,me,X,z,Oe,E,V._startClamp&&"_startClamp")||(p?-.001:0),Io(nt)&&(nt=nt(V)),Ia(nt)&&!nt.indexOf("+=")&&(~nt.indexOf(" ")?nt=(Ia(ht)?ht.split(" ")[0]:"")+nt:(Se=r_(nt.substr(2),K),nt=Ia(ht)?ht:(E?ut.utils.mapRange(0,E.duration(),E.scrollTrigger.start,E.scrollTrigger.end,be):be)+Se,wt=h)),nt=Yk(nt,"end",V),Ve=Math.max(be,n8(nt||(wt?"100% 0":Oe),wt,K,D,ye()+Se,Ge,Ue,V,me,X,z,Oe,E,V._endClamp&&"_endClamp"))||-.001,Se=0,ft=Vt;ft--;)ot=mn[ft],Fr=ot.pin,Fr&&ot.start-ot._pinPush<=be&&!E&&ot.end>0&&(vn=ot.end-(V._startClamp?Math.max(0,ot.start):ot.start),(Fr===h&&ot.start-ot._pinPush<be||Fr===Yt)&&isNaN(ht)&&(Se+=vn*(1-ot.progress)),Fr===p&&(Ye+=vn));if(be+=Se,Ve+=Se,V._startClamp&&(V._startClamp+=Se),V._endClamp&&!To&&(V._endClamp=Ve||-.001,Ve=Math.min(Ve,_l(T,D))),Pe=Ve-be||(be-=.01)&&.001,ve&&(re=ut.utils.clamp(0,1,ut.utils.normalize(be,Ve,Qe))),V._pinPush=Ye,He&&Se&&(vn={},vn[D.a]="+="+Se,Yt&&(vn[D.p]="-="+ye()),ut.set([He,Ge],vn)),p&&!(f2&&V.end>=_l(T,D)))vn=ns(p),Yo=D===qi,ir=ye(),Ne=parseFloat(_e(D.a))+Ye,!Oe&&Ve>1&&(rr=(k?Ci.scrollingElement||Ds:T).style,rr={style:rr,value:rr["overflow"+D.a.toUpperCase()]},k&&ns(hi)["overflow"+D.a.toUpperCase()]!=="scroll"&&(rr.style["overflow"+D.a.toUpperCase()]="scroll")),d2(p,Te,vn),ue=t_(p),Rn=_c(p,!0),Xo=z&&yc(T,Yo?co:qi)(),m?(Re=[m+D.os2,Pe+Ye+lr],Re.t=Te,ft=m===Yi?u_(p,D)+Pe+Ye:0,ft&&(Re.push(D.d,ft+lr),Te.style.flexBasis!=="auto"&&(Te.style.flexBasis=ft+lr)),xm(Re),Yt&&mn.forEach(function(to){to.pin===Yt&&to.vars.pinSpacing!==!1&&(to._subPinOffset=!0)}),z&&ye(Qe)):(ft=u_(p,D),ft&&Te.style.flexBasis!=="auto"&&(Te.style.flexBasis=ft+lr)),z&&(tn={top:Rn.top+(Yo?ir-be:Xo)+lr,left:Rn.left+(Yo?Xo:ir-be)+lr,boxSizing:"border-box",position:"fixed"},tn[hh]=tn["max"+Pm]=Math.ceil(Rn.width)+lr,tn[ph]=tn["max"+w2]=Math.ceil(Rn.height)+lr,tn[ts]=tn[ts+j0]=tn[ts+V0]=tn[ts+H0]=tn[ts+U0]="0",tn[Yi]=vn[Yi],tn[Yi+j0]=vn[Yi+j0],tn[Yi+V0]=vn[Yi+V0],tn[Yi+H0]=vn[Yi+H0],tn[Yi+U0]=vn[Yi+U0],H=kte(Q,tn,P),To&&ye(0)),r?(fa=r._initted,o2(1),r.render(r.duration(),!0,!0),we=_e(D.a)-Ne+Pe+Ye,lt=Math.abs(Pe-we)>1,z&&lt&&H.splice(H.length-2,2),r.render(0,!0,!0),fa||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),o2(0)):we=Pe,rr&&(rr.value?rr.style["overflow"+D.a.toUpperCase()]=rr.value:rr.style.removeProperty("overflow-"+D.a));else if(h&&ye()&&!E)for(Rn=h.parentNode;Rn&&Rn!==hi;)Rn._pinOffset&&(be-=Rn._pinOffset,Ve-=Rn._pinOffset),Rn=Rn.parentNode;On&&On.forEach(function(to){return to.revert(!1,!0)}),V.start=be,V.end=Ve,Ae=xe=To?Qe:ye(),!E&&!To&&(Ae<Qe&&ye(Qe),V.scroll.rec=0),V.revert(!1,!0),ne=ho(),Fe&&(te=-1,Fe.restart(!0)),uo=0,r&&I&&(r._initted||st)&&r.progress()!==st&&r.progress(st||0,!0).render(r.time(),!0,!0),(ve||re!==V.progress||E||g)&&(r&&!I&&r.totalProgress(E&&be<-.001&&!re?ut.utils.normalize(be,Ve,0):re,!0),V.progress=ve||(Ae-be)/Pe===re?0:re),p&&m&&(Te._pinOffset=Math.round(V.progress*we)),ae&&ae.invalidate(),isNaN(Va)||(Va-=ut.getProperty(de,D.p),fi-=ut.getProperty(Ue,D.p),n_(de,D,Va),n_(He,D,Va-(Tt||0)),n_(Ue,D,fi),n_(Ge,D,fi-(Tt||0))),ve&&!To&&V.update(),d&&!To&&!ce&&(ce=!0,d(V),ce=!1)}},V.getVelocity=function(){return(ye()-xe)/(ho()-L0)*1e3||0},V.endAnimation=function(){R0(V.callbackAnimation),r&&(ae?ae.progress(1):r.paused()?I||R0(r,V.direction<0,1):R0(r,r.reversed()))},V.labelToScroll=function(Ke){return r&&r.labels&&(be||V.refresh()||be)+r.labels[Ke]/r.duration()*Pe||0},V.getTrailing=function(Ke){var Nt=mn.indexOf(V),bt=V.direction>0?mn.slice(0,Nt).reverse():mn.slice(Nt+1);return(Ia(Ke)?bt.filter(function(Tt){return Tt.vars.preventOverlaps===Ke}):bt).filter(function(Tt){return V.direction>0?Tt.end<=be:Tt.start>=Ve})},V.update=function(Ke,Nt,bt){if(!(E&&!bt&&!Ke)){var Tt=To===!0?Qe:V.scroll(),K=Ke?0:(Tt-be)/Pe,me=K<0?0:K>1?1:K||0,Oe=V.progress,ve,Se,Ye,nt,wt,ht,Yt,Vt;if(Nt&&(xe=Ae,Ae=E?ye():Tt,M&&(At=Qt,Qt=r&&!I?r.totalProgress():me)),v&&p&&!uo&&!Qb&&is&&(!me&&be<Tt+(Tt-xe)/(ho()-L0)*v?me=1e-4:me===1&&Ve>Tt+(Tt-xe)/(ho()-L0)*v&&(me=.9999)),me!==Oe&&V.enabled){if(ve=V.isActive=!!me&&me<1,Se=!!Oe&&Oe<1,ht=ve!==Se,wt=ht||!!me!=!!Oe,V.direction=me>Oe?1:-1,V.progress=me,wt&&!uo&&(Ye=me&&!Oe?0:me===1?1:Oe===1?2:3,I&&(nt=!ht&&N[Ye+1]!=="none"&&N[Ye+1]||N[Ye],Vt=r&&(nt==="complete"||nt==="reset"||nt in r))),S&&(ht||Vt)&&(Vt||u||!r)&&(Io(S)?S(V):V.getTrailing(S).forEach(function(ir){return ir.endAnimation()})),I||(ae&&!uo&&!Qb?(ae._dp._time-ae._start!==ae._time&&ae.render(ae._dp._time-ae._start),ae.resetTo?ae.resetTo("totalProgress",me,r._tTime/r._tDur):(ae.vars.totalProgress=me,ae.invalidate().restart())):r&&r.totalProgress(me,!!(uo&&(ne||Ke)))),p){if(Ke&&m&&(Te.style[m+D.os2]=je),!z)qe(F0(Ne+we*me));else if(wt){if(Yt=!Ke&&me>Oe&&Ve+1>Tt&&Tt+1>=_l(T,D),P)if(!Ke&&(ve||Yt)){var ft=_c(p,!0),vn=Tt-be;i8(p,hi,ft.top+(D===qi?vn:0)+lr,ft.left+(D===qi?0:vn)+lr)}else i8(p,Te);xm(ve||Yt?H:ue),lt&&me<1&&ve||qe(Ne+(me===1&&!Yt?we:0))}}M&&!he.tween&&!uo&&!Qb&&Fe.restart(!0),s&&(ht||C&&me&&(me<1||!a2))&&W0(s.targets).forEach(function(ir){return ir.classList[ve||C?"add":"remove"](s.className)}),a&&!I&&!Ke&&a(V),wt&&!uo?(I&&(Vt&&(nt==="complete"?r.pause().totalProgress(1):nt==="reset"?r.restart(!0).pause():nt==="restart"?r.restart(!0):r[nt]()),a&&a(V)),(ht||!a2)&&(c&&ht&&l2(V,c),W[Ye]&&l2(V,W[Ye]),C&&(me===1?V.kill(!1,1):W[Ye]=0),ht||(Ye=me===1?1:3,W[Ye]&&l2(V,W[Ye]))),O&&!ve&&Math.abs(V.getVelocity())>(N0(O)?O:2500)&&(R0(V.callbackAnimation),ae?ae.progress(1):R0(r,nt==="reverse"?1:!me,1))):I&&a&&!uo&&a(V)}if(at){var Rn=E?Tt/E.duration()*(E._caScrollDist||0):Tt;$e(Rn+(de._isFlipped?1:0)),at(Rn)}gn&&gn(-Tt/E.duration()*(E._caScrollDist||0))}},V.enable=function(Ke,Nt){V.enabled||(V.enabled=!0,wr(T,"resize",z0),k||wr(T,"scroll",_m),G&&wr(e,"refreshInit",G),Ke!==!1&&(V.progress=re=0,Ae=xe=te=ye()),Nt!==!1&&V.refresh())},V.getTween=function(Ke){return Ke&&he?he.tween:ae},V.setPositions=function(Ke,Nt,bt,Tt){if(E){var K=E.scrollTrigger,me=E.duration(),Oe=K.end-K.start;Ke=K.start+Oe*Ke/me,Nt=K.start+Oe*Nt/me}V.refresh(!1,!1,{start:Xk(Ke,bt&&!!V._startClamp),end:Xk(Nt,bt&&!!V._endClamp)},Tt),V.update()},V.adjustPinSpacing=function(Ke){if(Re&&Ke){var Nt=Re.indexOf(D.d)+1;Re[Nt]=parseFloat(Re[Nt])+Ke+lr,Re[1]=parseFloat(Re[1])+Ke+lr,xm(Re)}},V.disable=function(Ke,Nt){if(V.enabled&&(Ke!==!1&&V.revert(!0,!0),V.enabled=V.isActive=!1,Nt||ae&&ae.pause(),Qe=0,Me&&(Me.uncache=1),G&&Mr(e,"refreshInit",G),Fe&&(Fe.pause(),he.tween&&he.tween.kill()&&(he.tween=0)),!k)){for(var bt=mn.length;bt--;)if(mn[bt].scroller===T&&mn[bt]!==V)return;Mr(T,"resize",z0),k||Mr(T,"scroll",_m)}},V.kill=function(Ke,Nt){V.disable(Ke,Nt),ae&&!Nt&&ae.kill(),l&&delete g2[l];var bt=mn.indexOf(V);bt>=0&&mn.splice(bt,1),bt===Ao&&a_>0&&Ao--,bt=0,mn.forEach(function(Tt){return Tt.scroller===V.scroller&&(bt=1)}),bt||To||(V.scroll.rec=0),r&&(r.scrollTrigger=null,Ke&&r.revert({kill:!1}),Nt||r.kill()),He&&[He,Ge,de,Ue].forEach(function(Tt){return Tt.parentNode&&Tt.parentNode.removeChild(Tt)}),G0===V&&(G0=0),p&&(Me&&(Me.uncache=1),bt=0,mn.forEach(function(Tt){return Tt.pin===p&&bt++}),bt||(Me.spacer=0)),i.onKill&&i.onKill(V)},mn.push(V),V.enable(!1,!1),sn&&sn(V),r&&r.add&&!Pe){var Lt=V.update;V.update=function(){V.update=Lt,be||Ve||V.refresh()},ut.delayedCall(.01,V.update),Pe=.01,be=Ve=0}else V.refresh();p&&Ite()},e.register=function(i){return Cm||(ut=i||m8(),p8()&&window.document&&e.enable(),Cm=k0),Cm},e.defaults=function(i){if(i)for(var r in i)Jb[r]=i[r];return Jb},e.disable=function(i,r){k0=0,mn.forEach(function(a){return a[r?"kill":"disable"](i)}),Mr(wn,"wheel",_m),Mr(Ci,"scroll",_m),clearInterval(Xb),Mr(Ci,"touchcancel",bl),Mr(hi,"touchstart",bl),$b(Mr,Ci,"pointerdown,touchstart,mousedown",Qk),$b(Mr,Ci,"pointerup,touchend,mouseup",Zk),c_.kill(),Zb(Mr);for(var o=0;o<pn.length;o+=3)Kb(Mr,pn[o],pn[o+1]),Kb(Mr,pn[o],pn[o+2])},e.enable=function(){if(wn=window,Ci=document,Ds=Ci.documentElement,hi=Ci.body,ut&&(W0=ut.utils.toArray,B0=ut.utils.clamp,m2=ut.core.context||bl,o2=ut.core.suppressOverwrites||bl,b2=wn.history.scrollRestoration||"auto",v2=wn.pageYOffset,ut.core.globals("ScrollTrigger",e),hi)){k0=1,wm=document.createElement("div"),wm.style.height="100vh",wm.style.position="absolute",w8(),Pte(),Di.register(ut),e.isTouch=Di.isTouch,Ad=Di.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),p2=Di.isTouch===1,wr(wn,"wheel",_m),l8=[wn,Ci,Ds,hi],ut.matchMedia?(e.matchMedia=function(l){var c=ut.matchMedia(),d;for(d in l)c.add(d,l[d]);return c},ut.addEventListener("matchMediaInit",function(){return P2()}),ut.addEventListener("matchMediaRevert",function(){return C8()}),ut.addEventListener("matchMedia",function(){uh(0,1),vh("matchMedia")}),ut.matchMedia("(orientation: portrait)",function(){return c2(),c2})):console.warn("Requires GSAP 3.11.0 or later"),c2(),wr(Ci,"scroll",_m);var i=hi.style,r=i.borderTopStyle,o=ut.core.Animation.prototype,a,s;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",a=_c(hi),qi.m=Math.round(a.top+qi.sc())||0,co.m=Math.round(a.left+co.sc())||0,r?i.borderTopStyle=r:i.removeProperty("border-top-style"),Xb=setInterval(Jk,250),ut.delayedCall(.5,function(){return Qb=0}),wr(Ci,"touchcancel",bl),wr(hi,"touchstart",bl),$b(wr,Ci,"pointerdown,touchstart,mousedown",Qk),$b(wr,Ci,"pointerup,touchend,mouseup",Zk),h2=ut.utils.checkPrefix("transform"),s_.push(h2),Cm=ho(),c_=ut.delayedCall(.2,uh).pause(),Mm=[Ci,"visibilitychange",function(){var l=wn.innerWidth,c=wn.innerHeight;Ci.hidden?(Wk=l,qk=c):(Wk!==l||qk!==c)&&z0()},Ci,"DOMContentLoaded",uh,wn,"load",uh,wn,"resize",z0],Zb(wr),mn.forEach(function(l){return l.enable(0,1)}),s=0;s<pn.length;s+=3)Kb(Mr,pn[s],pn[s+1]),Kb(Mr,pn[s],pn[s+2])}},e.config=function(i){"limitCallbacks"in i&&(a2=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(Xb)||(Xb=r)&&setInterval(Jk,r),"ignoreMobileResize"in i&&(p2=e.isTouch===1&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(Zb(Mr)||Zb(wr,i.autoRefreshEvents||"none"),d8=(i.autoRefreshEvents+"").indexOf("resize")===-1)},e.scrollerProxy=function(i,r){var o=Eo(i),a=pn.indexOf(o),s=fh(o);~a&&pn.splice(a,s?6:2),r&&(s?Es.unshift(wn,r,hi,r,Ds,r):Es.unshift(o,r))},e.clearMatchMedia=function(i){mn.forEach(function(r){return r._ctx&&r._ctx.query===i&&r._ctx.kill(!0,!0)})},e.isInViewport=function(i,r,o){var a=(Ia(i)?Eo(i):i).getBoundingClientRect(),s=a[o?hh:ph]*r||0;return o?a.right-s>0&&a.left+s<wn.innerWidth:a.bottom-s>0&&a.top+s<wn.innerHeight},e.positionInViewport=function(i,r,o){Ia(i)&&(i=Eo(i));var a=i.getBoundingClientRect(),s=a[o?hh:ph],l=r==null?s/2:r in h_?h_[r]*s:~r.indexOf("%")?parseFloat(r)*s/100:parseFloat(r)||0;return o?(a.left+l)/wn.innerWidth:(a.top+l)/wn.innerHeight},e.killAll=function(i){if(mn.slice(0).forEach(function(o){return o.vars.id!=="ScrollSmoother"&&o.kill()}),i!==!0){var r=gh.killAll||[];gh={},r.forEach(function(o){return o()})}},e}();Gt.version="3.12.5";Gt.saveStyles=function(e){return e?W0(e).forEach(function(t){if(t&&t.style){var n=Ta.indexOf(t);n>=0&&Ta.splice(n,5),Ta.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),ut.core.getCache(t),m2())}}):Ta};Gt.revert=function(e,t){return P2(!e,t)};Gt.create=function(e,t){return new Gt(e,t)};Gt.refresh=function(e){return e?z0():(Cm||Gt.register())&&uh(!0)};Gt.update=function(e){return++pn.cache&&Cc(e===!0?2:0)};Gt.clearScrollMemory=M8;Gt.maxScroll=function(e,t){return _l(e,t?co:qi)};Gt.getScrollFunc=function(e,t){return yc(Eo(e),t?co:qi)};Gt.getById=function(e){return g2[e]};Gt.getAll=function(){return mn.filter(function(e){return e.vars.id!=="ScrollSmoother"})};Gt.isScrolling=function(){return!!is};Gt.snapDirectional=x2;Gt.addEventListener=function(e,t){var n=gh[e]||(gh[e]=[]);~n.indexOf(t)||n.push(t)};Gt.removeEventListener=function(e,t){var n=gh[e],i=n&&n.indexOf(t);i>=0&&n.splice(i,1)};Gt.batch=function(e,t){var n=[],i={},r=t.interval||.016,o=t.batchMax||1e9,a=function(c,d){var u=[],h=[],p=ut.delayedCall(r,function(){d(u,h),u=[],h=[]}).pause();return function(m){u.length||p.restart(!0),u.push(m.trigger),h.push(m),o<=u.length&&p.progress(1)}},s;for(s in t)i[s]=s.substr(0,2)==="on"&&Io(t[s])&&s!=="onRefreshInit"?a(s,t[s]):t[s];return Io(o)&&(o=o(),wr(Gt,"refresh",function(){return o=t.batchMax()})),W0(e).forEach(function(l){var c={};for(s in i)c[s]=i[s];c.trigger=l,n.push(Gt.create(c))}),n};var o8=function(t,n,i,r){return n>r?t(r):n<0&&t(0),i>r?(r-n)/(i-n):i<0?n/(n-i):1},u2=function e(t,n){n===!0?t.style.removeProperty("touch-action"):t.style.touchAction=n===!0?"auto":n?"pan-"+n+(Di.isTouch?" pinch-zoom":""):"none",t===Ds&&e(hi,n)},i_={auto:1,scroll:1},Nte=function(t){var n=t.event,i=t.target,r=t.axis,o=(n.changedTouches?n.changedTouches[0]:n).target,a=o._gsap||ut.core.getCache(o),s=ho(),l;if(!a._isScrollT||s-a._isScrollT>2e3){for(;o&&o!==hi&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(i_[(l=ns(o)).overflowY]||i_[l.overflowX]));)o=o.parentNode;a._isScroll=o&&o!==i&&!fh(o)&&(i_[(l=ns(o)).overflowY]||i_[l.overflowX]),a._isScrollT=s}(a._isScroll||r==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},P8=function(t,n,i,r){return Di.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:r=r&&Nte,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return i&&wr(Ci,Di.eventTypes[0],s8,!1,!0)},onDisable:function(){return Mr(Ci,Di.eventTypes[0],s8,!0)}})},zte=/(input|label|select|textarea)/i,a8,s8=function(t){var n=zte.test(t.target.tagName);(n||a8)&&(t._gsapAllow=!0,a8=n)},Bte=function(t){dh(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var n=t,i=n.normalizeScrollX,r=n.momentum,o=n.allowNestedScroll,a=n.onRelease,s,l,c=Eo(t.target)||Ds,d=ut.core.globals().ScrollSmoother,u=d&&d.get(),h=Ad&&(t.content&&Eo(t.content)||u&&t.content!==!1&&!u.smooth()&&u.content()),p=yc(c,qi),m=yc(c,co),g=1,v=(Di.isTouch&&wn.visualViewport?wn.visualViewport.scale*wn.visualViewport.width:wn.outerWidth)/wn.innerWidth,b=0,_=Io(r)?function(){return r(s)}:function(){return r||2.8},C,M,P=P8(c,t.type,!0,o),x=function(){return M=!1},E=bl,O=bl,S=function(){l=_l(c,qi),O=B0(Ad?1:0,l),i&&(E=B0(0,_l(c,co))),C=mh},D=function(){h._gsap.y=F0(parseFloat(h._gsap.y)+p.offset)+"px",h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(h._gsap.y)+", 0, 1)",p.offset=p.cacheID=0},I=function(){if(M){requestAnimationFrame(x);var F=F0(s.deltaY/2),X=O(p.v-F);if(h&&X!==p.v+p.offset){p.offset=X-p.v;var V=F0((parseFloat(h&&h._gsap.y)||0)-p.offset);h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+V+", 0, 1)",h._gsap.y=V+"px",p.cacheID=pn.cache,Cc()}return!0}p.offset&&D(),M=!0},T,R,k,z,W=function(){S(),T.isActive()&&T.vars.scrollY>l&&(p()>l?T.progress(1)&&p(l):T.resetTo("scrollY",l))};return h&&ut.set(h,{y:"+=0"}),t.ignoreCheck=function(N){return Ad&&N.type==="touchmove"&&I(N)||g>1.05&&N.type!=="touchstart"||s.isGesturing||N.touches&&N.touches.length>1},t.onPress=function(){M=!1;var N=g;g=F0((wn.visualViewport&&wn.visualViewport.scale||1)/v),T.pause(),N!==g&&u2(c,g>1.01?!0:i?!1:"x"),R=m(),k=p(),S(),C=mh},t.onRelease=t.onGestureStart=function(N,F){if(p.offset&&D(),!F)z.restart(!0);else{pn.cache++;var X=_(),V,G;i&&(V=m(),G=V+X*.05*-N.velocityX/.227,X*=o8(m,V,G,_l(c,co)),T.vars.scrollX=E(G)),V=p(),G=V+X*.05*-N.velocityY/.227,X*=o8(p,V,G,_l(c,qi)),T.vars.scrollY=O(G),T.invalidate().duration(X).play(.01),(Ad&&T.vars.scrollY>=l||V>=l-1)&&ut.to({},{onUpdate:W,duration:X})}a&&a(N)},t.onWheel=function(){T._ts&&T.pause(),ho()-b>1e3&&(C=0,b=ho())},t.onChange=function(N,F,X,V,G){if(mh!==C&&S(),F&&i&&m(E(V[2]===F?R+(N.startX-N.x):m()+F-V[1])),X){p.offset&&D();var Y=G[2]===X,ie=Y?k+N.startY-N.y:p()+X-G[1],te=O(ie);Y&&ie!==te&&(k+=te-ie),p(te)}(X||F)&&Cc()},t.onEnable=function(){u2(c,i?!1:"x"),Gt.addEventListener("refresh",W),wr(wn,"resize",W),p.smooth&&(p.target.style.scrollBehavior="auto",p.smooth=m.smooth=!1),P.enable()},t.onDisable=function(){u2(c,!0),Mr(wn,"resize",W),Gt.removeEventListener("refresh",W),P.kill()},t.lockAxis=t.lockAxis!==!1,s=new Di(t),s.iOS=Ad,Ad&&!p()&&p(1),Ad&&ut.ticker.add(bl),z=s._dc,T=ut.to(s,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:x8(p,p(),function(){return T.pause()})},onUpdate:Cc,onComplete:z.vars.onComplete}),s};Gt.sort=function(e){return mn.sort(e||function(t,n){return(t.vars.refreshPriority||0)*-1e6+t.start-(n.start+(n.vars.refreshPriority||0)*-1e6)})};Gt.observe=function(e){return new Di(e)};Gt.normalizeScroll=function(e){if(typeof e>"u")return Do;if(e===!0&&Do)return Do.enable();if(e===!1){Do&&Do.kill(),Do=e;return}var t=e instanceof Di?e:Bte(e);return Do&&Do.target===t.target&&Do.kill(),fh(t.target)&&(Do=t),t};Gt.core={_getVelocityProp:Yb,_inputObserver:P8,_scrollers:pn,_proxies:Es,bridge:{ss:function(){is||vh("scrollStart"),is=ho()},ref:function(){return uo}}};m8()&&ut.registerPlugin(Gt);var Vte=["sectionAnimation"];en.registerPlugin(Gt);var O8=(()=>{let t=class t{constructor(){this.currentSlideIndex=0}ngAfterViewInit(){this.playAboutSectionAnimation()}playAboutSectionAnimation(){let i=this.sectionAnimation.nativeElement;en.timeline({scrollTrigger:{trigger:i,start:"top center",end:()=>`+=${i.offsetHeight}`,toggleActions:"play none none none"},defaults:{duration:.4,ease:"power2.out"}}).from(i.querySelector(".title-label"),{opacity:0}).from(i.querySelector(".title"),{opacity:0},"-=0.25").from(i.querySelector(" .line"),{width:0,opacity:0},"<0.1").from(i.querySelector(" .img-sm"),{scale:0,opacity:0},"<0.1").from(i.querySelectorAll(".para"),{opacity:0,stagger:.1}).from(i.querySelector(".big-img"),{opacity:0},"<0.1").from(i.querySelector(".btn-learn-more"),{opacity:0},"<0.1").from(i.querySelectorAll(".about-us-list li"),{opacity:0,scale:.5,stagger:.1},"<0.2").from(i.querySelectorAll(".about-us-list li .number"),{textContent:1,ease:"power1.in",stagger:.1,snap:{textContent:1}},"-=0.1")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["home-about"]],viewQuery:function(r,o){if(r&1&&dn(Vte,7),r&2){let a;Kt(a=Jt())&&(o.sectionAnimation=a.first)}},standalone:!0,features:[gt],decls:89,vars:0,consts:[["sectionAnimation",""],["rotatingElement",""],[1,"home-aboutus"],[1,"app-container"],[1,"about-us-top","row"],[1,"about-us-top-left","col-md-6"],[1,"section-title"],[1,"title-label"],[1,"title"],[1,"line"],[1,"img-sm"],["src","./../../../../assets/images/pages/home/about-img.jpg","width","100%","height","100%","alt","about image"],[1,"underline"],[1,"para"],[1,"btn-primary","btn-learn-more","btn-big"],[1,"link-icon"],[0,"xlink","href","#arrowUpRightIcon"],[1,"about-us-top-right","col-md-6"],["src","./../../../../assets/images/pages/home/about-img.jpg","alt","about image",1,"big-img"],[1,"about-us-bottom"],[1,"counter-list"],[1,"counter-item"],["src","./../../../../assets/images/pages/home/card-line.png","alt","",1,"border-line"],[1,"item-content"],[1,"card-icon"],["src","./../../../../assets/images/pages/home/about-icons/webPageIcon.png","alt",""],[1,"count"],[1,"number"],["src","./../../../../assets/images/pages/home/about-icons/revenueIcon.png","alt",""],["src","./../../../../assets/images/pages/home/about-icons/cmsIcon.png","alt",""],["src","./../../../../assets/images/pages/home/about-icons/diffProjectIcon.png","alt",""],["src","./../../../../assets/images/pages/home/about-icons/teamMemberIcon.png","alt",""],[1,"btn-primary","btn-learn-more","btn-small"]],template:function(r,o){r&1&&(f(0,"section",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"span",7),w(7," Who is Seirim "),y(),f(8,"h2",8),w(9,"SEIRIM is a System"),y()(),A(10,"div",9),f(11,"div",10),A(12,"img",11),y(),A(13,"div",12),f(14,"p",13),w(15,"Since founding in 2012, we have been dedicated to always improving how powerfully we code, design and deliver websites, cybersecurity and IT solutions."),y(),f(16,"p",13),w(17,"We love our work and love to work well for our esteemed clients."),y(),f(18,"button",14)(19,"span"),w(20," Learn more "),y(),Z(),f(21,"svg",15),A(22,"use",16),y()()(),ee(),f(23,"div",17),A(24,"img",18),y()(),f(25,"div",19)(26,"ul",20)(27,"li",21),A(28,"img",22),f(29,"div",23)(30,"div",24,1),A(32,"img",25),y(),f(33,"h6",26)(34,"span",27),w(35,"375"),y(),w(36,"+"),y(),f(37,"p"),w(38,"Website and IT Projects Delivered."),y()()(),f(39,"li",21),A(40,"img",22),f(41,"div",23)(42,"div",24),A(43,"img",28),y(),f(44,"h6",26),w(45,"$"),f(46,"span",27),w(47,"1.6"),y(),w(48,"B"),y(),f(49,"p"),w(50,"Largest Client Revenue Level."),y()()(),f(51,"li",21),A(52,"img",22),f(53,"div",23)(54,"div",24),A(55,"img",29),y(),f(56,"h6",26)(57,"span",27),w(58,"2.8"),y(),w(59,"M"),y(),f(60,"p"),w(61,"Products Managed by our CMS."),y()()(),f(62,"li",21),A(63,"img",22),f(64,"div",23)(65,"div",24),A(66,"img",30),y(),f(67,"h6",26)(68,"span",27),w(69,"20"),y(),w(70,"+"),y(),f(71,"p"),w(72,"Languages of Different Projects."),y()()(),f(73,"li",21),A(74,"img",22),f(75,"div",23)(76,"div",24),A(77,"img",31),y(),f(78,"h6",26)(79,"span",27),w(80,"25"),y(),w(81,"+"),y(),f(82,"p"),w(83,"Team Members Across China and Southeast Asia."),y()()()()(),f(84,"button",32)(85,"span"),w(86," Learn more "),y(),Z(),f(87,"svg",15),A(88,"use",16),y()()()())},styles:[".home-aboutus[_ngcontent-%COMP%]{padding:6.75rem 0;background:var(--bg-2);will-change:transform}.home-aboutus[_ngcontent-%COMP%]   .btn-learn-more[_ngcontent-%COMP%]{margin-top:2.5rem}.home-aboutus[_ngcontent-%COMP%]   .btn-small[_ngcontent-%COMP%]{display:none}.home-aboutus[_ngcontent-%COMP%]   .about-us-top[_ngcontent-%COMP%]{justify-content:space-between}.home-aboutus[_ngcontent-%COMP%]   .about-us-top[_ngcontent-%COMP%]   .about-us-top-left[_ngcontent-%COMP%]{max-width:34rem}.home-aboutus[_ngcontent-%COMP%]   .about-us-top[_ngcontent-%COMP%]   .about-us-top-left[_ngcontent-%COMP%]   .img-sm[_ngcontent-%COMP%]{display:none;margin:1.2rem 0;width:100%}.home-aboutus[_ngcontent-%COMP%]   .about-us-top[_ngcontent-%COMP%]   .about-us-top-left[_ngcontent-%COMP%]   .img-sm[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.home-aboutus[_ngcontent-%COMP%]   .about-us-top[_ngcontent-%COMP%]   .about-us-top-left[_ngcontent-%COMP%]   .para[_ngcontent-%COMP%]{color:var(--white);font-size:1rem;font-weight:400;line-height:30px;letter-spacing:.85px;margin-top:1rem}.home-aboutus[_ngcontent-%COMP%]   .about-us-top[_ngcontent-%COMP%]   .about-us-top-right[_ngcontent-%COMP%]{max-width:41rem}.home-aboutus[_ngcontent-%COMP%]   .about-us-top[_ngcontent-%COMP%]   .about-us-top-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.home-aboutus[_ngcontent-%COMP%]   .about-us-bottom[_ngcontent-%COMP%]{margin-top:5rem}@media screen and (max-width: 767px){.home-aboutus[_ngcontent-%COMP%]{padding:5rem 0}.home-aboutus[_ngcontent-%COMP%]   .btn-big[_ngcontent-%COMP%]{display:none}.home-aboutus[_ngcontent-%COMP%]   .btn-small[_ngcontent-%COMP%]{display:block}.home-aboutus[_ngcontent-%COMP%]   .about-us-top[_ngcontent-%COMP%]   .img-sm[_ngcontent-%COMP%]{display:block!important}.home-aboutus[_ngcontent-%COMP%]   .about-us-top[_ngcontent-%COMP%]   .about-us-top-left[_ngcontent-%COMP%]{max-width:100%}.home-aboutus[_ngcontent-%COMP%]   .about-us-top[_ngcontent-%COMP%]   .about-us-top-right[_ngcontent-%COMP%]{display:none}.home-aboutus[_ngcontent-%COMP%]   .about-us-bottom[_ngcontent-%COMP%]{margin-top:2.75rem}}"]});let e=t;return e})();var S8=(()=>{let t=class t{ngAfterViewInit(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["home-blog"]],standalone:!0,features:[gt],decls:70,vars:0,consts:[[1,"home-blog"],[1,"app-container"],[1,"blog-top"],[1,"section-title"],[1,"title-label"],[1,"title"],[1,"line"],[1,"btn-trans","d-sm-none","d-md-block","mt-4"],[1,"btn-label"],[1,"link-icon"],[0,"xlink","href","#arrowUpRightIcon"],[1,"blog-hero-card-wrapper"],[1,"row","g-4","glutter-2"],[1,"col-xxl-8","col-lg-7","col-md-6"],[1,"blog-hero-card","mb-5","mb-md-0"],[1,"blog-card-img","mb-3"],["src","../../../../assets/images/pages/home/blog-main-card.png","width","100%","height","100%","alt","blog-hero"],[1,"blog-card-content"],[1,"blog-date"],[1,"blog-title","box-title"],[1,"blog-para"],[0,"xlink","href","#arrowRightIconOne"],[1,"col-xxl-4","col-lg-5","col-md-6"],[1,"blog-hero-card-list"],[1,"blog-her-card","d-flex","column-gap-3","align-items-start"],[1,"blog-card-img"],["src","../../../../assets/images/pages/home/blog-card-1.png","width","100%","height","100%","alt","blog-hero"],["src","../../../../assets/images/pages/home/blog-card-2.png","width","100%","height","100%","alt","blog-hero"],["src","../../../../assets/images/pages/home/blog-card-3.png","width","100%","height","100%","alt","blog-hero"],[1,"btn-trans","mt-5","d-sm-block","d-md-none","m-auto"]],template:function(r,o){r&1&&(f(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),w(5,"get latest updates"),y(),f(6,"h2",5),w(7,"News & Blog"),y(),A(8,"div",6),y(),f(9,"button",7)(10,"span",8),w(11,"view all articles"),y(),Z(),f(12,"svg",9),A(13,"use",10),y()()(),ee(),f(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"div",15),A(19,"img",16),y(),f(20,"div",17)(21,"span",18),w(22,"04 Aug 2023 - Cyber Security"),y(),f(23,"h3",19),w(24,"Cybersecurity: Protecting Your Digital Life in an Online World"),y(),f(25,"p",20),w(26,"Accumsan lacus vel facilisis volutpat est. Id diam vel quam elementum. Integer quis auctor elit sed vulputate mi sit nulla porttitor massa id neque aliquam vestibulum."),y(),Z(),f(27,"svg"),A(28,"use",21),y()()()(),ee(),f(29,"div",22)(30,"div",23)(31,"ul")(32,"li")(33,"div",24)(34,"div",25),A(35,"img",26),y(),f(36,"div",17)(37,"span",18),w(38,"04 Aug 2023 - Cyber Security"),y(),f(39,"h3",19),w(40,"Cybersecurity: Protecting Your Digital Life in an Online World"),y(),Z(),f(41,"svg"),A(42,"use",21),y()()()(),ee(),f(43,"li")(44,"div",24)(45,"div",25),A(46,"img",27),y(),f(47,"div",17)(48,"span",18),w(49,"04 Aug 2023 - Cyber Security"),y(),f(50,"h3",19),w(51,"Cybersecurity: Protecting Your Digital Life in an Online World"),y(),Z(),f(52,"svg"),A(53,"use",21),y()()()(),ee(),f(54,"li")(55,"div",24)(56,"div",25),A(57,"img",28),y(),f(58,"div",17)(59,"span",18),w(60,"04 Aug 2023 - Cyber Security"),y(),f(61,"h3",19),w(62,"Cybersecurity: Protecting Your Digital Life in an Online World"),y(),Z(),f(63,"svg"),A(64,"use",21),y()()()()()()()(),ee(),f(65,"button",29)(66,"span",8),w(67,"view all articles"),y(),Z(),f(68,"svg",9),A(69,"use",10),y()()()()())},styles:[".home-blog[_ngcontent-%COMP%]{padding:6rem 0;background:#0d101e}.home-blog[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]{margin-top:5rem}.home-blog[_ngcontent-%COMP%]   .blog-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1.6rem}.home-blog[_ngcontent-%COMP%]   .blog-top[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-date[_ngcontent-%COMP%]{color:var(--gray-10);font-size:.625rem;font-style:normal;font-weight:400;line-height:100%;letter-spacing:.0625rem;text-transform:uppercase}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.33069rem;height:1.08875rem;--fill-color: var(--tech-blue-1)}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]{cursor:pointer}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]:hover   .box-title[_ngcontent-%COMP%]{color:var(--tech-blue-1)!important}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .blog-card-img[_ngcontent-%COMP%]{width:100%;height:22.1875rem;overflow:hidden}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .blog-card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .blog-card-content[_ngcontent-%COMP%]   .blog-title[_ngcontent-%COMP%]{color:var(--white);font-size:1.875rem;font-weight:500;line-height:normal}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .blog-card-content[_ngcontent-%COMP%]   .blog-para[_ngcontent-%COMP%]{color:var(--white);font-size:1.0625rem;font-weight:400;line-height:1.5rem;letter-spacing:.05313rem}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid #394164;padding:2rem 0}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .blog-her-card[_ngcontent-%COMP%]{cursor:pointer}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .blog-her-card[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .blog-her-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .blog-her-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .blog-her-card[_ngcontent-%COMP%]:hover   .box-title[_ngcontent-%COMP%]{color:var(--tech-blue-1)!important}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .blog-her-card[_ngcontent-%COMP%]   .blog-card-img[_ngcontent-%COMP%]{min-width:7.4375rem;height:7.4375rem;overflow:hidden}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .blog-her-card[_ngcontent-%COMP%]   .blog-card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .blog-her-card[_ngcontent-%COMP%]   .blog-card-content[_ngcontent-%COMP%]{margin-top:-.6rem}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .blog-her-card[_ngcontent-%COMP%]   .blog-card-content[_ngcontent-%COMP%]   .blog-title[_ngcontent-%COMP%]{color:var(--white);font-size:1.375rem;font-style:normal;font-weight:500;line-height:normal;margin-bottom:.1rem}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{padding-top:0}.home-blog[_ngcontent-%COMP%]   .blog-hero-card-wrapper[_ngcontent-%COMP%]   .blog-hero-card-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none;padding-bottom:0}@media screen and (max-width: 991px){.home-blog[_ngcontent-%COMP%]{padding:3.5rem 0}}@media screen and (max-width: 767px){.home-blog[_ngcontent-%COMP%]   .blog-top[_ngcontent-%COMP%]{flex-direction:column;justify-content:start}}"]});let e=t;return e})();var m_=(()=>{let t=class t{ngAfterViewInit(){$(".dev-slider").slick({slidesToShow:1,slidesToScroll:1,fade:!0,asNavFor:".dev-slider-img",prevArrow:$(".btn-dev-prev"),nextArrow:$(".btn-dev-next"),dots:!0,appendDots:$(".dev-action-pagination"),customPaging:function(i,r){return'<div class="slider-pagination-bullet"></div>'}}),$(".dev-slider-img").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".dev-slider",fade:!0,arrows:!1})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["development-slider"]],standalone:!0,features:[gt],decls:56,vars:0,consts:[[1,"development-slider","row","g-4","g-lg-5","flex-column-reverse","flex-md-row","align-items-md-center"],[1,"slider-content","col-md-4"],[1,"slider-content-wrapper","dev-slider"],[1,"slider-item"],[1,"title-label"],[1,"mt-2"],[1,"btn-primary","mt-4"],[1,"btn-label"],[1,"link-icon"],[0,"xlink","href","#arrowUpRightIcon"],[1,"actions","w-100","d-flex","align-items-center","justify-content-md-between"],[1,"action-slide","d-flex","align-items-center"],[1,"btn-dev-prev","btn-study-prev"],[0,"xlink","href","#arrowRightIconOne"],[1,"btn-dev-next","btn-study-next","ms-2"],[1,"dev-action-pagination","me-3"],[1,"slider-image","col-md-8"],[1,"slider-image-wrapper","dev-slider-img"],[1,"slider-img-item"],["src","./../../../../assets/images/pages/home/dev-showcase-1.png","alt",""],["src","https://png.pngtree.com/thumb_back/fh260/background/20200714/pngtree-modern-double-color-futuristic-neon-background-image_351866.jpg","alt",""]],template:function(r,o){r&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),w(5,"web development"),y(),f(6,"h3"),w(7,"GIVI"),y(),f(8,"p",5),w(9,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo. Volutpat commodo sed egestas egestas fringilla phasellus."),y(),f(10,"button",6)(11,"span",7),w(12,"learn more"),y(),Z(),f(13,"svg",8),A(14,"use",9),y()()(),ee(),f(15,"div",3)(16,"div",4),w(17,"E-COMMERCE"),y(),f(18,"h3"),w(19,"Seirim"),y(),f(20,"p",5),w(21,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo. Volutpat commodo sed egestas egestas ."),y(),f(22,"button",6)(23,"span",7),w(24,"learn more"),y(),Z(),f(25,"svg",8),A(26,"use",9),y()()(),ee(),f(27,"div",3)(28,"div",4),w(29,"E-Development"),y(),f(30,"h3"),w(31,"Seirim"),y(),f(32,"p",5),w(33,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo. Volutpat commodo sed egestas egestas ."),y(),f(34,"button",6)(35,"span",7),w(36,"learn more"),y(),Z(),f(37,"svg",8),A(38,"use",9),y()()()(),ee(),f(39,"div",10)(40,"div",11)(41,"button",12),Z(),f(42,"svg"),A(43,"use",13),y()(),ee(),f(44,"button",14),Z(),f(45,"svg"),A(46,"use",13),y()()(),ee(),A(47,"div",15),y()(),f(48,"div",16)(49,"div",17)(50,"div",18),A(51,"img",19),y(),f(52,"div",18),A(53,"img",20),y(),f(54,"div",18),A(55,"img",20),y()()()())},styles:['.development-slider[_ngcontent-%COMP%]{overflow:hidden}.development-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%], .development-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]{background:none;padding:.4rem;border:1px solid #2c3b71;display:flex;align-items:center;position:relative;transition:all .3s ease-in-out}.development-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]:after, .development-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;bottom:0;width:0%;height:100%;background:transparent;transition:all .3s ease-in-out;z-index:1}.development-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .development-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem;z-index:11}.development-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]:hover:after, .development-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]:hover:after{background:var(--lineargradient-bg);width:100%}.development-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .development-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{--fill-color: #fff}.development-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]{transform:rotate(180deg)}.development-slider[_ngcontent-%COMP%]   .dev-action-pagination[_ngcontent-%COMP%]{position:relative;counter-reset:pagination-counter}.development-slider[_ngcontent-%COMP%]   .dev-action-pagination[_ngcontent-%COMP%]     .slick-dots{display:flex}.development-slider[_ngcontent-%COMP%]   .dev-action-pagination[_ngcontent-%COMP%]     .slick-dots .slider-pagination-bullet{opacity:1;background:transparent;color:#7e7e7e;font-size:.75rem;font-weight:500;display:inline-flex;align-items:center;justify-content:center;border-radius:0;width:auto!important;height:auto!important;margin:0!important;text-indent:-300px;overflow:hidden;transition:.5s cubic-bezier(.78,.27,.43,.9);position:relative;counter-increment:pagination-counter;cursor:pointer}.development-slider[_ngcontent-%COMP%]   .dev-action-pagination[_ngcontent-%COMP%]     .slick-dots .slider-pagination-bullet:before{content:counter(pagination-counter,decimal-leading-zero);position:relative;display:block;width:100%;transform:translateY(0) scale(1);transition:.5s cubic-bezier(.78,.27,.43,.9);text-indent:0;margin:0 .4rem}.development-slider[_ngcontent-%COMP%]   .dev-action-pagination[_ngcontent-%COMP%]     .slick-dots .slider-pagination-bullet:after{content:"";position:relative;display:inline-block;flex:1 0 auto;width:0px;height:1px;background-color:#0782f4;transition:width .5s cubic-bezier(.78,.27,.43,.9)}.development-slider[_ngcontent-%COMP%]   .dev-action-pagination[_ngcontent-%COMP%]     .slick-dots .slick-active .slider-pagination-bullet:before{transform:translateY(0) scale(1.5);color:#0782f4}.development-slider[_ngcontent-%COMP%]   .dev-action-pagination[_ngcontent-%COMP%]     .slick-dots .slick-active .slider-pagination-bullet:after{width:3.5rem}.development-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]{position:relative;min-height:32rem;height:100%}.development-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]   .slider-content-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]{margin-top:4.2rem}.development-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]   .slider-content-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--white);font-size:3.125rem;font-weight:500;text-transform:uppercase;margin:0}.development-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]   .slider-content-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:.9375rem;font-weight:400;line-height:1.875rem;letter-spacing:.04688rem;margin:0;max-width:24rem}.development-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{position:absolute;bottom:0}.development-slider[_ngcontent-%COMP%]   .slider-image[_ngcontent-%COMP%]{position:relative;min-height:32rem;height:100%}.development-slider[_ngcontent-%COMP%]   .slider-image[_ngcontent-%COMP%]   .slider-image-wrapper[_ngcontent-%COMP%]   .slider-img-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32rem;width:100%;object-fit:cover}@media screen and (max-width: 767px){.development-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]{min-height:100%;max-width:100%}.development-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]   .slider-content-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]{margin-top:0rem}.development-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{position:relative;margin-top:2.5rem}.development-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .dev-action-pagination[_ngcontent-%COMP%]{display:none}.development-slider[_ngcontent-%COMP%]   .slider-image[_ngcontent-%COMP%]{min-height:18rem}.development-slider[_ngcontent-%COMP%]   .slider-image[_ngcontent-%COMP%]   .slider-image-wrapper[_ngcontent-%COMP%]   .slider-img-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18rem}}']});let e=t;return e})();var Ute=["videoElement"],f_=(()=>{let t=class t{constructor(){this.isPlaying=!1}toggleVideo(){let i=this.videoElement.nativeElement;i.paused?(i.play(),this.isPlaying=!0):(i.pause(),this.isPlaying=!1)}ngOnInit(){}ngAfterViewInit(){$(".video-marketing-slider").slick({slidesToShow:1,slidesToScroll:1,fade:!0,asNavFor:".marketing-slider-content , .marketing-slider-thumb",prevArrow:$(".btn-marketing-prev"),nextArrow:$(".btn-marketing-next"),dots:!0,appendDots:$(".marketing-action-pagination"),customPaging:function(i,r){return'<div class="slider-pagination-bullet"></div>'}}),$(".marketing-slider-content").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".video-marketing-slider , .marketing-slider-thumb",fade:!0,arrows:!1}),$(".marketing-slider-thumb").slick({slidesToShow:3,slidesToScroll:1,asNavFor:".video-marketing-slider",arrows:!1,focusOnSelect:!0,infinite:!0,responsive:[{breakpoint:1350,settings:{slidesToShow:3}},{breakpoint:1100,settings:{slidesToShow:2}},{breakpoint:767,settings:{slidesToShow:1}}]})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["marketing-slider"]],viewQuery:function(r,o){if(r&1&&dn(Ute,5),r&2){let a;Kt(a=Jt())&&(o.videoElement=a.first)}},standalone:!0,features:[gt],decls:103,vars:3,consts:[["videoElement",""],[1,"marketing-slider"],[1,"video-display-content","mt-1","mb-3"],[1,"video-display-wrapper","video-marketing-slider"],[1,"slider-item"],[1,"video-display"],["autoplay","","muted","","loop",""],["src","./../../../../assets/videos/pages/home/video-1/video.mp4","type","video/mp4"],[1,"playMarketingVideoBtn",3,"click"],["muted","","loop",""],["src","./../../../../assets/videos/pages/home/video-2/video.mp4","type","video/mp4"],["src","./../../../../assets/videos/pages/home/video-3/video.mp4","type","video/mp4"],[1,"video-content-wrapper"],[1,"row","g-md-5","justify-content-md-between"],[1,"col-md-6"],[1,"marketing-slider-content"],[1,"box","d-flex","align-items-end"],[1,"box-content"],[1,"title-label"],[1,"content"],[1,"box-title","mb-1"],[1,"btn-link","ms-md-4","mt-2"],[0,"xlink","href","#arrowRightIconOne"],[1,"video-item-list","marketing-slider-thumb"],[1,"list-item"],[1,"video-thumb"],["src","./../../../../assets/videos/pages/home/video-1/thumb.jpg","alt",""],[1,"btn-play"],[1,"play-icon"],[0,"xlink","href","#playBtnIcon"],[1,"pause-icon"],[0,"xlink","href","#pauseBtnIcon"],["src","./../../../../assets/videos/pages/home/video-2/thumb.jpg","alt",""],["src","./../../../../assets/videos/pages/home/video-3/thumb.jpg","alt",""],[1,"marketing-pagination","mt-2","w-100","d-flex","align-items-center","justify-content-md-end"],[1,"marketing-action-pagination"],[1,"action-slide","d-flex","align-items-center"],[1,"btn-marketing-prev","btn-study-prev"],[1,"btn-marketing-next","btn-study-next","ms-2"]],template:function(r,o){if(r&1){let a=J1();f(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"video",6,0),A(7,"source",7),w(8," Your browser does not support HTML5 video. "),y(),f(9,"button",8),Cn("click",function(){return jn(a),Hn(o.toggleVideo())}),Z(),f(10,"svg"),A(11,"use"),y()()()(),ee(),f(12,"div",4)(13,"div",5)(14,"video",9),A(15,"source",10),w(16," Your browser does not support HTML5 video. "),y(),f(17,"button",8),Cn("click",function(){return jn(a),Hn(o.toggleVideo())}),Z(),f(18,"svg"),A(19,"use"),y()()()(),ee(),f(20,"div",4)(21,"div",5)(22,"video",9),A(23,"source",11),w(24," Your browser does not support HTML5 video. "),y(),f(25,"button",8),Cn("click",function(){return jn(a),Hn(o.toggleVideo())}),Z(),f(26,"svg"),A(27,"use"),y()()()()()(),ee(),f(28,"div",12)(29,"div",13)(30,"div",14)(31,"div",15)(32,"div",16)(33,"div",17)(34,"div",18),w(35," Music production "),y(),f(36,"div",19)(37,"h6",20),w(38,"GITI Promotional Video "),y(),f(39,"p"),w(40," Lacus vestibulum sed arcu non odio euismod lacinia at quis. Pellentesque id nibh tortor id. Ullamcorper sit amet risus nullam eget. "),y()()(),f(41,"button",21),Z(),f(42,"svg"),A(43,"use",22),y()()(),ee(),f(44,"div",16)(45,"div",17)(46,"div",18),w(47," video production "),y(),f(48,"div",19)(49,"h6",20),w(50,"GITI Promotional Video "),y(),f(51,"p"),w(52," Lacus vestibulum sed arcu non odio euismod lacinia at quis. Pellentesque id nibh tortor id. Ullamcorper sit amet risus nullam eget. "),y()()(),f(53,"button",21),Z(),f(54,"svg"),A(55,"use",22),y()()(),ee(),f(56,"div",16)(57,"div",17)(58,"div",18),w(59," Waterfall production "),y(),f(60,"div",19)(61,"h6",20),w(62,"Promotional Video "),y(),f(63,"p"),w(64," Lacus vestibulum sed arcu non odio euismod lacinia at quis. Pellentesque id nibh tortor id. Ullamcorper sit amet risus nullam eget. "),y()()(),f(65,"button",21),Z(),f(66,"svg"),A(67,"use",22),y()()()()(),ee(),f(68,"div",14)(69,"ul",23)(70,"li",24)(71,"div",25),A(72,"img",26),f(73,"div",27),Z(),f(74,"svg",28),A(75,"use",29),y(),f(76,"svg",30),A(77,"use",31),y()()()(),ee(),f(78,"li",24)(79,"div",25),A(80,"img",32),f(81,"div",27),Z(),f(82,"svg",28),A(83,"use",29),y(),f(84,"svg",30),A(85,"use",31),y()()()(),ee(),f(86,"li",24)(87,"div",25),A(88,"img",33),f(89,"div",27),Z(),f(90,"svg",28),A(91,"use",29),y(),f(92,"svg",30),A(93,"use",31),y()()()()(),ee(),f(94,"div",34),A(95,"div",35),y(),f(96,"div",36)(97,"button",37),Z(),f(98,"svg"),A(99,"use",22),y()(),ee(),f(100,"button",38),Z(),f(101,"svg"),A(102,"use",22),y()()()()()()()}r&2&&(nn(11),dc("href",o.isPlaying?"#pauseBtnIcon":"#playIcon",null,"xlink"),nn(8),dc("href",o.isPlaying?"#pauseBtnIcon":"#playIcon",null,"xlink"),nn(8),dc("href",o.isPlaying?"#pauseBtnIcon":"#playIcon",null,"xlink"))},styles:['.marketing-slider[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{min-width:1rem;max-width:1rem}.marketing-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]{margin-top:2.5rem}.marketing-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%], .marketing-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]{background:none;padding:.4rem;border:1px solid #2c3b71;display:flex;align-items:center;position:relative;transition:all .3s ease-in-out}.marketing-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]:after, .marketing-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;bottom:0;width:0%;height:100%;background:transparent;transition:all .3s ease-in-out;z-index:1}.marketing-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .marketing-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem;z-index:11}.marketing-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]:hover:after, .marketing-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]:hover:after{background:var(--lineargradient-bg);width:100%}.marketing-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .marketing-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{--fill-color: #fff}.marketing-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]{transform:rotate(180deg)}.marketing-slider[_ngcontent-%COMP%]   .marketing-action-pagination[_ngcontent-%COMP%]{position:relative;counter-reset:pagination-counter}.marketing-slider[_ngcontent-%COMP%]   .marketing-action-pagination[_ngcontent-%COMP%]     .slick-dots{display:flex}.marketing-slider[_ngcontent-%COMP%]   .marketing-action-pagination[_ngcontent-%COMP%]     .slick-dots .slider-pagination-bullet{opacity:1;background:transparent;color:#7e7e7e;font-size:.75rem;font-weight:500;display:inline-flex;align-items:center;justify-content:center;border-radius:0;width:auto!important;height:auto!important;margin:0!important;text-indent:-300px;overflow:hidden;transition:.5s cubic-bezier(.78,.27,.43,.9);position:relative;counter-increment:pagination-counter;cursor:pointer}.marketing-slider[_ngcontent-%COMP%]   .marketing-action-pagination[_ngcontent-%COMP%]     .slick-dots .slider-pagination-bullet:before{content:counter(pagination-counter,decimal-leading-zero);position:relative;display:block;width:100%;transform:translateY(0) scale(1);transition:.5s cubic-bezier(.78,.27,.43,.9);text-indent:0;margin:0 .4rem}.marketing-slider[_ngcontent-%COMP%]   .marketing-action-pagination[_ngcontent-%COMP%]     .slick-dots .slider-pagination-bullet:after{content:"";position:relative;display:inline-block;flex:1 0 auto;width:0px;height:1px;background-color:#0782f4;transition:width .5s cubic-bezier(.78,.27,.43,.9)}.marketing-slider[_ngcontent-%COMP%]   .marketing-action-pagination[_ngcontent-%COMP%]     .slick-dots .slick-active .slider-pagination-bullet:before{transform:translateY(0) scale(1.5);color:#0782f4}.marketing-slider[_ngcontent-%COMP%]   .marketing-action-pagination[_ngcontent-%COMP%]     .slick-dots .slick-active .slider-pagination-bullet:after{width:3.5rem}.marketing-slider[_ngcontent-%COMP%]   .slick-slide[_ngcontent-%COMP%]{background:var(--white)}.marketing-slider[_ngcontent-%COMP%]   .video-display[_ngcontent-%COMP%]{position:relative;overflow:hidden}.marketing-slider[_ngcontent-%COMP%]   .video-display[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;opacity:.1;background:#000;mix-blend-mode:soft-light}.marketing-slider[_ngcontent-%COMP%]   .video-display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:32rem;object-fit:cover}.marketing-slider[_ngcontent-%COMP%]   .video-display[_ngcontent-%COMP%]   .playMarketingVideoBtn[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:99;width:4rem;height:4rem;border:1px solid #d9d9d9;border-radius:50%;display:flex;align-items:center;justify-content:center;background-color:transparent;color:#fff;cursor:pointer}.marketing-slider[_ngcontent-%COMP%]   .video-display[_ngcontent-%COMP%]   .playMarketingVideoBtn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem;fill:#fff}.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .video-item-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{cursor:pointer}.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .video-item-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .video-thumb[_ngcontent-%COMP%]{position:relative;overflow:hidden;border:2px solid transparent;width:fit-content;transition:.3s all ease-in-out}.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .video-item-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .video-thumb[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;opacity:.3;background:#000}.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .video-item-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .video-thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:8.5rem;object-fit:cover}.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .video-item-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .video-thumb[_ngcontent-%COMP%]   .btn-play[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:99;width:4.2rem;height:4.2rem;border-radius:50%;display:flex;align-items:center;justify-content:center;background-color:transparent;color:#fff;cursor:pointer;transition:.3s all ease-in-out}.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .video-item-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .video-thumb[_ngcontent-%COMP%]   .btn-play[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff}.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .video-item-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .video-thumb[_ngcontent-%COMP%]   .btn-play[_ngcontent-%COMP%]   .play-icon[_ngcontent-%COMP%]{width:3.125rem;height:3.125rem;display:block}.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .video-item-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .video-thumb[_ngcontent-%COMP%]   .btn-play[_ngcontent-%COMP%]   .pause-icon[_ngcontent-%COMP%]{display:none;width:.875rem;height:1.25rem}.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .video-item-list[_ngcontent-%COMP%]     .slick-list{margin:0 -10px}.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .video-item-list[_ngcontent-%COMP%]     .slick-list .slick-slide{margin:0 10px}.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .video-item-list[_ngcontent-%COMP%]     .slick-list .slick-current .video-thumb{border:2px solid #0782f4!important}.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .video-item-list[_ngcontent-%COMP%]     .slick-list .slick-current .video-thumb .btn-play .play-icon{display:none!important}.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .video-item-list[_ngcontent-%COMP%]     .slick-list .slick-current .video-thumb .btn-play .pause-icon{display:block!important}.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%]{color:#000;font-size:2.1875rem;font-weight:500;line-height:2.5rem;text-transform:capitalize;margin:0}.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:.9375rem;font-weight:400;line-height:1.875rem;letter-spacing:.04688rem;margin:0}@media screen and (min-width: 767px){.marketing-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%], .marketing-slider[_ngcontent-%COMP%]   .marketing-pagination[_ngcontent-%COMP%]{display:none!important}}@media screen and (max-width: 767px){.marketing-slider[_ngcontent-%COMP%]   .video-content-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start!important}.marketing-slider[_ngcontent-%COMP%]   .video-item-list[_ngcontent-%COMP%], .marketing-slider[_ngcontent-%COMP%]   .marketing-action-pagination[_ngcontent-%COMP%]{display:none}.marketing-slider[_ngcontent-%COMP%]   .video-display[_ngcontent-%COMP%]{height:17rem}.marketing-slider[_ngcontent-%COMP%]   .marketing-pagination[_ngcontent-%COMP%]{display:none!important}}']});let e=t;return e})();var jte=["sectionBgAnimation"],E8=(()=>{let t=class t{ngAfterViewInit(){$(".blogSliderHome").slick({centerMode:!0,centerPadding:"120px",slidesToShow:4,speed:300,prevArrow:$(".blogHome-button-prev"),nextArrow:$(".blogHome-button-next"),responsive:[{breakpoint:1600,settings:{centerMode:!0,centerPadding:"80px",slidesToShow:3}},{breakpoint:1200,settings:{centerMode:!0,centerPadding:"80px",slidesToShow:2}},{breakpoint:992,settings:{centerMode:!0,centerPadding:"50px",slidesToShow:2}},{breakpoint:768,settings:{centerMode:!0,centerPadding:"50px",slidesToShow:1}},{breakpoint:480,settings:{centerMode:!0,centerPadding:"0px",slidesToShow:1}}]}),this.playCaseStudyContentAnimation()}playCaseStudyContentAnimation(){let i=this.sectionBgAnimation.nativeElement;en.timeline({scrollTrigger:{trigger:i,start:"top top",end:"bottom center",toggleActions:"play reverse play reverse"},defaults:{duration:.25,ease:"power1.inOut"}}).fromTo(".home-case-study",{backgroundColor:"#090C18"},{backgroundColor:"white"},"start").fromTo(".home-case-study .section-title .title",{color:"white"},{color:"#090C18"},"start").fromTo(".home-case-study .btn-label",{color:"white"},{color:"#090C18"},"start").fromTo(".home-case-study p",{color:"white"},{color:"#090C18"},"start").fromTo(".home-case-study .btn-primary-light span",{color:"white"},{color:""},"start").fromTo(".home-case-study h3",{color:"white"},{color:"#090C18"},"start").fromTo(".home-case-study h6",{color:"white"},{color:"#090C18"},"start")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["home-case-study"]],viewQuery:function(r,o){if(r&1&&dn(jte,5),r&2){let a;Kt(a=Jt())&&(o.sectionBgAnimation=a.first)}},standalone:!0,features:[gt],decls:194,vars:0,consts:[["sectionBgAnimation",""],[1,"home-case-study"],[1,"app-container"],[1,"section-title-wrapper"],[1,"section-title"],[1,"title-label"],[1,"title"],[1,"line"],[1,"para"],["routerLink","/case-study/overview",1,"btn-primary","btn-primary-light"],[1,"btn-label"],[1,"link-icon"],[0,"xlink","href","#arrowUpRightIcon"],[1,"cyberSecurity-study","section-margin-top"],[1,"case-study-widget","d-flex","flex-column","align-items-start","flex-md-row","align-items-md-end","justify-content-md-between"],[1,"case-study-title"],["routerLink","/case-study/cybersecurity",1,"btn-trans","btn-trans-light","mt-4"],[1,"cybersecurity-showcase-wrapper"],[1,"cybersecurity-showcase-top"],[1,"title-label","hidden-label","mb-1"],[1,"img","mb-3"],["src","./../../../../assets/images/pages/home/cyber-showcase-1.jpg","alt",""],[1,"content","d-flex","flex-column","flex-md-row","justify-content-md-between","align-items-start","align-items-md-center"],[1,"content-wrapper"],[1,"title-label","mb-1"],[1,"title","mb-1"],[1,"btn-link","mt-2"],[0,"xlink","href","#arrowRightIconOne"],[1,"showcase-box","mt-4","mt-sm-5"],[1,"row","g-4","g-lg-5"],[1,"col-md-4"],[1,"box"],[1,"content"],[1,"img","mt-2","mb-3"],["src","./../../../../assets/images/pages/home/cyber-showcase-2.png","alt",""],[1,"box-title","mb-1"],[1,"btn-link","mt-2","mt-md-0"],["src","./../../../../assets/images/pages/home/cyber-showcase-3.png","alt",""],["src","./../../../../assets/images/pages/home/cyber-showcase-4.png","alt",""],[1,"development-study","section-margin-top"],["routerLink","/case-study/development",1,"btn-trans","btn-trans-light","mt-4"],[1,"development-showcase-wrapper"],[1,"development-showcase-top"],[1,"showcase-box","mt-5"],["src","./../../../../assets/images/pages/home/dev-showcase-2.png","alt",""],["src","../../../../assets/images/pages/development/showcase-1.PNG","alt",""],["src","../../../../assets/images/pages/development/showcase-2.PNG","alt",""],[1,"marketing-study","section-margin-top"],["routerLink","/case-study/marketing",1,"btn-trans","btn-trans-light","mt-4"],[1,"marketing-showcase-wrapper"],[1,"marketing-showcase-top"],[1,"col-md-6"],["src","./../../../../assets/images/pages/home/market-showcase-1.png","alt",""],["src","./../../../../assets/images/pages/home/market-showcase-2.png","alt",""],[1,"btn-link","mt-1"]],template:function(r,o){r&1&&(f(0,"section",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),w(6,"Our Solutions"),y(),f(7,"h2",6),w(8,"Case Studies"),y(),A(9,"div",7),f(10,"p",8),w(11," Founded as a boutique Shanghai-based web development and programming agency, SEIRIM has transformed over its decade+ history into a cybersecurity-first IT solutions provider for web, marketing and beyond. "),y()(),f(12,"button",9)(13,"span",10),w(14,"case studies main"),y(),Z(),f(15,"svg",11),A(16,"use",12),y()()(),ee(),f(17,"div",13)(18,"div",14)(19,"div",15)(20,"h3"),w(21,"Cybersecurity "),y(),f(22,"p"),w(23,"Hands-on experiences from our highly professional security team."),y()(),f(24,"button",16)(25,"span",10),w(26,"cybersecurity case studies"),y(),Z(),f(27,"svg",11),A(28,"use",12),y()()(),ee(),f(29,"div",17)(30,"div",18)(31,"div",19),w(32," Cybersecurity "),y(),f(33,"div",20),A(34,"img",21),y(),f(35,"div",22)(36,"div",23)(37,"div",24),w(38," Cybersecurity "),y(),f(39,"h6",25),w(40,"Incident Response for Ransomware Attack - Health Care Company "),y(),f(41,"p"),w(42," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo. Volutpat commodo sed egestas egestas fringilla phasellus. "),y()(),f(43,"button",26),Z(),f(44,"svg"),A(45,"use",27),y()()()(),ee(),f(46,"div",28)(47,"div",29)(48,"div",30)(49,"div",31)(50,"div",32)(51,"div",5),w(52," Cybersecurity "),y(),f(53,"div",33),A(54,"img",34),y(),f(55,"h6",35),w(56,"Incident Response for Ransomware Attack - Health Care Company "),y(),f(57,"p"),w(58," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(59,"button",36),Z(),f(60,"svg"),A(61,"use",27),y()()()(),ee(),f(62,"div",30)(63,"div",31)(64,"div",32)(65,"div",5),w(66," Cybersecurity "),y(),f(67,"div",33),A(68,"img",37),y(),f(69,"h6",35),w(70,"Incident Response for Ransomware Attack - Health Care Company "),y(),f(71,"p"),w(72," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(73,"button",36),Z(),f(74,"svg"),A(75,"use",27),y()()()(),ee(),f(76,"div",30)(77,"div",31)(78,"div",32)(79,"div",5),w(80," Cybersecurity "),y(),f(81,"div",33),A(82,"img",38),y(),f(83,"h6",35),w(84,"Incident Response for Ransomware Attack - Health Care Company "),y(),f(85,"p"),w(86," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(87,"button",36),Z(),f(88,"svg"),A(89,"use",27),y()()()()()()()(),ee(),f(90,"div",39)(91,"div",14)(92,"div",15)(93,"h3"),w(94,"Development "),y(),f(95,"p"),w(96,"Over a decade delivering high performance projects."),y()(),f(97,"button",40)(98,"span",10),w(99,"development case studies"),y(),Z(),f(100,"svg",11),A(101,"use",12),y()()(),ee(),f(102,"div",41)(103,"div",42),A(104,"development-slider"),y(),f(105,"div",43)(106,"div",29)(107,"div",30)(108,"div",31)(109,"div",5),w(110," WEb application "),y(),f(111,"div",33),A(112,"img",44),y(),f(113,"div",32)(114,"h6",35),w(115,"GITI "),y(),f(116,"p"),w(117," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(118,"button",26),Z(),f(119,"svg"),A(120,"use",27),y()()()(),ee(),f(121,"div",30)(122,"div",31)(123,"div",5),w(124," e-commerce "),y(),f(125,"div",33),A(126,"img",45),y(),f(127,"div",32)(128,"h6",35),w(129,"GITI "),y(),f(130,"p"),w(131," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(132,"button",26),Z(),f(133,"svg"),A(134,"use",27),y()()()(),ee(),f(135,"div",30)(136,"div",31)(137,"div",5),w(138," Corporate Website "),y(),f(139,"div",33),A(140,"img",46),y(),f(141,"div",32)(142,"h6",35),w(143,"CS Global "),y(),f(144,"p"),w(145," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(146,"button",26),Z(),f(147,"svg"),A(148,"use",27),y()()()()()()()(),ee(),f(149,"div",47)(150,"div",14)(151,"div",15)(152,"h3"),w(153,"Digital Marketing "),y(),f(154,"p"),w(155,"The skills and vision to make projects come alive."),y()(),f(156,"button",48)(157,"span",10),w(158,"digital marketing case studies"),y(),Z(),f(159,"svg",11),A(160,"use",12),y()()(),ee(),f(161,"div",49)(162,"div",50),A(163,"marketing-slider"),y(),f(164,"div",43)(165,"div",29)(166,"div",51)(167,"div",31)(168,"div",5),w(169," SEO "),y(),f(170,"div",33),A(171,"img",52),y(),f(172,"div",32)(173,"h6",35),w(174,"Sem viverra aliquet eget sit amet tellus tellus molestie "),y(),f(175,"p"),w(176," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(177,"button",26),Z(),f(178,"svg"),A(179,"use",27),y()()()(),ee(),f(180,"div",51)(181,"div",31)(182,"div",5),w(183," 3D Animation "),y(),f(184,"div",33),A(185,"img",53),y(),f(186,"div",32)(187,"h6",35),w(188,"Sem viverra aliquet eget sit amet tellus tellus molestie "),y(),f(189,"p"),w(190," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(191,"button",54),Z(),f(192,"svg"),A(193,"use",27),y()()()()()()()()()())},dependencies:[m_,f_,Wi],styles:['.home-case-study[_ngcontent-%COMP%]{padding:8rem 0;background:var(--white)}.home-case-study[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;max-width:41rem;margin:auto}.home-case-study[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.8125rem;margin-top:.5rem}.home-case-study[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .home-case-study[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}.home-case-study[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:1rem auto}.home-case-study[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .btn-primary-light[_ngcontent-%COMP%]{margin-top:1rem}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-top[_ngcontent-%COMP%]   .hidden-label[_ngcontent-%COMP%]{display:none}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-top[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:27.375rem}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-top[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-top[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{display:block}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-top[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#000;font-size:1.875rem;font-weight:500;line-height:2.1875rem;margin:0}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-top[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:.9375rem;font-weight:400;line-height:1.875rem;letter-spacing:.04688rem;margin:0}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-bottom[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:1px solid rgba(131,131,131,.8);background:#fff;position:relative;overflow:hidden;cursor:pointer}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-bottom[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-bottom[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-bottom[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-bottom[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:hover   .box-title[_ngcontent-%COMP%]{color:var(--tech-blue-1)!important}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-bottom[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:1rem;background:none;padding:0}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-bottom[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-bottom[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1rem 1.2rem}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-bottom[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%]{color:#000;font-size:1.375rem;font-weight:500;line-height:1.875rem;margin:0}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-bottom[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:.9375rem;font-weight:400;line-height:1.875rem;letter-spacing:.04688rem;margin:0}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-bottom[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;overflow:hidden;max-height:17rem;position:relative}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-bottom[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;right:0;width:100%;height:100%;background:#0003}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-bottom[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .hiddent-img[_ngcontent-%COMP%]{display:none}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{display:block}.home-case-study[_ngcontent-%COMP%]   .development-study[_ngcontent-%COMP%]   .development-showcase-wrapper[_ngcontent-%COMP%]   .development-showcase-top[_ngcontent-%COMP%]     .development-slider .slider-content .slider-content-wrapper .slider-item h3{color:var(--black)}.home-case-study[_ngcontent-%COMP%]   .development-study[_ngcontent-%COMP%]   .development-showcase-wrapper[_ngcontent-%COMP%]   .development-showcase-top[_ngcontent-%COMP%]     .development-slider .slider-content .slider-content-wrapper .slider-item p{color:var(--black)}.home-case-study[_ngcontent-%COMP%]   .development-study[_ngcontent-%COMP%]   .development-showcase-wrapper[_ngcontent-%COMP%]   .development-showcase-top[_ngcontent-%COMP%]     .development-slider .slider-content .slider-content-wrapper .slider-item .btn-primary{background:transparent}.home-case-study[_ngcontent-%COMP%]   .development-study[_ngcontent-%COMP%]   .development-showcase-wrapper[_ngcontent-%COMP%]   .development-showcase-top[_ngcontent-%COMP%]     .development-slider .slider-content .slider-content-wrapper .slider-item .btn-primary span{color:var(--black)}.home-case-study[_ngcontent-%COMP%]   .development-study[_ngcontent-%COMP%]   .development-showcase-wrapper[_ngcontent-%COMP%]   .development-showcase-top[_ngcontent-%COMP%]     .development-slider .slider-content .slider-content-wrapper .slider-item .btn-primary:hover span{color:var(--white)}.home-case-study[_ngcontent-%COMP%]   .development-study[_ngcontent-%COMP%]   .development-showcase-wrapper[_ngcontent-%COMP%]   .development-showcase-top[_ngcontent-%COMP%]     .development-slider .action-slide button{border:1px solid #7e7e7e}.home-case-study[_ngcontent-%COMP%]   .marketing-study[_ngcontent-%COMP%]   .marketing-showcase-wrapper[_ngcontent-%COMP%]     .marketing-slider .slick-slide{background:#fff}@media screen and (max-width: 600px){.home-case-study[_ngcontent-%COMP%]{padding:5rem 0}.home-case-study[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]{justify-content:start;align-items:start;text-align:start}.home-case-study[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.1875rem}.home-case-study[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .home-case-study[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}.home-case-study[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:1rem 0}.home-case-study[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .btn-primary-light[_ngcontent-%COMP%]{margin-top:1rem}.home-case-study[_ngcontent-%COMP%]   .case-study-header[_ngcontent-%COMP%]   .case-study-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.875rem}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-top[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{height:14.5rem}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-top[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.375rem;line-height:1.7rem}}@media screen and (max-width: 767px){.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-top[_ngcontent-%COMP%]   .hidden-label[_ngcontent-%COMP%]{display:block}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-top[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{display:none}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-top[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.home-case-study[_ngcontent-%COMP%]   .cyberSecurity-study[_ngcontent-%COMP%]   .cybersecurity-showcase-wrapper[_ngcontent-%COMP%]   .cybersecurity-showcase-top[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.5rem}}']});let e=t;return e})();var Hte=["inquireContentAnimation"],D8=(()=>{let t=class t{ngAfterViewInit(){this.playInquireContentAnimation()}playInquireContentAnimation(){let i=this.inquireContentAnimation.nativeElement,o=i.querySelector(".inquire-heading span")?.textContent??"",a=Array.from(new Set(o.replace(/\s/g,""))).join("");en.timeline({scrollTrigger:{trigger:i,start:"top center",end:"bottom center",toggleActions:"play none none none"},defaults:{duration:.3,ease:"power2.out"}}).from(i.querySelector(".inquire-heading span"),{duration:1.5,scrambleText:{text:o,chars:a,revealDelay:.4,speed:.3}}).from(i.querySelector(" .line"),{width:0,opacity:0},"-=0.5").from(i.querySelector(" p"),{opacity:0,y:20},"-=0.4").from(i.querySelector(".inquire-button"),{opacity:0,y:20})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["home-inquiry"]],viewQuery:function(r,o){if(r&1&&dn(Hte,7),r&2){let a;Kt(a=Jt())&&(o.inquireContentAnimation=a.first)}},standalone:!0,features:[gt],decls:18,vars:0,consts:[["inquireContentAnimation",""],[1,"home-inquire"],[1,"app-container"],[1,"inquire-wrapper"],[1,"inquire-heading"],[1,"line"],[1,"inquire-content"],[1,"btn-primary","inquire-button"],[1,"link-icon"],[0,"xlink","href","#arrowUpRightIcon"]],template:function(r,o){r&1&&(f(0,"section",1,0)(2,"div",2)(3,"div",3)(4,"h3",4),w(5," Put "),f(6,"span"),w(7,"SEIRIM"),y(),w(8," to work for you "),y(),A(9,"div",5),f(10,"div",6)(11,"p"),w(12," We help leading companies worldwide keep their digital realms secure via hands-on consulting, vulnerability management, penetration testing and more. "),y(),f(13,"button",7)(14,"span"),w(15," Inquire now "),y(),Z(),f(16,"svg",8),A(17,"use",9),y()()()()()())},styles:['.home-inquire[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#0000004d,#0000004d),url("./media/inquire-bg-lg-DPKYM5LU.jpeg");background-size:cover;background-position:100% 20%;background-repeat:no-repeat;height:38rem;will-change:transform;display:flex;align-items:center;justify-content:center}.home-inquire[_ngcontent-%COMP%]   .inquire-wrapper[_ngcontent-%COMP%]{padding:7.5rem 0 8.875rem;display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center}.home-inquire[_ngcontent-%COMP%]   .inquire-wrapper[_ngcontent-%COMP%]   .inquire-heading[_ngcontent-%COMP%]{color:var(--white);font-size:2.8rem;font-weight:500;line-height:100%;max-width:36rem;margin-bottom:1.4rem}.home-inquire[_ngcontent-%COMP%]   .inquire-wrapper[_ngcontent-%COMP%]   .inquire-content[_ngcontent-%COMP%]{max-width:37rem}.home-inquire[_ngcontent-%COMP%]   .inquire-wrapper[_ngcontent-%COMP%]   .inquire-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:1rem;font-weight:400;line-height:25px;letter-spacing:.85px;margin-top:1.4rem;margin-bottom:3.2rem}.home-inquire[_ngcontent-%COMP%]   .inquire-wrapper[_ngcontent-%COMP%]   .inquire-content[_ngcontent-%COMP%]   .inquire-button[_ngcontent-%COMP%]{margin:0 auto}@media screen and (max-width: 600px){.home-inquire[_ngcontent-%COMP%]{height:100%}.home-inquire[_ngcontent-%COMP%]   .inquire-wrapper[_ngcontent-%COMP%]   .inquire-heading[_ngcontent-%COMP%]{font-size:2rem;max-width:312px;margin-bottom:1.4rem}.home-inquire[_ngcontent-%COMP%]   .inquire-wrapper[_ngcontent-%COMP%]   .inquire-content[_ngcontent-%COMP%]   .inquire-para[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;line-height:30px;letter-spacing:.8px;margin-top:1.4rem}.home-inquire[_ngcontent-%COMP%]   .inquire-wrapper[_ngcontent-%COMP%]   .inquire-content[_ngcontent-%COMP%]   .inquire-button[_ngcontent-%COMP%]{background:#26376c80;padding:1rem 2.4rem}}']});let e=t;return e})();var Gte=["WhatWeOfferAnimation"],A8=(()=>{let t=class t{onTabSelected(i){this.currentTabIndex=i}constructor(i){this.el=i,this.tabs=["Cybersecurity","Development","Digital Marketing"],this.currentTabIndex=0}ngAfterViewInit(){this.playOfferContentAnimation()}playOfferContentAnimation(){let i=this.WhatWeOfferAnimation.nativeElement;en.timeline({scrollTrigger:{trigger:i,start:"top center",end:"bottom center",toggleActions:"play none none none"},defaults:{duration:.4,ease:"power2.out"}}).from(i.querySelector(".section-title .title-label"),{opacity:0,duration:.2}).from(i.querySelectorAll(".section-title .title"),{opacity:0,duration:.2},"-=0.1").from(i.querySelector(" .line"),{width:0,opacity:0,duration:.2},"-=0.1").from(i.querySelector(" .img-sm"),{scale:0,opacity:0,duration:.2},"-=0.1").from(i.querySelector(".big-img"),{opacity:0,duration:.2}).from(i.querySelectorAll(" .para"),{opacity:0,duration:.2}).from(i.querySelectorAll(" .tabs"),{opacity:0,duration:.2}).from(i.querySelector(" .btn-primary"),{opacity:0,ease:"power2.out",duration:.3}).from(i.querySelector(".list-content .title"),{opacity:0,duration:.2}).from(i.querySelectorAll(".list-content li"),{opacity:0,stagger:.03,duration:.2})}};t.\u0275fac=function(r){return new(r||t)(kn(oo))},t.\u0275cmp=mt({type:t,selectors:[["home-what-we-offer"]],viewQuery:function(r,o){if(r&1&&dn(Gte,7),r&2){let a;Kt(a=Jt())&&(o.WhatWeOfferAnimation=a.first)}},standalone:!0,features:[gt],decls:488,vars:0,consts:[["WhatWeOfferAnimation",""],[1,"home-what-we-offer"],[1,"app-container","w-100"],[1,"what-we-offer-top"],[1,"section-title"],[1,"title-label"],[1,"title"],[1,"line"],[1,"para"],["id","pills-tab","role","tablist",1,"tabs","nav","nav-pills"],["role","presentation",1,"nav-item"],["id","home-cybersecurity-tab","data-bs-toggle","pill","data-bs-target","#home-page-cybersecurity","type","button","role","tab","aria-controls","home-page-cybersecurity","aria-selected","true",1,"nav-link","active"],["id","home-development-tab","data-bs-toggle","pill","data-bs-target","#home-page-development","type","button","role","tab","aria-controls","home-page-development","aria-selected","false",1,"nav-link"],["id","home-digital-marketing-tab","data-bs-toggle","pill","data-bs-target","#home-page-digitalMarketing","type","button","role","tab","aria-controls","home-page-digitalMarketing","aria-selected","false",1,"nav-link"],["id","pills-tabContent",1,"tab-content"],["id","home-page-cybersecurity","role","tabpanel","aria-labelledby","home-cybersecurity-tab",1,"tab-pane","fade","show","active"],[1,"offer-content"],[1,"offer-content-top"],[1,"top-left-item"],["src","./../../../../assets/images/pages/home/cybersecurity-people.jpg","alt","",1,"small-img"],[1,"btn-primary","btn-link"],[1,"link-icon"],[0,"xlink","href","#arrowUpRightIcon"],[1,"top-right-item"],["src","./../../../../assets/images/pages/home/cybersecurity-people.jpg","alt","",1,"big-img"],[1,"offer-content-bottom"],[1,"list-content"],["id","accordionExample",1,"accordion","row","gx-5"],[1,"col-12","col-md-6","col-lg-4"],[1,"accordion-item"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse1","aria-expanded","false","aria-controls","collapse1",1,"app-accordion-header"],[1,"icon"],[1,"open"],[0,"xlink","href","#checkCircleIcon"],[1,"closed"],[0,"xlink","href","#circleMinusIcon"],["id","collapse1","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"according-content"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse2","aria-expanded","false","aria-controls","collapse2",1,"app-accordion-header"],["id","collapse2","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse3","aria-expanded","false","aria-controls","collapse3",1,"app-accordion-header"],["id","collapse3","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse4","aria-expanded","false","aria-controls","collapse4",1,"app-accordion-header"],["id","collapse4","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse5","aria-expanded","false","aria-controls","collapse5",1,"app-accordion-header"],["id","collapse5","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse6","aria-expanded","false","aria-controls","collapse6",1,"app-accordion-header"],["id","collapse6","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse7","aria-expanded","false","aria-controls","collapse7",1,"app-accordion-header"],["id","collapse7","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse8","aria-expanded","false","aria-controls","collapse8",1,"app-accordion-header"],["id","collapse8","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","home-page-development","role","tabpanel","aria-labelledby","home-development-tab",1,"tab-pane","fade"],[1,"offer-content-top","flex-row-reverse"],["src","./../../../../assets/images/pages/home/developer-working.jpg","alt","",1,"small-img"],["src","./../../../../assets/images/pages/home/developer-working.jpg","alt","",1,"big-img"],["id","accordionExample",1,"accordion","row"],["id","home-page-digitalMarketing","role","tabpanel","aria-labelledby","home-digital-marketing-tab",1,"tab-pane","fade"],["src","./../../../../assets/images/pages/home/digital-marketing-astronaut.jpg","alt","",1,"small-img"],["src","./../../../../assets/images/pages/home/digital-marketing-astronaut.jpg","alt","",1,"big-img"]],template:function(r,o){r&1&&(f(0,"section",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),w(6,"Our Solutions"),y(),f(7,"h2",6),w(8,"What we offer"),y(),A(9,"div",7),f(10,"p",8),w(11," The SEIRIM group is purposefully comprised of deep and wide skillsets, roles and personnel to create an advanced IT and security development team capable of delivering major projects and goals. "),y()(),f(12,"ul",9)(13,"li",10)(14,"button",11),w(15,"Cybersecurity"),y()(),f(16,"li",10)(17,"button",12),w(18,"Development"),y()(),f(19,"li",10)(20,"button",13),w(21,"Digital Marketing"),y()()()(),f(22,"div",14)(23,"div",15)(24,"div",16)(25,"div",17)(26,"div",18)(27,"div",4)(28,"span",5),w(29,"Cybersecurity"),y(),f(30,"h2",6),w(31,"Security from the ground up"),y(),A(32,"div",7)(33,"img",19),f(34,"p",8),w(35," Our cybersecurity services are tailored for companies seeking to catch up with the risks and unknown threats surpassing their readiness. "),y(),f(36,"p",8),w(37," We offer accessible, easily approachable first steps and clarity to steadily create and bolster the technical and operational safeguards to keep your company safe. No matter your current scenario, whether starting at ground level or needing to add services to augment ongoing efforts we have the skills you need. "),y()(),f(38,"button",20)(39,"span"),w(40,"go to cybersecurity services"),y(),Z(),f(41,"svg",21),A(42,"use",22),y()()(),ee(),f(43,"div",23),A(44,"img",24),y()(),f(45,"div",25)(46,"div",26)(47,"h5",6),w(48,"Specialized Security Services:"),y(),f(49,"ul",27)(50,"li",28)(51,"div",29)(52,"div",30)(53,"h6",6),w(54,"Risk Assessments"),y(),f(55,"div",31),Z(),f(56,"svg",32),A(57,"use",33),y(),f(58,"svg",34),A(59,"use",35),y()()(),ee(),f(60,"div",36)(61,"div",37)(62,"p",8),w(63," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(64,"p",8),w(65," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(66,"li",28)(67,"div",29)(68,"div",38)(69,"h6",6),w(70," Incident Response"),y(),f(71,"div",31),Z(),f(72,"svg",32),A(73,"use",33),y(),f(74,"svg",34),A(75,"use",35),y()()(),ee(),f(76,"div",39)(77,"div",37)(78,"p",8),w(79," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(80,"p",8),w(81," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(82,"li",28)(83,"div",29)(84,"div",40)(85,"h6",6),w(86," Penetration Testing"),y(),f(87,"div",31),Z(),f(88,"svg",32),A(89,"use",33),y(),f(90,"svg",34),A(91,"use",35),y()()(),ee(),f(92,"div",41)(93,"div",37)(94,"p",8),w(95," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(96,"p",8),w(97," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(98,"li",28)(99,"div",29)(100,"div",42)(101,"h6",6),w(102," Vulnerability Scanning & Management"),y(),f(103,"div",31),Z(),f(104,"svg",32),A(105,"use",33),y(),f(106,"svg",34),A(107,"use",35),y()()(),ee(),f(108,"div",43)(109,"div",37)(110,"p",8),w(111," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(112,"p",8),w(113," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(114,"li",28)(115,"div",29)(116,"div",44)(117,"h6",6),w(118," Managed Custom Services"),y(),f(119,"div",31),Z(),f(120,"svg",32),A(121,"use",33),y(),f(122,"svg",34),A(123,"use",35),y()()(),ee(),f(124,"div",45)(125,"div",37)(126,"p",8),w(127," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(128,"p",8),w(129," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(130,"li",28)(131,"div",29)(132,"div",46)(133,"h6",6),w(134," System Hardening"),y(),f(135,"div",31),Z(),f(136,"svg",32),A(137,"use",33),y(),f(138,"svg",34),A(139,"use",35),y()()(),ee(),f(140,"div",47)(141,"div",37)(142,"p",8),w(143," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(144,"p",8),w(145," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(146,"li",28)(147,"div",29)(148,"div",48)(149,"h6",6),w(150," Application Secure Development"),y(),f(151,"div",31),Z(),f(152,"svg",32),A(153,"use",33),y(),f(154,"svg",34),A(155,"use",35),y()()(),ee(),f(156,"div",49)(157,"div",37)(158,"p",8),w(159," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(160,"p",8),w(161," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(162,"li",28)(163,"div",29)(164,"div",50)(165,"h6",6),w(166," Cybersecurity Consulting"),y(),f(167,"div",31),Z(),f(168,"svg",32),A(169,"use",33),y(),f(170,"svg",34),A(171,"use",35),y()()(),ee(),f(172,"div",51)(173,"div",37)(174,"p",8),w(175," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(176,"p",8),w(177," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()()()()()()(),f(178,"div",52)(179,"div",16)(180,"div",53)(181,"div",18)(182,"div",4)(183,"span",5),w(184,"Development"),y(),f(185,"h2",6),w(186,"Building Ideas into Reality"),y(),A(187,"div",7)(188,"img",54),f(189,"p",8),w(190," For over a decade, our senior developers have built myriad types of applications for the web from the ground up, building our own tools, solutions and frameworks to solve many challenges. "),y(),f(191,"p",8),w(192," Whether it\u2019s our own custom CMS especially built to be at the vanguard of security, interactive classrooms inside of virtual reality spaces, mobile device games, e-commerce websites or simply a high performance corporate website our team has the skills and experience to make it happen. If you can dream it, we can build it. "),y()(),f(193,"button",20)(194,"span"),w(195,"go to development services"),y(),Z(),f(196,"svg",21),A(197,"use",22),y()()(),ee(),f(198,"div",23),A(199,"img",55),y()(),f(200,"div",25)(201,"div",26)(202,"h5",6),w(203,"Custom IT & Web Programming "),y(),f(204,"ul",56)(205,"li",28)(206,"div",29)(207,"div",30)(208,"h6",6),w(209,"E-Commerce "),y(),f(210,"div",31),Z(),f(211,"svg",32),A(212,"use",33),y(),f(213,"svg",34),A(214,"use",35),y()()(),ee(),f(215,"div",36)(216,"div",37)(217,"p",8),w(218," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(219,"p",8),w(220," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(221,"li",28)(222,"div",29)(223,"div",38)(224,"h6",6),w(225," Web Applications"),y(),f(226,"div",31),Z(),f(227,"svg",32),A(228,"use",33),y(),f(229,"svg",34),A(230,"use",35),y()()(),ee(),f(231,"div",39)(232,"div",37)(233,"p",8),w(234," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(235,"p",8),w(236," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(237,"li",28)(238,"div",29)(239,"div",40)(240,"h6",6),w(241," Corporate Presentations "),y(),f(242,"div",31),Z(),f(243,"svg",32),A(244,"use",33),y(),f(245,"svg",34),A(246,"use",35),y()()(),ee(),f(247,"div",41)(248,"div",37)(249,"p",8),w(250," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(251,"p",8),w(252," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(253,"li",28)(254,"div",29)(255,"div",42)(256,"h6",6),w(257,"Mobile Applications"),y(),f(258,"div",31),Z(),f(259,"svg",32),A(260,"use",33),y(),f(261,"svg",34),A(262,"use",35),y()()(),ee(),f(263,"div",43)(264,"div",37)(265,"p",8),w(266," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(267,"p",8),w(268," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(269,"li",28)(270,"div",29)(271,"div",44)(272,"h6",6),w(273,"Custom Software "),y(),f(274,"div",31),Z(),f(275,"svg",32),A(276,"use",33),y(),f(277,"svg",34),A(278,"use",35),y()()(),ee(),f(279,"div",45)(280,"div",37)(281,"p",8),w(282," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(283,"p",8),w(284," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(285,"li",28)(286,"div",29)(287,"div",46)(288,"h6",6),w(289," High Performance Websites "),y(),f(290,"div",31),Z(),f(291,"svg",32),A(292,"use",33),y(),f(293,"svg",34),A(294,"use",35),y()()(),ee(),f(295,"div",47)(296,"div",37)(297,"p",8),w(298," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(299,"p",8),w(300," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(301,"li",28)(302,"div",29)(303,"div",48)(304,"h6",6),w(305,"SEO Specialized Sites"),y(),f(306,"div",31),Z(),f(307,"svg",32),A(308,"use",33),y(),f(309,"svg",34),A(310,"use",35),y()()(),ee(),f(311,"div",49)(312,"div",37)(313,"p",8),w(314," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(315,"p",8),w(316," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(317,"li",28)(318,"div",29)(319,"div",50)(320,"h6",6),w(321," Virtual Reality Frameworks "),y(),f(322,"div",31),Z(),f(323,"svg",32),A(324,"use",33),y(),f(325,"svg",34),A(326,"use",35),y()()(),ee(),f(327,"div",51)(328,"div",37)(329,"p",8),w(330," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(331,"p",8),w(332," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()()()()()()(),f(333,"div",57)(334,"div",16)(335,"div",17)(336,"div",18)(337,"div",4)(338,"span",5),w(339,"Digital Marketing "),y(),f(340,"h2",6),w(341,"Making your Offerings Shine "),y(),A(342,"div",7)(343,"img",58),f(344,"p",8),w(345," Your project is secure and works well, but does it look good? "),y(),f(346,"p",8),w(347," Our specialized teams make our clients shine and thrive with custom SEO campaigns resulting in top rankings, video productions that wow, 3D animations that impress, professionally designed marketing materials that capture the imagination and more. "),y()(),f(348,"button",20)(349,"span"),w(350,"go to digital marketing services"),y(),Z(),f(351,"svg",21),A(352,"use",22),y()()(),ee(),f(353,"div",23),A(354,"img",59),y()(),f(355,"div",25)(356,"div",26)(357,"h5",6),w(358,"Professional Design and Digital Marketing "),y(),f(359,"ul",56)(360,"li",28)(361,"div",29)(362,"div",30)(363,"h6",6),w(364,"Video Production "),y(),f(365,"div",31),Z(),f(366,"svg",32),A(367,"use",33),y(),f(368,"svg",34),A(369,"use",35),y()()(),ee(),f(370,"div",36)(371,"div",37)(372,"p",8),w(373," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(374,"p",8),w(375," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(376,"li",28)(377,"div",29)(378,"div",38)(379,"h6",6),w(380," 3D Animation"),y(),f(381,"div",31),Z(),f(382,"svg",32),A(383,"use",33),y(),f(384,"svg",34),A(385,"use",35),y()()(),ee(),f(386,"div",39)(387,"div",37)(388,"p",8),w(389," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(390,"p",8),w(391," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(392,"li",28)(393,"div",29)(394,"div",40)(395,"h6",6),w(396," SEO Campaigns "),y(),f(397,"div",31),Z(),f(398,"svg",32),A(399,"use",33),y(),f(400,"svg",34),A(401,"use",35),y()()(),ee(),f(402,"div",41)(403,"div",37)(404,"p",8),w(405," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(406,"p",8),w(407," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(408,"li",28)(409,"div",29)(410,"div",42)(411,"h6",6),w(412,"Marketing Materials"),y(),f(413,"div",31),Z(),f(414,"svg",32),A(415,"use",33),y(),f(416,"svg",34),A(417,"use",35),y()()(),ee(),f(418,"div",43)(419,"div",37)(420,"p",8),w(421," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(422,"p",8),w(423," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(424,"li",28)(425,"div",29)(426,"div",44)(427,"h6",6),w(428,"Virtual Reality Spaces"),y(),f(429,"div",31),Z(),f(430,"svg",32),A(431,"use",33),y(),f(432,"svg",34),A(433,"use",35),y()()(),ee(),f(434,"div",45)(435,"div",37)(436,"p",8),w(437," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(438,"p",8),w(439," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(440,"li",28)(441,"div",29)(442,"div",46)(443,"h6",6),w(444," UI/UX Design "),y(),f(445,"div",31),Z(),f(446,"svg",32),A(447,"use",33),y(),f(448,"svg",34),A(449,"use",35),y()()(),ee(),f(450,"div",47)(451,"div",37)(452,"p",8),w(453," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(454,"p",8),w(455," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(456,"li",28)(457,"div",29)(458,"div",48)(459,"h6",6),w(460,"Website Design"),y(),f(461,"div",31),Z(),f(462,"svg",32),A(463,"use",33),y(),f(464,"svg",34),A(465,"use",35),y()()(),ee(),f(466,"div",49)(467,"div",37)(468,"p",8),w(469," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(470,"p",8),w(471," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()(),f(472,"li",28)(473,"div",29)(474,"div",50)(475,"h6",6),w(476," Print & Physical Products Design "),y(),f(477,"div",31),Z(),f(478,"svg",32),A(479,"use",33),y(),f(480,"svg",34),A(481,"use",35),y()()(),ee(),f(482,"div",51)(483,"div",37)(484,"p",8),w(485," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(486,"p",8),w(487," Ornare suspendisse sed nisi lacus sed viverra tellus in. Sagittis nisl rhoncus mattis rhoncus urna neque Pulvinar neque laoreet suspendisse. In hac habitasse platea dictumst quisque sagittis purus. "),y()()()()()()()()()()()()())},styles:['.home-what-we-offer[_ngcontent-%COMP%]{background:var(--bg-1);padding:6.8rem 0 11rem;display:flex;justify-content:center;align-items:center;flex-direction:column}.home-what-we-offer[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{width:100%;border:none;border-bottom:1px solid #0a304b;background:transparent;border-radius:0}.home-what-we-offer[_ngcontent-%COMP%]   .accordion-item.active[_ngcontent-%COMP%]{border-bottom:2px solid #079aff}.home-what-we-offer[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .app-accordion-header[aria-expanded=false][_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg.closed[_ngcontent-%COMP%]{display:none}.home-what-we-offer[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .app-accordion-header[aria-expanded=true][_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg.open[_ngcontent-%COMP%]{display:none}.home-what-we-offer[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .app-accordion-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.2rem 0;max-width:26rem;width:100%}.home-what-we-offer[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .app-accordion-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0;color:var(--white);font-size:1.063rem;font-weight:400;line-height:100%}.home-what-we-offer[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .app-accordion-header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.home-what-we-offer[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .app-accordion-header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:21px;height:21px}.home-what-we-offer[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .app-accordion-header[_ngcontent-%COMP%]   .icon.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.home-what-we-offer[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .according-content[_ngcontent-%COMP%]{padding:.2rem .75rem .75rem}@media screen and (max-width: 767px){.home-what-we-offer[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .app-accordion-header[_ngcontent-%COMP%]{max-width:100%!important}}.home-what-we-offer[_ngcontent-%COMP%]   .according-content[_ngcontent-%COMP%]{color:var(--white)}.home-what-we-offer[_ngcontent-%COMP%]   .small-img[_ngcontent-%COMP%]{display:none;margin:1.4rem 0;width:100%}.home-what-we-offer[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]{margin-top:5.6rem}.home-what-we-offer[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--white);font-size:1.5rem;font-weight:400;line-height:100%;margin-bottom:2rem}.home-what-we-offer[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.75rem}.home-what-we-offer[_ngcontent-%COMP%]   .what-we-offer-top[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-align:center}.home-what-we-offer[_ngcontent-%COMP%]   .what-we-offer-top[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:1rem auto}.home-what-we-offer[_ngcontent-%COMP%]   .what-we-offer-top[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   P[_ngcontent-%COMP%]{max-width:47rem;margin:auto;margin-top:1rem}.home-what-we-offer[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{margin-top:2rem;display:flex;width:100%;justify-content:center}.home-what-we-offer[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{max-width:15rem;width:100%;margin:0 .5rem}.home-what-we-offer[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1.4rem 0;width:100%;border:none;background:none;position:relative}.home-what-we-offer[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;bottom:0;width:100%;height:4px;background:#1b2023}.home-what-we-offer[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:nth-child(2){margin:0 1rem}.home-what-we-offer[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{background:linear-gradient(95deg,#057ba0 -4.15%,#042dc0 102.16%);animation:borderSlideAnimation .3s ease-in-out forwards}.home-what-we-offer[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white);font-size:1rem;font-weight:400;line-height:100%}.home-what-we-offer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{width:100%;margin-top:4.875rem}.home-what-we-offer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .offer-content[_ngcontent-%COMP%]   .offer-content-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:2rem}.home-what-we-offer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .offer-content[_ngcontent-%COMP%]   .offer-content-top[_ngcontent-%COMP%]   .big-img[_ngcontent-%COMP%]{max-width:44rem;width:100%}.home-what-we-offer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .offer-content[_ngcontent-%COMP%]   .offer-content-top[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{max-width:37rem}.home-what-we-offer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .offer-content[_ngcontent-%COMP%]   .offer-content-top[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem}.home-what-we-offer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .offer-content[_ngcontent-%COMP%]   .offer-content-top[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{margin-top:2.2rem;text-decoration:none}@media screen and (max-width: 767px){.home-what-we-offer[_ngcontent-%COMP%]{padding:4.375rem 0}.home-what-we-offer[_ngcontent-%COMP%]   .offer-content[_ngcontent-%COMP%]   .offer-content-top[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{display:block!important}.home-what-we-offer[_ngcontent-%COMP%]   .small-img[_ngcontent-%COMP%]{display:block}.home-what-we-offer[_ngcontent-%COMP%]   .top-right-item[_ngcontent-%COMP%]{display:none}}@media screen and (max-width: 600px){.home-what-we-offer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{padding:1rem 1.5rem;background:#19264b80}.home-what-we-offer[_ngcontent-%COMP%]   .what-we-offer-top[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-align:start}.home-what-we-offer[_ngcontent-%COMP%]   .what-we-offer-top[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:0!important}.home-what-we-offer[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{margin-top:4rem}.home-what-we-offer[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{max-width:8rem;width:100%}.home-what-we-offer[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:nth-child(2){margin:0}.home-what-we-offer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{margin-top:3rem}.home-what-we-offer[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{max-width:100%}}@media screen and (max-width: 480px){.home-what-we-offer[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{justify-content:space-between}.home-what-we-offer[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{max-width:fit-content;margin:0 .2rem}}']});let e=t;return e})();var T8=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["app-home-page"]],standalone:!0,features:[gt],decls:7,vars:0,consts:[[1,"main-canvas"]],template:function(r,o){r&1&&(f(0,"div",0),A(1,"home-banner")(2,"home-about")(3,"home-what-we-offer")(4,"home-case-study")(5,"home-blog")(6,"home-inquiry"),y())},dependencies:[kk,O8,S8,E8,D8,A8],styles:[".main-canvas[_ngcontent-%COMP%]{background:var(--bg-3)}"]});let e=t;return e})();var yh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["app-resources-page"]],standalone:!0,features:[gt],decls:595,vars:0,consts:[[1,"blog-page"],[1,"top-breadcrumb"],[1,"app-container"],[1,"app-breadcrumb","mb-0"],[1,"app-breadcrumb-wrapper"],[1,"breadcrumb-links"],["href","#","routerLink","/case-study/development",1,"breadcrumb-items","active"],["href","#","routerLink","/case-study/",1,"breadcrumb-items"],[1,"blog-header"],[1,"blog-header-title","mb-5"],[1,"main-title"],[1,"line"],[1,"blog-hero-section","d-flex","flex-column","flex-md-row","align-items-start"],["routerLink","/blog/article",1,"blog-hero-card"],["src","../../../assets/images/pages/blog/bg-shadow-1.png","alt","",1,"bg-shadow"],[1,"card-img","mb-3"],["src","../../../assets/images/pages/blog/top-blog-img.png","width","100%","height","100%","alt","news image"],[1,"title-label","mb-1"],[1,"news-date"],[1,"card-title","box-title","mb-3"],[1,"card-des","mb-5"],["href","#",1,"readmore-link"],[0,"xlink","href","#arrowRightIconOne"],[1,"blog-hero-article-list","pt-4","pt-lg-0"],[1,"title-label","mb-2"],[1,"news-item","d-flex","align-items-center","justify-content-between"],[1,"news-des"],[1,"d-flex","align-items-start"],[1,"news-number"],[1,"news-title"],[1,"mb-0"],[1,"line","my-4"],[1,"blog-body"],[1,"cybersecurity-blog","py-5"],[1,"article-section-title"],[1,"feature-article","p-3","p-lg-5","d-flex","justify-content-start","align-items-end"],[1,"feature-bg"],["src","../../../assets/images/pages/blog/blog-body-bg.png","width","100%","height","100%","alt","",1,"bg-shadow"],[1,"bg-overlay"],[1,"blog-feature-desc"],[1,"title-label","bo","mb-2"],[1,"news-date","mb-3"],[1,"hero-article-title","box-title","mb-3"],[1,"blog-body-hero","mb-4","card-mb-1"],[1,"row","g-4","card-gutter"],[1,"col-12","col-md-4"],[1,"blog-hero-card","p-3","p-xl-4"],[1,"blog-card-img","mb-4"],["src","../../../assets/images/pages/blog/card-img-1.png","width","100%","height","100%","alt",""],[1,"blog-card-desc","pe-0","pe-lg-4"],[1,"news-date","mb-2"],[1,"blog-card-title","box-title"],["src","../../../assets/images/pages/blog/card-img-2.png","width","100%","height","100%","alt",""],["src","../../../assets/images/pages/blog/card-img-3.png","width","100%","height","100%","alt",""],[1,"blog-hero-list"],[1,"row","g-4","card-gutter","card-mb-2"],[1,"col-12","col-lg-6"],[1,"blog-hero-list-card","px-3","px-xl-4"],[1,"blog-card-item","d-flex","align-items-start","justify-content-start","flex-column","flex-md-row","column-gap-3","py-3","align-items-md-center","align-items-lg-end","justify-content-md-between"],[1,"blog-card-img","mb-3","mb-md-1"],["src","../../../assets/images/pages/blog/card-list-img-1.png","width","100%","height","100%"],[1,"blog-card-desc"],["src","../../../assets/images/pages/blog/card-list-img-2.png","width","100%","height","100%"],["src","../../../assets/images/pages/blog/card-list-img-3.png","width","100%","height","100%"],["src","../../../assets/images/pages/blog/card-list-img-4.png","width","100%","height","100%"],["href","#",1,"load-more-link"],[0,"xlink","href","#arrowDownIcon"],[1,"development-blog","py-5"],[1,"row","g-3","card-gutter","mb-4","mb-md-5"],[1,"col-12","col-md-6","col-xl-8"],[1,"feature-article","p-3","p-md-5","d-flex","justify-content-start","align-items-end"],["src","../../../assets/images/pages/blog/blog-body-bg-3.png","width","100%","height","100%","alt","",1,"bg-shadow"],[1,"col-12","col-md-6","col-xl-4","mb-5","mb-md-0"],[1,"article-list"],[1,"d-flex","align-items-end","justify-content-between","column-gap-5","mb-5"],[1,"blog-sidebar-desc"],[1,"blog-sidebar-title"],["href","#",1,"readmore-link","py-2"],[1,"d-flex","align-items-end","justify-content-between","column-gap-5"],[1,"col-12","col-md-6"],[1,"blog-hero-card","dark-card","p-4"],["src","../../../assets/images/pages/blog/card-img-4.png","width","100%","height","100%","alt",""],["src","../../../assets/images/pages/blog/card-img-5.png","width","100%","height","100%","alt",""],[1,"marketing-blog","py-5"],["src","../../../assets/images/pages/blog/blog-body-bg-2.png","width","100%","height","100%","alt","",1,"bg-shadow"],[1,"row","g-3","card-gutter","card-mb-2"],[1,"blog-hero-list-card","px-4"],[1,"blog-card-desc","mb"],[1,"company-blog","py-5"],[1,"row","g-3","card-gutter","mb-3","flex-column-reverse","flex-md-row"],[1,"d-flex","align-items-end","justify-content-between","column-gap-5","mb-4"],[1,"blog-hero-card","dark-card","p-3","p-xl-4"],[1,"mb-5"],["src","../../../assets/images/pages/blog/card-img-6.png","width","100%","height","100%","alt",""],["src","../../../assets/images/pages/blog/card-img-7.png","width","100%","height","100%","alt",""],[1,"blog-inquiry-section"],[1,"background-overlay"],[1,"inquiry-wrapper"],[1,"inquiry-title"],[1,"d-flex","justify-content-center"],[1,"inquiry-desc","p-0","px-md-5","mb-5"],[1,"d-flex","align-items-center","justify-content-center"],[1,"btn-primary","inquire-button"],[1,"link-icon"],[0,"xlink","href","#arrowUpRightIcon"]],template:function(r,o){r&1&&(f(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"ul")(7,"li")(8,"a",6)(9,"span"),w(10,"News Main"),y()()(),f(11,"li")(12,"a",7)(13,"span"),w(14,"Cybersecurity"),y()()(),f(15,"li")(16,"a",7)(17,"span"),w(18,"Development"),y()()(),f(19,"li")(20,"a",7)(21,"span"),w(22,"Digital Marketing"),y()()(),f(23,"li")(24,"a",7)(25,"span"),w(26,"Company News"),y()()()()()()()()(),f(27,"div",8)(28,"div",2)(29,"div",9)(30,"div",10)(31,"h1"),w(32,"News & Blog"),y(),A(33,"div",11),y()(),f(34,"div",12)(35,"div",13),A(36,"img",14),f(37,"div",15),A(38,"img",16),y(),f(39,"div",17),w(40,"Latest News"),y(),f(41,"div",18)(42,"span"),w(43,"04 Aug 2023 - Cyber Security"),y()(),f(44,"h3",19),w(45,"Understanding the Hidden World of Cybercrime"),y(),f(46,"div",20)(47,"p"),w(48,"Facilisis gravida neque convallis a cras semper auctor. Imperdiet proin fermentum leo vel orci. Cum sociis natoque penatibus et magnis dis parturient montes."),y(),f(49,"p"),w(50,"Lacus viverra vitae congue eu consequat ac felis donec. Porttitor massa id neque aliquam vestibulum morbi blandit cursus risus. Lobortis elementum nibh tellus molestie nunc non. "),y()(),f(51,"a",21),Z(),f(52,"svg"),A(53,"use",22),y()()(),ee(),f(54,"div",23)(55,"div",24),w(56," Latest News "),y(),f(57,"ul")(58,"li")(59,"div",25)(60,"div",26)(61,"div",18)(62,"span"),w(63,"04 Aug 2023 - Cyber Security"),y()(),f(64,"div",27)(65,"div",28)(66,"span"),w(67,"1"),y()(),f(68,"div",29)(69,"p",30),w(70,"Cybersecurity: Protecting Your Digital Life in an Online World"),y()()()(),f(71,"a",21),Z(),f(72,"svg"),A(73,"use",22),y()()(),ee(),A(74,"div",31),y(),f(75,"li")(76,"div",25)(77,"div",26)(78,"div",18)(79,"span"),w(80,"04 Aug 2023 - ux & web design"),y()(),f(81,"div",27)(82,"div",28)(83,"span"),w(84,"2"),y()(),f(85,"div",29)(86,"p",30),w(87,"How web animation can boost your business"),y()()()(),f(88,"a",21),Z(),f(89,"svg"),A(90,"use",22),y()()(),ee(),A(91,"div",31),y(),f(92,"li")(93,"div",25)(94,"div",26)(95,"div",18)(96,"span"),w(97,"04 Aug 2023 - ux & web design"),y()(),f(98,"div",27)(99,"div",28)(100,"span"),w(101,"3"),y()(),f(102,"div",29)(103,"p",30),w(104,"25 mobile uI design collections"),y()()()(),f(105,"a",21),Z(),f(106,"svg"),A(107,"use",22),y()()(),ee(),A(108,"div",31),y(),f(109,"li")(110,"div",25)(111,"div",26)(112,"div",18)(113,"span"),w(114,"04 Aug 2023 - web & mobile app development"),y()(),f(115,"div",27)(116,"div",28)(117,"span"),w(118,"4"),y()(),f(119,"div",29)(120,"p",30),w(121,"How to submit to china\u2019s top 15 mobile app stores"),y()()()(),f(122,"a",21),Z(),f(123,"svg"),A(124,"use",22),y()()(),ee(),A(125,"div",31),y(),f(126,"li")(127,"div",25)(128,"div",26)(129,"div",18)(130,"span"),w(131,"04 Aug 2023 - web & mobile app development"),y()(),f(132,"div",27)(133,"div",28)(134,"span"),w(135,"5"),y()(),f(136,"div",29)(137,"p",30),w(138,"building aSP.Net core MVC using visual studio"),y()()()(),f(139,"a",21),Z(),f(140,"svg"),A(141,"use",22),y()()(),ee(),A(142,"div",31),y()()()()()(),f(143,"div",32)(144,"div",33)(145,"div",2)(146,"div",34)(147,"h1",30),w(148,"Latest For Cybersecurity"),y(),A(149,"div",11),y(),f(150,"div",35)(151,"div",36),A(152,"img",37),y(),A(153,"div",38),f(154,"div",39)(155,"div",40),w(156,"featured for cybersecurity"),y(),f(157,"div",41)(158,"span"),w(159,"04 Aug 2023 - Cyber Security"),y()(),f(160,"h1",42),w(161," SEIRIM named one of the worlds top 250 managed security service provider "),y(),f(162,"p"),w(163,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y()()(),f(164,"div",43)(165,"div",44)(166,"div",45)(167,"div",46)(168,"div",47),A(169,"img",48),y(),f(170,"div",49)(171,"div",50)(172,"span"),w(173,"04 Aug 2023 - Cyber Security"),y()(),f(174,"h3",51),w(175," Protecting Your Smart Home and Devices "),y(),f(176,"p"),w(177," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(178,"a",21),Z(),f(179,"svg"),A(180,"use",22),y()()()()(),ee(),f(181,"div",45)(182,"div",46)(183,"div",47),A(184,"img",52),y(),f(185,"div",49)(186,"div",50)(187,"span"),w(188,"04 Aug 2023 - Cyber Security"),y()(),f(189,"h3",51),w(190," Protecting Your Smart Home and Devices "),y(),f(191,"p"),w(192," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(193,"a",21),Z(),f(194,"svg"),A(195,"use",22),y()()()()(),ee(),f(196,"div",45)(197,"div",46)(198,"div",47),A(199,"img",53),y(),f(200,"div",49)(201,"div",50)(202,"span"),w(203,"04 Aug 2023 - Cyber Security"),y()(),f(204,"h3",51),w(205," Protecting Your Smart Home and Devices "),y(),f(206,"p"),w(207," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(208,"a",21),Z(),f(209,"svg"),A(210,"use",22),y()()()()()()(),ee(),f(211,"div",54)(212,"div",55)(213,"div",56)(214,"div",57)(215,"ul")(216,"li",58)(217,"div",59),A(218,"img",60),y(),f(219,"div",61)(220,"div",18)(221,"span"),w(222,"04 Aug 2023 - Cyber Security"),y()(),f(223,"h3",51),w(224," Protecting Your Smart Home and Devices "),y(),f(225,"p",30),w(226," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip. "),y()(),f(227,"a",21),Z(),f(228,"svg"),A(229,"use",22),y()()(),ee(),f(230,"li",58)(231,"div",59),A(232,"img",62),y(),f(233,"div",61)(234,"div",18)(235,"span"),w(236,"04 Aug 2023 - Cyber Security"),y()(),f(237,"h3",51),w(238," Protecting Your Smart Home and Devices "),y(),f(239,"p",30),w(240," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip. "),y()(),f(241,"a",21),Z(),f(242,"svg"),A(243,"use",22),y()()()()()(),ee(),f(244,"div",56)(245,"div",57)(246,"ul")(247,"li",58)(248,"div",59),A(249,"img",63),y(),f(250,"div",61)(251,"div",18)(252,"span"),w(253,"04 Aug 2023 - Cyber Security"),y()(),f(254,"h3",51),w(255," Protecting Your Smart Home and Devices "),y(),f(256,"p",30),w(257," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip. "),y()(),f(258,"a",21),Z(),f(259,"svg"),A(260,"use",22),y()()(),ee(),f(261,"li",58)(262,"div",59),A(263,"img",64),y(),f(264,"div",61)(265,"div",18)(266,"span"),w(267,"04 Aug 2023 - Cyber Security"),y()(),f(268,"h3",51),w(269," Protecting Your Smart Home and Devices "),y(),f(270,"p",30),w(271," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip. "),y()(),f(272,"a",21),Z(),f(273,"svg"),A(274,"use",22),y()()()()()()(),ee(),f(275,"a",65),w(276,"Load More "),Z(),f(277,"svg"),A(278,"use",66),y()()()()(),ee(),f(279,"div",67)(280,"div",2)(281,"div",34)(282,"h1",30),w(283,"latest for Development"),y(),A(284,"div",11),y(),f(285,"div",68)(286,"div",69)(287,"div",70)(288,"div",36),A(289,"img",71),y(),A(290,"div",38),f(291,"div",39)(292,"div",24),w(293,"featured for development"),y(),f(294,"div",41)(295,"span"),w(296,"04 Aug 2023 - web & mobile app development"),y()(),f(297,"h1",42),w(298," SEIRIM named one of the worlds top 250 managed security service provider "),y(),f(299,"p"),w(300,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y()()()(),f(301,"div",72)(302,"div",73)(303,"ul")(304,"li",74)(305,"div",75)(306,"div",50)(307,"span"),w(308,"04 Aug 2023 - web & mobile app development"),y()(),f(309,"h2",76),w(310,"Protecting Your Smart Home and Devices"),y(),f(311,"p",30),w(312,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip."),y()(),f(313,"a",77),Z(),f(314,"svg"),A(315,"use",22),y()()(),ee(),f(316,"li",74)(317,"div",75)(318,"div",50)(319,"span"),w(320,"04 Aug 2023 - web & mobile app development"),y()(),f(321,"h2",76),w(322,"building aSP.Net core MVC using visual studio "),y(),f(323,"p",30),w(324,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip."),y()(),f(325,"a",77),Z(),f(326,"svg"),A(327,"use",22),y()()(),ee(),f(328,"li",78)(329,"div",75)(330,"div",50)(331,"span"),w(332,"04 Aug 2023 - web & mobile app development"),y()(),f(333,"h2",76),w(334,".Net Core 1.0 Released!"),y(),f(335,"p",30),w(336,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip."),y()(),f(337,"a",77),Z(),f(338,"svg"),A(339,"use",22),y()()()()()()(),ee(),f(340,"div",55)(341,"div",79)(342,"div",80),A(343,"img",14),f(344,"div",47),A(345,"img",81),y(),f(346,"div",49)(347,"div",50)(348,"span"),w(349,"04 Aug 2023 - web & mobile app development"),y()(),f(350,"h3",51),w(351," Protecting Your Smart Home and Devices "),y(),f(352,"p"),w(353," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(354,"a",21),Z(),f(355,"svg"),A(356,"use",22),y()()()()(),ee(),f(357,"div",79)(358,"div",80),A(359,"img",14),f(360,"div",47),A(361,"img",82),y(),f(362,"div",49)(363,"div",50)(364,"span"),w(365,"04 Aug 2023 - web & mobile app development"),y()(),f(366,"h3",51),w(367," Protecting Your Smart Home and Devices "),y(),f(368,"p"),w(369," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(370,"a",21),Z(),f(371,"svg"),A(372,"use",22),y()()()()()(),ee(),f(373,"a",65),w(374,"Load More "),Z(),f(375,"svg"),A(376,"use",66),y()()()(),ee(),f(377,"div",83)(378,"div",2)(379,"div",34)(380,"h1",30),w(381,"latest for Digital Marketing"),y(),A(382,"div",11),y(),f(383,"div",35)(384,"div",36),A(385,"img",84),y(),A(386,"div",38),f(387,"div",39)(388,"div",24),w(389,"featured for digital marketing"),y(),f(390,"div",41)(391,"span"),w(392,"04 Aug 2023 - digital marketing"),y()(),f(393,"h1",42),w(394," how animation can boost your business "),y(),f(395,"p"),w(396,"Fermentum leo vel orci porta non. Id eu nisl nunc mi ipsum. Metus dictum at tempor commodo ullamcorper a lacus vestibulum. In dictum non consectetur a erat nam at. "),y()()(),f(397,"div",54)(398,"div",85)(399,"div",56)(400,"div",86)(401,"ul")(402,"li",58)(403,"div",59),A(404,"img",60),y(),f(405,"div",87)(406,"div",18)(407,"span"),w(408,"04 Aug 2023 - Cyber Security"),y()(),f(409,"h3",51),w(410," Protecting Your Smart Home and Devices "),y(),f(411,"p",30),w(412," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip. "),y()(),f(413,"a",21),Z(),f(414,"svg"),A(415,"use",22),y()()(),ee(),f(416,"li",58)(417,"div",59),A(418,"img",62),y(),f(419,"div",87)(420,"div",18)(421,"span"),w(422,"04 Aug 2023 - Cyber Security"),y()(),f(423,"h3",51),w(424," Protecting Your Smart Home and Devices "),y(),f(425,"p",30),w(426," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip. "),y()(),f(427,"a",21),Z(),f(428,"svg"),A(429,"use",22),y()()()()()(),ee(),f(430,"div",56)(431,"div",86)(432,"ul")(433,"li",58)(434,"div",59),A(435,"img",63),y(),f(436,"div",87)(437,"div",18)(438,"span"),w(439,"04 Aug 2023 - Cyber Security"),y()(),f(440,"h3",51),w(441," Protecting Your Smart Home and Devices "),y(),f(442,"p",30),w(443," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip. "),y()(),f(444,"a",21),Z(),f(445,"svg"),A(446,"use",22),y()()(),ee(),f(447,"li",58)(448,"div",59),A(449,"img",64),y(),f(450,"div",87)(451,"div",18)(452,"span"),w(453,"04 Aug 2023 - Cyber Security"),y()(),f(454,"h3",51),w(455," Protecting Your Smart Home and Devices "),y(),f(456,"p",30),w(457," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip. "),y()(),f(458,"a",21),Z(),f(459,"svg"),A(460,"use",22),y()()()()()()(),ee(),f(461,"a",65),w(462,"Load More "),Z(),f(463,"svg"),A(464,"use",66),y()()()()(),ee(),f(465,"div",88)(466,"div",2)(467,"div",34)(468,"h1",30),w(469,"latest for Company News"),y(),A(470,"div",11),y(),f(471,"div",89)(472,"div",72)(473,"div",73)(474,"ul")(475,"li",90)(476,"div",75)(477,"div",50)(478,"span"),w(479,"04 Aug 2023 -company news"),y()(),f(480,"h2",76),w(481,"Protecting Your Smart Home and Devices"),y(),f(482,"p",30),w(483,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip."),y()(),f(484,"a",77),Z(),f(485,"svg"),A(486,"use",22),y()()(),ee(),f(487,"li",90)(488,"div",75)(489,"div",50)(490,"span"),w(491,"04 Aug 2023 -company news"),y()(),f(492,"h2",76),w(493,"building aSP.Net core MVC using visual studio "),y(),f(494,"p",30),w(495,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip."),y()(),f(496,"a",77),Z(),f(497,"svg"),A(498,"use",22),y()()(),ee(),f(499,"li",78)(500,"div",75)(501,"div",50)(502,"span"),w(503,"04 Aug 2023 -company news"),y()(),f(504,"h2",76),w(505,"building aSP.Net core MVC using visual studio "),y(),f(506,"p",30),w(507,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip."),y()(),f(508,"a",77),Z(),f(509,"svg"),A(510,"use",22),y()()()()()(),ee(),f(511,"div",69)(512,"div",70)(513,"div",36),A(514,"img",71),y(),A(515,"div",38),f(516,"div",39)(517,"div",24),w(518,"featured for development"),y(),f(519,"div",41)(520,"span"),w(521,"04 Aug 2023 - web & mobile app development"),y()(),f(522,"h1",42),w(523," SEIRIM named one of the worlds top 250 managed security service provider "),y(),f(524,"p"),w(525,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y()()()()(),f(526,"div",55)(527,"div",45)(528,"div",91),A(529,"img",14),f(530,"div",47),A(531,"img",81),y(),f(532,"div",49)(533,"div",50)(534,"span"),w(535,"04 Aug 2023 -company news"),y()(),f(536,"h3",51),w(537," top 12 social media fo businesses in china "),y(),f(538,"p",92),w(539," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(540,"a",21),Z(),f(541,"svg"),A(542,"use",22),y()()()()(),ee(),f(543,"div",45)(544,"div",91),A(545,"img",14),f(546,"div",47),A(547,"img",93),y(),f(548,"div",49)(549,"div",50)(550,"span"),w(551,"04 Aug 2023 -company news"),y()(),f(552,"h3",51),w(553," our favorite quality assurance tools and processes "),y(),f(554,"p",92),w(555," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(556,"a",21),Z(),f(557,"svg"),A(558,"use",22),y()()()()(),ee(),f(559,"div",45)(560,"div",91),A(561,"img",14),f(562,"div",47),A(563,"img",94),y(),f(564,"div",49)(565,"div",50)(566,"span"),w(567,"04 Aug 2023 -company news"),y()(),f(568,"h3",51),w(569," our favorite quality assurance tools and processes "),y(),f(570,"p",92),w(571," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),f(572,"a",21),Z(),f(573,"svg"),A(574,"use",22),y()()()()()(),ee(),f(575,"a",65),w(576,"Load More "),Z(),f(577,"svg"),A(578,"use",66),y()()()()(),ee(),f(579,"div",95),A(580,"div",96),f(581,"div",97)(582,"h1",98),w(583,"Your Gateway to Advanced Web Solutions"),y(),f(584,"div",99),A(585,"div",11),y(),f(586,"div",100)(587,"p"),w(588,"Join us at SEIRIM, and let's build something extraordinary together. Your journey to success in the digital world starts here."),y()(),f(589,"div",101)(590,"button",102)(591,"span"),w(592," Inquire now "),y(),Z(),f(593,"svg",103),A(594,"use",104),y()()()()()())},dependencies:[Wi],styles:['.blog-page[_ngcontent-%COMP%]{overflow-x:hidden}.blog-page[_ngcontent-%COMP%]   .top-breadcrumb[_ngcontent-%COMP%]{background-color:var(--bg-2)}.blog-page[_ngcontent-%COMP%]   .news-date[_ngcontent-%COMP%]{margin-bottom:.3rem}.blog-page[_ngcontent-%COMP%]   .news-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gray-10);font-size:.6rem;font-style:normal;font-weight:var(--fw-400);line-height:100%;letter-spacing:.0625rem;text-transform:uppercase}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]{background-color:var(--bg-2);padding-bottom:5rem}@media screen and (min-width: 1400px){.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .app-container[_ngcontent-%COMP%]{padding:0 5.5rem}}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{font-size:.938rem;letter-spacing:.14063rem}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.3rem;height:1rem;--fill-color: var(--tech-blue-3)}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-header-title[_ngcontent-%COMP%]{max-width:54rem}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-header-title[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--white);font-size:3.5rem;font-weight:var(--fw-400);line-height:normal}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-header-title[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:.7rem 0}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]{column-gap:2.4rem;width:100%}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]{position:relative;min-height:40rem;border:1px solid var(--border-1);background:#0a0d1ccc;padding:1.5rem;z-index:1;cursor:pointer}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]:hover   .box-title[_ngcontent-%COMP%]{color:var(--tech-blue-1)!important}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .bg-shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:-1.5rem;opacity:.3;object-fit:cover;filter:blur(50px)}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{width:100%;height:15rem;overflow:hidden}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{cursor:pointer;color:var(--white);font-size:2rem;font-weight:var(--fw-500);line-height:normal;letter-spacing:-.03rem}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .card-des[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:1rem;font-weight:var(--fw-400);line-height:1.875rem}@media screen and (min-width: 1300px){.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]{min-width:54rem}}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-article-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .news-item[_ngcontent-%COMP%]{cursor:pointer;column-gap:1rem}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-article-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .news-item[_ngcontent-%COMP%]   .news-des[_ngcontent-%COMP%]   .news-number[_ngcontent-%COMP%]{margin-right:.875rem}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-article-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .news-item[_ngcontent-%COMP%]   .news-des[_ngcontent-%COMP%]   .news-number[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:1rem;font-weight:var(--fw-500);line-height:150%;letter-spacing:.16875rem}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-article-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .news-item[_ngcontent-%COMP%]   .news-des[_ngcontent-%COMP%]   .news-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:1.2rem;font-weight:var(--fw-500);line-height:1.75rem;letter-spacing:-.0125rem}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-article-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .news-item[_ngcontent-%COMP%]   .readmore-link[_ngcontent-%COMP%]{width:4rem;text-align:end}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-article-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   .line[_ngcontent-%COMP%]{display:none}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-article-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .news-item[_ngcontent-%COMP%]   .news-des[_ngcontent-%COMP%]   .news-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--tech-blue-1);transition:.3s all ease-in-out}@media screen and (min-width: 767px) and (max-width: 1180px){.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]{width:60%}.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-hero-section[_ngcontent-%COMP%]   .blog-hero-article-list[_ngcontent-%COMP%]{width:40%}}@media screen and (max-width: 991px){.blog-page[_ngcontent-%COMP%]   .blog-header[_ngcontent-%COMP%]   .blog-header-title[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:relative}}@media screen and (min-width: 1400px){.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .app-container[_ngcontent-%COMP%]{padding:0 5.5rem}}@media screen and (min-width: 991px){.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .card-mb-1[_ngcontent-%COMP%]{margin-bottom:2rem!important}}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .card-mb-2[_ngcontent-%COMP%]{margin-bottom:2.5rem}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .article-section-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:var(--fw-400);line-height:1.9rem;color:var(--text-black-3);letter-spacing:10%;text-transform:uppercase}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .hero-article-title[_ngcontent-%COMP%]{font-size:2.188rem;font-weight:var(--fw-500);line-height:2.625rem;letter-spacing:-.01em;color:var(--white);text-transform:capitalize}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]{border:1px solid rgba(150,150,150,.5019607843);cursor:pointer;position:relative}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]:hover   .box-title[_ngcontent-%COMP%]{color:var(--tech-blue-1)!important}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .blog-card-img[_ngcontent-%COMP%]{overflow:hidden}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .blog-card-desc[_ngcontent-%COMP%]   .blog-card-title[_ngcontent-%COMP%]{color:var(--black);font-size:1.375rem;font-weight:var(--fw-500);line-height:26px;letter-spacing:-.01em;text-transform:capitalize}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .blog-card-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--black);font-size:.875rem;font-style:normal;font-weight:var(--fw-400);line-height:1.5625rem}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .blog-card-desc[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.3rem;height:1rem;--fill-color: var(--tech-blue-3)}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-list[_ngcontent-%COMP%]   .blog-hero-list-card[_ngcontent-%COMP%]{border:1px solid rgba(150,150,150,.5019607843)}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-list[_ngcontent-%COMP%]   .blog-hero-list-card[_ngcontent-%COMP%]   .blog-card-item[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0;cursor:pointer}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-list[_ngcontent-%COMP%]   .blog-hero-list-card[_ngcontent-%COMP%]   .blog-card-item[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-list[_ngcontent-%COMP%]   .blog-hero-list-card[_ngcontent-%COMP%]   .blog-card-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-list[_ngcontent-%COMP%]   .blog-hero-list-card[_ngcontent-%COMP%]   .blog-card-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-list[_ngcontent-%COMP%]   .blog-hero-list-card[_ngcontent-%COMP%]   .blog-card-item[_ngcontent-%COMP%]:hover   .box-title[_ngcontent-%COMP%]{color:var(--tech-blue-1)!important}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-list[_ngcontent-%COMP%]   .blog-hero-list-card[_ngcontent-%COMP%]   .blog-card-item[_ngcontent-%COMP%]   .blog-card-img[_ngcontent-%COMP%]{width:8.9375rem;height:8.1875rem;overflow:hidden}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-list[_ngcontent-%COMP%]   .blog-hero-list-card[_ngcontent-%COMP%]   .blog-card-item[_ngcontent-%COMP%]   .blog-card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-list[_ngcontent-%COMP%]   .blog-hero-list-card[_ngcontent-%COMP%]   .blog-card-item[_ngcontent-%COMP%]   .blog-card-desc[_ngcontent-%COMP%]{width:62%}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-list[_ngcontent-%COMP%]   .blog-hero-list-card[_ngcontent-%COMP%]   .blog-card-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.3rem;height:1rem;--fill-color: var(--tech-blue-3)}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-list[_ngcontent-%COMP%]   .blog-hero-list-card[_ngcontent-%COMP%]   .blog-card-item[_ngcontent-%COMP%]:last-child{border:none}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .load-more-link[_ngcontent-%COMP%]{color:var(--text-black-4);font-size:1.125rem;font-style:normal;font-weight:400;line-height:100%}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .load-more-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.77406rem;height:.42756rem;--fill-color: var(--tech-blue-3);margin-left:.3rem}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .load-more-link[_ngcontent-%COMP%]:hover{color:var(--tech-blue-1);transition:.3s all ease-in-out}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]{position:relative;width:100%;min-height:22.4rem;margin-bottom:2rem;overflow:hidden;cursor:pointer}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]:hover   .box-title[_ngcontent-%COMP%]{color:var(--tech-blue-1)!important}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]   .feature-bg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]   .feature-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]   .bg-overlay[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,var(--black) 100%);width:100%;height:100%}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]   .blog-feature-desc[_ngcontent-%COMP%]{position:relative;width:39.5rem;height:auto}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]   .blog-feature-desc[_ngcontent-%COMP%]   .news-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#9fb1d2}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]   .blog-feature-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:.875rem;font-weight:var(--fw-400);line-height:25px;letter-spacing:0em}@media screen and (max-width: 992px){.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]   .blog-feature-desc[_ngcontent-%COMP%]{width:100%}}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:1.5rem 0 2.5rem}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .article-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .blog-sidebar-desc[_ngcontent-%COMP%]{cursor:pointer}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .article-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .blog-sidebar-desc[_ngcontent-%COMP%]   .blog-sidebar-title[_ngcontent-%COMP%]{color:var(--white);font-size:1.375rem;font-style:normal;font-weight:500;line-height:1.75rem;letter-spacing:-.01375rem;text-transform:capitalize}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .article-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .blog-sidebar-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:.875rem;font-style:normal;font-weight:400;line-height:1.5625rem}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .article-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.3rem;height:1rem;--fill-color: var(--tech-blue-3)}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .article-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .blog-sidebar-desc[_ngcontent-%COMP%]   .blog-sidebar-title[_ngcontent-%COMP%]{color:var(--tech-blue-1);transition:.3s all ease-in-out}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .dark-card[_ngcontent-%COMP%]{position:relative;border:1px solid var(--border-1);background:rgba(var(--bg-4),.8);padding:1.5rem;cursor:pointer;z-index:1}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .dark-card[_ngcontent-%COMP%]   .bg-shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:-4rem;opacity:.3;width:130%;height:110%;object-fit:cover;filter:blur(50px)}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .dark-card[_ngcontent-%COMP%]   .blog-card-img[_ngcontent-%COMP%]{width:100%;height:9.0625rem}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .dark-card[_ngcontent-%COMP%]   .blog-card-desc[_ngcontent-%COMP%]   .blog-card-title[_ngcontent-%COMP%], .blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .dark-card[_ngcontent-%COMP%]   .blog-card-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .development-blog[_ngcontent-%COMP%]   .load-more-link[_ngcontent-%COMP%], .blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .company-blog[_ngcontent-%COMP%]   .load-more-link[_ngcontent-%COMP%], .blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .development-blog[_ngcontent-%COMP%]   .article-section-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .company-blog[_ngcontent-%COMP%]   .article-section-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--white)}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .cybersecurity-blog[_ngcontent-%COMP%]   .blog-body-hero[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]{min-height:25.5rem}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .cybersecurity-blog[_ngcontent-%COMP%]   .blog-body-hero[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .blog-card-img[_ngcontent-%COMP%]{width:100%;height:8rem}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .cybersecurity-blog[_ngcontent-%COMP%]   .blog-body-hero[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]   .blog-card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;object-fit:cover}@media screen and (max-width: 767px){.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .cybersecurity-blog[_ngcontent-%COMP%]   .blog-body-hero[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]{min-height:100%}}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .development-blog[_ngcontent-%COMP%]{background-color:var(--bg-2)}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .development-blog[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]{min-height:32rem;margin-bottom:0rem}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .development-blog[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]   .blog-feature-desc[_ngcontent-%COMP%]{width:41rem}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .company-blog[_ngcontent-%COMP%]{background-color:var(--bg-2)}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .company-blog[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]{height:32rem}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .company-blog[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]   .blog-feature-desc[_ngcontent-%COMP%]{width:41rem}@media screen and (max-width: 767px){.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-list[_ngcontent-%COMP%]   .blog-hero-list-card[_ngcontent-%COMP%]   .blog-card-item[_ngcontent-%COMP%]   .blog-card-img[_ngcontent-%COMP%], .blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .blog-hero-list[_ngcontent-%COMP%]   .blog-hero-list-card[_ngcontent-%COMP%]   .blog-card-item[_ngcontent-%COMP%]   .blog-card-desc[_ngcontent-%COMP%]{width:100%}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:1rem 0 2rem}.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .cybersecurity-blog[_ngcontent-%COMP%]   .blog-body-hero[_ngcontent-%COMP%]   .blog-hero-card[_ngcontent-%COMP%]{min-height:100%}}@media screen and (max-width: 991px){.blog-page[_ngcontent-%COMP%]   .blog-body[_ngcontent-%COMP%]   .feature-article[_ngcontent-%COMP%]   .blog-feature-desc[_ngcontent-%COMP%]{width:100%}}.blog-page[_ngcontent-%COMP%]   .blog-inquiry-section[_ngcontent-%COMP%]{position:relative;background-image:url("./media/bottom-blog-img-PMITDTE2.png");width:100%;height:38rem;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center}.blog-page[_ngcontent-%COMP%]   .blog-inquiry-section[_ngcontent-%COMP%]   .background-overlay[_ngcontent-%COMP%]{position:absolute;left:0;top:0;background-color:#000;opacity:.5;width:100%;height:100%}.blog-page[_ngcontent-%COMP%]   .blog-inquiry-section[_ngcontent-%COMP%]   .inquiry-wrapper[_ngcontent-%COMP%]{position:relative;max-width:41rem;text-align:center}.blog-page[_ngcontent-%COMP%]   .blog-inquiry-section[_ngcontent-%COMP%]   .inquiry-wrapper[_ngcontent-%COMP%]   .inquiry-title[_ngcontent-%COMP%]{color:var(--white);font-size:3.75rem;font-weight:var(--fw-400);line-height:100%}.blog-page[_ngcontent-%COMP%]   .blog-inquiry-section[_ngcontent-%COMP%]   .inquiry-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:1rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem;letter-spacing:.05rem}@media screen and (max-width: 767px){.blog-page[_ngcontent-%COMP%]   .blog-inquiry-section[_ngcontent-%COMP%]   .inquiry-wrapper[_ngcontent-%COMP%]{padding:1rem}.blog-page[_ngcontent-%COMP%]   .blog-inquiry-section[_ngcontent-%COMP%]   .inquiry-wrapper[_ngcontent-%COMP%]   .inquiry-title[_ngcontent-%COMP%]{font-size:2.5rem}}']});let e=t;return e})();var Wte=["section1"],qte=["section2"],Yte=["section3"],Xte=["section4"],Qte=["sidebarItem1"],Zte=["sidebarItem2"],$te=["sidebarItem3"],Kte=["sidebarItem4"],I8=(()=>{let t=class t{constructor(){this.lastActiveSectionIndex=-1}onScroll(){this.highlightSidebarItem()}highlightSidebarItem(){let i=[this.section1.nativeElement,this.section2.nativeElement,this.section3.nativeElement,this.section4.nativeElement],r=[this.sidebarItem1.nativeElement,this.sidebarItem2.nativeElement,this.sidebarItem3.nativeElement,this.sidebarItem4.nativeElement],o=-1;for(let a=0;a<i.length;a++){let s=i[a].getBoundingClientRect();if(s.top>=0&&s.top<=window.innerHeight){o=a;break}}if(o!==-1&&o!==this.lastActiveSectionIndex){for(let a=o+1;a<r.length;a++)r[a].classList.remove("active");r[o].classList.add("active"),this.lastActiveSectionIndex=o}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["article-page"]],viewQuery:function(r,o){if(r&1&&(dn(Wte,5),dn(qte,5),dn(Yte,5),dn(Xte,5),dn(Qte,5),dn(Zte,5),dn($te,5),dn(Kte,5)),r&2){let a;Kt(a=Jt())&&(o.section1=a.first),Kt(a=Jt())&&(o.section2=a.first),Kt(a=Jt())&&(o.section3=a.first),Kt(a=Jt())&&(o.section4=a.first),Kt(a=Jt())&&(o.sidebarItem1=a.first),Kt(a=Jt())&&(o.sidebarItem2=a.first),Kt(a=Jt())&&(o.sidebarItem3=a.first),Kt(a=Jt())&&(o.sidebarItem4=a.first)}},hostBindings:function(r,o){r&1&&Cn("scroll",function(){return o.onScroll()},!1,H1)},standalone:!0,features:[gt],decls:333,vars:0,consts:[["sidebarItem1",""],["sidebarItem2",""],["sidebarItem3",""],["sidebarItem4",""],["section1",""],["section2",""],["section3",""],["section4",""],[1,"article-page"],[1,"top-breadcrumb"],[1,"app-container"],[1,"app-breadcrumb","mb-0"],[1,"app-breadcrumb-wrapper"],[1,"breadcrumb-links"],["href","#","routerLink","/case-study/development",1,"breadcrumb-items","active"],["href","#","routerLink","/case-study/",1,"breadcrumb-items"],[1,"article-header"],[1,"article-header-wrapper"],[1,"article-header-title"],[1,"row"],[1,"col-12","col-md-3"],[1,"top-header-sidebar","mb-4","mb-md-0"],[1,"mt-md-3","artical-label"],[1,"sidebar-links","mb-3"],["href","#"],["href","#",1,"copy-link","d-flex","column-gap-2"],[0,"xlink","href","#linkIcon"],[1,"col-12","col-md-9"],[1,"main-title"],[1,"line"],[1,"article-header-des","mb-5"],[1,"row","flex-column-reverse","flex-md-row"],[1,"col-12","col-md-3","mt-3","mt-md-0"],[1,"article-author"],[1,"article-author-text"],[1,"article-hero-img"],["src","../../../../assets/images/news/news-header.png","alt","news-image"],[1,"article-section-body"],[1,"col-12","col-lg-3","mb-4"],[1,"article-body-sidebar"],["href","#section1"],[1,"icon"],[0,"xlink","href","#listCircleIcon"],["href","#section2"],["href","#section3"],["href","#section4"],[1,"col-12","col-lg-9"],[1,"article-body-des"],["id","section1",1,"article-topic","mb-4","mb-md-5"],[1,"topic-title"],["id","section2",1,"article-topic","mb-4","mb-md-5","article-topic-2"],[1,"article-img","mb-4"],["src","../../../../assets/images/news/news-contain-1.png","width","100%","height","100%","alt",""],[1,"mt-4"],[1,"d-flex","justify-content-start","align-items-start"],[1,"list-number"],[1,"list-content"],[1,"article-subTitle"],["id","section3",1,"article-topic","mb-4","mb-md-5","article-topic-3"],["src","../../../../assets/images/news/news-contain-2.png","width","100%","height","100%","alt",""],["id","section4",1,"article-topic","mb-4"],[1,"mb-4"],[1,"news-quote-text"],[1,"me-3","pt-2"],[0,"xlink","href","#quoteLeft"],[1,"ms-3","pb-2"],[0,"xlink","href","#quoteRight"],[1,"artical-percent","mt-4"],[1,"pertage-box"],[1,"aurthor-section","mb-4","mb-md-5"],[1,"aurther-box"],[1,"aurther-img"],["src","../../../../assets/images/news/aurther-img.png","alt",""],[1,"aurther-des"],[1,"m-0"],[1,"connect-section","mb-4","mb-md-5"],[1,"col-md-7"],[1,"connect-des"],[1,"btn-trans"],[1,"ms-2"],[0,"xlink","href","#connectArrow"],[1,"col-md-5"],[1,"connect-image"],["src","../../../../assets/images/news/connect-img.png","alt",""],[1,"similar-articles"],[1,"article-top","d-flex","align-items-center","justify-content-between"],[1,"section-title"],[1,"title-label"],[1,"title"],[1,"btn-trans","d-sm-none","d-md-block","mt-4"],[1,"btn-label"],[1,"link-icon"],[0,"xlink","href","#arrowUpRightIcon"],[1,"blog-hero-card-wrapper","mt-4","mt-md-5"],[1,"row","g-4","glutter-2"],[1,"col-xxl-8","col-lg-7","col-md-6"],[1,"blog-hero-card","mb-5","mb-md-0"],[1,"blog-card-img","mb-3"],["src","../../../../../assets/images/pages/home/blog-main-card.png","width","100%","height","100%","alt","blog-hero"],[1,"blog-card-content"],[1,"blog-date"],[1,"blog-title","box-title"],[1,"blog-para"],[0,"xlink","href","#arrowRightIconOne"],[1,"col-xxl-4","col-lg-5","col-md-6"],[1,"blog-hero-card-list"],[1,"blog-her-card","d-flex","column-gap-3","align-items-start"],[1,"blog-card-img"],["src","../../../../../assets/images/pages/home/blog-card-1.png","width","100%","height","100%","alt","blog-hero"],["src","../../../../../assets/images/pages/home/blog-card-2.png","width","100%","height","100%","alt","blog-hero"],["src","../../../../../assets/images/pages/home/blog-card-3.png","width","100%","height","100%","alt","blog-hero"],[1,"btn-trans","mt-5","d-sm-block","d-md-none","m-auto"]],template:function(r,o){r&1&&(f(0,"section",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"div",13)(6,"ul")(7,"li")(8,"a",14)(9,"span"),w(10,"News Main"),y()()(),f(11,"li")(12,"a",15)(13,"span"),w(14,"Cybersecurity"),y()()(),f(15,"li")(16,"a",15)(17,"span"),w(18,"Development"),y()()(),f(19,"li")(20,"a",15)(21,"span"),w(22,"Digital Marketing"),y()()(),f(23,"li")(24,"a",15)(25,"span"),w(26,"Company News"),y()()()()()()()()(),f(27,"div",16)(28,"div",10)(29,"div",17)(30,"div",18)(31,"div",19)(32,"div",20)(33,"div",21)(34,"p",22),w(35,"PATHWAY"),y(),f(36,"div",23)(37,"a",24),w(38,"Home"),y(),f(39,"span"),w(40,"/"),y(),f(41,"a",24),w(42,"News"),y(),f(43,"span"),w(44,"/"),y(),f(45,"a",24),w(46,"Cyber Security"),y(),f(47,"span"),w(48,"/"),y(),A(49,"br"),f(50,"a",24),w(51,"White Paper on Secure Dev 2023"),y()(),f(52,"a",25),Z(),f(53,"svg"),A(54,"use",26),y(),ee(),f(55,"span"),w(56,"COPY LINK"),y()()()(),f(57,"div",27)(58,"h1",28),w(59,"White paper on secure software development practices for 2023 published"),y(),A(60,"div",29),y()()(),f(61,"div",30)(62,"div",31)(63,"div",32)(64,"span",33)(65,"i"),w(66,"by"),y(),w(67," Stephen Shroeder "),A(68,"br"),w(69," Cybersecurity "),A(70,"br"),w(71," 02 Aug 2023 "),y()(),f(72,"div",27)(73,"div",34)(74,"p"),w(75,"In a world increasingly dependent on technology, the importance of secure software cannot be overstated. With the digital landscape evolving at a breakneck pace, vulnerabilities are often exploited faster than they can be addressed. "),y()()()()(),f(76,"div",35),A(77,"img",36),y()()()(),f(78,"div",37)(79,"div",10)(80,"div",19)(81,"div",38)(82,"div",39)(83,"h3"),w(84,"immediate access"),y(),f(85,"ul")(86,"li")(87,"a",40,0)(89,"span",41),Z(),f(90,"svg"),A(91,"use",42),y()(),ee(),f(92,"span"),w(93," Pioneering Security by Design"),y()()(),f(94,"li")(95,"a",43,1)(97,"span",41),Z(),f(98,"svg"),A(99,"use",42),y()(),ee(),f(100,"span"),w(101," Emphasizing Continuous Integration "),A(102,"br"),w(103," / Continuous Deployment (CI/CD) Security"),y()()(),f(104,"li")(105,"a",44,2)(107,"span",41),Z(),f(108,"svg"),A(109,"use",42),y()(),ee(),f(110,"span"),w(111,"Championing Open Source Security"),y()()(),f(112,"li")(113,"a",45,3)(115,"span",41),Z(),f(116,"svg"),A(117,"use",42),y()(),ee(),f(118,"span"),w(119,"Data Protection and Privacy"),y()()()()()(),f(120,"div",46)(121,"div",47)(122,"div",48,4)(124,"h1",49),w(125,"Pioneering Security by Design"),y(),f(126,"p"),w(127,"The white paper is a call to action, urging developers to integrate security at the very inception of the development process. Security by design is not just a feature to be added but a core component of the software development lifecycle (SDLC). This approach minimizes vulnerabilities and ensures that security is not an afterthought."),y()(),f(128,"div",50,5)(130,"h1",49),w(131,"Emphasizing Continuous Integration/Continuous Deployment (CI/CD) Security"),y(),f(132,"div",51),A(133,"img",52),y(),f(134,"p"),w(135,"As CI/CD pipelines become the backbone of rapid deployment cycles, the white paper emphasizes the need to integrate security measures into these pipelines. This includes the adoption of automated security testing tools, which can scan for vulnerabilities in real-time, providing immediate feedback to developers."),y(),f(136,"ul",53)(137,"li",54)(138,"div",55)(139,"span"),w(140,"1"),y()(),f(141,"div",56)(142,"h5",57),w(143,"Introduction to CI/CD Security"),y(),f(144,"p"),w(145,"The introduction discusses the evolving landscape of software development and the increasing importance of integrating security into the "),f(146,"a",24),w(147,"CI/CD pipeline"),y(),w(148,". It lays the foundation for why security is not just an add-on but a fundamental aspect of the development process."),y()()(),f(149,"li",54)(150,"div",55)(151,"span"),w(152,"2"),y()(),f(153,"div",56)(154,"h5",57),w(155,"Planning and Risk Assessment"),y(),f(156,"p"),w(157,"This section covers the initial stages of the "),f(158,"a",24),w(159,"CI/CD pipeline"),y(),w(160,", focusing on the need for thorough planning and risk assessment to identify potential security threats and vulnerabilities early in the development lifecycle."),y()()(),f(161,"li",54)(162,"div",55)(163,"span"),w(164,"3"),y()(),f(165,"div",56)(166,"h5",57),w(167,"Secure Development Practices"),y(),f(168,"p"),w(169,"Details on implementing secure coding practices, including the use of coding standards, code reviews, and the importance of educating developers on security best practices."),y()()()()(),f(170,"div",58,6)(172,"h1",49),w(173,"Championing Open Source Security"),y(),f(174,"div",51),A(175,"img",59),y(),f(176,"p"),w(177,"Open-source software is a double-edged sword\u2014it accelerates development but can also introduce risks if not managed properly. The paper dedicates a section to the secure adoption of open-source components, highlighting best practices such as regular vulnerability scanning and adopting a software bill of materials (SBOM) to keep track of dependencies."),y(),f(178,"h5",57),w(179,"Understanding Open Source Vulnerabilities"),y(),f(180,"ul")(181,"li"),w(182,"The reality of security vulnerabilities in open source projects."),y(),f(183,"li"),w(184,"Common types of vulnerabilities found in open source software."),y()(),f(185,"h5",57),w(186,"Adopting an Open Source Software Policy"),y(),f(187,"ul")(188,"li"),w(189,"Establishing clear guidelines for the use of open source code."),y(),f(190,"li"),w(191,"Ensuring compliance with open source licenses."),y()()(),f(192,"div",60,7)(194,"h1",49),w(195,"Data Protection and Privacy"),y(),f(196,"p",61),w(197,"Data breaches are not just a security failure; they're a breach of trust between a service and its users."),y(),f(198,"div",62),Z(),f(199,"svg",63),A(200,"use",64),y(),ee(),f(201,"span"),w(202,"The white paper details strategies for protecting sensitive information, including encryption practices, secure data storage, and implementing robust access controls. "),Z(),f(203,"svg",65),A(204,"use",66),y()()(),ee(),f(205,"div",67)(206,"div",68),A(207,"div",29),f(208,"h1"),w(209,">70%"),y(),f(210,"p"),w(211,"Tincidunt dui ut ornare lectus sit ame."),y()(),f(212,"div",68),A(213,"div",29),f(214,"h1"),w(215,"62%"),y(),f(216,"p"),w(217,"Tincidunt dui ut ornare lectus sit ame."),y()(),f(218,"div",68),A(219,"div",29),f(220,"h1"),w(221,"76%"),y(),f(222,"p"),w(223,"Tincidunt dui ut ornare lectus sit ame."),y()(),f(224,"div",68),A(225,"div",29),f(226,"h1"),w(227,"64%"),y(),f(228,"p"),w(229,"Tincidunt dui ut ornare lectus sit ame."),y()(),f(230,"div",68),A(231,"div",29),f(232,"h1"),w(233,"60%"),y(),f(234,"p"),w(235,"Tincidunt dui ut ornare lectus sit ame."),y()()()(),f(236,"div",69)(237,"div",70)(238,"div",71),A(239,"img",72),y(),f(240,"div",73)(241,"span"),w(242,"about the author"),y(),f(243,"h3",61),w(244,"S.R. Schroeder"),y(),f(245,"p",74),w(246,"Stephen Schroeder is a seasoned cybersecurity expert with over a decade of experience in the field. Holding a Master's degree in Computer Science from MIT, she has worked with numerous Fortune 500 companies to bolster their digital defenses."),y()()()(),f(247,"div",75)(248,"div",19)(249,"div",76)(250,"div",77)(251,"h3"),w(252,"Ready to Get Secure?"),y(),f(253,"p"),w(254," The SEIRIM team of professionals is at your service to design, develop and deliver better cybersecurity for your organization. "),y(),f(255,"button",78)(256,"span"),w(257," let\u2019s connect "),y(),Z(),f(258,"svg",79),A(259,"use",80),y()()()(),ee(),f(260,"div",81)(261,"div",82),A(262,"img",83),y()()()()()()()()(),f(263,"div",84)(264,"div",10)(265,"div",85)(266,"div",86)(267,"span",87),w(268,"get latest updates"),y(),f(269,"h2",88),w(270,"Similar Articles"),y(),A(271,"div",29),y(),f(272,"button",89)(273,"span",90),w(274,"view all articles"),y(),Z(),f(275,"svg",91),A(276,"use",92),y()()(),ee(),f(277,"div",93)(278,"div",94)(279,"div",95)(280,"div",96)(281,"div",97),A(282,"img",98),y(),f(283,"div",99)(284,"span",100),w(285,"04 Aug 2023 - Cyber Security"),y(),f(286,"h3",101),w(287,"Cybersecurity: Protecting Your Digital Life in an Online World"),y(),f(288,"p",102),w(289,"Accumsan lacus vel facilisis volutpat est. Id diam vel quam elementum. Integer quis auctor elit sed vulputate mi sit nulla porttitor massa id neque aliquam vestibulum. "),y(),Z(),f(290,"svg"),A(291,"use",103),y()()()(),ee(),f(292,"div",104)(293,"div",105)(294,"ul")(295,"li")(296,"div",106)(297,"div",107),A(298,"img",108),y(),f(299,"div",99)(300,"span",100),w(301,"04 Aug 2023 - Cyber Security"),y(),f(302,"h3",101),w(303,"Cybersecurity: Protecting Your Digital Life in an Online World"),y(),Z(),f(304,"svg"),A(305,"use",103),y()()()(),ee(),f(306,"li")(307,"div",106)(308,"div",107),A(309,"img",109),y(),f(310,"div",99)(311,"span",100),w(312,"04 Aug 2023 - Cyber Security"),y(),f(313,"h3",101),w(314,"Cybersecurity: Protecting Your Digital Life in an Online World"),y(),Z(),f(315,"svg"),A(316,"use",103),y()()()(),ee(),f(317,"li")(318,"div",106)(319,"div",107),A(320,"img",110),y(),f(321,"div",99)(322,"span",100),w(323,"04 Aug 2023 - Cyber Security"),y(),f(324,"h3",101),w(325,"Cybersecurity: Protecting Your Digital Life in an Online World"),y(),Z(),f(326,"svg"),A(327,"use",103),y()()()()()()()(),ee(),f(328,"button",111)(329,"span",90),w(330,"view all articles"),y(),Z(),f(331,"svg",91),A(332,"use",92),y()()()()()())},styles:['.article-page[_ngcontent-%COMP%]   .top-breadcrumb[_ngcontent-%COMP%]{background-color:var(--bg-2)}@media screen and (min-width: 1400px){.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .app-container[_ngcontent-%COMP%], .article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .app-container[_ngcontent-%COMP%]{padding:0 5.5rem}}@media screen and (min-width: 1200px){.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .app-container[_ngcontent-%COMP%], .article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .app-container[_ngcontent-%COMP%]{padding:0 4rem!important}}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]{background-color:var(--bg-2);padding:0 0 18rem}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]{position:relative}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-header-title[_ngcontent-%COMP%]   .artical-label[_ngcontent-%COMP%]{color:var(--white);font-size:.75rem;font-weight:500;margin-bottom:.3rem;letter-spacing:.075rem}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-header-title[_ngcontent-%COMP%]   .sidebar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-header-title[_ngcontent-%COMP%]   .sidebar-links[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:.875rem;font-weight:500;padding-right:.2rem}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-header-title[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.875rem;height:.875rem;--fill-color: #808080}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-header-title[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white);font-size:.625rem;font-weight:500;letter-spacing:.0625rem}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-header-title[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{--fill-color: var(--tech-blue-3)}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-header-title[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--tech-blue-3);transition:.3s all ease-in-out}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-header-title[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{position:relative;color:var(--white);font-size:3.5rem;font-weight:400;line-height:4.2rem;margin-bottom:1.5rem}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-header-title[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:11rem}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-header-des[_ngcontent-%COMP%]{margin-top:.5rem}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-header-des[_ngcontent-%COMP%]   .article-author[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:.875rem;font-weight:500}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-header-des[_ngcontent-%COMP%]   .article-author-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:1.125rem;font-weight:400;line-height:1.8rem;letter-spacing:.05625rem;margin-bottom:0}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-hero-img[_ngcontent-%COMP%]{position:absolute;left:0;right:0}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-hero-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:30rem;object-fit:cover}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]{padding-top:16rem;position:relative}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-sidebar[_ngcontent-%COMP%]{position:sticky;top:80px}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:.75rem;font-weight:600;letter-spacing:.375rem;text-transform:uppercase;margin-bottom:1rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-bottom:1rem;display:flex;align-items:start;column-gap:1rem;position:relative}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";position:absolute;left:.27rem;top:14px;width:2px;height:100%;background-color:transparent;transition:all .3s ease-in-out;z-index:-1}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.67325rem;height:.67325rem;--stroke-color: #252525}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-black-2);font-size:1rem;font-weight:500;line-height:normal}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{--stroke-color: #0063be}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0063be}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:before{background-color:#0063be}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   a[_ngcontent-%COMP%]:before{display:none}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .topic-title[_ngcontent-%COMP%]{color:var(--black);font-size:2rem;font-weight:500;line-height:normal;margin-bottom:1.5rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--black);font-size:1rem;font-weight:400;line-height:1.875rem;letter-spacing:.0225rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .news-quote-text[_ngcontent-%COMP%]{display:flex}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .news-quote-text[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{max-width:1.8rem;max-height:1.8rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .news-quote-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-black-1);font-size:1.8rem;font-style:normal;font-weight:500;line-height:2.5rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .article-subTitle[_ngcontent-%COMP%]{color:var(--black);font-size:1.25rem;font-style:normal;font-weight:500}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .article-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:26.5rem;object-fit:cover}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic.article-topic-2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .list-number[_ngcontent-%COMP%]{background-color:var(--tech-blue-1);min-width:1.5rem;height:1.5rem;margin-right:1.3rem;text-align:center}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic.article-topic-2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .list-number[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white);font-size:.8rem;font-weight:500}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic.article-topic-2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]   .article-subTitle[_ngcontent-%COMP%]{margin-bottom:.5rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic.article-topic-2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic.article-topic-2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--black);font-size:1rem;font-weight:400;line-height:1.875rem;letter-spacing:.0225rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic.article-topic-2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--tech-blue-1)}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic.article-topic-3[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:1.5rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic.article-topic-3[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-left:3rem;margin-bottom:.5rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic.article-topic-3[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;background-color:var(--tech-blue-1);width:.6rem;height:.6rem;margin-left:1rem;transform:translate(50%,70%)}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic.article-topic-3[_ngcontent-%COMP%]   .article-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:19rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .artical-percent[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:start;column-gap:5rem;row-gap:3rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .artical-percent[_ngcontent-%COMP%]   .pertage-box[_ngcontent-%COMP%]{position:relative;max-width:12rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .artical-percent[_ngcontent-%COMP%]   .pertage-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:2.5rem;font-weight:500}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .artical-percent[_ngcontent-%COMP%]   .pertage-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--black);font-size:1rem;font-weight:400;line-height:1.8rem;letter-spacing:.0225rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .aurthor-section[_ngcontent-%COMP%]{position:relative;border:.125rem solid var(--gray-7);padding:3rem;min-height:17.5rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .aurthor-section[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;background:var(--tech-blue-1);width:100%;height:.1rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .aurthor-section[_ngcontent-%COMP%]   .aurther-box[_ngcontent-%COMP%]{display:flex;align-items:start;column-gap:5rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .aurthor-section[_ngcontent-%COMP%]   .aurther-box[_ngcontent-%COMP%]   .aurther-img[_ngcontent-%COMP%]{width:4.5rem;height:4.5rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .aurthor-section[_ngcontent-%COMP%]   .aurther-box[_ngcontent-%COMP%]   .aurther-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;border-radius:50%}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .aurthor-section[_ngcontent-%COMP%]   .aurther-box[_ngcontent-%COMP%]   .aurther-des[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:.75rem;font-style:normal;font-weight:500;line-height:100%;letter-spacing:.075rem;text-transform:uppercase}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .aurthor-section[_ngcontent-%COMP%]   .aurther-box[_ngcontent-%COMP%]   .aurther-des[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{position:relative;color:var(--black);font-size:1.3rem;font-style:normal;font-weight:500;line-height:normal}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .aurthor-section[_ngcontent-%COMP%]   .aurther-box[_ngcontent-%COMP%]   .aurther-des[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:after{content:"";position:absolute;top:2.5rem;left:0;background:var(--lineargradient-line);width:8rem;height:.2rem;margin:auto}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .aurthor-section[_ngcontent-%COMP%]   .aurther-box[_ngcontent-%COMP%]   .aurther-des[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--black);font-size:1rem;font-weight:400;line-height:1.875rem;letter-spacing:.0225rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .connect-section[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--bg-2);width:100%;min-height:18rem;overflow:hidden}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .connect-section[_ngcontent-%COMP%]   .connect-des[_ngcontent-%COMP%]{padding:1.5rem 3rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .connect-section[_ngcontent-%COMP%]   .connect-des[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--white);font-size:1.8rem;font-style:normal;font-weight:500;line-height:normal}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .connect-section[_ngcontent-%COMP%]   .connect-des[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gray-7);font-size:1rem;font-weight:400;line-height:1.875rem;letter-spacing:.0225rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .connect-section[_ngcontent-%COMP%]   .connect-image[_ngcontent-%COMP%]{height:18rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .connect-section[_ngcontent-%COMP%]   .connect-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{widows:100%;height:100%;object-fit:cover}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]{padding:6rem 0;background:#0d101e}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-top[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]{margin:auto}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .slick-slide[_ngcontent-%COMP%]{padding:0 .875rem;z-index:99}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]{position:relative;margin:4rem 0}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .shadow-card[_ngcontent-%COMP%]{position:absolute;top:-5rem;left:-7rem;z-index:-1;width:150%;height:140%;z-index:99}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]{border:1px solid rgba(0,195,207,.2);padding:2rem 1.8rem;position:relative;background:#0a0d1ccc;z-index:99;transition:all .3s ease;cursor:pointer}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]:hover   .box-title[_ngcontent-%COMP%]{color:var(--tech-blue-1)!important}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{width:100%;max-height:8.6rem;overflow:hidden}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   .card-bg[_ngcontent-%COMP%]{position:absolute;left:0;top:-100px;width:100%;height:100%;z-index:-1}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{margin-top:1.5rem}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#405882;font-size:.75rem;font-weight:400;line-height:100%;letter-spacing:1px;text-transform:uppercase}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:var(--white);font-size:1.375rem;font-weight:500;letter-spacing:-.22px;margin:.75rem 0;line-height:26px;white-space:normal;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;height:52px;overflow:hidden;cursor:pointer;transition:all .3s ease-in-out}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]:hover{color:var(--tech-blue-1)}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.75rem;color:var(--white);font-size:.875rem;font-weight:400;line-height:25px;line-height:17px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;height:50px;overflow:hidden}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;padding:0;margin-top:2rem;transition:all .3s ease-in-out}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:21.291px;height:17.42px}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translate(6px)}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]{margin-top:1rem}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .articleSlider-button-prev[_ngcontent-%COMP%], .article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .articleSlider-button-next[_ngcontent-%COMP%]{background:none;padding:.4rem;border:1px solid #0782f4;display:flex;align-items:center;position:relative;transition:all .3s ease-in-out}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .articleSlider-button-prev[_ngcontent-%COMP%]:after, .article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .articleSlider-button-next[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;bottom:0;width:0%;height:100%;background:transparent;transition:all .3s ease-in-out;z-index:1}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .articleSlider-button-prev[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .articleSlider-button-next[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem;z-index:11}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .articleSlider-button-prev[_ngcontent-%COMP%]:hover:after, .article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .articleSlider-button-next[_ngcontent-%COMP%]:hover:after{background:var(--lineargradient-bg);width:100%}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .articleSlider-button-prev[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .articleSlider-button-next[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{--fill-color: #fff}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]   .article-bottom[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .articleSlider-button-prev[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(180deg)}@media screen and (max-width: 991px){.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]{padding:3.5rem 0}}@media screen and (max-width: 991px){.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]{padding:0rem 0 10rem}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-header-title[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-size:2.5rem;line-height:normal}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-header-title[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:7rem}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-header-des[_ngcontent-%COMP%]   .article-author-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:start}.article-page[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .article-header-wrapper[_ngcontent-%COMP%]   .article-hero-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:20rem;object-fit:cover}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]{padding-top:11rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-sidebar[_ngcontent-%COMP%]{display:none}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .topic-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .news-quote-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .artical-percent[_ngcontent-%COMP%]{column-gap:3rem;row-gap:2rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .aurthor-section[_ngcontent-%COMP%]{padding:1rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .aurthor-section[_ngcontent-%COMP%]   .aurther-box[_ngcontent-%COMP%]{flex-direction:column}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .aurthor-section[_ngcontent-%COMP%]   .aurther-box[_ngcontent-%COMP%]   .aurther-img[_ngcontent-%COMP%]{align-items:center;justify-content:center;width:100%;height:auto;display:flex}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .aurthor-section[_ngcontent-%COMP%]   .aurther-box[_ngcontent-%COMP%]   .aurther-des[_ngcontent-%COMP%]{text-align:center}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .aurthor-section[_ngcontent-%COMP%]   .aurther-box[_ngcontent-%COMP%]   .aurther-des[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:after{width:100px!important;right:0;margin:auto}.article-page[_ngcontent-%COMP%]   .similar-articles[_ngcontent-%COMP%]{padding:3.5rem 0}}@media screen and (max-width: 767px){.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .artical-percent[_ngcontent-%COMP%]{gap:1rem!important}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .artical-percent[_ngcontent-%COMP%]   .pertage-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .artical-percent[_ngcontent-%COMP%]   .pertage-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .connect-section[_ngcontent-%COMP%]   .connect-des[_ngcontent-%COMP%]{padding:1.5rem 1.2rem}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .connect-section[_ngcontent-%COMP%]   .connect-image[_ngcontent-%COMP%]{width:100%}.article-page[_ngcontent-%COMP%]   .article-section-body[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .connect-section[_ngcontent-%COMP%]   .connect-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}}@media screen and (max-width: 600px){.article-page[_ngcontent-%COMP%]   .article-body-des[_ngcontent-%COMP%]   .article-topic[_ngcontent-%COMP%]   .artical-percent[_ngcontent-%COMP%]{gap:1rem!important}}']});let e=t;return e})();var Jte=["*"],R8=(()=>{let t=class t{constructor(){this.text=""}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["tool-tip"]],inputs:{text:"text"},standalone:!0,features:[gt],ngContentSelectors:Jte,decls:4,vars:1,consts:[[1,"tool-tip"],[1,"tooltip-text"]],template:function(r,o){r&1&&(iR(),f(0,"div",0),rR(1),f(2,"span",1),w(3),y()()),r&2&&(nn(3),xa(o.text))},styles:['.tool-tip[_ngcontent-%COMP%]{position:relative;display:inline-block}.tool-tip[_ngcontent-%COMP%]   .tooltip-text[_ngcontent-%COMP%]{position:relative;font-size:.875rem;visibility:hidden;width:auto;background-color:var(--black);color:var(--white);text-align:center;border-radius:4px;padding:.7rem 1rem;position:absolute;z-index:1;bottom:125%;left:50%;margin-left:-60px;opacity:0;transition:opacity .3s}.tool-tip[_ngcontent-%COMP%]   .tooltip-text[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-5px;left:0;right:0;margin-left:auto;margin-right:auto;width:.8rem;height:.8rem;transform:rotate(45deg);background-color:var(--black)}.tool-tip[_ngcontent-%COMP%]:hover   .tooltip-text[_ngcontent-%COMP%]{visibility:visible;opacity:1}']});let e=t;return e})();var L8=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["app-case-study-page"]],standalone:!0,features:[gt],decls:282,vars:0,consts:[[1,"case-study-page"],[1,"app-breadcrumb"],[1,"app-container"],[1,"app-breadcrumb-wrapper"],[1,"breadcrumb-links"],["href","#","routerLink","/case-study/overview","routerLinkActive","active",1,"breadcrumb-items"],["href","#","routerLink","/case-study/cybersecurity","routerLinkActive","active",1,"breadcrumb-items"],["href","#","routerLink","/case-study/development","routerLinkActive","active",1,"breadcrumb-items"],["href","#","routerLink","/case-study/marketing","routerLinkActive","active",1,"breadcrumb-items"],[1,"case-study-header"],[1,"seirim-top-header","mb-4"],[1,"row","gx-4","gx-xl-5"],[1,"col-12","col-lg-7"],[1,"case-study-title","p-0","pe-xl-3"],[1,"col-12","col-lg-5"],[1,"case-study-desc","p-0","ps-xl-3"],[1,"case-study-label"],[1,"case-study-link"],["href","#"],[1,"case-study-video","mb-4"],["width","100%","height","100%","autoplay","","loop",""],["src","../../../assets/videos/pages/case-study/-8fb0-4f6d-8f72-dd1bcf3ed602.mp4"],[1,"case-study-body"],[1,"case-study-cybersecurity"],[1,"row"],[1,"col-12","col-lg-3"],[1,"case-study-widget","d-flex","flex-column","align-items-start","mb-4","mb-lg-5"],[1,"case-study-title","mb-3"],[1,"case-study-title","mb-2"],[1,"case-study-para"],[1,"d-flex","justify-content-start","justify-content-md-end","mb-0","mb-md-3"],[1,"btn-banner","btn-primary"],[1,"link-icon"],[0,"xlink","href","#arrowUpRightIcon"],[1,"col-12","col-lg-9"],[1,"case-study-cybersecurity-wrapper"],[1,"case-study-hero-card"],[1,"case-study-cybersecurity-img","case-study-img","mb-3"],["src","../../../assets/images/pages/case-study/cybersecurity-1.png","width","100%","height","100%","alt","cybersecurity"],[1,"feautre-label"],[1,"cyber-security-top-content","d-flex","align-items-start","justify-content-start","flex-md-row","flex-column","align-items-md-end","justify-content-md-between","mb-3"],[1,"cybersecurity-desc-wrapper"],[1,"case-study-label","mb-2"],[1,"cybersecurity-title","box-title"],[1,"m-0"],[1,"icon-wrapper","pt-3","pt-md-0","d-flex","justify-content-start","align-items-start","justify-content-md-end","align-items-md-end"],[1,"cyber-security-list"],[1,"case-study-hero-card","d-flex","flex-column","align-items-start","justify-content-start","flex-md-row","align-items-md-center","justify-content-md-between"],[1,"cyber-security-list-img","case-study-img","mb-4","mb-md-0"],["src","../../../assets/images/pages/case-study/cybersecurity-2.png","width","100%","height","100%","alt","cybersecurity"],[1,"cyber-security-list-desc"],[1,"mb-0"],["src","../../../assets/images/pages/case-study/cybersecurity-3.png","width","100%","height","100%","alt","cybersecurity"],[1,"case-study-development"],[1,"case-study-widget","d-flex","flex-column","align-items-start","flex-md-row","align-items-md-end","justify-content-md-between"],[1,"case-study-title"],[1,"btn-banner","btn-primary","mt-4"],[1,"development-showcase-top"],[1,"showcase-box"],[1,"row","g-4","g-lg-5"],[1,"col-md-4"],[1,"box"],[1,"title-label"],[1,"img","mt-2","mb-3"],["src","./../../../../assets/images/pages/home/dev-showcase-2.png","alt",""],[1,"content"],[1,"box-title","mb-1"],[1,"btn-link","mt-2"],[0,"xlink","href","#arrowRightIconOne"],["src","./../../../../assets/images/pages/home/dev-showcase-3.png","alt",""],["src","./../../../../assets/images/pages/home/dev-showcase-4.png","alt",""],[1,"case-study-marketing"],[1,"marketing-showcase-top"],[1,"row-card-wrapper"],[1,"col-md-6","mb-3"],[1,"row-card-desc"],[1,"row-card-label","mb-3"],[1,"row-card-title","mb-3"],[1,"row-card-para"],[1,"mb-3","mb-md-4"],[1,"btn-link","mt-0","mt-md-3"],[1,"row-card-img"],["src","./../../../../assets/images/pages/home/cyber-showcase-3.png","width","100%","height","100%","alt",""],[1,"col-md-6"],["src","./../../../../assets/images/pages/home/market-showcase-1.png","alt",""],["src","./../../../../assets/images/pages/home/market-showcase-2.png","alt",""],[1,"btn-link","mt-1"],[1,"case-study-contact"],[1,"row","flex-column-reverse","flex-lg-row","align-items-center"],[1,"case-study-contact-wrapper"],["action","#"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"input-wrapper","mb-4"],["for","FormControlInput1",1,"form-label"],["type","email","id","FormControlInput1","placeholder","your full name",1,"form-control"],["for","FormControlInput2",1,"form-label"],["type","text","id","FormControlInput2","placeholder","your email add",1,"form-control"],[1,"col-12"],["for","FormControlTextarea1",1,"form-label"],["id","FormControlTextarea1","rows","6","placeholder","write your message",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"case-study-contact-desc"],[1,"case-study-title","mb-4"],[1,"line"],[1,"case-study-para","mb-5"],[1,"case-study-contact-info","d-flex","flex-wrap","justify-content-start","justify-content-lg-between"],[1,"case-study-contact-info-item","d-flex","align-items-center","mb-3"],[1,"icon-wrapper"],["src","../../../assets/images/pages/case-study/icon/phone.svg","alt",""],[1,"case-study-contact-info-desc"],["src","../../../assets/images/pages/case-study/icon/mail.svg","alt",""]],template:function(r,o){r&1&&(f(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul")(6,"li")(7,"a",5)(8,"span"),w(9,"Overview "),y()()(),f(10,"li")(11,"a",6)(12,"span"),w(13,"cybersecurity"),y()()(),f(14,"li")(15,"a",7)(16,"span"),w(17,"development"),y()()(),f(18,"li")(19,"a",8)(20,"span"),w(21,"digital marketing"),y()()()()()()()(),f(22,"div",9)(23,"div",2)(24,"div",10)(25,"div",11)(26,"div",12)(27,"div",13)(28,"h1"),w(29,"SEIRIM's Journey to Web Mastery"),y()()(),f(30,"div",14)(31,"div",15)(32,"div",16)(33,"p"),w(34,"Discover how SEIRIM, a premier web design agency in Shanghai, transformed the digital landscape for its clients, both in China and globally. "),y()(),f(35,"div",17)(36,"a",18),w(37,"Live Chat: Online \u2014 click here "),y()()()()()(),f(38,"div",19)(39,"video",20),A(40,"source",21),y()()()(),f(41,"div",22)(42,"div",23)(43,"div",2)(44,"div",24)(45,"div",25)(46,"div",26)(47,"div",27)(48,"h3",28),w(49,"Cybersecurity "),y(),f(50,"div",29)(51,"p"),w(52,"Hands-on experiences from our highly professional security team."),y()()(),f(53,"div",30)(54,"button",31)(55,"span"),w(56,"See more"),y(),Z(),f(57,"svg",32),A(58,"use",33),y()()()()(),ee(),f(59,"div",34)(60,"div",35)(61,"div",36)(62,"div",37),A(63,"img",38),f(64,"div",39)(65,"span"),w(66,"Featured"),y()()(),f(67,"div",40)(68,"div",41)(69,"div",42)(70,"span"),w(71,"Cybersecurity"),y()(),f(72,"h3",43),w(73," Incident Response for Ransomware Attack - Health Care Company "),y(),f(74,"div",29)(75,"p",44),w(76,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo. Volutpat commodo sed egestas egestas fringilla phasellus. "),y()()(),f(77,"div",45),Z(),f(78,"svg"),A(79,"use",33),y()()()(),ee(),f(80,"div",46)(81,"ul")(82,"li",47)(83,"div",48),A(84,"img",49),y(),f(85,"div",50)(86,"div",42)(87,"span"),w(88,"Cybersecurity"),y()(),f(89,"h3",43),w(90," Incident Response for Ransomware Attack - Health Care Company "),y(),f(91,"div",29)(92,"p",51),w(93,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo. Volutpat commodo sed egestas egestas fringilla phasellus. "),y()()(),f(94,"div",45),Z(),f(95,"svg"),A(96,"use",33),y()()(),ee(),f(97,"li",47)(98,"div",48),A(99,"img",52),y(),f(100,"div",50)(101,"div",42)(102,"span"),w(103,"Cybersecurity"),y()(),f(104,"h3",43),w(105," Risk Assessment and Consulting - B2B Industrial Corporation "),y(),f(106,"div",29)(107,"p",51),w(108,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo. Volutpat commodo sed egestas egestas fringilla phasellus. "),y()()(),f(109,"div",45),Z(),f(110,"svg"),A(111,"use",33),y()()()()()()()()()(),ee(),f(112,"div",53)(113,"div",2)(114,"div",54)(115,"div",55)(116,"h3"),w(117,"Development "),y(),f(118,"p"),w(119,"Over a decade delivering high performance projects."),y()(),f(120,"button",56)(121,"span"),w(122,"See more"),y(),Z(),f(123,"svg",32),A(124,"use",33),y()()(),ee(),f(125,"div",57),A(126,"development-slider"),y(),f(127,"div",58)(128,"div",59)(129,"div",60)(130,"div",61)(131,"div",62),w(132," WEb application "),y(),f(133,"div",63),A(134,"img",64),y(),f(135,"div",65)(136,"h6",66),w(137,"GITI "),y(),f(138,"p"),w(139," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(140,"button",67),Z(),f(141,"svg"),A(142,"use",68),y()()()(),ee(),f(143,"div",60)(144,"div",61)(145,"div",62),w(146," e-commerce "),y(),f(147,"div",63),A(148,"img",69),y(),f(149,"div",65)(150,"h6",66),w(151,"GITI "),y(),f(152,"p"),w(153," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(154,"button",67),Z(),f(155,"svg"),A(156,"use",68),y()()()(),ee(),f(157,"div",60)(158,"div",61)(159,"div",62),w(160," Corporate Website "),y(),f(161,"div",63),A(162,"img",70),y(),f(163,"div",65)(164,"h6",66),w(165,"CS Global "),y(),f(166,"p"),w(167," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(168,"button",67),Z(),f(169,"svg"),A(170,"use",68),y()()()()()()()(),ee(),f(171,"div",71)(172,"div",2)(173,"div",54)(174,"div",55)(175,"h3"),w(176,"Digital Marketing "),y(),f(177,"p"),w(178,"The skills and vision to make projects come alive."),y()(),f(179,"button",56)(180,"span"),w(181,"See more"),y(),Z(),f(182,"svg",32),A(183,"use",33),y()()(),ee(),f(184,"div",72),A(185,"marketing-slider"),y(),f(186,"div",73)(187,"div",24)(188,"div",74)(189,"div",75)(190,"div",76)(191,"span"),w(192,"General design"),y()(),f(193,"h2",77),w(194," Sem viverra aliquet eget amet tellus tellus molestie "),y(),f(195,"div",78)(196,"p",79),w(197,"Venenatis tellus in metus vulputate eu scelerisque felis imperdiet proin. In hac habitasse platea dictumst vestibulum rhoncus est pellentesque. Porttitor eget dolor morbi non arcu risus."),y()(),f(198,"button",80),Z(),f(199,"svg"),A(200,"use",68),y()()()(),ee(),f(201,"div",74)(202,"div",81),A(203,"img",82),y()()()(),f(204,"div",58)(205,"div",24)(206,"div",83)(207,"div",61)(208,"div",62),w(209," SEO "),y(),f(210,"div",63),A(211,"img",84),y(),f(212,"div",65)(213,"h6",66),w(214,"Sem viverra aliquet eget sit amet tellus tellus molestie "),y(),f(215,"p"),w(216," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(217,"button",67),Z(),f(218,"svg"),A(219,"use",68),y()()()(),ee(),f(220,"div",83)(221,"div",61)(222,"div",62),w(223," 3D Animation "),y(),f(224,"div",63),A(225,"img",85),y(),f(226,"div",65)(227,"h6",66),w(228,"Sem viverra aliquet eget sit amet tellus tellus molestie "),y(),f(229,"p"),w(230," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(231,"button",86),Z(),f(232,"svg"),A(233,"use",68),y()()()()()()()(),ee(),f(234,"div",87)(235,"div",2)(236,"div",88)(237,"div",12)(238,"div",89)(239,"form",90)(240,"div",91)(241,"div",92)(242,"div",93)(243,"label",94),w(244,"Email"),y(),A(245,"input",95),y()(),f(246,"div",92)(247,"div",93)(248,"label",96),w(249,"Name"),y(),A(250,"input",97),y()(),f(251,"div",98)(252,"div",93)(253,"label",99),w(254,"Message"),y(),A(255,"textarea",100),y()()(),f(256,"button",101)(257,"span"),w(258,"submit"),y(),Z(),f(259,"svg"),A(260,"use",33),y()()()()(),ee(),f(261,"div",14)(262,"div",102)(263,"h1",103),w(264," Get secure "),y(),A(265,"div",104),f(266,"div",105)(267,"p"),w(268,"Secure your digital presence with our expert Cybersecurity Services. Based in Shanghai, China, we offer comprehensive cybersecurity solutions to protect against evolving threats."),y()(),f(269,"div",106)(270,"div",107)(271,"div",108),A(272,"img",109),y(),f(273,"div",110)(274,"p"),w(275,"+86 152 2188 2181"),y()()(),f(276,"div",107)(277,"div",108),A(278,"img",111),y(),f(279,"div",110)(280,"p"),w(281,"info@seirim.com"),y()()()()()()()()()()())},dependencies:[m_,f_,Wi,Za],styles:['.case-study-page[_ngcontent-%COMP%]{background-color:var(--bg-2)}.case-study-page[_ngcontent-%COMP%]   .case-study-header[_ngcontent-%COMP%]   .case-study-video[_ngcontent-%COMP%]{width:100%;height:34.25rem;position:relative}.case-study-page[_ngcontent-%COMP%]   .case-study-header[_ngcontent-%COMP%]   .case-study-video[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;top:0;width:100%;height:100%;background:linear-gradient(103deg,#1d10b2 -1.94%,#0c78dc 96.11%);mix-blend-mode:saturation}.case-study-page[_ngcontent-%COMP%]   .case-study-header[_ngcontent-%COMP%]   .case-study-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-title[_ngcontent-%COMP%]{color:var(--white);font-size:2.5rem;font-style:normal;font-weight:500;line-height:100%}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:.9375rem;font-style:normal;font-weight:400;line-height:1.875rem;letter-spacing:.04688rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:.75rem;font-style:normal;font-weight:500;line-height:normal;letter-spacing:.1125rem;text-transform:uppercase}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-hero-card[_ngcontent-%COMP%]{cursor:pointer}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-hero-card[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-hero-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-hero-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-hero-card[_ngcontent-%COMP%]:hover   .box-title[_ngcontent-%COMP%]{color:var(--tech-blue-1)!important}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-hero-card[_ngcontent-%COMP%]   .case-study-img[_ngcontent-%COMP%]{overflow:hidden}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-development[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-marketing[_ngcontent-%COMP%]{padding:3rem 0}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .case-study-widget[_ngcontent-%COMP%]   .case-study-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .case-study-widget[_ngcontent-%COMP%]   .case-study-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-development[_ngcontent-%COMP%]   .case-study-widget[_ngcontent-%COMP%]   .case-study-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-development[_ngcontent-%COMP%]   .case-study-widget[_ngcontent-%COMP%]   .case-study-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-marketing[_ngcontent-%COMP%]   .case-study-widget[_ngcontent-%COMP%]   .case-study-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-marketing[_ngcontent-%COMP%]   .case-study-widget[_ngcontent-%COMP%]   .case-study-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white)}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-development[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-marketing[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{margin-bottom:2rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-development[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-development[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-marketing[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-marketing[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white)}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .case-study-cybersecurity-img[_ngcontent-%COMP%]{position:relative;width:100%;height:20.42963rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .case-study-cybersecurity-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .case-study-cybersecurity-img[_ngcontent-%COMP%]   .feautre-label[_ngcontent-%COMP%]{position:absolute;top:1.2rem;left:1.2rem;border-radius:6.25rem;background:#1d212899;padding:.4rem 1.8rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .case-study-cybersecurity-img[_ngcontent-%COMP%]   .feautre-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:.75rem;font-style:normal;font-weight:500;line-height:normal;letter-spacing:.1125rem;text-transform:uppercase}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .cybersecurity-title[_ngcontent-%COMP%]{color:var(--white);font-size:1.5625rem;font-style:normal;font-weight:500;line-height:2.1875rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:3%;height:7rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.72919rem;height:.696rem;transform:rotate(45deg)}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .cyber-security-top-content[_ngcontent-%COMP%]   .cybersecurity-desc-wrapper[_ngcontent-%COMP%]{width:45rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .cyber-security-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid #424242;padding:2rem 0}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .cyber-security-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .cyber-security-list-img[_ngcontent-%COMP%]{min-width:9.8125rem;min-height:8.375rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .cyber-security-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .cyber-security-list-desc[_ngcontent-%COMP%]{width:80%;padding:0 1.5rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .cyber-security-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-development[_ngcontent-%COMP%]   .development-showcase-top[_ngcontent-%COMP%]{margin-bottom:3rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-marketing[_ngcontent-%COMP%]     marketing-slider .slick-slide{background:transparent!important}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-marketing[_ngcontent-%COMP%]     marketing-slider .box-content .box-title, .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-marketing[_ngcontent-%COMP%]     marketing-slider .box-content p{color:var(--white)!important}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-marketing[_ngcontent-%COMP%]   .marketing-showcase-top[_ngcontent-%COMP%]{margin-bottom:4rem}@media screen and (max-width: 1300px){.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-title[_ngcontent-%COMP%]{font-size:2rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;line-height:1.2rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .cybersecurity-title[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.8rem}}@media screen and (max-width: 1099px){.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .cyber-security-top-content[_ngcontent-%COMP%]   .cybersecurity-desc-wrapper[_ngcontent-%COMP%]{width:35rem}}@media screen and (max-width: 991px){.case-study-page[_ngcontent-%COMP%]   .case-study-header[_ngcontent-%COMP%]   .case-study-video[_ngcontent-%COMP%]{height:22.3125rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-title[_ngcontent-%COMP%]{font-size:2.5rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-development[_ngcontent-%COMP%], .case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-marketing[_ngcontent-%COMP%]{padding:1.5rem 0}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .case-study-cybersecurity-img[_ngcontent-%COMP%]{height:18.75rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .case-study-cybersecurity-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-position:top right}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .cybersecurity-title[_ngcontent-%COMP%]{font-size:1.3rem;line-height:1.7rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .cyber-security-top-content[_ngcontent-%COMP%]   .cybersecurity-desc-wrapper[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 767px){.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:3%;height:100%}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .cyber-security-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:0;padding:1.2rem 0}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .cyber-security-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .cyber-security-list-img[_ngcontent-%COMP%]{width:100%;height:8.375rem}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .cyber-security-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .cyber-security-list-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;object-position:top}.case-study-page[_ngcontent-%COMP%]   .case-study-body[_ngcontent-%COMP%]   .case-study-cybersecurity[_ngcontent-%COMP%]   .case-study-cybersecurity-wrapper[_ngcontent-%COMP%]   .cyber-security-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .cyber-security-list-desc[_ngcontent-%COMP%]{padding:0;width:100%}}']});let e=t;return e})();var ene=["videoPlayer"],tne=(e,t)=>t.url;function nne(e,t){if(e&1&&(f(0,"div",24)(1,"video",null,0),A(3,"source",75),y()()),e&2){let n=t.$implicit;nn(3),gi("src",n.url,Hg)}}function ine(e,t){e&1&&(Z(),f(0,"svg"),A(1,"use",76),y())}function rne(e,t){e&1&&(Z(),f(0,"svg"),A(1,"use",77),y())}function one(e,t){e&1&&(Z(),A(0,"path",36))}function ane(e,t){e&1&&(Z(),A(0,"rect",78)(1,"rect",79))}var k8=(()=>{let t=class t{constructor(){this.activeVideoIndex=0,this.progressBarValue=0,this.isMuted=!1,this.currentTimeDisplay="00:00",this.isPlaying=!1,this.videos=new Array(12).fill({url:"./../../../../assets/videos/pages/home/video-1/video.mp4"})}ngAfterViewInit(){let i=$(".videoSlider");i.slick({centerMode:!0,centerPadding:"78px",autoSlidesToShow:!0,loop:!0,infinite:!0,focusOnSelect:!0,prevArrow:$(".btn-study-prev"),nextArrow:$(".btn-study-next"),speed:1e3,cssEase:"linear",responsive:[{breakpoint:1300,settings:{centerPadding:"40px"}},{breakpoint:992,settings:{centerPadding:"0"}}]}),i.on("afterChange",this.onVideoSlideChange.bind(this)),this.initializeVideoPlayers(),this.videoPlayers.toArray()[this.activeVideoIndex].nativeElement.play()}onVideoSlideChange(i,r,o){this.activeVideoIndex=o,this.videoPlayers.forEach((a,s)=>{let l=a.nativeElement;s===o?(l.play(),this.isPlaying=!0):(l.pause(),l.currentTime=0,this.isPlaying=!1)}),this.resetProgress()}initializeVideoPlayers(){this.videoPlayers.forEach(i=>{let r=i.nativeElement;r.addEventListener("timeupdate",()=>this.updateProgressBar(r)),r.addEventListener("play",()=>this.onPlay()),r.addEventListener("pause",()=>this.onPause()),r.addEventListener("ended",()=>this.onEnd()),r.addEventListener("volumechange",()=>this.onVolumeChange(r)),r.muted=this.isMuted})}onPlay(){this.isPlaying=!0}onPause(){this.isPlaying=!1}onEnd(){this.isPlaying=!1}togglePlayPause(){let i=this.getActiveVideo();i.paused?(i.play(),this.isPlaying=!0):(i.pause(),this.isPlaying=!1)}onVolumeChange(i){this.isMuted=i.muted}toggleMute(){let i=this.getActiveVideo();i.muted=!i.muted,this.isMuted=i.muted}updateProgressBar(i){this.progressBarValue=i.currentTime/i.duration*100,this.currentTimeDisplay=this.formatTime(i.currentTime)}seekVideo(i){let r=i.target;if(r&&r.offsetWidth&&this.videoPlayers){let a=i.offsetX/r.offsetWidth*this.getActiveVideo().duration;this.getActiveVideo().currentTime=a}}formatTime(i){let r=Math.floor(i/60),o=Math.floor(i%60);return`${this.zeroPad(r)}:${this.zeroPad(o)}`}zeroPad(i){return i<10?`0${i}`:i.toString()}getActiveVideo(){return this.videoPlayers.toArray()[this.activeVideoIndex].nativeElement}resetProgress(){this.progressBarValue=0,this.currentTimeDisplay="00:00"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["case-study-development"]],viewQuery:function(r,o){if(r&1&&dn(ene,5),r&2){let a;Kt(a=Jt())&&(o.videoPlayers=a)}},standalone:!0,features:[gt],decls:165,vars:5,consts:[["videoPlayer",""],[1,"development-main-page"],[1,"app-breadcrumb"],[1,"app-container"],[1,"app-breadcrumb-wrapper"],[1,"breadcrumb-links"],["routerLink","/case-study/overview","routerLinkActive","active",1,"breadcrumb-items"],["routerLink","/case-study/cybersecurity","routerLinkActive","active",1,"breadcrumb-items"],["routerLink","/case-study/development","routerLinkActive","active",1,"breadcrumb-items"],["routerLink","/case-study/marketing","routerLinkActive","active",1,"breadcrumb-items"],[1,"development-main-header"],[1,"seirim-top-header"],[1,"row","gx-4","gx-xl-5"],[1,"col-12","col-lg-7"],[1,"case-study-title","p-0","pe-xl-3"],[1,"col-12","col-lg-5"],[1,"case-study-desc","p-0","ps-xl-3"],[1,"case-study-label"],[1,"case-study-link"],["href","#"],[1,"development-main-body"],[1,"development-video-wrapper"],[1,"video-player"],[1,"videoSlider"],[1,"slider-video"],[1,"video-actions"],[1,"video-control"],[1,"timer"],[1,"progress-bar",3,"click"],[1,"progress"],[1,"volume-control",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1371 201","fill","none"],["fill-rule","evenodd","clip-rule","evenodd","d","M820.5 66C836.792 66 850 52.7924 850 36.5C850 36.333 849.999 36.1663 849.996 36H1371V201H0V36H521.004C521.001 36.1663 521 36.333 521 36.5C521 52.7924 534.208 66 550.5 66C566.792 66 580 52.7924 580 36.5C580 36.333 579.999 36.1663 579.996 36H602.001C602 36.1666 602 36.3332 602 36.5C602 82.6158 639.384 120 685.5 120C731.616 120 769 82.6158 769 36.5C769 36.3332 769 36.1666 768.999 36H791.004C791.001 36.1663 791 36.333 791 36.5C791 52.7924 804.208 66 820.5 66Z","fill","#06080F"],[3,"click"],["cx","686","cy","46","r","46","fill","#0782F4"],["cx","686","cy","46.0001","r","28.94","fill","#0782F4","fill-opacity","0.3","stroke","white"],["d","M694.587 46.0001L681.707 53.4364L681.707 38.5638L694.587 46.0001Z","fill","white"],[1,"btn-study-next"],["cx","821","cy","36","r","19","fill","#0782F4"],["d","M823.233 35.9999L814.17 41.2329L814.17 30.767L823.233 35.9999Z","fill","white"],["x1","827.63","y1","29.6666","x2","827.63","y2","42.3333","stroke","white","stroke-width","2"],[1,"btn-study-prev"],["cx","551","cy","36","r","19","transform","rotate(-180 551 36)","fill","#0782F4"],["d","M548.767 36.0001L557.831 30.7671L557.831 41.233L548.767 36.0001Z","fill","white"],["x1","544.37","y1","42.3334","x2","544.37","y2","29.6667","stroke","white","stroke-width","2"],[1,"web-development-wrapper"],[1,"row-card-wrapper"],[1,"row"],[1,"col-md-6","mb-3"],[1,"row-card-desc"],[1,"row-card-label","mb-2"],[1,"row-card-title","mb-3"],[1,"row-card-para"],[1,"mb-3","mb-md-4"],[1,"btn-link","mt-0","mt-md-3"],[0,"xlink","href","#arrowRightIconOne"],[1,"row-card-img"],["src","../../../../assets/images/pages/development/general.png","width","100%","height","100%","alt",""],[1,"showcase-box"],[1,"col-md-6"],["routerLink","/case-study/development-individual-page",1,"box"],[1,"title-label"],[1,"img","mt-2","mb-3"],["src","../../../../assets/images/pages/development/showcase-1.PNG","alt",""],[1,"content"],[1,"box-title","mb-1"],[1,"btn-link","mt-2"],["routerLink","/development-individual-page",1,"box"],["src","../../../../assets/images/pages/development/showcase-2.PNG","alt",""],[1,"box"],["src","../../../../assets/images/pages/development/showcase-3.PNG","alt",""],["src","../../../../assets/images/pages/development/showcase-4.PNG","alt",""],[1,"pagination"],[1,"pages","active"],[1,"pages"],["type","video/mp4",3,"src"],[0,"xlink","href","#muteIcon"],[0,"xlink","href","#volumeIcon"],["x","688","y","40","width","3","height","14","fill","white"],["x","682","y","40","width","3","height","14","fill","white"]],template:function(r,o){r&1&&(f(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"ul")(6,"li")(7,"a",6)(8,"span"),w(9,"Overview "),y()()(),f(10,"li")(11,"a",7)(12,"span"),w(13,"cybersecurity"),y()()(),f(14,"li")(15,"a",8)(16,"span"),w(17,"development"),y()()(),f(18,"li")(19,"a",9)(20,"span"),w(21,"digital marketing"),y()()()()()()()(),f(22,"div",10)(23,"div",3)(24,"div",11)(25,"div",12)(26,"div",13)(27,"div",14)(28,"h1"),w(29,"Crafting Digital Excellence"),y()()(),f(30,"div",15)(31,"div",16)(32,"div",17)(33,"p"),w(34,"Stunning websites that captivate and engage. We combine aesthetics with functionality, ensuring your website stands out in the digital landscape and delivers a seamless user experience. "),y()(),f(35,"div",18)(36,"a",19),w(37,"Live Chat: Online \u2014 click here "),y()()()()()()()(),f(38,"div",20)(39,"div",21)(40,"div",22)(41,"div",23),tR(42,nne,4,1,"div",24,tne),y(),f(44,"div",25)(45,"div",26)(46,"div",27),w(47),y(),f(48,"div",28),Cn("click",function(s){return o.seekVideo(s)}),A(49,"div",29),y(),f(50,"span",30),Cn("click",function(){return o.toggleMute()}),_a(51,ine,2,0,":svg:svg")(52,rne,2,0),y()(),Z(),f(53,"svg",31),A(54,"path",32),f(55,"g",33),Cn("click",function(){return o.togglePlayPause()}),A(56,"circle",34)(57,"circle",35),_a(58,one,1,0,":svg:path",36)(59,ane,2,0),y(),f(60,"g",37),A(61,"circle",38)(62,"path",39)(63,"line",40),y(),f(64,"g",41),A(65,"circle",42)(66,"path",43)(67,"line",44),y()()()()(),ee(),f(68,"div",3)(69,"div",45)(70,"div",46)(71,"div",47)(72,"div",48)(73,"div",49)(74,"div",50)(75,"span"),w(76,"web development"),y()(),f(77,"h2",51),w(78," Consequat ac felis donec "),y(),f(79,"div",52)(80,"p",53),w(81,"Volutpat ac tincidunt vitae semper quis lectus nulla at volutpat. Lacus viverra vitae congue eu consequat. Mi in nulla posuere sollicitudin aliquam. Tincidunt nunc pulvinar sapien et. Sed pulvinar proin gravida hendrerit. Orci porta non pulvinar neque laoreet suspendisse interdum consectetur. "),y()(),f(82,"button",54),Z(),f(83,"svg"),A(84,"use",55),y()()()(),ee(),f(85,"div",48)(86,"div",56),A(87,"img",57),y()()()(),f(88,"div",58)(89,"div",47)(90,"div",59)(91,"div",60)(92,"div",61),w(93," web development "),y(),f(94,"div",62),A(95,"img",63),y(),f(96,"div",64)(97,"h6",65),w(98,"ATAM "),y(),f(99,"p"),w(100," Lacus vestibulum sed arcu non odio euismod lacinia at quis. Pellentesque id nibh tortor id. "),y()(),f(101,"button",66),Z(),f(102,"svg"),A(103,"use",55),y()()()(),ee(),f(104,"div",59)(105,"div",67)(106,"div",61),w(107," web development "),y(),f(108,"div",62),A(109,"img",68),y(),f(110,"div",64)(111,"h6",65),w(112,"CS Global "),y(),f(113,"p"),w(114," Lacus vestibulum sed arcu non odio euismod lacinia at quis. Pellentesque id nibh tortor id. "),y()(),f(115,"button",66),Z(),f(116,"svg"),A(117,"use",55),y()()()()()(),ee(),f(118,"div",58)(119,"div",47)(120,"div",59)(121,"div",69)(122,"div",61),w(123," web development "),y(),f(124,"div",62),A(125,"img",70),y(),f(126,"div",64)(127,"h6",65),w(128,"GITI "),y(),f(129,"p"),w(130," Lacus vestibulum sed arcu non odio euismod lacinia at quis. Pellentesque id nibh tortor id. "),y()(),f(131,"button",66),Z(),f(132,"svg"),A(133,"use",55),y()()()(),ee(),f(134,"div",59)(135,"div",69)(136,"div",61),w(137," web development "),y(),f(138,"div",62),A(139,"img",71),y(),f(140,"div",64)(141,"h6",65),w(142,"eget mauris pharetra "),y(),f(143,"p"),w(144," Lacus vestibulum sed arcu non odio euismod lacinia at quis. Pellentesque id nibh tortor id. "),y()(),f(145,"button",66),Z(),f(146,"svg"),A(147,"use",55),y()()()()()(),ee(),f(148,"div",72)(149,"ul")(150,"li",73)(151,"span"),w(152,"1"),y()(),f(153,"li",74)(154,"span"),w(155,"2"),y()(),f(156,"li",74)(157,"span"),w(158,"3"),y()(),f(159,"li",74)(160,"span"),w(161,"4"),y()(),f(162,"li",74)(163,"span"),w(164,"5"),y()()()()()()()()),r&2&&(nn(42),nR(o.videos),nn(5),xa(o.currentTimeDisplay),nn(2),K1("width",o.progressBarValue+"%"),nn(2),aO(51,o.isMuted?52:51),nn(7),aO(58,o.isPlaying?59:58))},dependencies:[Wi,Za],styles:["[_nghost-%COMP%]     .swiper{overflow:visible!important}.development-main-page[_ngcontent-%COMP%]{background-color:var(--bg-2);padding-bottom:8rem}.development-main-page[_ngcontent-%COMP%]   .development-main-header[_ngcontent-%COMP%]{margin-bottom:2.5rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]{position:relative;overflow:hidden}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .videoSlider[_ngcontent-%COMP%]{max-width:95.5rem;height:45rem;margin:0 auto}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .videoSlider[_ngcontent-%COMP%]   .slider-video[_ngcontent-%COMP%]{margin-top:3rem;opacity:.3;height:28rem;transition:transform 1s,opacity 1s,height 1s linear}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .videoSlider[_ngcontent-%COMP%]   .slider-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{display:block;width:100%;height:100%;object-fit:cover}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .videoSlider[_ngcontent-%COMP%]   .slick-current[_ngcontent-%COMP%]{height:45rem;display:block}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .videoSlider[_ngcontent-%COMP%]   .slick-current[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .videoSlider[_ngcontent-%COMP%]   .slick-active[_ngcontent-%COMP%]{opacity:1;margin-top:0}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:-1px;width:100%;margin:auto}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .video-control[_ngcontent-%COMP%]{max-width:90rem;display:flex;justify-content:space-between;align-items:center;width:100%;height:auto;padding:1.5rem 6rem;margin:0 auto}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .video-control[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:90%;height:.2rem;background-color:#bababa;cursor:pointer}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .video-control[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background-color:#282727;border-radius:0;width:0}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .video-control[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{color:var(--white);text-align:center;font-size:.9rem;font-weight:var(--fw-400);text-transform:capitalize;background-color:#282727;padding:.1rem .6rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .video-control[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;background:transparent;cursor:pointer}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{cursor:pointer}@media screen and (max-width: 991px){.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .videoSlider[_ngcontent-%COMP%], .development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .videoSlider[_ngcontent-%COMP%]   .slider-video[_ngcontent-%COMP%], .development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .videoSlider[_ngcontent-%COMP%]   .slick-current[_ngcontent-%COMP%]{height:20rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{bottom:-3px!important}}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]{margin-bottom:2rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{margin-bottom:2.5rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;max-height:23.5rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white)}.development-main-page[_ngcontent-%COMP%]   .web-development-wrapper[_ngcontent-%COMP%]{margin-top:6rem}@media screen and (max-width: 1300px){.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-hover-card[_ngcontent-%COMP%]{bottom:28%;left:30%;width:16rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-hover-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-hover-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.985rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-hover-card[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .video-control[_ngcontent-%COMP%]{padding:1.5rem 4.5rem}}@media screen and (max-width: 991px){.development-main-page[_ngcontent-%COMP%]{padding-bottom:6rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]{height:100%}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .videoSlider[_ngcontent-%COMP%]   .slider-video[_ngcontent-%COMP%], .development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .videoSlider[_ngcontent-%COMP%]   .slick-active[_ngcontent-%COMP%]{margin-top:0}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .videoSlider[_ngcontent-%COMP%]   .slider-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .videoSlider[_ngcontent-%COMP%]   .slick-active[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%!important;height:100%!important}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{bottom:0rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .video-control[_ngcontent-%COMP%]{padding:1rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .video-control[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{font-size:.8rem;padding:.1rem .4rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .video-control[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:80%}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .video-control[_ngcontent-%COMP%]   #volumeBtn[_ngcontent-%COMP%]{width:1rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-hover-card[_ngcontent-%COMP%]{bottom:34%;left:26%}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .web-development-wrapper[_ngcontent-%COMP%]{margin-top:4rem}}@media screen and (max-width: 767px){.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-hover-card[_ngcontent-%COMP%]{display:none}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .video-control[_ngcontent-%COMP%]{padding:0 1rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .video-control[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{font-size:.6rem;padding:.1rem .2rem}.development-main-page[_ngcontent-%COMP%]   .development-main-body[_ngcontent-%COMP%]   .development-video-wrapper[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .video-control[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:70%}}"]});let e=t;return e})();var F8=(()=>{let t=class t{ngAfterViewInit(){$(".main-cyber-slider").slick({slidesToShow:1,slidesToScroll:1,fade:!0,loop:!0,autoplay:!0,autoplaySpeed:3e3,prevArrow:$(".btn-prev"),nextArrow:$(".btn-next")})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["case-study-cybersecurity"]],standalone:!0,features:[gt],decls:171,vars:0,consts:[[1,"cybersecurity-page"],[1,"app-breadcrumb"],[1,"app-container"],[1,"app-breadcrumb-wrapper"],[1,"breadcrumb-links"],["routerLink","/case-study/overview","routerLinkActive","active",1,"breadcrumb-items"],["routerLink","/case-study/cybersecurity","routerLinkActive","active",1,"breadcrumb-items"],["routerLink","/case-study/development","routerLinkActive","active",1,"breadcrumb-items"],["routerLink","/case-study/marketing","routerLinkActive","active",1,"breadcrumb-items"],[1,"cybersecurity-header","mb-5"],[1,"seirim-top-header"],[1,"row","gx-4","gx-xl-5"],[1,"col-12","col-lg-7"],[1,"case-study-title","p-0","pe-xl-3"],[1,"col-12","col-lg-5"],[1,"case-study-desc","p-0","ps-xl-3"],[1,"case-study-label"],[1,"cybersecurity-body"],[1,"cybersecurity-slider-wrapper"],[1,"feautre-label"],[1,"cybersecurity-slider"],[1,"slider-content","main-cyber-slider"],[1,"slider-item"],[1,"slider-item-content"],[1,"title-label"],[0,"xlink","href","#arrowRightIconOne"],[1,"mt-2"],[1,"action-slide","d-flex","align-items-center"],[1,"btn-study-prev"],[1,"btn-study-next","ms-2"],[1,"cybersecurity-card-wrapper","top-cards"],[1,"row"],[1,"col-md-6"],[1,"cybersecurity-card-hero"],[1,"card-desc"],[1,"card-label"],[1,"card-title","box-title","box-title"],[1,"mb-0"],[1,"card-img"],["src","../../../../assets/images/pages/cybersecurity/card-img-1.png","width","100%","height","100%","alt",""],[1,"icon-wrapper"],[0,"xlink","href","#arrowUpRightIcon"],[1,"card-title","box-title"],["src","../../../../assets/images/pages/cybersecurity/card-img-2.png","width","100%","height","100%","alt",""],[1,"cybersecurity-card-wrapper","bottom-cards"],[1,"col-md-4"],["src","../../../../assets/images/pages/cybersecurity/card-img-3.png","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/cybersecurity/card-img-4.png","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/cybersecurity/card-img-5.png","width","100%","height","100%","alt",""],[1,"pagination"],[1,"pages","active"],[1,"pages"]],template:function(r,o){r&1&&(f(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul")(6,"li")(7,"a",5)(8,"span"),w(9,"Overview "),y()()(),f(10,"li")(11,"a",6)(12,"span"),w(13,"cybersecurity"),y()()(),f(14,"li")(15,"a",7)(16,"span"),w(17,"development"),y()()(),f(18,"li")(19,"a",8)(20,"span"),w(21,"digital marketing"),y()()()()()()()(),f(22,"div",9)(23,"div",2)(24,"div",10)(25,"div",11)(26,"div",12)(27,"div",13)(28,"h1"),w(29,"Guardians of Your Digital World"),y()()(),f(30,"div",14)(31,"div",15)(32,"div",16)(33,"p"),w(34,"In an era where digital threats are ever-evolving, our team stands as a bastion against cyber risks. We're not just experts; we're your shield in the complex world of cybersecurity. "),y()()()()()()()(),f(35,"div",17)(36,"div",2)(37,"div",18)(38,"div",19)(39,"span"),w(40,"Featured"),y()(),f(41,"div",20)(42,"div",21)(43,"div",22)(44,"div",23)(45,"div",24),w(46,"web development"),y(),f(47,"h3"),w(48,"Incident Response for Ransomware Attack - Health Care Company"),y(),f(49,"p"),w(50,"Lacus vestibulum sed arcu non odio euismod lacinia at quis. Pellentesque id nibh tortor id. "),y(),Z(),f(51,"svg"),A(52,"use",25),y()()(),ee(),f(53,"div",22)(54,"div",23)(55,"div",24),w(56,"E-COMMERCE"),y(),f(57,"h3"),w(58,"Incident Response for Ransomware Attack"),y(),f(59,"p",26),w(60,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo. Volutpat commodo sed egestas egestas ."),y(),Z(),f(61,"svg"),A(62,"use",25),y()()(),ee(),f(63,"div",22)(64,"div",23)(65,"div",24),w(66,"E-Development"),y(),f(67,"h3"),w(68,"Health Care Company"),y(),f(69,"p",26),w(70,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo. Volutpat commodo sed egestas egestas ."),y(),Z(),f(71,"svg"),A(72,"use",25),y()()()(),ee(),f(73,"div",27)(74,"button",28),Z(),f(75,"svg"),A(76,"use",25),y()(),ee(),f(77,"button",29),Z(),f(78,"svg"),A(79,"use",25),y()()()()(),ee(),f(80,"div",30)(81,"div",31)(82,"div",32)(83,"div",33)(84,"div",34)(85,"div",35),w(86,"cybersecurity"),y(),f(87,"h2",36),w(88,"Incident Response for Ransomware Attack - Health Care Company "),y(),f(89,"p",37),w(90,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut."),y()(),f(91,"div",38),A(92,"img",39),f(93,"div",40),Z(),f(94,"svg"),A(95,"use",41),y()()()()(),ee(),f(96,"div",32)(97,"div",33)(98,"div",34)(99,"div",35),w(100,"cybersecurity"),y(),f(101,"h2",42),w(102,"Incident Response for Ransomware Attack - Health Care Company "),y(),f(103,"p",37),w(104,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut."),y()(),f(105,"div",38),A(106,"img",43),f(107,"div",40),Z(),f(108,"svg"),A(109,"use",41),y()()()()()()(),ee(),f(110,"div",44)(111,"div",31)(112,"div",45)(113,"div",33)(114,"div",34)(115,"div",35),w(116,"cybersecurity"),y(),f(117,"h2",42),w(118,"Incident Response for Ransomware Attack - Health Care Company "),y(),f(119,"p",37),w(120,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut."),y()(),f(121,"div",38),A(122,"img",46),f(123,"div",40),Z(),f(124,"svg"),A(125,"use",41),y()()()()(),ee(),f(126,"div",45)(127,"div",33)(128,"div",34)(129,"div",35),w(130,"cybersecurity"),y(),f(131,"h2",42),w(132,"Incident Response for Ransomware Attack - Health Care Company "),y(),f(133,"p",37),w(134,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut."),y()(),f(135,"div",38),A(136,"img",47),f(137,"div",40),Z(),f(138,"svg"),A(139,"use",41),y()()()()(),ee(),f(140,"div",45)(141,"div",33)(142,"div",34)(143,"div",35),w(144,"cybersecurity"),y(),f(145,"h2",42),w(146,"Incident Response for Ransomware Attack - Health Care Company "),y(),f(147,"p",37),w(148,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut."),y()(),f(149,"div",38),A(150,"img",48),f(151,"div",40),Z(),f(152,"svg"),A(153,"use",41),y()()()()()()(),ee(),f(154,"div",49)(155,"ul")(156,"li",50)(157,"span"),w(158,"1"),y()(),f(159,"li",51)(160,"span"),w(161,"2"),y()(),f(162,"li",51)(163,"span"),w(164,"3"),y()(),f(165,"li",51)(166,"span"),w(167,"4"),y()(),f(168,"li",51)(169,"span"),w(170,"5"),y()()()()()()())},dependencies:[Wi,Za],styles:['.cybersecurity-page[_ngcontent-%COMP%]{background-color:var(--bg-2);padding-bottom:8rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]{position:relative;background-image:url("./media/banner-WSCNNO5J.png");background-size:cover;background-position:center;background-repeat:no-repeat;width:100%;height:32.5rem;margin-bottom:2.5rem;padding:2rem;display:flex;align-items:center}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(0deg,#000,#0000)}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:50%;height:100%;background:linear-gradient(90deg,#000,#0000)}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .feautre-label[_ngcontent-%COMP%]{position:absolute;top:1.2rem;right:1.2rem;border-radius:6.25rem;background:#1d212899;padding:.4rem 1.8rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .feautre-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:.75rem;font-style:normal;font-weight:500;line-height:normal;letter-spacing:.1125rem;text-transform:uppercase}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]{z-index:1;margin-bottom:3rem;max-width:35rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{margin-bottom:.8rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--white);font-size:2.8125rem;font-weight:400;text-transform:capitalize;margin-bottom:.8rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:.9375rem;font-weight:400;line-height:1.875rem;letter-spacing:.04688rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.8rem;height:.8rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]{position:absolute;right:1.5rem;bottom:1.5rem;z-index:1}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%], .cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]{background:none;padding:.4rem;border:1px solid #2c3b71;display:flex;align-items:center;position:relative;transition:all .3s ease-in-out}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]:after, .cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;bottom:0;width:0%;height:100%;background:transparent;transition:all .3s ease-in-out;z-index:1}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem;z-index:11}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]:hover:after, .cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]:hover:after{background:var(--lineargradient-bg);width:100%}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{--fill-color: #fff}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]{transform:rotate(180deg)}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]{margin-bottom:2.3rem;border:1px solid rgba(7,130,244,.3);cursor:pointer}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]:hover   .box-title[_ngcontent-%COMP%]{color:var(--tech-blue-1)!important}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:.75rem;font-style:normal;font-weight:500;line-height:normal;letter-spacing:.1125rem;text-transform:uppercase;margin-bottom:1rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:var(--white);margin-bottom:1rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:.9375rem;font-style:normal;font-weight:400;line-height:1.875rem;letter-spacing:.04688rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:100%;background:linear-gradient(0deg,#000,#0000)}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{position:absolute;right:2rem;bottom:1.8rem;z-index:1}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.72919rem;height:.696rem;transform:rotate(45deg)}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper.top-cards[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]{padding:3rem 2rem 2rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper.top-cards[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:2.5rem;font-style:normal;font-weight:500;line-height:2.8125rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper.top-cards[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{height:20.1875rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper.bottom-cards[_ngcontent-%COMP%]{margin-bottom:3.5rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper.bottom-cards[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]{padding:2rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper.bottom-cards[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5625rem;font-style:normal;font-weight:500;line-height:2.1875rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper.bottom-cards[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{height:14.4375rem}@media screen and (max-width: 1300px){.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]   .slider-content-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.5rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]   .slider-content-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%], .cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-bottom:.7rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;line-height:1.5rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper.top-cards[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:2rem;line-height:2.5rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper.bottom-cards[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.3rem;line-height:1.8rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper.bottom-cards[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{height:14.4375rem}}@media screen and (max-width: 991px){.cybersecurity-page[_ngcontent-%COMP%]{padding-bottom:6rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]{margin-bottom:2rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper.top-cards[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%], .cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper.bottom-cards[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]{padding:1.5rem 1rem}}@media screen and (max-width: 767px){.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]{height:auto;padding:1.5rem 1rem}.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-slider-wrapper[_ngcontent-%COMP%]   .cybersecurity-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]{margin:3rem 0}}@media screen and (min-width: 991px){.cybersecurity-page[_ngcontent-%COMP%]   .cybersecurity-body[_ngcontent-%COMP%]   .cybersecurity-card-wrapper.top-cards[_ngcontent-%COMP%]   .cybersecurity-card-hero[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]{max-width:95%}}']});let e=t;return e})();var N8=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["case-study-marketing"]],standalone:!0,features:[gt],decls:285,vars:0,consts:[[1,"marketing-page"],[1,"app-breadcrumb"],[1,"app-container"],[1,"app-breadcrumb-wrapper"],[1,"breadcrumb-links"],["routerLink","/case-study/overview","routerLinkActive","active",1,"breadcrumb-items"],["routerLink","/case-study/cybersecurity","routerLinkActive","active",1,"breadcrumb-items"],["routerLink","/case-study/development","routerLinkActive","active",1,"breadcrumb-items"],["routerLink","/case-study/marketing","routerLinkActive","active",1,"breadcrumb-items"],[1,"marketing-header"],[1,"seirim-top-header","mb-5"],[1,"row","gx-4","gx-xl-5"],[1,"col-12","col-lg-7"],[1,"case-study-title","p-0","pe-xl-3"],[1,"col-12","col-lg-5"],[1,"case-study-desc","p-0","ps-xl-3"],[1,"case-study-label"],[1,"case-study-link"],["href","#"],[1,"marketing-body"],[1,"marketing-video"],[1,"video-wrapper"],["width","100%","height","100%","autoplay","","loop",""],["src","../../../../assets/videos/pages/home/video-1/video.mp4"],[1,"playMarketingVideoBtn"],[0,"xlink","href","#circlePlayBtn"],[1,"promo-video-wrapper"],[1,"promo-video-title","d-flex","justify-content-between","align-items-end"],[1,"promo-video-desc"],[1,"title-label"],[1,"mb-0"],[1,"icon-wrapper"],[1,"btn-link","mt-2","pb-1"],[0,"xlink","href","#arrowRightIconOne"],[1,"row","gx-4","gx-lg-5"],[1,"col-lg-6"],[1,"video-list-wrapper"],["routerLink","/case-study/digital-marketing-individual",1,"video-item","d-flex","align-items-center","column-gap-4","flex-column","flex-md-row"],[1,"img-wrapper","mb-3","mb-md-0"],["src","../../../../assets/images/pages/digital-marketing/video-promo.png","alt",""],[1,"video-desc"],[1,"content"],[1,"box-title","mb-1"],[1,"btn-link","mt-2"],[1,"video-item","d-flex","align-items-center","column-gap-4","flex-column","flex-md-row"],["src","../../../../assets/images/pages/digital-marketing/video-promo-2.png","alt",""],["src","../../../../assets/images/pages/digital-marketing/promo-video-3.gif","alt",""],["src","../../../../assets/images/pages/digital-marketing/video-promo-4.png","alt",""],["src","../../../../assets/images/pages/digital-marketing/video-promo-5.png","alt",""],["src","../../../../assets/images/pages/digital-marketing/promo-video-6.gif","alt",""],[1,"animation-wrapper"],[1,"col-lg-6","mb-5"],[1,"showcase-box"],[1,"box"],["src","../../../../assets/videos/pages/marketing/-457f-4323-a9ee-75be95ec271d.mp4"],[1,"title-label","mb-2"],[1,"box-title","mb-3"],[1,"video-list-wrapper","bottom-video-list"],[1,"video-wrapper","mb-3","mb-md-0"],["width","100%","height","100%","loop",""],["src","../../../../assets/videos/pages/marketing/-a4b0-45ae-89db-9905db40de96.mp4"],[1,"row"],[1,"col-md-4"],[1,"img","mt-2","mb-4"],["src","../../../../assets/images/pages/digital-marketing/box-1.png","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/digital-marketing/box-2.png","width","100%","height","100%","alt",""],[1,"btn-link","mt-1"],["src","../../../../assets/images/pages/digital-marketing/box-3.png","width","100%","height","100%","alt",""]],template:function(r,o){r&1&&(f(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul")(6,"li")(7,"a",5)(8,"span"),w(9,"Overview "),y()()(),f(10,"li")(11,"a",6)(12,"span"),w(13,"cybersecurity"),y()()(),f(14,"li")(15,"a",7)(16,"span"),w(17,"development"),y()()(),f(18,"li")(19,"a",8)(20,"span"),w(21,"digital marketing"),y()()()()()()()(),f(22,"div",9)(23,"div",2)(24,"div",10)(25,"div",11)(26,"div",12)(27,"div",13)(28,"h1"),w(29,"Navigating the Online Landscape"),y()()(),f(30,"div",14)(31,"div",15)(32,"div",16)(33,"p"),w(34,"Our dedicated team of experts specializes in crafting tailored strategies that not only elevate your brand's digital presence but also ensure impactful engagement with your target audience. "),y()(),f(35,"div",17)(36,"a",18),w(37,"Live Chat: Online \u2014 click here "),y()()()()()()()(),f(38,"div",19)(39,"div",2)(40,"div",20)(41,"div",21)(42,"video",22),A(43,"source",23),y(),f(44,"button",24),Z(),f(45,"svg"),A(46,"use",25),y()()()(),ee(),f(47,"div",26)(48,"div",27)(49,"div",28)(50,"div",29),w(51," Video Production "),y(),f(52,"h1"),w(53,"GITI Promotional Video"),y(),f(54,"p",30),w(55,"Aliquam ut porttitor leo a diam. Mi tempus imperdiet nulla malesuada pellentesque. Orci ac auctor augue mauris augue neque gravida in fermentum."),y()(),f(56,"div",31)(57,"button",32),Z(),f(58,"svg"),A(59,"use",33),y()()()(),ee(),f(60,"div",34)(61,"div",35)(62,"div",36)(63,"ul")(64,"li")(65,"div",37)(66,"div",38),A(67,"img",39),f(68,"button",24),Z(),f(69,"svg"),A(70,"use",25),y()()(),ee(),f(71,"div",40)(72,"div",29),w(73," Video Production "),y(),f(74,"div",41)(75,"h6",42),w(76,"Sem viverra aliquet eget sit amet tellus tellus molestie "),y(),f(77,"p"),w(78," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y(),f(79,"button",43),Z(),f(80,"svg"),A(81,"use",33),y()()()()()(),ee(),f(82,"li")(83,"div",44)(84,"div",38),A(85,"img",45),f(86,"button",24),Z(),f(87,"svg"),A(88,"use",25),y()()(),ee(),f(89,"div",40)(90,"div",29),w(91," 3D Animation "),y(),f(92,"div",41)(93,"h6",42),w(94,"Sem viverra aliquet eget sit amet tellus tellus molestie "),y(),f(95,"p"),w(96," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y(),f(97,"button",43),Z(),f(98,"svg"),A(99,"use",33),y()()()()()(),ee(),f(100,"li")(101,"div",44)(102,"div",38),A(103,"img",46),f(104,"button",24),Z(),f(105,"svg"),A(106,"use",25),y()()(),ee(),f(107,"div",40)(108,"div",29),w(109," 3D Animation "),y(),f(110,"div",41)(111,"h6",42),w(112,"Sem viverra aliquet eget sit amet tellus tellus molestie "),y(),f(113,"p"),w(114," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y(),f(115,"button",43),Z(),f(116,"svg"),A(117,"use",33),y()()()()()()()()(),ee(),f(118,"div",35)(119,"div",36)(120,"ul")(121,"li")(122,"div",44)(123,"div",38),A(124,"img",47),f(125,"button",24),Z(),f(126,"svg"),A(127,"use",25),y()()(),ee(),f(128,"div",40)(129,"div",29),w(130," 3D Animation "),y(),f(131,"div",41)(132,"h6",42),w(133,"Sem viverra aliquet eget sit amet tellus tellus molestie "),y(),f(134,"p"),w(135," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y(),f(136,"button",43),Z(),f(137,"svg"),A(138,"use",33),y()()()()()(),ee(),f(139,"li")(140,"div",44)(141,"div",38),A(142,"img",48),f(143,"button",24),Z(),f(144,"svg"),A(145,"use",25),y()()(),ee(),f(146,"div",40)(147,"div",29),w(148," 3D Animation "),y(),f(149,"div",41)(150,"h6",42),w(151,"Sem viverra aliquet eget sit amet tellus tellus molestie "),y(),f(152,"p"),w(153," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y(),f(154,"button",43),Z(),f(155,"svg"),A(156,"use",33),y()()()()()(),ee(),f(157,"li")(158,"div",44)(159,"div",38),A(160,"img",49),f(161,"button",24),Z(),f(162,"svg"),A(163,"use",25),y()()(),ee(),f(164,"div",40)(165,"div",29),w(166," 3D Animation "),y(),f(167,"div",41)(168,"h6",42),w(169,"Sem viverra aliquet eget sit amet tellus tellus molestie "),y(),f(170,"p"),w(171," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y(),f(172,"button",43),Z(),f(173,"svg"),A(174,"use",33),y()()()()()()()()()()(),ee(),f(175,"div",50)(176,"div",34)(177,"div",51)(178,"div",52)(179,"div",53)(180,"div",21)(181,"video",22),A(182,"source",54),y()(),f(183,"div",55),w(184," 3D Animation "),y(),f(185,"div",41)(186,"h6",56),w(187,"Etiam dignissim diam quis "),y(),f(188,"p"),w(189," Aliquam ut porttitor leo a diam. Mi tempus imperdiet nulla malesuada pellentesque. Orci ac auctor augue mauris augue neque gravida in fermentum. "),y()()()()(),f(190,"div",51)(191,"div",57)(192,"ul")(193,"li")(194,"div",44)(195,"div",58)(196,"video",59),A(197,"source",60),y()(),f(198,"div",40)(199,"div",29),w(200," 3D Animation "),y(),f(201,"div",41)(202,"h6",42),w(203,"Sem viverra aliquet eget sit amet tellus tellus molestie "),y(),f(204,"p"),w(205," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y(),f(206,"button",43),Z(),f(207,"svg"),A(208,"use",33),y()()()()()(),ee(),f(209,"li")(210,"div",44)(211,"div",58)(212,"video",59),A(213,"source",60),y()(),f(214,"div",40)(215,"div",29),w(216," 3D Animation "),y(),f(217,"div",41)(218,"h6",42),w(219,"Sem viverra aliquet eget sit amet tellus tellus molestie "),y(),f(220,"p"),w(221," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y(),f(222,"button",43),Z(),f(223,"svg"),A(224,"use",33),y()()()()()(),ee(),f(225,"li")(226,"div",44)(227,"div",58)(228,"video",59),A(229,"source",60),y()(),f(230,"div",40)(231,"div",29),w(232," 3D Animation "),y(),f(233,"div",41)(234,"h6",42),w(235,"Sem viverra aliquet eget sit amet tellus tellus molestie "),y(),f(236,"p"),w(237," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y(),f(238,"button",43),Z(),f(239,"svg"),A(240,"use",33),y()()()()()()()()()()(),ee(),f(241,"div",52)(242,"div",61)(243,"div",62)(244,"div",53)(245,"div",29),w(246," SEO "),y(),f(247,"div",63),A(248,"img",64),y(),f(249,"div",41)(250,"h6",42),w(251,"Incident Response for Ransomware Attack - Health Care Company "),y(),f(252,"p"),w(253," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(254,"button",43),Z(),f(255,"svg"),A(256,"use",33),y()()()(),ee(),f(257,"div",62)(258,"div",53)(259,"div",29),w(260," SEO "),y(),f(261,"div",63),A(262,"img",65),y(),f(263,"div",41)(264,"h6",42),w(265,"Incident Response for Ransomware Attack - Health Care Company "),y(),f(266,"p"),w(267," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(268,"button",66),Z(),f(269,"svg"),A(270,"use",33),y()()()(),ee(),f(271,"div",62)(272,"div",53)(273,"div",29),w(274," SEO "),y(),f(275,"div",63),A(276,"img",67),y(),f(277,"div",41)(278,"h6",42),w(279,"Incident Response for Ransomware Attack - Health Care Company "),y(),f(280,"p"),w(281," Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut. "),y()(),f(282,"button",66),Z(),f(283,"svg"),A(284,"use",33),y()()()()()()()()())},dependencies:[Wi,Za],styles:[".marketing-page[_ngcontent-%COMP%]{background-color:var(--bg-2);padding-bottom:8rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .marketing-video[_ngcontent-%COMP%]{margin-bottom:1.5rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .marketing-video[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:39.9375rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .marketing-video[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .marketing-video[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .playMarketingVideoBtn[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:transparent;cursor:pointer}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .marketing-video[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .playMarketingVideoBtn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;fill:var(--white)}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .promo-video-wrapper[_ngcontent-%COMP%], .marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .promo-video-wrapper[_ngcontent-%COMP%]   .promo-video-title[_ngcontent-%COMP%]{margin-bottom:4rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .promo-video-wrapper[_ngcontent-%COMP%]   .promo-video-title[_ngcontent-%COMP%]   .promo-video-desc[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:.75rem;font-style:normal;font-weight:500;line-height:normal;letter-spacing:.1125rem;text-transform:uppercase;margin-bottom:.5rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .promo-video-wrapper[_ngcontent-%COMP%]   .promo-video-title[_ngcontent-%COMP%]   .promo-video-desc[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--white);font-size:2.8125rem;font-style:normal;font-weight:400;line-height:2.5rem;text-transform:capitalize;margin-bottom:1rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .promo-video-wrapper[_ngcontent-%COMP%]   .promo-video-title[_ngcontent-%COMP%]   .promo-video-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:.9375rem;font-style:normal;font-weight:400;line-height:1.875rem;letter-spacing:.04688rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:2.5rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]{cursor:pointer}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]:hover   .box-title[_ngcontent-%COMP%]{color:var(--tech-blue-1)!important}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{position:relative;min-width:18.6875rem;height:11.6875rem;overflow:hidden}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;transform:none;object-fit:cover}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .playMarketingVideoBtn[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:transparent;cursor:pointer}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .playMarketingVideoBtn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;fill:var(--white)}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{position:relative;min-width:18.6875rem;height:11.6875rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .video-desc[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--white);font-size:1.375rem;font-style:normal;font-weight:500;line-height:2.0625rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .video-desc[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:.9375rem;font-style:normal;font-weight:400;line-height:1.5625rem;letter-spacing:.04688rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper.bottom-video-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:3.5rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .animation-wrapper[_ngcontent-%COMP%]{margin-bottom:3rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .animation-wrapper[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{height:32.9375rem;margin-bottom:2rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .animation-wrapper[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .animation-wrapper[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:2.8125rem;font-style:normal;font-weight:400;line-height:2.5rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{margin-bottom:2.5rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{height:14.5rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white)}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.562rem;font-style:normal;font-weight:500;line-height:2.1875rem}@media screen and (max-width: 1300px){.marketing-page[_ngcontent-%COMP%]{padding-bottom:7rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .marketing-video[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{height:35rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .promo-video-wrapper[_ngcontent-%COMP%]   .promo-video-title[_ngcontent-%COMP%]   .promo-video-desc[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;line-height:2.25rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .promo-video-wrapper[_ngcontent-%COMP%]   .promo-video-title[_ngcontent-%COMP%]   .promo-video-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.75rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%], .marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{min-width:15rem;height:10.5rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .video-desc[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .video-desc[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5rem;margin-bottom:.5rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .video-desc[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{margin-top:0!important}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper.bottom-video-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:3rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .animation-wrapper[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{height:28.9375rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .animation-wrapper[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:2.5rem;line-height:2.25rem}}@media screen and (max-width: 1199px){.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .marketing-video[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{height:32rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%], .marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{min-width:13rem;height:11rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper.bottom-video-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:3rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .animation-wrapper[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{height:28.9375rem}}@media screen and (max-width: 991px){.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .marketing-video[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{height:30rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%], .marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{width:16rem;height:11rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper.bottom-video-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:3rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .animation-wrapper[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{height:26.9375rem}}@media screen and (max-width: 767px){.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .marketing-video[_ngcontent-%COMP%]{margin-bottom:1.2rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .marketing-video[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{height:100%}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .promo-video-wrapper[_ngcontent-%COMP%]{margin-bottom:3rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:2rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%], .marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{min-width:100%;height:11.6875rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .video-item[_ngcontent-%COMP%]   .video-desc[_ngcontent-%COMP%]{width:100%;height:auto}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .video-list-wrapper.bottom-video-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:2.5rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .animation-wrapper[_ngcontent-%COMP%]{margin-bottom:1rem}.marketing-page[_ngcontent-%COMP%]   .marketing-body[_ngcontent-%COMP%]   .animation-wrapper[_ngcontent-%COMP%]   .showcase-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{height:100%}}"]});let e=t;return e})();var z8=(()=>{let t=class t{ngAfterViewInit(){$(".resultSlider").slick({centerMode:!0,centerPadding:"80px",slidesToShow:3,speed:300,prevArrow:$(".btn-study-prev"),nextArrow:$(".btn-study-next"),responsive:[{breakpoint:1800,settings:{slidesToShow:2}},{breakpoint:1200,settings:{slidesToShow:2}},{breakpoint:992,settings:{centerPadding:"50px",slidesToShow:2}},{breakpoint:768,settings:{centerPadding:"50px",slidesToShow:1}},{breakpoint:480,settings:{centerPadding:"0px",slidesToShow:1}}]})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["app-development-individual-page"]],standalone:!0,features:[gt],decls:456,vars:0,consts:[["rotatingElement",""],[1,"development-individual-page"],[1,"top-breadcrumb"],[1,"app-container"],[1,"app-breadcrumb","mb-0"],[1,"app-breadcrumb-wrapper"],[1,"breadcrumb-links"],["routerLink","/case-study/overview","routerLinkActive","active",1,"breadcrumb-items"],["routerLink","/case-study/cybersecurity","routerLinkActive","active",1,"breadcrumb-items"],["routerLink","/case-study/development","routerLinkActive","active",1,"breadcrumb-items"],["routerLink","/case-study/marketing","routerLinkActive","active",1,"breadcrumb-items"],[1,"development-individual-header"],[1,"row"],[1,"col-md-12","col-lg-5"],[1,"development-header-wrapper","d-flex","flex-column","justify-content-start","flex-lg-row","align-items-lg-center","justify-content-lg-between"],[1,"header-desc"],[1,"logo-wrapper","mb-3"],["src","../../../../assets/images/pages/developmeny-individual/logo 1.svg","alt",""],[1,"header-title","mb-0"],[1,"header-link"],[1,"d-flex","align-items-center","column-gap-2","flex-wrap"],["href","#"],[1,"copy-link"],["href","#",1,"d-flex","align-items-center","column-gap-2"],[0,"xlink","href","#linkIcon"],[1,"line"],[1,"header-para"],[1,"bottom-links","d-flex","align-items-center"],[1,"link"],[1,"date"],[1,"col-md-7"],[1,"header-image"],["src","../../../../assets/images/pages/developmeny-individual/header-img.png","alt",""],[1,"development-individual-body"],[1,"development-desc","development-padding"],[1,"row","gx-3","gx-lg-5"],[1,"col-md-6"],[1,"desc-title-wrapper"],[1,"title-label"],[1,"title-wrapper"],[1,"desc-para"],[1,"development-video"],["width","100%","height","100%","autoplay","","loop",""],["src","../../../../assets/videos/pages/case-study/-8fb0-4f6d-8f72-dd1bcf3ed602.mp4"],[1,"logo-wrapper"],["src","../../../../assets/images/pages/developmeny-individual/logo 1.svg","width","100%","height","100%","alt",""],[1,"case-study-project-aim","development-padding"],[1,"project-title-wrapper","mb-5"],[1,"project-list","mb-5"],[1,"row","g-4"],[1,"project-item"],[1,"title-wrapper","d-flex","mb-3"],[0,"xlink","href","#upIcon"],[1,"project-title","m-0"],[1,"project-para"],[1,"project-img-wrapper"],[1,"project-img"],["src","../../../../assets/images/pages/developmeny-individual/objective-1.png","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/developmeny-individual/objective-2.png","width","100%","height","100%","alt",""],[1,"case-study-challenges","development-padding"],[1,"challenges-title-wrapper","mb-5"],[1,"challenges-card-hero"],[1,"row","g-4","g-lg-5"],[1,"col-md-4"],[1,"challenges-card"],[1,"card-title"],[1,"card-para"],[1,"development-solution","development-padding"],[1,"Solutions-title-wrapper","mb-5"],[1,"solution-list"],[1,"row","g-4","g-md-5"],[1,"solution-list-item"],[1,"list-title"],[1,"list-para"],[1,"body-banner-wrapper","development-padding"],["src","../../../../assets/images/pages/developmeny-individual/dev-banner.png","width","100%","height","100%","alt",""],[1,"development-website","development-padding"],[1,"website-header-wrapper"],[1,"website-img"],["src","../../../../assets/images/pages/developmeny-individual/laptop.png","width","100%","height","100%","alt",""],[1,"col-md-12","col-lg-6"],[1,"website-desc"],[1,"website-title-wrapper"],[1,"website-para"],[1,"website-feature-list","mb-4","mb-md-5"],[1,"website-feature-list-item"],[1,"list-title","d-flex","align-items-center"],[1,"icon-wrapper"],["src","../../../../assets/images/pages/developmeny-individual/circleCheck.svg","width","100%","height","100%","alt",""],[1,"title","m-0"],[1,"development-result","development-padding"],[1,"result-title-wrapper","mb-5"],[1,"result-wrapper"],[1,"resultSlider"],[1,"result-item"],[1,"slider-item"],["src","../../../../assets/images/pages/developmeny-individual/slider-1.png","alt",""],["src","../../../../assets/images/pages/developmeny-individual/slider-2.png","alt",""],[1,"slider-actions","d-flex","justify-content-center"],[1,"btn-study-prev"],[0,"xlink","href","#arrowRightIconOne"],[1,"loading-indicator"],[1,"loading-bar"],[1,"btn-study-next"],[1,"development-tech","development-padding"],[1,"tech-title-wrapper","mb-5"],[1,"tech-item-wrapper"],[1,"tech-list","mb-3","mb-md-0"],[1,"tech-title"],[1,"tech-logo-wrapper","d-flex","justify-content-start"],[1,"tech-logo","me-4"],["src","../../../../assets/images/pages/developmeny-individual/Lucidchart-1.png","width","100%","height","100%","alt",""],[1,"tech-logo"],["src","../../../../assets/images/pages/developmeny-individual/miro-logos-idG4aRyg5R.svg","width","100%","height","100%","alt",""],[1,"tech-logo-wrapper","d-flex","justify-content-between"],["src","../../../../assets/images/pages/developmeny-individual/Figma-logo.svg","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/developmeny-individual/abstract-svgrepo-com.svg","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/developmeny-individual/Sketch_Logo.svg","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/developmeny-individual/django-logo-icon.svg","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/developmeny-individual/Laravel.svg","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/developmeny-individual/Vue.js_Logo_2.svg","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/developmeny-individual/Amazon_Web_Services_Logo 1.svg","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/developmeny-individual/Firebase_Logo.svg","width","100%","height","100%","alt",""],[1,"development-performance","development-padding"],[1,"performance-title-wrapper","mb-5"],[1,"tech-counter-wrapper"],[1,"counter-list"],[1,"counter-item"],["src","./../../../../../assets/images/pages/home/card-line.png","alt","",1,"border-line"],[1,"item-content"],[1,"card-icon"],["src","../../../../assets/images/pages/developmeny-individual/checkIcon.svg","alt",""],[1,"count"],[1,"number"],[1,"development-testimonial","development-padding"],[1,"testimonial-title-wrapper","mb-5"],[1,"testi-content","d-flex"],[0,"xlink","href","#colonIcon"],[1,"testi-desc"],[1,"testi-para","mb-4"],[1,"user-wrapper","d-flex","align-items-center","column-gap-3"],[1,"user-img"],["src","../../../../assets/images/pages/developmeny-individual/user.svg","width","100%","height","100%","alt",""],[1,"user-info"],[1,"user-name"],[1,"user-position"]],template:function(r,o){r&1&&(f(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"ul")(7,"ul")(8,"li")(9,"a",7)(10,"span"),w(11,"Overview "),y()()(),f(12,"li")(13,"a",8)(14,"span"),w(15,"cybersecurity"),y()()(),f(16,"li")(17,"a",9)(18,"span"),w(19,"development"),y()()(),f(20,"li")(21,"a",10)(22,"span"),w(23,"digital marketing"),y()()()()()()()()()(),f(24,"div",11)(25,"div",3)(26,"div",12)(27,"div",13)(28,"div",14)(29,"div",15)(30,"div",16),A(31,"img",17),y(),f(32,"h1",18),w(33,"GITI Tire"),y(),f(34,"div",19)(35,"ul",20)(36,"li")(37,"a",21),w(38,"Home"),y()(),f(39,"li")(40,"a",21),w(41,"/ Case Study"),y()(),f(42,"li")(43,"a",21),w(44,"/ Giti Tire"),y()(),f(45,"li",22)(46,"a",23),Z(),f(47,"svg"),A(48,"use",24),y(),ee(),f(49,"span"),w(50,"COPY LINK"),y()()()()(),A(51,"div",25),f(52,"div",26)(53,"p"),w(54,"The Giti Corporate project was an ambitious endeavor to create the main website platform for one of the world's top ten tire companies at the center of their many brand and country websites."),y()(),f(55,"div",27)(56,"div",28),w(57,"Development"),y(),f(58,"span"),w(59,"|"),y(),f(60,"div",29),w(61,"02 Aug 2023"),y()()()()(),A(62,"div",30),y()(),f(63,"div",31),A(64,"img",32),y()(),f(65,"div",33)(66,"div",34)(67,"div",3)(68,"div",35)(69,"div",36)(70,"div",37)(71,"div",38),w(72,"Embracing Innovation and Performance"),y(),f(73,"h1",39),w(74,"Giti Tire's Digital Transformation with SEIRIM"),y()()(),f(75,"div",36)(76,"div",40)(77,"p"),w(78,"Giti Tire, a renowned global tire manufacturer, recognized the need to modernize its main corporate website to reflect its evolving brand and substantial online presence. With a focus on motorsports and a commitment to delivering top-tier products worldwide, Giti Tire partnered with SEIRIM to spearhead this ambitious project."),y()()()()()(),f(79,"div",41)(80,"video",42),A(81,"source",43),y(),f(82,"div",44),A(83,"img",45),y()(),f(84,"div",46)(85,"div",3)(86,"div",47)(87,"div",38),w(88,"Project Aims"),y(),f(89,"h1",39),w(90,"Objectives"),y()(),f(91,"div",48)(92,"div",49)(93,"div",36)(94,"div",50)(95,"div",51),Z(),f(96,"svg"),A(97,"use",52),y(),ee(),f(98,"h3",53),w(99,"Revitalize the Corporate Website"),y()(),f(100,"div",54)(101,"p"),w(102,"To create a site that is not only visually appealing but also user-friendly, with a focus on interactive and engaging content."),y()()()(),f(103,"div",36)(104,"div",50)(105,"div",51),Z(),f(106,"svg"),A(107,"use",52),y(),ee(),f(108,"h3",53),w(109,"Enhance User Experience"),y()(),f(110,"div",54)(111,"p"),w(112,"To create a site that is not only visually appealing but also user-friendly, with a focus on interactive and engaging content."),y()()()(),f(113,"div",36)(114,"div",50)(115,"div",51),Z(),f(116,"svg"),A(117,"use",52),y(),ee(),f(118,"h3",53),w(119,"Incorporate Motorsports Identity"),y()(),f(120,"div",54)(121,"p"),w(122,"To infuse the website with elements that reflect Giti Tire's growing focus on motorsports racing."),y()()()(),f(123,"div",36)(124,"div",50)(125,"div",51),Z(),f(126,"svg"),A(127,"use",52),y(),ee(),f(128,"h3",53),w(129,"Global Accessibility"),y()(),f(130,"div",54)(131,"p"),w(132,"To ensure the website is multilingual and performs seamlessly across various internet conditions, catering to a global audience."),y()()()()()(),f(133,"div",55)(134,"div",49)(135,"div",36)(136,"div",56),A(137,"img",57),y()(),f(138,"div",36)(139,"div",56),A(140,"img",58),y()()()()()(),f(141,"div",59)(142,"div",3)(143,"div",60)(144,"div",38),w(145,"At the Horizon"),y(),f(146,"h1",39),w(147,"Challenges"),y()(),f(148,"div",61)(149,"div",62)(150,"div",63)(151,"div",64)(152,"h3",65),w(153,"Complex Integration"),y(),f(154,"div",66)(155,"p"),w(156,"The need to integrate various sub-brand and country-specific websites under one cohesive digital umbrella."),y()()()(),f(157,"div",63)(158,"div",64)(159,"h3",65),w(160,"Maintaining Brand Consistency"),y(),f(161,"div",66)(162,"p"),w(163,"Ensuring the new design aligns with Giti Tire\u2019s global brand identity."),y()()()(),f(164,"div",63)(165,"div",64)(166,"h3",65),w(167,"Technical Performance"),y(),f(168,"div",66)(169,"p"),w(170,"Balancing high-quality visuals and animations with fast loading times, especially in regions with varying internet strengths."),y()()()()()()()(),f(171,"div",67)(172,"div",3)(173,"div",68)(174,"div",38),w(175,"Strategic"),y(),f(176,"h1",39),w(177,"Solutions"),y()(),f(178,"div",69)(179,"div",70)(180,"div",36)(181,"div",71)(182,"div",72)(183,"h3"),w(184,"Dynamic Design Incorporating Motorsports"),y()(),f(185,"div",73)(186,"p"),w(187,"SEIRIM developed a website with racing themes, using imagery and styles related to motorsports to highlight Giti Tire's active branding."),y()()()(),f(188,"div",36)(189,"div",71)(190,"div",72)(191,"h3"),w(192,"Advanced Web Features"),y()(),f(193,"div",73)(194,"p"),w(195,"The site features custom elements like animations, background videos, and a sophisticated layout, offering a premium digital experience."),y()()()(),f(196,"div",36)(197,"div",71)(198,"div",72)(199,"h3"),w(200,"Multilingual Capabilities"),y()(),f(201,"div",73)(202,"p"),w(203,"The website was designed to cater to both English and Chinese-speaking audiences, emphasizing Giti Tire's international reach."),y()()()(),f(204,"div",36)(205,"div",71)(206,"div",72)(207,"h3"),w(208,"Performance Optimization"),y()(),f(209,"div",73)(210,"p"),w(211,"Special attention was given to ensure the website's performance on mobile devices and its adaptability to various internet speeds."),y()()()()()()()(),f(212,"div",74),A(213,"img",75),y(),f(214,"div",76)(215,"div",77)(216,"div",78),A(217,"img",79),y(),f(218,"div",3)(219,"div",70),A(220,"div",36),f(221,"div",80)(222,"div",81)(223,"div",82)(224,"div",38),w(225,"Tactical Innovations"),y(),f(226,"h1",39),w(227,"Services Employed for Giti Tire\u2019s Website Revamp"),y()(),f(228,"div",83)(229,"p"),w(230,"SEIRIM, as a leading web design and development agency, provided a comprehensive suite of services to transform Giti Tire\u2019s website. These services were meticulously employed to ensure the new site not only resonated with the brand's identity but also set a new benchmark in digital user experience."),y()()()()()()(),f(231,"div",3)(232,"div",84)(233,"div",70)(234,"div",36)(235,"div",85)(236,"div",86)(237,"div",87),A(238,"img",88),y(),f(239,"h3",89),w(240,"Custom Web Design"),y()(),f(241,"div",73)(242,"p"),w(243,"Crafting a unique and modern design that aligns with Giti Tire's brand image and its focus on motorsports."),y()()()(),f(244,"div",36)(245,"div",85)(246,"div",86)(247,"div",87),A(248,"img",88),y(),f(249,"h3",89),w(250,"Advanced Web Development"),y()(),f(251,"div",73)(252,"p"),w(253,"Implementing efficient and scalable code to ensure the website's robust performance."),y()()()(),f(254,"div",36)(255,"div",85)(256,"div",86)(257,"div",87),A(258,"img",88),y(),f(259,"h3",89),w(260,"Multimedia Integration"),y()(),f(261,"div",73)(262,"p"),w(263,"Embedding high-quality animations, background videos, and interactive graphics to enhance user engagement."),y()()()(),f(264,"div",36)(265,"div",85)(266,"div",86)(267,"div",87),A(268,"img",88),y(),f(269,"h3",89),w(270,"Search Engine Optimization (SEO)"),y()(),f(271,"div",73)(272,"p"),w(273,"Optimizing the website for higher visibility in search engines, focusing on both global and local markets."),y()()()(),f(274,"div",36)(275,"div",85)(276,"div",86)(277,"div",87),A(278,"img",88),y(),f(279,"h3",89),w(280,"User Experience (UX) Design"),y()(),f(281,"div",73)(282,"p"),w(283,"Designing a user-friendly interface that allows easy access to information and features."),y()()()(),f(284,"div",36)(285,"div",85)(286,"div",86)(287,"div",87),A(288,"img",88),y(),f(289,"h3",89),w(290,"Content Management System (CMS)"),y()(),f(291,"div",73)(292,"p"),w(293,"Building a tailored CMS that allows Giti Tire to easily manage and update website content."),y()()()()()()()(),f(294,"div",90)(295,"div",3)(296,"div",91)(297,"div",38),w(298,"Precision Impacts"),y(),f(299,"h1",39),w(300,"The Results"),y()()(),f(301,"div",92)(302,"div",93)(303,"div",94)(304,"div",95),A(305,"img",96),y()(),f(306,"div",94)(307,"div",95),A(308,"img",97),y()(),f(309,"div",94)(310,"div",95),A(311,"img",96),y()(),f(312,"div",94)(313,"div",95),A(314,"img",97),y()()(),f(315,"div",98)(316,"button",99),Z(),f(317,"svg"),A(318,"use",100),y()(),ee(),f(319,"div",101),A(320,"div",102),y(),f(321,"button",103),Z(),f(322,"svg"),A(323,"use",100),y()()()()(),ee(),f(324,"div",104)(325,"div",3)(326,"div",105)(327,"div",38),w(328,"Advanced I.T."),y(),f(329,"h1",39),w(330,"Tech Used"),y()(),f(331,"ul",106)(332,"li",107)(333,"h6",108),w(334,"drafting"),y(),f(335,"div",109)(336,"div",110),A(337,"img",111),y(),f(338,"div",112),A(339,"img",113),y()()(),f(340,"li",107)(341,"h6",108),w(342,"prototype"),y(),f(343,"div",114)(344,"div",112),A(345,"img",115),y(),f(346,"div",112),A(347,"img",116),y(),f(348,"div",112),A(349,"img",117),y()()(),f(350,"li",107)(351,"h6",108),w(352,"development"),y(),f(353,"div",114)(354,"div",112),A(355,"img",118),y(),f(356,"div",112),A(357,"img",119),y(),f(358,"div",112),A(359,"img",120),y()()(),f(360,"li",107)(361,"h6",108),w(362,"server"),y(),f(363,"div",109)(364,"div",110),A(365,"img",121),y(),f(366,"div",112),A(367,"img",122),y()()()()()(),f(368,"div",123)(369,"div",3)(370,"div",124)(371,"div",38),w(372,"Elite Efficiency"),y(),f(373,"h1",39),w(374,"Performance Metrics"),y(),f(375,"div",125)(376,"ul",126)(377,"li",127),A(378,"img",128),f(379,"div",129)(380,"div",130,0),A(382,"img",131),y(),f(383,"h6",132)(384,"span",133),w(385,"A"),y(),w(386,"+"),y(),f(387,"p"),w(388,"Metrix Grade"),y()()(),f(389,"li",127),A(390,"img",128),f(391,"div",129)(392,"div",130),A(393,"img",131),y(),f(394,"h6",132)(395,"span",133),w(396,"100"),y(),w(397,"%"),y(),f(398,"p"),w(399,"Performance"),y()()(),f(400,"li",127),A(401,"img",128),f(402,"div",129)(403,"div",130),A(404,"img",131),y(),f(405,"h6",132)(406,"span",133),w(407,"99"),y(),w(408,"%"),y(),f(409,"p"),w(410,"Structure"),y()()(),f(411,"li",127),A(412,"img",128),f(413,"div",129)(414,"div",130),A(415,"img",131),y(),f(416,"h6",132)(417,"span",133),w(418,"0"),y(),w(419,"ms"),y(),f(420,"p"),w(421,"Total Blocking Time"),y()()(),f(422,"li",127),A(423,"img",128),f(424,"div",129)(425,"div",130),A(426,"img",131),y(),f(427,"h6",132)(428,"span",133),w(429,"92"),y(),w(430,"%"),y(),f(431,"p"),w(432,"Conversion Impact"),y()()()()()()()(),f(433,"div",134)(434,"div",3)(435,"div",135)(436,"div",38),w(437,"From the Client"),y(),f(438,"h1",39),w(439,"Testimonial"),y(),A(440,"div",25),y(),f(441,"div",136)(442,"div",87),Z(),f(443,"svg"),A(444,"use",137),y()(),ee(),f(445,"div",138)(446,"p",139),w(447,"As a globally recognized brand in the tire industry, our digital presence is crucial to our success. Partnering with SEIRIM for our website overhaul was a decision that has paid dividends beyond our expectations. The new site perfectly captures the essence of our brand - dynamic, innovative, and forward-thinking. "),y(),f(448,"div",140)(449,"div",141),A(450,"img",142),y(),f(451,"div",143)(452,"div",144),w(453,"Tobias Oden"),y(),f(454,"div",145),w(455,"GITI CEO"),y()()()()()()()()())},dependencies:[Wi],styles:['.development-individual-page[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0rem}.development-individual-page[_ngcontent-%COMP%]   .top-breadcrumb[_ngcontent-%COMP%]{background-color:var(--bg-2)}.development-individual-page[_ngcontent-%COMP%]   .top-breadcrumb[_ngcontent-%COMP%]   .app-breadcrumb[_ngcontent-%COMP%]{padding-bottom:2.5rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]{background-color:var(--bg-2);position:relative;min-height:40rem;padding-top:2rem}@media screen and (min-width: 1180px){.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .app-container[_ngcontent-%COMP%]{padding:0 5.5rem}}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{width:8rem;height:2rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--white);font-size:5rem;font-style:normal;font-weight:var(--fw-400);line-height:normal}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{margin-bottom:2.5rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:.875rem;font-style:normal;font-weight:500;line-height:150%}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:.2rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.73594rem;height:.73588rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white);font-size:.625rem;font-style:normal;font-weight:500;line-height:150%;letter-spacing:.0625rem;text-transform:uppercase;transition:.3s all ease-in-out}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--tech-blue-1)}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]   .header-para[_ngcontent-%COMP%]{padding-top:10rem;margin-bottom:1.5rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]   .header-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:1.0625rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem;letter-spacing:.05313rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]   .bottom-links[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], .development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]   .bottom-links[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:.875rem;font-style:normal;font-weight:var(--fw-500);line-height:150%}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]   .bottom-links[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#092d4f;text-align:center;font-size:.875rem;font-style:normal;font-weight:var(--fw-500);line-height:150%;padding:0 .8rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .header-image[_ngcontent-%COMP%]{width:48vw;height:40rem;position:absolute;bottom:0;right:0}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .header-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}@media screen and (min-width: 1180px){.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .app-container[_ngcontent-%COMP%]{padding:0 5.5rem}}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:.875rem;font-style:normal;font-weight:var(--fw-500);line-height:150%;letter-spacing:.0875rem;text-transform:uppercase}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]{font-size:2.7rem;color:var(--text-black-6);font-style:normal;font-weight:var(--fw-var(--fw-500));line-height:normal}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-padding[_ngcontent-%COMP%]{padding:5rem 0}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .case-study-challenges[_ngcontent-%COMP%], .development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%], .development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-performance[_ngcontent-%COMP%]{background-color:var(--bg-2)}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .case-study-challenges[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%], .development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%], .development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-performance[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]{color:var(--white)}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-desc[_ngcontent-%COMP%]   .desc-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-black-6);font-size:1.0625rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem;letter-spacing:.02125rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-video[_ngcontent-%COMP%]{position:relative;width:100%;height:30rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-video[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:1rem;width:8.1875rem;height:1.80125rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-video[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-solution[_ngcontent-%COMP%]   .solution-list[_ngcontent-%COMP%]   .solution-list-item[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]{position:relative;margin-bottom:.8rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-solution[_ngcontent-%COMP%]   .solution-list[_ngcontent-%COMP%]   .solution-list-item[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-black-6);font-size:1.5625rem;font-style:normal;font-weight:var(--fw-500);line-height:100%;padding-left:1.8rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-solution[_ngcontent-%COMP%]   .solution-list[_ngcontent-%COMP%]   .solution-list-item[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:.125rem;height:1.5625rem;background-color:var(--tech-blue-3)}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-solution[_ngcontent-%COMP%]   .solution-list[_ngcontent-%COMP%]   .solution-list-item[_ngcontent-%COMP%]   .list-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-black-6);font-size:1.0625rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem;letter-spacing:.02125rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .body-banner-wrapper[_ngcontent-%COMP%]{width:100%;height:33.125rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .body-banner-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]{padding-bottom:2rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-header-wrapper[_ngcontent-%COMP%]{position:relative;margin-bottom:5rem;height:33rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-header-wrapper[_ngcontent-%COMP%]   .website-img[_ngcontent-%COMP%]{width:47vw;height:100%;position:absolute;top:0;left:0}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-header-wrapper[_ngcontent-%COMP%]   .website-desc[_ngcontent-%COMP%]{padding:3rem 0}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-header-wrapper[_ngcontent-%COMP%]   .website-desc[_ngcontent-%COMP%]   .website-title-wrapper[_ngcontent-%COMP%]{margin-bottom:4rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-header-wrapper[_ngcontent-%COMP%]   .website-desc[_ngcontent-%COMP%]   .website-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-black-6);font-size:1.0625rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem;letter-spacing:.02125rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-feature-list[_ngcontent-%COMP%]{padding:3rem 0 0}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-feature-list[_ngcontent-%COMP%]   .website-feature-list-item[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]{padding:0 0 1.3rem;border-bottom:2px solid #7fbeff;margin-bottom:1rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-feature-list[_ngcontent-%COMP%]   .website-feature-list-item[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:1.4375rem;height:1.4375rem;margin-bottom:.3rem;margin-right:.875rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-feature-list[_ngcontent-%COMP%]   .website-feature-list-item[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--text-black-6);font-size:1.5625rem;font-style:normal;font-weight:var(--fw-500);line-height:120%}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-feature-list[_ngcontent-%COMP%]   .website-feature-list-item[_ngcontent-%COMP%]   .list-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-black-6);font-size:1.0625rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem;letter-spacing:.02125rem;margin-bottom:0}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]{margin:0 10px}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]{width:100%;height:27rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]{margin-top:3.5rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%], .development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]{background:none;padding:.4rem;border:1px solid #2c3b71;display:flex;align-items:center;position:relative;transition:all .3s ease-in-out}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]:after, .development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;bottom:0;width:0%;height:100%;background:transparent;transition:all .3s ease-in-out;z-index:1}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem;z-index:11}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]:hover:after, .development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]:hover:after{background:var(--lineargradient-bg);width:100%}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{--fill-color: #fff}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .slider-actions[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]{transform:rotate(180deg)}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-tech[_ngcontent-%COMP%]   .tech-item-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;column-gap:1rem;row-gap:1rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-tech[_ngcontent-%COMP%]   .tech-item-wrapper[_ngcontent-%COMP%]   .tech-list[_ngcontent-%COMP%]{padding:1rem;border:1px solid var(--gray-7)}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-tech[_ngcontent-%COMP%]   .tech-item-wrapper[_ngcontent-%COMP%]   .tech-list[_ngcontent-%COMP%]   .tech-title[_ngcontent-%COMP%]{color:var(--text-black-6);font-size:.875rem;font-style:normal;font-weight:var(--fw-500);line-height:150%;letter-spacing:.0875rem;text-transform:uppercase}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-tech[_ngcontent-%COMP%]   .tech-item-wrapper[_ngcontent-%COMP%]   .tech-list[_ngcontent-%COMP%]   .tech-logo-wrapper[_ngcontent-%COMP%]{padding:2rem 0 1rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-tech[_ngcontent-%COMP%]   .tech-item-wrapper[_ngcontent-%COMP%]   .tech-list[_ngcontent-%COMP%]   .tech-logo-wrapper[_ngcontent-%COMP%]   .tech-logo[_ngcontent-%COMP%]{padding:0 .5rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-performance[_ngcontent-%COMP%]   .tech-counter-wrapper[_ngcontent-%COMP%]{margin-top:4.5rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-performance[_ngcontent-%COMP%]   .tech-counter-wrapper[_ngcontent-%COMP%]   .counter-list[_ngcontent-%COMP%]{gap:1.8rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-testimonial[_ngcontent-%COMP%]   .testi-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:4rem;margin-right:3rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-testimonial[_ngcontent-%COMP%]   .testi-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.375rem;height:1.25rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-testimonial[_ngcontent-%COMP%]   .testi-content[_ngcontent-%COMP%]   .testi-desc[_ngcontent-%COMP%]   .testi-para[_ngcontent-%COMP%]{color:var(--black);font-size:1.375rem;font-style:normal;font-weight:var(--fw-400);line-height:2.1875rem;letter-spacing:.0275rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-testimonial[_ngcontent-%COMP%]   .testi-content[_ngcontent-%COMP%]   .testi-desc[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{width:3.625rem;height:3.625rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-testimonial[_ngcontent-%COMP%]   .testi-content[_ngcontent-%COMP%]   .testi-desc[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:var(--black);font-size:1.25rem;font-style:normal;font-weight:var(--fw-400);line-height:150%}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-testimonial[_ngcontent-%COMP%]   .testi-content[_ngcontent-%COMP%]   .testi-desc[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-position[_ngcontent-%COMP%]{color:#a4a4a4;font-size:.9375rem;font-style:normal;font-weight:var(--fw-400);line-height:150%}@media screen and (max-width: 1300px){.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{font-size:.7rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]{font-size:2.3rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-video[_ngcontent-%COMP%]{height:26rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-video[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{width:7.5rem;height:1.8rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-solution[_ngcontent-%COMP%]   .solution-list-item[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;padding-left:1.5rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-solution[_ngcontent-%COMP%]   .solution-list-item[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]:before{width:.125rem;height:1.25rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-solution[_ngcontent-%COMP%]   .solution-list-item[_ngcontent-%COMP%]   .list-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.975rem;line-height:1.75rem;margin-bottom:0rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-banner[_ngcontent-%COMP%]{width:100%;height:30rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .app-container-fluid[_ngcontent-%COMP%]{padding:0 5rem 0 0}}@media screen and (max-width: 991px){.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]{min-height:100%;padding-bottom:2rem;padding-top:0}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]{width:100%}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-desc[_ngcontent-%COMP%]   .header-para[_ngcontent-%COMP%]{padding-top:1rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .development-header-wrapper[_ngcontent-%COMP%]   .header-image[_ngcontent-%COMP%]{width:100%;height:auto}.development-individual-page[_ngcontent-%COMP%]   .development-individual-header[_ngcontent-%COMP%]   .header-image[_ngcontent-%COMP%]{display:none}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-padding[_ngcontent-%COMP%]{padding:3.5rem 0 3rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-solution[_ngcontent-%COMP%]   .solution-list-item[_ngcontent-%COMP%]   .list-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-header-wrapper[_ngcontent-%COMP%]{flex-direction:column;margin-bottom:0rem;height:auto}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-header-wrapper[_ngcontent-%COMP%]   .website-img[_ngcontent-%COMP%]{display:none}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-header-wrapper[_ngcontent-%COMP%]   .website-desc[_ngcontent-%COMP%]{width:100%;padding-top:0;padding-bottom:1.5rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-header-wrapper[_ngcontent-%COMP%]   .website-desc[_ngcontent-%COMP%]   .website-title-wrapper[_ngcontent-%COMP%]{margin-bottom:0rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-feature-list[_ngcontent-%COMP%]{padding:3.5rem 0 0}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-feature-list[_ngcontent-%COMP%]   .website-feature-list-item[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.25rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-feature-list[_ngcontent-%COMP%]   .website-feature-list-item[_ngcontent-%COMP%]   .list-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.975rem;line-height:1.5rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-tech[_ngcontent-%COMP%]   .tech-item-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 767px){.development-individual-page[_ngcontent-%COMP%]   .development-header-link[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .development-individual-page[_ngcontent-%COMP%]   .development-header-link[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.785rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-video[_ngcontent-%COMP%]{height:100%}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .body-banner-wrapper[_ngcontent-%COMP%]{height:18rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-website[_ngcontent-%COMP%]   .website-feature-list[_ngcontent-%COMP%]{padding:2rem 0 0}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-tech[_ngcontent-%COMP%]   .tech-item-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-tech[_ngcontent-%COMP%]   .tech-item-wrapper[_ngcontent-%COMP%]   .tech-list[_ngcontent-%COMP%]   .tech-logo-wrapper[_ngcontent-%COMP%]{padding:1.5rem 0 .5rem}.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-result[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]{width:100%;height:100%}}@media screen and (min-width: 1300px){.development-individual-page[_ngcontent-%COMP%]   .development-individual-body[_ngcontent-%COMP%]   .development-desc[_ngcontent-%COMP%]   .desc-title-wrapper[_ngcontent-%COMP%]{padding-right:3rem}}@media screen and (min-width: 768px){.development-individual-page[_ngcontent-%COMP%]   .g-md-5[_ngcontent-%COMP%], .development-individual-page[_ngcontent-%COMP%]   .gx-md-5[_ngcontent-%COMP%]{--bs-gutter-x: 6rem}}']});let e=t;return e})();var B8=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["app-digital-marketing-individual"]],standalone:!0,features:[gt],decls:155,vars:0,consts:[[1,"marketing-individual-page"],[1,"marketing-individual-header"],[1,"app-container"],[1,"header-wrapper"],[1,"logo-wrapper","mb-3"],["src","../../../../assets/images/pages/developmeny-individual/logo 1.svg","alt",""],[1,"header-title"],[1,"header-links","d-flex","justify-content-start","align-items-start","flex-column","flex-md-row","justify-content-md-between","align-items-md-center"],[1,"header-breadcrumb","flex-wrap"],[1,"d-flex","align-items-center"],[1,"link"],["href","#"],[1,"copy-link"],[0,"xlink","href","#linkIcon"],[1,"header-date"],[1,"header-image"],["src","../../../../assets/images/pages/digital-marketing-individual/header-img.png","width","100%","height","100%","alt",""],[1,"marketing-individual-body"],[1,"case-study-project-aim"],[1,"project-title-wrapper","mb-5"],[1,"title-label","mb-3"],[1,"title-wrapper"],[1,"project-list","mb-5"],[1,"row","g-4"],[1,"col-md-6"],[1,"project-item"],[1,"title-wrapper","d-flex","mb-3"],[0,"xlink","href","#upIcon"],[1,"project-title","m-0"],[1,"project-para"],[1,"project-aim-img"],[1,"row"],[1,"col-md-6","p-0"],[1,"project-img"],["src","../../../../assets/images/pages/digital-marketing-individual/project-2.png","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/digital-marketing-individual/project-1.png","width","100%","height","100%","alt",""],[1,"case-study-challenges"],[1,"challenges-title-wrapper","mb-5"],[1,"challenges-card-hero"],[1,"row","g-4","g-lg-5"],[1,"col-md-4"],[1,"challenges-card"],[1,"card-title"],[1,"card-para"]],template:function(r,o){r&1&&(f(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),A(5,"img",5),y(),f(6,"div",6)(7,"h1"),w(8,"SEIRIM's Digital Marketing Solutions for GITI Tire's Website"),y()(),f(9,"div",7)(10,"div",8)(11,"ul",9)(12,"li",10)(13,"a",11),w(14,"Home"),y()(),f(15,"li")(16,"span"),w(17,"/"),y()(),f(18,"li",10)(19,"a",11),w(20,"Case Study"),y()(),f(21,"li")(22,"span"),w(23,"/"),y()(),f(24,"li",10)(25,"a",11),w(26,"Digital Marketing"),y()(),f(27,"li")(28,"span"),w(29,"/"),y()(),f(30,"li",10)(31,"a",11),w(32,"GITI Tire"),y()()(),f(33,"div",12)(34,"a",11),Z(),f(35,"svg"),A(36,"use",13),y(),w(37," Copy Link "),y()()(),ee(),f(38,"div",14)(39,"a",11),w(40,"Development"),y(),f(41,"span"),w(42,"|"),y(),f(43,"a",11),w(44,"02 Aug 2023"),y()()(),f(45,"div",15),A(46,"img",16),y()()()(),f(47,"div",17)(48,"div",18)(49,"div",2)(50,"div",19)(51,"div",20),w(52,"Project Aims"),y(),f(53,"h1",21),w(54,"Objectives"),y()(),f(55,"div",22)(56,"div",23)(57,"div",24)(58,"div",25)(59,"div",26),Z(),f(60,"svg"),A(61,"use",27),y(),ee(),f(62,"h3",28),w(63,"Increase Brand Awareness"),y()(),f(64,"div",29)(65,"p"),w(66,"Digital marketing aims to enhance the visibility and recognition of a brand among its target audience."),y()()()(),f(67,"div",24)(68,"div",25)(69,"div",26),Z(),f(70,"svg"),A(71,"use",27),y(),ee(),f(72,"h3",28),w(73,"Drive Website Traffic"),y()(),f(74,"div",29)(75,"p"),w(76,"One of the primary goals is to attract more visitors to a website, thereby increasing opportunities for engagement and conversion."),y()()()(),f(77,"div",24)(78,"div",25)(79,"div",26),Z(),f(80,"svg"),A(81,"use",27),y(),ee(),f(82,"h3",28),w(83,"Generate Leads"),y()(),f(84,"div",29)(85,"p"),w(86,"Digital marketing strategies often focus on capturing contact information from potential customers, nurturing them towards a sale."),y()()()(),f(87,"div",24)(88,"div",25)(89,"div",26),Z(),f(90,"svg"),A(91,"use",27),y(),ee(),f(92,"h3",28),w(93,"Boost Sales and Revenue"),y()(),f(94,"div",29)(95,"p"),w(96,"Ultimately, digital marketing endeavors to increase the number of sales and the overall revenue generated by a business."),y()()()(),f(97,"div",24)(98,"div",25)(99,"div",26),Z(),f(100,"svg"),A(101,"use",27),y(),ee(),f(102,"h3",28),w(103,"Boost Sales and Revenue"),y()(),f(104,"div",29)(105,"p"),w(106,"Ultimately, digital marketing endeavors to increase the number of sales and the overall revenue generated by a business."),y()()()(),f(107,"div",24)(108,"div",25)(109,"div",26),Z(),f(110,"svg"),A(111,"use",27),y(),ee(),f(112,"h3",28),w(113,"Improve Customer Engagement"),y()(),f(114,"div",29)(115,"p"),w(116,"Creating meaningful interactions with customers through various digital channels helps build stronger relationships and loyalty."),y()()()()()()(),f(117,"div",30)(118,"div",31)(119,"div",32)(120,"div",33),A(121,"img",34),y()(),f(122,"div",32)(123,"div",33),A(124,"img",35),y()()()()(),f(125,"div",36)(126,"div",2)(127,"div",37)(128,"div",20),w(129,"Corporate Identity"),y(),f(130,"h1",21),w(131,"Challenges"),y()(),f(132,"div",38)(133,"div",39)(134,"div",40)(135,"div",41)(136,"h3",42),w(137,"Limited Online Visibility"),y(),f(138,"div",43)(139,"p"),w(140,"Without digital marketing efforts, a company may struggle to reach its target audience online resulting in limited visibility."),y()()()(),f(141,"div",40)(142,"div",41)(143,"h3",42),w(144,"Limited Data Insights"),y(),f(145,"div",43)(146,"p"),w(147,"Digital marketing provides valuable data and insights into customer behavior, preferences, and campaign performance."),y()()()(),f(148,"div",40)(149,"div",41)(150,"h3",42),w(151,"Difficulty in Measuring ROI"),y(),f(152,"div",43)(153,"p"),w(154,"Digital marketing allows for precise tracking and measurement of key performance indicators (KPIs) and return on investment (ROI)."),y()()()()()()()()()())},styles:["@media screen and (min-width: 1180px){.marketing-individual-page[_ngcontent-%COMP%]   .app-container[_ngcontent-%COMP%]{padding:0 5.5rem}}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]{background-color:var(--bg-2);padding:8rem 0 15rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{position:relative}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{width:10.22725rem;height:2.25rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--white);font-size:4.6875rem;font-style:normal;font-weight:var(--fw-400);line-height:normal;margin-bottom:1.5rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]{margin-bottom:3.5rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:2rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:.875rem;font-style:normal;font-weight:var(--fw-500);line-height:150%}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.1rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--white);font-size:.625rem;font-style:normal;font-weight:var(--fw-500);line-height:150%;letter-spacing:.0625rem;text-transform:uppercase;transition:.3s all ease-in-out}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.73594rem;height:.73588rem;margin-left:.1rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:var(--tech-blue-1)}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-date[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:.875rem;font-style:normal;font-weight:var(--fw-500);line-height:150%}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#092d4f;text-align:center;font-size:.875rem;font-style:normal;font-weight:var(--fw-500);line-height:150%;padding:0 .8rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-image[_ngcontent-%COMP%]{position:absolute;left:0;right:0}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:32.375rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-body[_ngcontent-%COMP%]{padding-top:24rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-body[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]{color:var(--text-black-6);font-size:2.8125rem;font-style:normal;font-weight:var(--fw-400);line-height:100%}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-body[_ngcontent-%COMP%]   .case-study-challenges[_ngcontent-%COMP%]{padding:5rem 0}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-body[_ngcontent-%COMP%]   .case-study-challenges[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]{color:var(--white)}@media screen and (max-width: 1300px){.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]{padding:8rem 0 13rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{width:9.22725rem;height:2rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.9rem;margin-bottom:1rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]{margin-bottom:3rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.785rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.6rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.73594rem;height:.73588rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-date[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.785rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:28rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-body[_ngcontent-%COMP%]{padding-top:20rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-body[_ngcontent-%COMP%]   .case-study-project-aim[_ngcontent-%COMP%]   .project-list[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .project-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}}@media screen and (max-width: 991px){.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]{padding:8rem 0 9rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{width:7rem;height:1.4rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.1rem;margin-bottom:1rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]{margin-bottom:3rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]{column-gap:1rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.785rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.6rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-breadcrumb[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.73594rem;height:.73588rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-date[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   .header-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.785rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-body[_ngcontent-%COMP%]{padding-top:15rem}}@media screen and (max-width: 767px){.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]{padding:8rem 0}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]{margin-bottom:2.5rem}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .header-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15rem;object-fit:cover}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-body[_ngcontent-%COMP%]{padding-top:10rem}}@media screen and (min-width: 991px){.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{max-width:80vw}.marketing-individual-page[_ngcontent-%COMP%]   .marketing-individual-body[_ngcontent-%COMP%]   .case-study-project-aim[_ngcontent-%COMP%]   .project-list[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]{max-width:90%}}"]});let e=t;return e})();var sne=Object.create,iw=Object.defineProperty,lne=Object.getOwnPropertyDescriptor,cne=Object.getOwnPropertyNames,dne=Object.getPrototypeOf,une=Object.prototype.hasOwnProperty,hne=(e,t,n)=>t in e?iw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nd=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pne=(e,t)=>{for(var n in t)iw(e,n,{get:t[n],enumerable:!0})},mne=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of cne(t))!une.call(e,r)&&r!==n&&iw(e,r,{get:()=>t[r],enumerable:!(i=lne(t,r))||i.enumerable});return e},id=(e,t,n)=>(n=e!=null?sne(dne(e)):{},mne(t||!e||!e.__esModule?iw(n,"default",{value:e,enumerable:!0}):n,e)),wv=(e,t,n)=>(hne(e,typeof t!="symbol"?t+"":t,n),n),fne=nd((e,t)=>{(function(n,i){typeof e=="object"?t.exports=i():typeof define=="function"&&define.amd?define(i):n.Alea=i()})(e,function(){"use strict";return n.importState=function(r){var o=new n;return o.importState(r),o},n;function n(){return function(r){var o=0,a=0,s=0,l=1;r.length==0&&(r=[+new Date]);var c=i();o=c(" "),a=c(" "),s=c(" ");for(var d=0;d<r.length;d++)o-=c(r[d]),o<0&&(o+=1),a-=c(r[d]),a<0&&(a+=1),s-=c(r[d]),s<0&&(s+=1);c=null;var u=function(){var h=2091639*o+l*23283064365386963e-26;return o=a,a=s,s=h-(l=h|0)};return u.next=u,u.uint32=function(){return u()*4294967296},u.fract53=function(){return u()+(u()*2097152|0)*11102230246251565e-32},u.version="Alea 0.9",u.args=r,u.exportState=function(){return[o,a,s,l]},u.importState=function(h){o=+h[0]||0,a=+h[1]||0,s=+h[2]||0,l=+h[3]||0},u}(Array.prototype.slice.call(arguments))}function i(){var r=4022871197,o=function(a){a=a.toString();for(var s=0;s<a.length;s++){r+=a.charCodeAt(s);var l=.02519603282416938*r;r=l>>>0,l-=r,l*=r,r=l>>>0,l-=r,r+=l*4294967296}return(r>>>0)*23283064365386963e-26};return o.version="Mash 0.9",o}})}),L9=nd((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?i(e):typeof define=="function"&&define.amd?define(["exports"],i):i((n=typeof globalThis<"u"?globalThis:n||self).SVDJS={})})(e,function(n){"use strict";n.SVD=function(i,r,o,a,s){if(r=r===void 0||r,o=o===void 0||o,s=1e-64/(a=a||Math.pow(2,-52)),!i)throw new TypeError("Matrix a is not defined");var l,c,d,u,h,p,m,g,v,b,_,C,M=i[0].length,P=i.length;if(P<M)throw new TypeError("Invalid matrix: m < n");for(var x=[],E=[],O=[],S=r==="f"?P:M,D=b=m=0;D<P;D++)E[D]=new Array(S).fill(0);for(D=0;D<M;D++)O[D]=new Array(M).fill(0);var I,T=new Array(M).fill(0);for(D=0;D<P;D++)for(l=0;l<M;l++)E[D][l]=i[D][l];for(D=0;D<M;D++){for(x[D]=m,v=0,d=D+1,l=D;l<P;l++)v+=Math.pow(E[l][D],2);if(v<s)m=0;else for(g=(p=E[D][D])*(m=p<0?Math.sqrt(v):-Math.sqrt(v))-v,E[D][D]=p-m,l=d;l<M;l++){for(v=0,c=D;c<P;c++)v+=E[c][D]*E[c][l];for(p=v/g,c=D;c<P;c++)E[c][l]=E[c][l]+p*E[c][D]}for(T[D]=m,v=0,l=d;l<M;l++)v+=Math.pow(E[D][l],2);if(v<s)m=0;else{for(g=(p=E[D][D+1])*(m=p<0?Math.sqrt(v):-Math.sqrt(v))-v,E[D][D+1]=p-m,l=d;l<M;l++)x[l]=E[D][l]/g;for(l=d;l<P;l++){for(v=0,c=d;c<M;c++)v+=E[l][c]*E[D][c];for(c=d;c<M;c++)E[l][c]=E[l][c]+v*x[c]}}b<(_=Math.abs(T[D])+Math.abs(x[D]))&&(b=_)}if(o)for(D=M-1;0<=D;D--){if(m!==0){for(g=E[D][D+1]*m,l=d;l<M;l++)O[l][D]=E[D][l]/g;for(l=d;l<M;l++){for(v=0,c=d;c<M;c++)v+=E[D][c]*O[c][l];for(c=d;c<M;c++)O[c][l]=O[c][l]+v*O[c][D]}}for(l=d;l<M;l++)O[D][l]=0,O[l][D]=0;O[D][D]=1,m=x[D],d=D}if(r){if(r==="f")for(D=M;D<P;D++){for(l=M;l<P;l++)E[D][l]=0;E[D][D]=1}for(D=M-1;0<=D;D--){for(d=D+1,m=T[D],l=d;l<S;l++)E[D][l]=0;if(m!==0){for(g=E[D][D]*m,l=d;l<S;l++){for(v=0,c=d;c<P;c++)v+=E[c][D]*E[c][l];for(p=v/g,c=D;c<P;c++)E[c][l]=E[c][l]+p*E[c][D]}for(l=D;l<P;l++)E[l][D]=E[l][D]/m}else for(l=D;l<P;l++)E[l][D]=0;E[D][D]=E[D][D]+1}}for(a*=b,c=M-1;0<=c;c--)for(var R=0;R<50;R++){for(I=!1,d=c;0<=d;d--){if(Math.abs(x[d])<=a){I=!0;break}if(Math.abs(T[d-1])<=a)break}if(!I){for(h=0,u=d-(v=1),D=d;D<c+1&&(p=v*x[D],x[D]=h*x[D],!(Math.abs(p)<=a));D++)if(m=T[D],T[D]=Math.sqrt(p*p+m*m),h=m/(g=T[D]),v=-p/g,r)for(l=0;l<P;l++)_=E[l][u],C=E[l][D],E[l][u]=_*h+C*v,E[l][D]=-_*v+C*h}if(C=T[c],d===c){if(C<0&&(T[c]=-C,o))for(l=0;l<M;l++)O[l][c]=-O[l][c];break}for(b=T[d],p=(((_=T[c-1])-C)*(_+C)+((m=x[c-1])-(g=x[c]))*(m+g))/(2*g*_),m=Math.sqrt(p*p+1),p=((b-C)*(b+C)+g*(_/(p<0?p-m:p+m)-g))/b,D=d+(v=h=1);D<c+1;D++){if(m=x[D],_=T[D],g=v*m,m*=h,C=Math.sqrt(p*p+g*g),p=b*(h=p/(x[D-1]=C))+m*(v=g/C),m=-b*v+m*h,g=_*v,_*=h,o)for(l=0;l<M;l++)b=O[l][D-1],C=O[l][D],O[l][D-1]=b*h+C*v,O[l][D]=-b*v+C*h;if(C=Math.sqrt(p*p+g*g),p=(h=p/(T[D-1]=C))*m+(v=g/C)*_,b=-v*m+h*_,r)for(l=0;l<P;l++)_=E[l][D-1],C=E[l][D],E[l][D-1]=_*h+C*v,E[l][D]=-_*v+C*h}x[d]=0,x[c]=p,T[c]=b}for(D=0;D<M;D++)T[D]<a&&(T[D]=0);return{u:E,q:T,v:O}},n.VERSION="1.1.1",Object.defineProperty(n,"__esModule",{value:!0})})}),gne=nd((e,t)=>{(function(n,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(n=n||self,n.TinyQueue=i())})(e,function(){"use strict";var n=function(r,o){if(r===void 0&&(r=[]),o===void 0&&(o=i),this.data=r,this.length=this.data.length,this.compare=o,this.length>0)for(var a=(this.length>>1)-1;a>=0;a--)this._down(a)};n.prototype.push=function(r){this.data.push(r),this.length++,this._up(this.length-1)},n.prototype.pop=function(){if(this.length!==0){var r=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),r}},n.prototype.peek=function(){return this.data[0]},n.prototype._up=function(r){for(var o=this,a=o.data,s=o.compare,l=a[r];r>0;){var c=r-1>>1,d=a[c];if(s(l,d)>=0)break;a[r]=d,r=c}a[r]=l},n.prototype._down=function(r){for(var o=this,a=o.data,s=o.compare,l=this.length>>1,c=a[r];r<l;){var d=(r<<1)+1,u=a[d],h=d+1;if(h<this.length&&s(a[h],u)<0&&(d=h,u=a[h]),s(u,c)>=0)break;a[r]=u,r=d}a[r]=c};function i(r,o){return r<o?-1:r>o?1:0}return n})}),vne=nd((e,t)=>{"use strict";var n=gne();n.default&&(n=n.default),t.exports=i,t.exports.default=i;function i(c,d,u){d=d||1;for(var h,p,m,g,v=0;v<c[0].length;v++){var b=c[0][v];(!v||b[0]<h)&&(h=b[0]),(!v||b[1]<p)&&(p=b[1]),(!v||b[0]>m)&&(m=b[0]),(!v||b[1]>g)&&(g=b[1])}var _=m-h,C=g-p,M=Math.min(_,C),P=M/2;if(M===0){var x=[h,p];return x.distance=0,x}for(var E=new n(void 0,r),O=h;O<m;O+=M)for(var S=p;S<g;S+=M)E.push(new o(O+P,S+P,P,c));var D=s(c),I=new o(h+_/2,p+C/2,0,c);I.d>D.d&&(D=I);for(var T=E.length;E.length;){var R=E.pop();R.d>D.d&&(D=R,u&&console.log("found best %d after %d probes",Math.round(1e4*R.d)/1e4,T)),!(R.max-D.d<=d)&&(P=R.h/2,E.push(new o(R.x-P,R.y-P,P,c)),E.push(new o(R.x+P,R.y-P,P,c)),E.push(new o(R.x-P,R.y+P,P,c)),E.push(new o(R.x+P,R.y+P,P,c)),T+=4)}u&&(console.log("num probes: "+T),console.log("best distance: "+D.d));var k=[D.x,D.y];return k.distance=D.d,k}function r(c,d){return d.max-c.max}function o(c,d,u,h){this.x=c,this.y=d,this.h=u,this.d=a(c,d,h),this.max=this.d+this.h*Math.SQRT2}function a(c,d,u){for(var h=!1,p=1/0,m=0;m<u.length;m++)for(var g=u[m],v=0,b=g.length,_=b-1;v<b;_=v++){var C=g[v],M=g[_];C[1]>d!=M[1]>d&&c<(M[0]-C[0])*(d-C[1])/(M[1]-C[1])+C[0]&&(h=!h),p=Math.min(p,l(c,d,C,M))}return p===0?0:(h?1:-1)*Math.sqrt(p)}function s(c){for(var d=0,u=0,h=0,p=c[0],m=0,g=p.length,v=g-1;m<g;v=m++){var b=p[m],_=p[v],C=b[0]*_[1]-_[0]*b[1];u+=(b[0]+_[0])*C,h+=(b[1]+_[1])*C,d+=C*3}return d===0?new o(p[0][0],p[0][1],0,c):new o(u/d,h/d,0,c)}function l(c,d,u,h){var p=u[0],m=u[1],g=h[0]-p,v=h[1]-m;if(g!==0||v!==0){var b=((c-p)*g+(d-m)*v)/(g*g+v*v);b>1?(p=h[0],m=h[1]):b>0&&(p+=g*b,m+=v*b)}return g=c-p,v=d-m,g*g+v*v}}),yne=nd((e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(i){if(i===null||i===!0||i===!1)return NaN;var r=Number(i);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}t.exports=e.default}),bne=nd((e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(i){var r=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return r.setUTCFullYear(i.getFullYear()),i.getTime()-r.getTime()}t.exports=e.default}),_ne=nd((e,t)=>{"use strict";function n(o,a){function s(){this.constructor=o}s.prototype=a.prototype,o.prototype=new s}function i(o,a,s,l){this.message=o,this.expected=a,this.found=s,this.location=l,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,i)}n(i,Error),i.buildMessage=function(o,a){var s={literal:function(m){return'"'+c(m.text)+'"'},class:function(m){var g="",v;for(v=0;v<m.parts.length;v++)g+=m.parts[v]instanceof Array?d(m.parts[v][0])+"-"+d(m.parts[v][1]):d(m.parts[v]);return"["+(m.inverted?"^":"")+g+"]"},any:function(m){return"any character"},end:function(m){return"end of input"},other:function(m){return m.description}};function l(m){return m.charCodeAt(0).toString(16).toUpperCase()}function c(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+l(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+l(g)})}function d(m){return m.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+l(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+l(g)})}function u(m){return s[m.type](m)}function h(m){var g=new Array(m.length),v,b;for(v=0;v<m.length;v++)g[v]=u(m[v]);if(g.sort(),g.length>0){for(v=1,b=1;v<g.length;v++)g[v-1]!==g[v]&&(g[b]=g[v],b++);g.length=b}switch(g.length){case 1:return g[0];case 2:return g[0]+" or "+g[1];default:return g.slice(0,-1).join(", ")+", or "+g[g.length-1]}}function p(m){return m?'"'+c(m)+'"':"end of input"}return"Expected "+h(o)+" but "+p(a)+" found."};function r(o,a){a=a!==void 0?a:{};var s={},l={svg_path:Pi},c=Pi,d=function(U){if(!U)return[];for(var q=[],le=0;le<U.length;le++)q=q.concat.apply(q,U[le]);var J=q[0];return J&&J.code=="m"&&(delete J.relative,J.code="M"),q},u=function(U,q){return Nw(U,q)},h=/^[Mm]/,p=At(["M","m"],!1,!1),m=function(U,q,le){var J=bp(U,[q]);return le&&(J=J.concat(bp(U=="M"?"L":"l",le[1]))),J},g=/^[Zz]/,v=At(["Z","z"],!1,!1),b=function(){return bp("Z")},_=/^[Ll]/,C=At(["L","l"],!1,!1),M=function(U,q){return bp(U,q)},P=/^[Hh]/,x=At(["H","h"],!1,!1),E=function(U,q){return bp(U,q.map(function(le){return{x:le}}))},O=/^[Vv]/,S=At(["V","v"],!1,!1),D=function(U,q){return bp(U,q.map(function(le){return{y:le}}))},I=/^[Cc]/,T=At(["C","c"],!1,!1),R=function(U,q,le){return{x1:U.x,y1:U.y,x2:q.x,y2:q.y,x:le.x,y:le.y}},k=/^[Ss]/,z=At(["S","s"],!1,!1),W=function(U,q){return{x2:U.x,y2:U.y,x:q.x,y:q.y}},N=/^[Qq]/,F=At(["Q","q"],!1,!1),X=function(U,q){return{x1:U.x,y1:U.y,x:q.x,y:q.y}},V=/^[Tt]/,G=At(["T","t"],!1,!1),Y=/^[Aa]/,ie=At(["A","a"],!1,!1),te=function(U,q,le,J,ge,We){return{rx:U,ry:q,xAxisRotation:le,largeArc:J,sweep:ge,x:We.x,y:We.y}},ne=function(U,q){return{x:U,y:q}},re=function(U){return U*1},ye=function(U){return U.join("")*1},he=/^[01]/,Me=At(["0","1"],!1,!1),pe=function(U){return U=="1"},Ae=function(){return""},xe=",",be=Qt(",",!1),Ve=function(U){return U.join("")},He=".",Ge=Qt(".",!1),de=/^[eE]/,Ue=At(["e","E"],!1,!1),fe=/^[+\-]/,ce=At(["+","-"],!1,!1),Pe=/^[0-9]/,Q=At([["0","9"]],!1,!1),H=function(U){return U.join("")},ue=/^[ \t\n\r]/,Te=At([" ","	",`
`,"\r"],!1,!1),j=0,_e=0,qe=[{line:1,column:1}],Ne=0,we=[],je=0,Re;if("startRule"in a){if(!(a.startRule in l))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');c=l[a.startRule]}function $e(){return o.substring(_e,j)}function lt(){return Qe(_e,j)}function at(U,q){throw q=q!==void 0?q:Qe(_e,j),sn([ke(U)],o.substring(_e,j),q)}function Bt(U,q){throw q=q!==void 0?q:Qe(_e,j),gn(U,q)}function Qt(U,q){return{type:"literal",text:U,ignoreCase:q}}function At(U,q,le){return{type:"class",parts:U,inverted:q,ignoreCase:le}}function ae(){return{type:"any"}}function De(){return{type:"end"}}function ke(U){return{type:"other",description:U}}function Fe(U){var q=qe[U],le;if(q)return q;for(le=U-1;!qe[le];)le--;for(q=qe[le],q={line:q.line,column:q.column};le<U;)o.charCodeAt(le)===10?(q.line++,q.column=1):q.column++,le++;return qe[U]=q,q}function Qe(U,q){var le=Fe(U),J=Fe(q);return{start:{offset:U,line:le.line,column:le.column},end:{offset:q,line:J.line,column:J.column}}}function st(U){j<Ne||(j>Ne&&(Ne=j,we=[]),we.push(U))}function gn(U,q){return new i(U,null,null,q)}function sn(U,q,le){return new i(i.buildMessage(U,q),U,q,le)}function Pi(){var U,q,le,J,ge;for(U=j,q=[],le=ln();le!==s;)q.push(le),le=ln();if(q!==s)if(le=tt(),le===s&&(le=null),le!==s){for(J=[],ge=ln();ge!==s;)J.push(ge),ge=ln();J!==s?(_e=U,q=d(le),U=q):(j=U,U=s)}else j=U,U=s;else j=U,U=s;return U}function tt(){var U,q,le,J,ge,We;if(U=j,q=ct(),q!==s){for(le=[],J=j,ge=[],We=ln();We!==s;)ge.push(We),We=ln();for(ge!==s?(We=ct(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);J!==s;){for(le.push(J),J=j,ge=[],We=ln();We!==s;)ge.push(We),We=ln();ge!==s?(We=ct(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s)}le!==s?(_e=U,q=u(q,le),U=q):(j=U,U=s)}else j=U,U=s;return U}function ct(){var U,q,le,J,ge,We;if(U=j,q=Ke(),q!==s){for(le=[],J=j,ge=[],We=ln();We!==s;)ge.push(We),We=ln();for(ge!==s?(We=Lt(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);J!==s;){for(le.push(J),J=j,ge=[],We=ln();We!==s;)ge.push(We),We=ln();ge!==s?(We=Lt(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s)}le!==s?(_e=U,q=u(q,le),U=q):(j=U,U=s)}else j=U,U=s;return U}function Lt(){var U;return U=Nt(),U===s&&(U=bt(),U===s&&(U=K(),U===s&&(U=Oe(),U===s&&(U=ve(),U===s&&(U=nt(),U===s&&(U=Yt(),U===s&&(U=vn(),U===s&&(U=ir())))))))),U}function Ke(){var U,q,le,J,ge,We,_p;if(U=j,h.test(o.charAt(j))?(q=o.charAt(j),j++):(q=s,je===0&&st(p)),q!==s){for(le=[],J=ln();J!==s;)le.push(J),J=ln();le!==s?(J=ot(),J!==s?(ge=j,We=On(),We===s&&(We=null),We!==s?(_p=Tt(),_p!==s?(We=[We,_p],ge=We):(j=ge,ge=s)):(j=ge,ge=s),ge===s&&(ge=null),ge!==s?(_e=U,q=m(q,J,ge),U=q):(j=U,U=s)):(j=U,U=s)):(j=U,U=s)}else j=U,U=s;return U}function Nt(){var U,q;return U=j,g.test(o.charAt(j))?(q=o.charAt(j),j++):(q=s,je===0&&st(v)),q!==s&&(_e=U,q=b()),U=q,U}function bt(){var U,q,le,J;if(U=j,_.test(o.charAt(j))?(q=o.charAt(j),j++):(q=s,je===0&&st(C)),q!==s){for(le=[],J=ln();J!==s;)le.push(J),J=ln();le!==s?(J=Tt(),J!==s?(_e=U,q=M(q,J),U=q):(j=U,U=s)):(j=U,U=s)}else j=U,U=s;return U}function Tt(){var U,q,le,J,ge,We;if(U=j,q=ot(),q!==s){for(le=[],J=j,ge=On(),ge===s&&(ge=null),ge!==s?(We=ot(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);J!==s;)le.push(J),J=j,ge=On(),ge===s&&(ge=null),ge!==s?(We=ot(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);le!==s?(_e=U,q=u(q,le),U=q):(j=U,U=s)}else j=U,U=s;return U}function K(){var U,q,le,J;if(U=j,P.test(o.charAt(j))?(q=o.charAt(j),j++):(q=s,je===0&&st(x)),q!==s){for(le=[],J=ln();J!==s;)le.push(J),J=ln();le!==s?(J=me(),J!==s?(_e=U,q=E(q,J),U=q):(j=U,U=s)):(j=U,U=s)}else j=U,U=s;return U}function me(){var U,q,le,J,ge,We;if(U=j,q=Xo(),q!==s){for(le=[],J=j,ge=On(),ge===s&&(ge=null),ge!==s?(We=Xo(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);J!==s;)le.push(J),J=j,ge=On(),ge===s&&(ge=null),ge!==s?(We=Xo(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);le!==s?(_e=U,q=u(q,le),U=q):(j=U,U=s)}else j=U,U=s;return U}function Oe(){var U,q,le,J;if(U=j,O.test(o.charAt(j))?(q=o.charAt(j),j++):(q=s,je===0&&st(S)),q!==s){for(le=[],J=ln();J!==s;)le.push(J),J=ln();le!==s?(J=me(),J!==s?(_e=U,q=D(q,J),U=q):(j=U,U=s)):(j=U,U=s)}else j=U,U=s;return U}function ve(){var U,q,le,J;if(U=j,I.test(o.charAt(j))?(q=o.charAt(j),j++):(q=s,je===0&&st(T)),q!==s){for(le=[],J=ln();J!==s;)le.push(J),J=ln();le!==s?(J=Se(),J!==s?(_e=U,q=M(q,J),U=q):(j=U,U=s)):(j=U,U=s)}else j=U,U=s;return U}function Se(){var U,q,le,J,ge,We;if(U=j,q=Ye(),q!==s){for(le=[],J=j,ge=On(),ge===s&&(ge=null),ge!==s?(We=Ye(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);J!==s;)le.push(J),J=j,ge=On(),ge===s&&(ge=null),ge!==s?(We=Ye(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);le!==s?(_e=U,q=u(q,le),U=q):(j=U,U=s)}else j=U,U=s;return U}function Ye(){var U,q,le,J,ge,We;return U=j,q=ot(),q!==s?(le=On(),le===s&&(le=null),le!==s?(J=ot(),J!==s?(ge=On(),ge===s&&(ge=null),ge!==s?(We=ot(),We!==s?(_e=U,q=R(q,J,We),U=q):(j=U,U=s)):(j=U,U=s)):(j=U,U=s)):(j=U,U=s)):(j=U,U=s),U}function nt(){var U,q,le,J;if(U=j,k.test(o.charAt(j))?(q=o.charAt(j),j++):(q=s,je===0&&st(z)),q!==s){for(le=[],J=ln();J!==s;)le.push(J),J=ln();le!==s?(J=wt(),J!==s?(_e=U,q=M(q,J),U=q):(j=U,U=s)):(j=U,U=s)}else j=U,U=s;return U}function wt(){var U,q,le,J,ge,We;if(U=j,q=ht(),q!==s){for(le=[],J=j,ge=On(),ge===s&&(ge=null),ge!==s?(We=ht(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);J!==s;)le.push(J),J=j,ge=On(),ge===s&&(ge=null),ge!==s?(We=ht(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);le!==s?(_e=U,q=u(q,le),U=q):(j=U,U=s)}else j=U,U=s;return U}function ht(){var U,q,le,J;return U=j,q=ot(),q!==s?(le=On(),le===s&&(le=null),le!==s?(J=ot(),J!==s?(_e=U,q=W(q,J),U=q):(j=U,U=s)):(j=U,U=s)):(j=U,U=s),U}function Yt(){var U,q,le,J;if(U=j,N.test(o.charAt(j))?(q=o.charAt(j),j++):(q=s,je===0&&st(F)),q!==s){for(le=[],J=ln();J!==s;)le.push(J),J=ln();le!==s?(J=Vt(),J!==s?(_e=U,q=M(q,J),U=q):(j=U,U=s)):(j=U,U=s)}else j=U,U=s;return U}function Vt(){var U,q,le,J,ge,We;if(U=j,q=ft(),q!==s){for(le=[],J=j,ge=On(),ge===s&&(ge=null),ge!==s?(We=ft(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);J!==s;)le.push(J),J=j,ge=On(),ge===s&&(ge=null),ge!==s?(We=ft(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);le!==s?(_e=U,q=u(q,le),U=q):(j=U,U=s)}else j=U,U=s;return U}function ft(){var U,q,le,J;return U=j,q=ot(),q!==s?(le=On(),le===s&&(le=null),le!==s?(J=ot(),J!==s?(_e=U,q=X(q,J),U=q):(j=U,U=s)):(j=U,U=s)):(j=U,U=s),U}function vn(){var U,q,le,J;if(U=j,V.test(o.charAt(j))?(q=o.charAt(j),j++):(q=s,je===0&&st(G)),q!==s){for(le=[],J=ln();J!==s;)le.push(J),J=ln();le!==s?(J=Rn(),J!==s?(_e=U,q=M(q,J),U=q):(j=U,U=s)):(j=U,U=s)}else j=U,U=s;return U}function Rn(){var U,q,le,J,ge,We;if(U=j,q=ot(),q!==s){for(le=[],J=j,ge=On(),ge===s&&(ge=null),ge!==s?(We=ot(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);J!==s;)le.push(J),J=j,ge=On(),ge===s&&(ge=null),ge!==s?(We=ot(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);le!==s?(_e=U,q=u(q,le),U=q):(j=U,U=s)}else j=U,U=s;return U}function ir(){var U,q,le,J;if(U=j,Y.test(o.charAt(j))?(q=o.charAt(j),j++):(q=s,je===0&&st(ie)),q!==s){for(le=[],J=ln();J!==s;)le.push(J),J=ln();le!==s?(J=Yo(),J!==s?(_e=U,q=M(q,J),U=q):(j=U,U=s)):(j=U,U=s)}else j=U,U=s;return U}function Yo(){var U,q,le,J,ge,We;if(U=j,q=tn(),q!==s){for(le=[],J=j,ge=On(),ge===s&&(ge=null),ge!==s?(We=tn(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);J!==s;)le.push(J),J=j,ge=On(),ge===s&&(ge=null),ge!==s?(We=tn(),We!==s?(ge=[ge,We],J=ge):(j=J,J=s)):(j=J,J=s);le!==s?(_e=U,q=u(q,le),U=q):(j=U,U=s)}else j=U,U=s;return U}function tn(){var U,q,le,J,ge,We,_p,zw,Fy,Bw,Ny,Vw;return U=j,q=Fr(),q!==s?(le=On(),le===s&&(le=null),le!==s?(J=Fr(),J!==s?(ge=On(),ge===s&&(ge=null),ge!==s?(We=Xo(),We!==s?(_p=On(),_p!==s?(zw=fa(),zw!==s?(Fy=On(),Fy===s&&(Fy=null),Fy!==s?(Bw=fa(),Bw!==s?(Ny=On(),Ny===s&&(Ny=null),Ny!==s?(Vw=ot(),Vw!==s?(_e=U,q=te(q,J,We,zw,Bw,Vw),U=q):(j=U,U=s)):(j=U,U=s)):(j=U,U=s)):(j=U,U=s)):(j=U,U=s)):(j=U,U=s)):(j=U,U=s)):(j=U,U=s)):(j=U,U=s)):(j=U,U=s)):(j=U,U=s),U}function ot(){var U,q,le,J;return U=j,q=Xo(),q!==s?(le=On(),le===s&&(le=null),le!==s?(J=Xo(),J!==s?(_e=U,q=ne(q,J),U=q):(j=U,U=s)):(j=U,U=s)):(j=U,U=s),U}function Fr(){var U,q;return U=j,q=Va(),q===s&&(q=ki()),q!==s&&(_e=U,q=re(q)),U=q,U}function Xo(){var U,q,le,J;return U=j,q=j,le=Cu(),le===s&&(le=null),le!==s?(J=Va(),J!==s?(le=[le,J],q=le):(j=q,q=s)):(j=q,q=s),q===s&&(q=j,le=Cu(),le===s&&(le=null),le!==s?(J=ki(),J!==s?(le=[le,J],q=le):(j=q,q=s)):(j=q,q=s)),q!==s&&(_e=U,q=ye(q)),U=q,U}function fa(){var U,q;return U=j,he.test(o.charAt(j))?(q=o.charAt(j),j++):(q=s,je===0&&st(Me)),q!==s&&(_e=U,q=pe(q)),U=q,U}function On(){var U,q,le,J,ge;if(U=j,q=[],le=ln(),le!==s)for(;le!==s;)q.push(le),le=ln();else q=s;if(q!==s)if(le=rr(),le===s&&(le=null),le!==s){for(J=[],ge=ln();ge!==s;)J.push(ge),ge=ln();J!==s?(q=[q,le,J],U=q):(j=U,U=s)}else j=U,U=s;else j=U,U=s;if(U===s){if(U=j,q=j,le=rr(),le!==s){for(J=[],ge=ln();ge!==s;)J.push(ge),ge=ln();J!==s?(le=[le,J],q=le):(j=q,q=s)}else j=q,q=s;q!==s&&(_e=U,q=Ae()),U=q}return U}function rr(){var U;return o.charCodeAt(j)===44?(U=xe,j++):(U=s,je===0&&st(be)),U}function Va(){var U,q,le,J;return U=j,q=j,le=fi(),le!==s?(J=to(),J===s&&(J=null),J!==s?(le=[le,J],q=le):(j=q,q=s)):(j=q,q=s),q===s&&(q=j,le=ki(),le!==s?(J=to(),J!==s?(le=[le,J],q=le):(j=q,q=s)):(j=q,q=s)),q!==s&&(_e=U,q=Ve(q)),U=q,U}function fi(){var U,q,le,J,ge;return U=j,q=j,le=ki(),le===s&&(le=null),le!==s?(o.charCodeAt(j)===46?(J=He,j++):(J=s,je===0&&st(Ge)),J!==s?(ge=ki(),ge!==s?(le=[le,J,ge],q=le):(j=q,q=s)):(j=q,q=s)):(j=q,q=s),q===s&&(q=j,le=ki(),le!==s?(o.charCodeAt(j)===46?(J=He,j++):(J=s,je===0&&st(Ge)),J!==s?(le=[le,J],q=le):(j=q,q=s)):(j=q,q=s)),q!==s&&(_e=U,q=Ve(q)),U=q,U}function to(){var U,q,le,J,ge;return U=j,q=j,de.test(o.charAt(j))?(le=o.charAt(j),j++):(le=s,je===0&&st(Ue)),le!==s?(J=Cu(),J===s&&(J=null),J!==s?(ge=ki(),ge!==s?(le=[le,J,ge],q=le):(j=q,q=s)):(j=q,q=s)):(j=q,q=s),q!==s&&(_e=U,q=Ve(q)),U=q,U}function Cu(){var U;return fe.test(o.charAt(j))?(U=o.charAt(j),j++):(U=s,je===0&&st(ce)),U}function ki(){var U,q,le;if(U=j,q=[],Pe.test(o.charAt(j))?(le=o.charAt(j),j++):(le=s,je===0&&st(Q)),le!==s)for(;le!==s;)q.push(le),Pe.test(o.charAt(j))?(le=o.charAt(j),j++):(le=s,je===0&&st(Q));else q=s;return q!==s&&(_e=U,q=H(q)),U=q,U}function ln(){var U,q;return U=j,ue.test(o.charAt(j))?(q=o.charAt(j),j++):(q=s,je===0&&st(Te)),q!==s&&(_e=U,q=Ae()),U=q,U}function Nw(U,q){if(!q)return[U];for(var le=[U],J=0,ge=q.length;J<ge;J++)le[J+1]=q[J][1];return le}var Mu={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var wI in Mu)Mu[wI.toUpperCase()]=Mu[wI];function bp(U,q){q||(q=[{}]);for(var le=q.length;le--;){var J={code:U,command:Mu[U]};U==U.toLowerCase()&&(J.relative=!0);for(var ge in q[le])J[ge]=q[le][ge];q[le]=J}return q}if(Re=c(),Re!==s&&j===o.length)return Re;throw Re!==s&&j<o.length&&st(De()),sn(we,Ne<o.length?o.charAt(Ne):null,Ne<o.length?Qe(Ne,Ne+1):Qe(Ne,Ne))}t.exports={SyntaxError:i,parse:r}}),k9=nd((e,t)=>{var n=_ne().parse;n.parseSVG=n,n.makeAbsolute=i,t.exports=n;function i(r){var o,a={x:0,y:0},s={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return r.forEach(function(l){l.command==="moveto"&&(o=l),l.x0=a.x,l.y0=a.y;for(var c in s)c in l&&(l[c]+=l.relative?l[s[c]]:0);"x"in l||(l.x=a.x),"y"in l||(l.y=a.y),l.relative=!1,l.code=l.code.toUpperCase(),l.command=="closepath"&&(l.x=o.x,l.y=o.y),a=l}),r}}),Cne=nd((e,t)=>{t.exports=function(n,i){for(var r=n.split("."),o=i.split("."),a=0;a<3;a++){var s=Number(r[a]),l=Number(o[a]);if(s>l)return 1;if(l>s)return-1;if(!isNaN(s)&&isNaN(l))return 1;if(isNaN(s)&&!isNaN(l))return-1}return 0}}),Qf="149",rs={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Mne=0,V8=1,wne=2,EA=1,xne=2,xv=3,Ys=0,Ir=1,la=2,er=0,Gh=1,U8=2,j8=3,H8=4,Pne=5,af=100,One=101,Sne=102,G8=103,W8=104,Ene=200,Dne=201,Ane=202,Tne=203,F9=204,N9=205,Ine=206,Rne=207,Lne=208,kne=209,Fne=210,Nne=0,zne=1,Bne=2,D3=3,Vne=4,Une=5,jne=6,Hne=7,z9=0,Gne=1,Wne=2,Hl=0,qne=1,Yne=2,Xne=3,Qne=4,Zne=5,B9=300,$h=301,Kh=302,A3=303,T3=304,gy=306,Gc=1e3,mi=1001,I3=1002,zn=1003,q8=1004,O2=1005,qt=1006,$ne=1007,Lf=1008,Mo=1009,Kne=1010,Jne=1011,V9=1012,eie=1013,Wc=1014,Ki=1015,Jh=1016,tie=1017,nie=1018,Wh=1020,iie=1021,Ar=1023,rie=1024,oie=1025,qh=1026,ep=1027,aie=1028,sie=1029,tM=1030,lie=1031,U9=1033,S2=33776,E2=33777,D2=33778,A2=33779,Y8=35840,X8=35841,Q8=35842,Z8=35843,cie=36196,$8=37492,K8=37496,J8=37808,eF=37809,tF=37810,nF=37811,iF=37812,rF=37813,oF=37814,aF=37815,sF=37816,lF=37817,cF=37818,dF=37819,uF=37820,hF=37821,T2=36492,die=36283,pF=36284,mF=36285,fF=36286,j9=2200,H9=2201,DA=2202,nM=2300,iM=2301,I2=2302,hf=2400,pf=2401,rM=2402,AA=2500,uie=2501,Xs=3e3,jt=3001,rd=3200,G9=3201,hie=0,pie=1,Rl="srgb",oM="srgb-linear",R2=7680,mie=519,R3=35044,fie=35048,gF="300 es",L3=1035,Jr=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let n=this._listeners[e];if(n!==void 0){let i=n.indexOf(t);i!==-1&&n.splice(i,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let t=this._listeners[e.type];if(t!==void 0){e.target=this;let n=t.slice(0);for(let i=0,r=n.length;i<r;i++)n[i].call(this,e);e.target=null}}},po=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],vF=1234567,Lv=Math.PI/180,Yv=180/Math.PI;function gs(){let e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(po[e&255]+po[e>>8&255]+po[e>>16&255]+po[e>>24&255]+"-"+po[t&255]+po[t>>8&255]+"-"+po[t>>16&15|64]+po[t>>24&255]+"-"+po[n&63|128]+po[n>>8&255]+"-"+po[n>>16&255]+po[n>>24&255]+po[i&255]+po[i>>8&255]+po[i>>16&255]+po[i>>24&255]).toLowerCase()}function Zi(e,t,n){return Math.max(t,Math.min(n,e))}function TA(e,t){return(e%t+t)%t}function gie(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)}function vie(e,t,n){return e!==t?(n-e)/(t-e):0}function kv(e,t,n){return(1-n)*e+n*t}function yie(e,t,n,i){return kv(e,t,1-Math.exp(-n*i))}function bie(e,t=1){return t-Math.abs(TA(e,t*2)-t)}function _ie(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))}function Cie(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))}function Mie(e,t){return e+Math.floor(Math.random()*(t-e+1))}function wie(e,t){return e+Math.random()*(t-e)}function xie(e){return e*(.5-Math.random())}function Pie(e){e!==void 0&&(vF=e);let t=vF+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function Oie(e){return e*Lv}function Sie(e){return e*Yv}function k3(e){return(e&e-1)===0&&e!==0}function W9(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function aM(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Eie(e,t,n,i,r){let o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((t+i)/2),d=a((t+i)/2),u=o((t-i)/2),h=a((t-i)/2),p=o((i-t)/2),m=a((i-t)/2);switch(r){case"XYX":e.set(s*d,l*u,l*h,s*c);break;case"YZY":e.set(l*h,s*d,l*u,s*c);break;case"ZXZ":e.set(l*u,l*h,s*d,s*c);break;case"XZX":e.set(s*d,l*m,l*p,s*c);break;case"YXY":e.set(l*p,s*d,l*m,s*c);break;case"ZYZ":e.set(l*m,l*p,s*d,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function qc(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function si(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}var et=Object.freeze({__proto__:null,DEG2RAD:Lv,RAD2DEG:Yv,ceilPowerOfTwo:W9,clamp:Zi,damp:yie,degToRad:Oie,denormalize:qc,euclideanModulo:TA,floorPowerOfTwo:aM,generateUUID:gs,inverseLerp:vie,isPowerOfTwo:k3,lerp:kv,mapLinear:gie,normalize:si,pingpong:bie,radToDeg:Sie,randFloat:wie,randFloatSpread:xie,randInt:Mie,seededRandom:Pie,setQuaternionFromProperEuler:Eie,smootherstep:Cie,smoothstep:_ie}),oe=class{constructor(e=0,t=0){oe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*i+e.x,this.y=r*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},fr=class{constructor(){fr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,i,r,o,a,s,l){let c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=t,c[4]=r,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,i=t.elements,r=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],d=n[7],u=n[2],h=n[5],p=n[8],m=i[0],g=i[3],v=i[6],b=i[1],_=i[4],C=i[7],M=i[2],P=i[5],x=i[8];return r[0]=o*m+a*b+s*M,r[3]=o*g+a*_+s*P,r[6]=o*v+a*C+s*x,r[1]=l*m+c*b+d*M,r[4]=l*g+c*_+d*P,r[7]=l*v+c*C+d*x,r[2]=u*m+h*b+p*M,r[5]=u*g+h*_+p*P,r[8]=u*v+h*C+p*x,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*o*c-t*a*l-n*r*c+n*a*s+i*r*l-i*o*s}invert(){let e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],d=c*o-a*l,u=a*s-c*r,h=l*r-o*s,p=t*d+n*u+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);let m=1/p;return e[0]=d*m,e[1]=(i*l-c*n)*m,e[2]=(a*n-i*o)*m,e[3]=u*m,e[4]=(c*t-i*s)*m,e[5]=(i*r-a*t)*m,e[6]=h*m,e[7]=(n*s-l*t)*m,e[8]=(o*t-n*r)*m,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,o,a){let s=Math.cos(r),l=Math.sin(r);return this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-i*l,i*s,-i*(-l*o+s*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(L2.makeScale(e,t)),this}rotate(e){return this.premultiply(L2.makeRotation(-e)),this}translate(e,t){return this.premultiply(L2.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}},L2=new fr;function q9(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var Die={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function g_(e,t){return new Die[e](t)}function Xv(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Yh(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function BC(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}var k2={[Rl]:{[oM]:Yh},[oM]:{[Rl]:BC}},Ro={legacyMode:!0,get workingColorSpace(){return oM},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(k2[t]&&k2[t][n]!==void 0){let i=k2[t][n];return e.r=i(e.r),e.g=i(e.g),e.b=i(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},Y9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},cr={r:0,g:0,b:0},As={h:0,s:0,l:0},v_={h:0,s:0,l:0};function F2(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}function y_(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var _t=class{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Rl){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ro.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=Ro.workingColorSpace){return this.r=e,this.g=t,this.b=n,Ro.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=Ro.workingColorSpace){if(e=TA(e,1),t=Zi(t,0,1),n=Zi(n,0,1),t===0)this.r=this.g=this.b=n;else{let r=n<=.5?n*(1+t):n+t-n*t,o=2*n-r;this.r=F2(o,r,e+1/3),this.g=F2(o,r,e),this.b=F2(o,r,e-1/3)}return Ro.toWorkingColorSpace(this,i),this}setStyle(e,t=Rl){function n(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r,o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,Ro.toWorkingColorSpace(this,t),n(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,Ro.toWorkingColorSpace(this,t),n(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){let s=parseFloat(r[1])/360,l=parseFloat(r[2])/100,c=parseFloat(r[3])/100;return n(r[4]),this.setHSL(s,l,c,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){let r=i[1],o=r.length;if(o===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,Ro.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,Ro.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Rl){let n=Y9[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Yh(e.r),this.g=Yh(e.g),this.b=Yh(e.b),this}copyLinearToSRGB(e){return this.r=BC(e.r),this.g=BC(e.g),this.b=BC(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Rl){return Ro.fromWorkingColorSpace(y_(this,cr),e),Zi(cr.r*255,0,255)<<16^Zi(cr.g*255,0,255)<<8^Zi(cr.b*255,0,255)<<0}getHexString(e=Rl){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ro.workingColorSpace){Ro.fromWorkingColorSpace(y_(this,cr),t);let n=cr.r,i=cr.g,r=cr.b,o=Math.max(n,i,r),a=Math.min(n,i,r),s,l,c=(a+o)/2;if(a===o)s=0,l=0;else{let d=o-a;switch(l=c<=.5?d/(o+a):d/(2-o-a),o){case n:s=(i-r)/d+(i<r?6:0);break;case i:s=(r-n)/d+2;break;case r:s=(n-i)/d+4;break}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e,t=Ro.workingColorSpace){return Ro.fromWorkingColorSpace(y_(this,cr),t),e.r=cr.r,e.g=cr.g,e.b=cr.b,e}getStyle(e=Rl){return Ro.fromWorkingColorSpace(y_(this,cr),e),e!==Rl?`color(${e} ${cr.r} ${cr.g} ${cr.b})`:`rgb(${cr.r*255|0},${cr.g*255|0},${cr.b*255|0})`}offsetHSL(e,t,n){return this.getHSL(As),As.h+=e,As.s+=t,As.l+=n,this.setHSL(As.h,As.s,As.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(As),e.getHSL(v_);let n=kv(As.h,v_.h,t),i=kv(As.s,v_.s,t),r=kv(As.l,v_.l,t);return this.setHSL(n,i,r),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};_t.NAMES=Y9;var Om,X9=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Om===void 0&&(Om=Xv("canvas")),Om.width=e.width,Om.height=e.height;let n=Om.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Om}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let t=Xv("canvas");t.width=e.width,t.height=e.height;let n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);let i=n.getImageData(0,0,e.width,e.height),r=i.data;for(let o=0;o<r.length;o++)r[o]=Yh(r[o]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){let t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Yh(t[n]/255)*255):t[n]=Yh(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},Q9=class{constructor(e=null){this.isSource=!0,this.uuid=gs(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];let n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let r;if(Array.isArray(i)){r=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?r.push(N2(i[o].image)):r.push(N2(i[o]))}else r=N2(i);n.url=r}return t||(e.images[this.uuid]=n),n}};function N2(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?X9.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Aie=0,wi=class extends Jr{constructor(e=wi.DEFAULT_IMAGE,t=wi.DEFAULT_MAPPING,n=mi,i=mi,r=qt,o=Lf,a=Ar,s=Mo,l=wi.DEFAULT_ANISOTROPY,c=Xs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Aie++}),this.uuid=gs(),this.name="",this.source=new Q9(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new oe(0,0),this.repeat=new oe(1,1),this.center=new oe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==B9)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Gc:e.x=e.x-Math.floor(e.x);break;case mi:e.x=e.x<0?0:1;break;case I3:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Gc:e.y=e.y-Math.floor(e.y);break;case mi:e.y=e.y<0?0:1;break;case I3:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}};wi.DEFAULT_IMAGE=null;wi.DEFAULT_MAPPING=B9;wi.DEFAULT_ANISOTROPY=1;var Et=class{constructor(e=0,t=0,n=0,i=1){Et.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,n=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r,o=e.elements,a=o[0],s=o[4],l=o[8],c=o[1],d=o[5],u=o[9],h=o[2],p=o[6],m=o[10];if(Math.abs(s-c)<.01&&Math.abs(l-h)<.01&&Math.abs(u-p)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+h)<.1&&Math.abs(u+p)<.1&&Math.abs(a+d+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let v=(a+1)/2,b=(d+1)/2,_=(m+1)/2,C=(s+c)/4,M=(l+h)/4,P=(u+p)/4;return v>b&&v>_?v<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(v),i=C/n,r=M/n):b>_?b<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(b),n=C/i,r=P/i):_<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(_),n=M/r,i=P/r),this.set(n,i,r,t),this}let g=Math.sqrt((p-u)*(p-u)+(l-h)*(l-h)+(c-s)*(c-s));return Math.abs(g)<.001&&(g=1),this.x=(p-u)/g,this.y=(l-h)/g,this.z=(c-s)/g,this.w=Math.acos((a+d+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},Bn=class extends Jr{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Et(0,0,e,t),this.scissorTest=!1,this.viewport=new Et(0,0,e,t);let i={width:e,height:t,depth:1};this.texture=new wi(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:qt,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new Q9(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},Z9=class extends wi{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=zn,this.minFilter=zn,this.wrapR=mi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},Tie=class extends wi{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=zn,this.minFilter=zn,this.wrapR=mi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},Iie=class extends Bn{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;let r=this.texture;this.texture=[];for(let o=0;o<n;o++)this.texture[o]=r.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,r=this.texture.length;i<r;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}},Dt=class{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,r,o,a){let s=n[i+0],l=n[i+1],c=n[i+2],d=n[i+3],u=r[o+0],h=r[o+1],p=r[o+2],m=r[o+3];if(a===0){e[t+0]=s,e[t+1]=l,e[t+2]=c,e[t+3]=d;return}if(a===1){e[t+0]=u,e[t+1]=h,e[t+2]=p,e[t+3]=m;return}if(d!==m||s!==u||l!==h||c!==p){let g=1-a,v=s*u+l*h+c*p+d*m,b=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){let M=Math.sqrt(_),P=Math.atan2(M,v*b);g=Math.sin(g*P)/M,a=Math.sin(a*P)/M}let C=a*b;if(s=s*g+u*C,l=l*g+h*C,c=c*g+p*C,d=d*g+m*C,g===1-a){let M=1/Math.sqrt(s*s+l*l+c*c+d*d);s*=M,l*=M,c*=M,d*=M}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=d}static multiplyQuaternionsFlat(e,t,n,i,r,o){let a=n[i],s=n[i+1],l=n[i+2],c=n[i+3],d=r[o],u=r[o+1],h=r[o+2],p=r[o+3];return e[t]=a*p+c*d+s*h-l*u,e[t+1]=s*p+c*u+l*d-a*h,e[t+2]=l*p+c*h+a*u-s*d,e[t+3]=c*p-a*d-s*u-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){let n=e._x,i=e._y,r=e._z,o=e._order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(i/2),d=a(r/2),u=s(n/2),h=s(i/2),p=s(r/2);switch(o){case"XYZ":this._x=u*c*d+l*h*p,this._y=l*h*d-u*c*p,this._z=l*c*p+u*h*d,this._w=l*c*d-u*h*p;break;case"YXZ":this._x=u*c*d+l*h*p,this._y=l*h*d-u*c*p,this._z=l*c*p-u*h*d,this._w=l*c*d+u*h*p;break;case"ZXY":this._x=u*c*d-l*h*p,this._y=l*h*d+u*c*p,this._z=l*c*p+u*h*d,this._w=l*c*d-u*h*p;break;case"ZYX":this._x=u*c*d-l*h*p,this._y=l*h*d+u*c*p,this._z=l*c*p-u*h*d,this._w=l*c*d+u*h*p;break;case"YZX":this._x=u*c*d+l*h*p,this._y=l*h*d+u*c*p,this._z=l*c*p-u*h*d,this._w=l*c*d-u*h*p;break;case"XZY":this._x=u*c*d-l*h*p,this._y=l*h*d-u*c*p,this._z=l*c*p+u*h*d,this._w=l*c*d+u*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,n=t[0],i=t[4],r=t[8],o=t[1],a=t[5],s=t[9],l=t[2],c=t[6],d=t[10],u=n+a+d;if(u>0){let h=.5/Math.sqrt(u+1);this._w=.25/h,this._x=(c-s)*h,this._y=(r-l)*h,this._z=(o-i)*h}else if(n>a&&n>d){let h=2*Math.sqrt(1+n-a-d);this._w=(c-s)/h,this._x=.25*h,this._y=(i+o)/h,this._z=(r+l)/h}else if(a>d){let h=2*Math.sqrt(1+a-n-d);this._w=(r-l)/h,this._x=(i+o)/h,this._y=.25*h,this._z=(s+c)/h}else{let h=2*Math.sqrt(1+d-n-a);this._w=(o-i)/h,this._x=(r+l)/h,this._y=(s+c)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Zi(this.dot(e),-1,1)))}rotateTowards(e,t){let n=this.angleTo(e);if(n===0)return this;let i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let n=e._x,i=e._y,r=e._z,o=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+o*a+i*l-r*s,this._y=i*c+o*s+r*a-n*l,this._z=r*c+o*l+n*s-i*a,this._w=o*c-n*a-i*s-r*l,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let n=this._x,i=this._y,r=this._z,o=this._w,a=o*e._w+n*e._x+i*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;let s=1-a*a;if(s<=Number.EPSILON){let h=1-t;return this._w=h*o+t*this._w,this._x=h*n+t*this._x,this._y=h*i+t*this._y,this._z=h*r+t*this._z,this.normalize(),this._onChangeCallback(),this}let l=Math.sqrt(s),c=Math.atan2(l,a),d=Math.sin((1-t)*c)/l,u=Math.sin(t*c)/l;return this._w=o*d+this._w*u,this._x=n*d+this._x*u,this._y=i*d+this._y*u,this._z=r*d+this._z*u,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){let e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(r),n*Math.cos(r),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},L=class{constructor(e=0,t=0,n=0){L.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(yF.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(yF.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,n=this.y,i=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(e){let t=this.x,n=this.y,i=this.z,r=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*i-a*n,c=s*n+a*t-r*i,d=s*i+r*n-o*t,u=-r*t-o*n-a*i;return this.x=l*s+u*-r+c*-a-d*-o,this.y=c*s+u*-o+d*-r-l*-a,this.z=d*s+u*-a+l*-o-c*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let n=e.x,i=e.y,r=e.z,o=t.x,a=t.y,s=t.z;return this.x=i*s-r*a,this.y=r*o-n*s,this.z=n*a-i*o,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return z2.copy(this).projectOnVector(e),this.sub(z2)}reflect(e){return this.sub(z2.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let n=this.dot(e)/t;return Math.acos(Zi(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){let i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},z2=new L,yF=new Dt,ji=class{constructor(e=new L(1/0,1/0,1/0),t=new L(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0;for(let s=0,l=e.length;s<l;s+=3){let c=e[s],d=e[s+1],u=e[s+2];c<t&&(t=c),d<n&&(n=d),u<i&&(i=u),c>r&&(r=c),d>o&&(o=d),u>a&&(a=u)}return this.min.set(t,n,i),this.max.set(r,o,a),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0;for(let s=0,l=e.count;s<l;s++){let c=e.getX(s),d=e.getY(s),u=e.getZ(s);c<t&&(t=c),d<n&&(n=d),u<i&&(i=u),c>r&&(r=c),d>o&&(o=d),u>a&&(a=u)}return this.min.set(t,n,i),this.max.set(r,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=bh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let n=e.geometry;if(n!==void 0)if(t&&n.attributes!=null&&n.attributes.position!==void 0){let r=n.attributes.position;for(let o=0,a=r.count;o<a;o++)bh.fromBufferAttribute(r,o).applyMatrix4(e.matrixWorld),this.expandByPoint(bh)}else n.boundingBox===null&&n.computeBoundingBox(),B2.copy(n.boundingBox),B2.applyMatrix4(e.matrixWorld),this.union(B2);let i=e.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,bh),bh.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Y0),b_.subVectors(this.max,Y0),Sm.subVectors(e.a,Y0),Em.subVectors(e.b,Y0),Dm.subVectors(e.c,Y0),Td.subVectors(Em,Sm),Id.subVectors(Dm,Em),_h.subVectors(Sm,Dm);let t=[0,-Td.z,Td.y,0,-Id.z,Id.y,0,-_h.z,_h.y,Td.z,0,-Td.x,Id.z,0,-Id.x,_h.z,0,-_h.x,-Td.y,Td.x,0,-Id.y,Id.x,0,-_h.y,_h.x,0];return!V2(t,Sm,Em,Dm,b_)||(t=[1,0,0,0,1,0,0,0,1],!V2(t,Sm,Em,Dm,b_))?!1:(__.crossVectors(Td,Id),t=[__.x,__.y,__.z],V2(t,Sm,Em,Dm,b_))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return bh.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(bh).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Mc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Mc=[new L,new L,new L,new L,new L,new L,new L,new L],bh=new L,B2=new ji,Sm=new L,Em=new L,Dm=new L,Td=new L,Id=new L,_h=new L,Y0=new L,b_=new L,__=new L,Ch=new L;function V2(e,t,n,i,r){for(let o=0,a=e.length-3;o<=a;o+=3){Ch.fromArray(e,o);let s=r.x*Math.abs(Ch.x)+r.y*Math.abs(Ch.y)+r.z*Math.abs(Ch.z),l=t.dot(Ch),c=n.dot(Ch),d=i.dot(Ch);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>s)return!1}return!0}var Rie=new ji,X0=new L,U2=new L,ua=class{constructor(e=new L,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let n=this.center;t!==void 0?n.copy(t):Rie.setFromPoints(e).getCenter(n);let i=0;for(let r=0,o=e.length;r<o;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;X0.subVectors(e,this.center);let t=X0.lengthSq();if(t>this.radius*this.radius){let n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(X0,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(U2.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(X0.copy(e.center).add(U2)),this.expandByPoint(X0.copy(e.center).sub(U2))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}},wc=new L,j2=new L,C_=new L,Rd=new L,H2=new L,M_=new L,G2=new L,Zf=class{constructor(e=new L,t=new L(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=wc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(wc.copy(this.direction).multiplyScalar(t).add(this.origin),wc.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){j2.copy(e).add(t).multiplyScalar(.5),C_.copy(t).sub(e).normalize(),Rd.copy(this.origin).sub(j2);let r=e.distanceTo(t)*.5,o=-this.direction.dot(C_),a=Rd.dot(this.direction),s=-Rd.dot(C_),l=Rd.lengthSq(),c=Math.abs(1-o*o),d,u,h,p;if(c>0)if(d=o*s-a,u=o*a-s,p=r*c,d>=0)if(u>=-p)if(u<=p){let m=1/c;d*=m,u*=m,h=d*(d+o*u+2*a)+u*(o*d+u+2*s)+l}else u=r,d=Math.max(0,-(o*u+a)),h=-d*d+u*(u+2*s)+l;else u=-r,d=Math.max(0,-(o*u+a)),h=-d*d+u*(u+2*s)+l;else u<=-p?(d=Math.max(0,-(-o*r+a)),u=d>0?-r:Math.min(Math.max(-r,-s),r),h=-d*d+u*(u+2*s)+l):u<=p?(d=0,u=Math.min(Math.max(-r,-s),r),h=u*(u+2*s)+l):(d=Math.max(0,-(o*r+a)),u=d>0?r:Math.min(Math.max(-r,-s),r),h=-d*d+u*(u+2*s)+l);else u=o>0?-r:r,d=Math.max(0,-(o*u+a)),h=-d*d+u*(u+2*s)+l;return n&&n.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(C_).multiplyScalar(u).add(j2),h}intersectSphere(e,t){wc.subVectors(e.center,this.origin);let n=wc.dot(this.direction),i=wc.dot(wc)-n*n,r=e.radius*e.radius;if(i>r)return null;let o=Math.sqrt(r-i),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){let n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,o,a,s,l=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,u=this.origin;return l>=0?(n=(e.min.x-u.x)*l,i=(e.max.x-u.x)*l):(n=(e.max.x-u.x)*l,i=(e.min.x-u.x)*l),c>=0?(r=(e.min.y-u.y)*c,o=(e.max.y-u.y)*c):(r=(e.max.y-u.y)*c,o=(e.min.y-u.y)*c),n>o||r>i||((r>n||isNaN(n))&&(n=r),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-u.z)*d,s=(e.max.z-u.z)*d):(a=(e.max.z-u.z)*d,s=(e.min.z-u.z)*d),n>s||a>i)||((a>n||n!==n)&&(n=a),(s<i||i!==i)&&(i=s),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,wc)!==null}intersectTriangle(e,t,n,i,r){H2.subVectors(t,e),M_.subVectors(n,e),G2.crossVectors(H2,M_);let o=this.direction.dot(G2),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Rd.subVectors(this.origin,e);let s=a*this.direction.dot(M_.crossVectors(Rd,M_));if(s<0)return null;let l=a*this.direction.dot(H2.cross(Rd));if(l<0||s+l>o)return null;let c=-a*Rd.dot(G2);return c<0?null:this.at(c/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Be=class{constructor(){Be.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,i,r,o,a,s,l,c,d,u,h,p,m,g){let v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=i,v[1]=r,v[5]=o,v[9]=a,v[13]=s,v[2]=l,v[6]=c,v[10]=d,v[14]=u,v[3]=h,v[7]=p,v[11]=m,v[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Be().fromArray(this.elements)}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){let t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,n=e.elements,i=1/Am.setFromMatrixColumn(e,0).length(),r=1/Am.setFromMatrixColumn(e,1).length(),o=1/Am.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,n=e.x,i=e.y,r=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(i),l=Math.sin(i),c=Math.cos(r),d=Math.sin(r);if(e.order==="XYZ"){let u=o*c,h=o*d,p=a*c,m=a*d;t[0]=s*c,t[4]=-s*d,t[8]=l,t[1]=h+p*l,t[5]=u-m*l,t[9]=-a*s,t[2]=m-u*l,t[6]=p+h*l,t[10]=o*s}else if(e.order==="YXZ"){let u=s*c,h=s*d,p=l*c,m=l*d;t[0]=u+m*a,t[4]=p*a-h,t[8]=o*l,t[1]=o*d,t[5]=o*c,t[9]=-a,t[2]=h*a-p,t[6]=m+u*a,t[10]=o*s}else if(e.order==="ZXY"){let u=s*c,h=s*d,p=l*c,m=l*d;t[0]=u-m*a,t[4]=-o*d,t[8]=p+h*a,t[1]=h+p*a,t[5]=o*c,t[9]=m-u*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if(e.order==="ZYX"){let u=o*c,h=o*d,p=a*c,m=a*d;t[0]=s*c,t[4]=p*l-h,t[8]=u*l+m,t[1]=s*d,t[5]=m*l+u,t[9]=h*l-p,t[2]=-l,t[6]=a*s,t[10]=o*s}else if(e.order==="YZX"){let u=o*s,h=o*l,p=a*s,m=a*l;t[0]=s*c,t[4]=m-u*d,t[8]=p*d+h,t[1]=d,t[5]=o*c,t[9]=-a*c,t[2]=-l*c,t[6]=h*d+p,t[10]=u-m*d}else if(e.order==="XZY"){let u=o*s,h=o*l,p=a*s,m=a*l;t[0]=s*c,t[4]=-d,t[8]=l*c,t[1]=u*d+m,t[5]=o*c,t[9]=h*d-p,t[2]=p*d-h,t[6]=a*c,t[10]=m*d+u}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Lie,e,kie)}lookAt(e,t,n){let i=this.elements;return Ra.subVectors(e,t),Ra.lengthSq()===0&&(Ra.z=1),Ra.normalize(),Ld.crossVectors(n,Ra),Ld.lengthSq()===0&&(Math.abs(n.z)===1?Ra.x+=1e-4:Ra.z+=1e-4,Ra.normalize(),Ld.crossVectors(n,Ra)),Ld.normalize(),w_.crossVectors(Ra,Ld),i[0]=Ld.x,i[4]=w_.x,i[8]=Ra.x,i[1]=Ld.y,i[5]=w_.y,i[9]=Ra.y,i[2]=Ld.z,i[6]=w_.z,i[10]=Ra.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,i=t.elements,r=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],d=n[5],u=n[9],h=n[13],p=n[2],m=n[6],g=n[10],v=n[14],b=n[3],_=n[7],C=n[11],M=n[15],P=i[0],x=i[4],E=i[8],O=i[12],S=i[1],D=i[5],I=i[9],T=i[13],R=i[2],k=i[6],z=i[10],W=i[14],N=i[3],F=i[7],X=i[11],V=i[15];return r[0]=o*P+a*S+s*R+l*N,r[4]=o*x+a*D+s*k+l*F,r[8]=o*E+a*I+s*z+l*X,r[12]=o*O+a*T+s*W+l*V,r[1]=c*P+d*S+u*R+h*N,r[5]=c*x+d*D+u*k+h*F,r[9]=c*E+d*I+u*z+h*X,r[13]=c*O+d*T+u*W+h*V,r[2]=p*P+m*S+g*R+v*N,r[6]=p*x+m*D+g*k+v*F,r[10]=p*E+m*I+g*z+v*X,r[14]=p*O+m*T+g*W+v*V,r[3]=b*P+_*S+C*R+M*N,r[7]=b*x+_*D+C*k+M*F,r[11]=b*E+_*I+C*z+M*X,r[15]=b*O+_*T+C*W+M*V,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],d=e[6],u=e[10],h=e[14],p=e[3],m=e[7],g=e[11],v=e[15];return p*(+r*s*d-i*l*d-r*a*u+n*l*u+i*a*h-n*s*h)+m*(+t*s*h-t*l*u+r*o*u-i*o*h+i*l*c-r*s*c)+g*(+t*l*d-t*a*h-r*o*d+n*o*h+r*a*c-n*l*c)+v*(-i*a*c-t*s*d+t*a*u+i*o*d-n*o*u+n*s*c)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){let i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){let e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],d=e[9],u=e[10],h=e[11],p=e[12],m=e[13],g=e[14],v=e[15],b=d*g*l-m*u*l+m*s*h-a*g*h-d*s*v+a*u*v,_=p*u*l-c*g*l-p*s*h+o*g*h+c*s*v-o*u*v,C=c*m*l-p*d*l+p*a*h-o*m*h-c*a*v+o*d*v,M=p*d*s-c*m*s-p*a*u+o*m*u+c*a*g-o*d*g,P=t*b+n*_+i*C+r*M;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let x=1/P;return e[0]=b*x,e[1]=(m*u*r-d*g*r-m*i*h+n*g*h+d*i*v-n*u*v)*x,e[2]=(a*g*r-m*s*r+m*i*l-n*g*l-a*i*v+n*s*v)*x,e[3]=(d*s*r-a*u*r-d*i*l+n*u*l+a*i*h-n*s*h)*x,e[4]=_*x,e[5]=(c*g*r-p*u*r+p*i*h-t*g*h-c*i*v+t*u*v)*x,e[6]=(p*s*r-o*g*r-p*i*l+t*g*l+o*i*v-t*s*v)*x,e[7]=(o*u*r-c*s*r+c*i*l-t*u*l-o*i*h+t*s*h)*x,e[8]=C*x,e[9]=(p*d*r-c*m*r-p*n*h+t*m*h+c*n*v-t*d*v)*x,e[10]=(o*m*r-p*a*r+p*n*l-t*m*l-o*n*v+t*a*v)*x,e[11]=(c*a*r-o*d*r-c*n*l+t*d*l+o*n*h-t*a*h)*x,e[12]=M*x,e[13]=(c*m*i-p*d*i+p*n*u-t*m*u-c*n*g+t*d*g)*x,e[14]=(p*a*i-o*m*i-p*n*s+t*m*s+o*n*g-t*a*g)*x,e[15]=(o*d*i-c*a*i+c*n*s-t*d*s-o*n*u+t*a*u)*x,this}scale(e){let t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let n=Math.cos(t),i=Math.sin(t),r=1-n,o=e.x,a=e.y,s=e.z,l=r*o,c=r*a;return this.set(l*o+n,l*a-i*s,l*s+i*a,0,l*a+i*s,c*a+n,c*s-i*o,0,l*s-i*a,c*s+i*o,r*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,o){return this.set(1,n,r,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){let i=this.elements,r=t._x,o=t._y,a=t._z,s=t._w,l=r+r,c=o+o,d=a+a,u=r*l,h=r*c,p=r*d,m=o*c,g=o*d,v=a*d,b=s*l,_=s*c,C=s*d,M=n.x,P=n.y,x=n.z;return i[0]=(1-(m+v))*M,i[1]=(h+C)*M,i[2]=(p-_)*M,i[3]=0,i[4]=(h-C)*P,i[5]=(1-(u+v))*P,i[6]=(g+b)*P,i[7]=0,i[8]=(p+_)*x,i[9]=(g-b)*x,i[10]=(1-(u+m))*x,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){let i=this.elements,r=Am.set(i[0],i[1],i[2]).length(),o=Am.set(i[4],i[5],i[6]).length(),a=Am.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],Ts.copy(this);let s=1/r,l=1/o,c=1/a;return Ts.elements[0]*=s,Ts.elements[1]*=s,Ts.elements[2]*=s,Ts.elements[4]*=l,Ts.elements[5]*=l,Ts.elements[6]*=l,Ts.elements[8]*=c,Ts.elements[9]*=c,Ts.elements[10]*=c,t.setFromRotationMatrix(Ts),n.x=r,n.y=o,n.z=a,this}makePerspective(e,t,n,i,r,o){let a=this.elements,s=2*r/(t-e),l=2*r/(n-i),c=(t+e)/(t-e),d=(n+i)/(n-i),u=-(o+r)/(o-r),h=-2*o*r/(o-r);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,n,i,r,o){let a=this.elements,s=1/(t-e),l=1/(n-i),c=1/(o-r),d=(t+e)*s,u=(n+i)*l,h=(o+r)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){let t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}},Am=new L,Ts=new Be,Lie=new L(0,0,0),kie=new L(1,1,1),Ld=new L,w_=new L,Ra=new L,bF=new Be,_F=new Dt,mr=class{constructor(e=0,t=0,n=0,i=mr.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){let i=e.elements,r=i[0],o=i[4],a=i[8],s=i[1],l=i[5],c=i[9],d=i[2],u=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(Zi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(u,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Zi(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-d,r),this._z=0);break;case"ZXY":this._x=Math.asin(Zi(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,r));break;case"ZYX":this._y=Math.asin(-Zi(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(u,h),this._z=Math.atan2(s,r)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(Zi(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-d,r)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Zi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(u,l),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return bF.makeRotationFromQuaternion(e),this.setFromRotationMatrix(bF,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return _F.setFromEuler(this),this.setFromQuaternion(_F,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};mr.DEFAULT_ORDER="XYZ";var IA=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},Fie=0,CF=new L,Tm=new Dt,xc=new Be,x_=new L,Q0=new L,Nie=new L,zie=new Dt,MF=new L(1,0,0),wF=new L(0,1,0),xF=new L(0,0,1),Bie={type:"added"},PF={type:"removed"},qn=class extends Jr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Fie++}),this.uuid=gs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=qn.DEFAULT_UP.clone();let e=new L,t=new mr,n=new Dt,i=new L(1,1,1);function r(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(r),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Be},normalMatrix:{value:new fr}}),this.matrix=new Be,this.matrixWorld=new Be,this.matrixAutoUpdate=qn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new IA,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Tm.setFromAxisAngle(e,t),this.quaternion.multiply(Tm),this}rotateOnWorldAxis(e,t){return Tm.setFromAxisAngle(e,t),this.quaternion.premultiply(Tm),this}rotateX(e){return this.rotateOnAxis(MF,e)}rotateY(e){return this.rotateOnAxis(wF,e)}rotateZ(e){return this.rotateOnAxis(xF,e)}translateOnAxis(e,t){return CF.copy(e).applyQuaternion(this.quaternion),this.position.add(CF.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(MF,e)}translateY(e){return this.translateOnAxis(wF,e)}translateZ(e){return this.translateOnAxis(xF,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(xc.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?x_.copy(e):x_.set(e,t,n);let i=this.parent;this.updateWorldMatrix(!0,!1),Q0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xc.lookAt(Q0,x_,this.up):xc.lookAt(x_,Q0,this.up),this.quaternion.setFromRotationMatrix(xc),i&&(xc.extractRotation(i.matrixWorld),Tm.setFromRotationMatrix(xc),this.quaternion.premultiply(Tm.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Bie)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(PF)),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(PF)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),xc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),xc.multiply(e.parent.matrixWorld)),e.applyMatrix4(xc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){let r=this.children[n].getObjectByProperty(e,t);if(r!==void 0)return r}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let i=0,r=this.children.length;i<r;i++){let o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(n=n.concat(o))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Q0,e,Nie),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Q0,zie,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let n=0,i=t.length;n<i;n++){let r=t[n];(r.matrixWorldAutoUpdate===!0||e===!0)&&r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){let n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let i=this.children;for(let r=0,o=i.length;r<o;r++){let a=i[r];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){let t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function r(a,s){return a[s.uuid]===void 0&&(a[s.uuid]=s.toJSON(e)),s.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);let a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){let s=a.shapes;if(Array.isArray(s))for(let l=0,c=s.length;l<c;l++){let d=s[l];r(e.shapes,d)}else r(e.shapes,s)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let a=[];for(let s=0,l=this.material.length;s<l;s++)a.push(r(e.materials,this.material[s]));i.material=a}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){let s=this.animations[a];i.animations.push(r(e.animations,s))}}if(t){let a=o(e.geometries),s=o(e.materials),l=o(e.textures),c=o(e.images),d=o(e.shapes),u=o(e.skeletons),h=o(e.animations),p=o(e.nodes);a.length>0&&(n.geometries=a),s.length>0&&(n.materials=s),l.length>0&&(n.textures=l),c.length>0&&(n.images=c),d.length>0&&(n.shapes=d),u.length>0&&(n.skeletons=u),h.length>0&&(n.animations=h),p.length>0&&(n.nodes=p)}return n.object=i,n;function o(a){let s=[];for(let l in a){let c=a[l];delete c.metadata,s.push(c)}return s}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){let i=e.children[n];this.add(i.clone())}return this}};qn.DEFAULT_UP=new L(0,1,0);qn.DEFAULT_MATRIX_AUTO_UPDATE=!0;qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Is=new L,Pc=new L,W2=new L,Oc=new L,Im=new L,Rm=new L,OF=new L,q2=new L,Y2=new L,X2=new L,Xr=class{constructor(e=new L,t=new L,n=new L){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Is.subVectors(e,t),i.cross(Is);let r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){Is.subVectors(i,t),Pc.subVectors(n,t),W2.subVectors(e,t);let o=Is.dot(Is),a=Is.dot(Pc),s=Is.dot(W2),l=Pc.dot(Pc),c=Pc.dot(W2),d=o*l-a*a;if(d===0)return r.set(-2,-1,-1);let u=1/d,h=(l*s-a*c)*u,p=(o*c-a*s)*u;return r.set(1-h-p,p,h)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Oc),Oc.x>=0&&Oc.y>=0&&Oc.x+Oc.y<=1}static getUV(e,t,n,i,r,o,a,s){return this.getBarycoord(e,t,n,i,Oc),s.set(0,0),s.addScaledVector(r,Oc.x),s.addScaledVector(o,Oc.y),s.addScaledVector(a,Oc.z),s}static isFrontFacing(e,t,n,i){return Is.subVectors(n,t),Pc.subVectors(e,t),Is.cross(Pc).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Is.subVectors(this.c,this.b),Pc.subVectors(this.a,this.b),Is.cross(Pc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Xr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Xr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,r){return Xr.getUV(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return Xr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Xr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let n=this.a,i=this.b,r=this.c,o,a;Im.subVectors(i,n),Rm.subVectors(r,n),q2.subVectors(e,n);let s=Im.dot(q2),l=Rm.dot(q2);if(s<=0&&l<=0)return t.copy(n);Y2.subVectors(e,i);let c=Im.dot(Y2),d=Rm.dot(Y2);if(c>=0&&d<=c)return t.copy(i);let u=s*d-c*l;if(u<=0&&s>=0&&c<=0)return o=s/(s-c),t.copy(n).addScaledVector(Im,o);X2.subVectors(e,r);let h=Im.dot(X2),p=Rm.dot(X2);if(p>=0&&h<=p)return t.copy(r);let m=h*l-s*p;if(m<=0&&l>=0&&p<=0)return a=l/(l-p),t.copy(n).addScaledVector(Rm,a);let g=c*p-h*d;if(g<=0&&d-c>=0&&h-p>=0)return OF.subVectors(r,i),a=(d-c)/(d-c+(h-p)),t.copy(i).addScaledVector(OF,a);let v=1/(g+m+u);return o=m*v,a=u*v,t.copy(n).addScaledVector(Im,o).addScaledVector(Rm,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},Vie=0,vy=class extends Jr{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Vie++}),this.uuid=gs(),this.name="",this.type="Material",this.blending=Gh,this.side=Ys,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=F9,this.blendDst=N9,this.blendEquation=af,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=D3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=mie,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=R2,this.stencilZFail=R2,this.stencilZPass=R2,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}let i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Gh&&(n.blending=this.blending),this.side!==Ys&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(n.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(r){let o=[];for(let a in r){let s=r[a];delete s.metadata,o.push(s)}return o}if(t){let r=i(e.textures),o=i(e.images);r.length>0&&(n.textures=r),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,n=null;if(t!==null){let i=t.length;n=new Array(i);for(let r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},ap=class extends vy{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new _t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=z9,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},Xi=new L,P_=new oe,St=class{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=R3,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)P_.fromBufferAttribute(this,t),P_.applyMatrix3(e),this.setXY(t,P_.x,P_.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Xi.fromBufferAttribute(this,t),Xi.applyMatrix3(e),this.setXYZ(t,Xi.x,Xi.y,Xi.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Xi.fromBufferAttribute(this,t),Xi.applyMatrix4(e),this.setXYZ(t,Xi.x,Xi.y,Xi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Xi.fromBufferAttribute(this,t),Xi.applyNormalMatrix(e),this.setXYZ(t,Xi.x,Xi.y,Xi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Xi.fromBufferAttribute(this,t),Xi.transformDirection(e),this.setXYZ(t,Xi.x,Xi.y,Xi.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=qc(t,this.array)),t}setX(e,t){return this.normalized&&(t=si(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=qc(t,this.array)),t}setY(e,t){return this.normalized&&(t=si(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=qc(t,this.array)),t}setZ(e,t){return this.normalized&&(t=si(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=qc(t,this.array)),t}setW(e,t){return this.normalized&&(t=si(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=si(t,this.array),n=si(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=si(t,this.array),n=si(n,this.array),i=si(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=si(t,this.array),n=si(n,this.array),i=si(i,this.array),r=si(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==R3&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}},$9=class extends St{constructor(e,t,n){super(new Uint16Array(e),t,n)}},bf=class extends St{constructor(e,t,n){super(new Uint32Array(e),t,n)}},Je=class extends St{constructor(e,t,n){super(new Float32Array(e),t,n)}},Uie=0,os=new Be,Q2=new qn,Lm=new L,La=new ji,Z0=new ji,xr=new L,pt=class extends Jr{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Uie++}),this.uuid=gs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(q9(e)?bf:$9)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let n=this.attributes.normal;if(n!==void 0){let r=new fr().getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}let i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return os.makeRotationFromQuaternion(e),this.applyMatrix4(os),this}rotateX(e){return os.makeRotationX(e),this.applyMatrix4(os),this}rotateY(e){return os.makeRotationY(e),this.applyMatrix4(os),this}rotateZ(e){return os.makeRotationZ(e),this.applyMatrix4(os),this}translate(e,t,n){return os.makeTranslation(e,t,n),this.applyMatrix4(os),this}scale(e,t,n){return os.makeScale(e,t,n),this.applyMatrix4(os),this}lookAt(e){return Q2.lookAt(e),Q2.updateMatrix(),this.applyMatrix4(Q2.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Lm).negate(),this.translate(Lm.x,Lm.y,Lm.z),this}setFromPoints(e){let t=[];for(let n=0,i=e.length;n<i;n++){let r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Je(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ji);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new L(-1/0,-1/0,-1/0),new L(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){let r=t[n];La.setFromBufferAttribute(r),this.morphTargetsRelative?(xr.addVectors(this.boundingBox.min,La.min),this.boundingBox.expandByPoint(xr),xr.addVectors(this.boundingBox.max,La.max),this.boundingBox.expandByPoint(xr)):(this.boundingBox.expandByPoint(La.min),this.boundingBox.expandByPoint(La.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ua);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new L,1/0);return}if(e){let n=this.boundingSphere.center;if(La.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++){let a=t[r];Z0.setFromBufferAttribute(a),this.morphTargetsRelative?(xr.addVectors(La.min,Z0.min),La.expandByPoint(xr),xr.addVectors(La.max,Z0.max),La.expandByPoint(xr)):(La.expandByPoint(Z0.min),La.expandByPoint(Z0.max))}La.getCenter(n);let i=0;for(let r=0,o=e.count;r<o;r++)xr.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(xr));if(t)for(let r=0,o=t.length;r<o;r++){let a=t[r],s=this.morphTargetsRelative;for(let l=0,c=a.count;l<c;l++)xr.fromBufferAttribute(a,l),s&&(Lm.fromBufferAttribute(e,l),xr.add(Lm)),i=Math.max(i,n.distanceToSquared(xr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let n=e.array,i=t.position.array,r=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new St(new Float32Array(4*a),4));let s=this.getAttribute("tangent").array,l=[],c=[];for(let S=0;S<a;S++)l[S]=new L,c[S]=new L;let d=new L,u=new L,h=new L,p=new oe,m=new oe,g=new oe,v=new L,b=new L;function _(S,D,I){d.fromArray(i,S*3),u.fromArray(i,D*3),h.fromArray(i,I*3),p.fromArray(o,S*2),m.fromArray(o,D*2),g.fromArray(o,I*2),u.sub(d),h.sub(d),m.sub(p),g.sub(p);let T=1/(m.x*g.y-g.x*m.y);!isFinite(T)||(v.copy(u).multiplyScalar(g.y).addScaledVector(h,-m.y).multiplyScalar(T),b.copy(h).multiplyScalar(m.x).addScaledVector(u,-g.x).multiplyScalar(T),l[S].add(v),l[D].add(v),l[I].add(v),c[S].add(b),c[D].add(b),c[I].add(b))}let C=this.groups;C.length===0&&(C=[{start:0,count:n.length}]);for(let S=0,D=C.length;S<D;++S){let I=C[S],T=I.start,R=I.count;for(let k=T,z=T+R;k<z;k+=3)_(n[k+0],n[k+1],n[k+2])}let M=new L,P=new L,x=new L,E=new L;function O(S){x.fromArray(r,S*3),E.copy(x);let D=l[S];M.copy(D),M.sub(x.multiplyScalar(x.dot(D))).normalize(),P.crossVectors(E,D);let I=P.dot(c[S])<0?-1:1;s[S*4]=M.x,s[S*4+1]=M.y,s[S*4+2]=M.z,s[S*4+3]=I}for(let S=0,D=C.length;S<D;++S){let I=C[S],T=I.start,R=I.count;for(let k=T,z=T+R;k<z;k+=3)O(n[k+0]),O(n[k+1]),O(n[k+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new St(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let u=0,h=n.count;u<h;u++)n.setXYZ(u,0,0,0);let i=new L,r=new L,o=new L,a=new L,s=new L,l=new L,c=new L,d=new L;if(e)for(let u=0,h=e.count;u<h;u+=3){let p=e.getX(u+0),m=e.getX(u+1),g=e.getX(u+2);i.fromBufferAttribute(t,p),r.fromBufferAttribute(t,m),o.fromBufferAttribute(t,g),c.subVectors(o,r),d.subVectors(i,r),c.cross(d),a.fromBufferAttribute(n,p),s.fromBufferAttribute(n,m),l.fromBufferAttribute(n,g),a.add(c),s.add(c),l.add(c),n.setXYZ(p,a.x,a.y,a.z),n.setXYZ(m,s.x,s.y,s.z),n.setXYZ(g,l.x,l.y,l.z)}else for(let u=0,h=t.count;u<h;u+=3)i.fromBufferAttribute(t,u+0),r.fromBufferAttribute(t,u+1),o.fromBufferAttribute(t,u+2),c.subVectors(o,r),d.subVectors(i,r),c.cross(d),n.setXYZ(u+0,c.x,c.y,c.z),n.setXYZ(u+1,c.x,c.y,c.z),n.setXYZ(u+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)xr.fromBufferAttribute(e,t),xr.normalize(),e.setXYZ(t,xr.x,xr.y,xr.z)}toNonIndexed(){function e(a,s){let l=a.array,c=a.itemSize,d=a.normalized,u=new l.constructor(s.length*c),h=0,p=0;for(let m=0,g=s.length;m<g;m++){a.isInterleavedBufferAttribute?h=s[m]*a.data.stride+a.offset:h=s[m]*c;for(let v=0;v<c;v++)u[p++]=l[h++]}return new St(u,c,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new pt,n=this.index.array,i=this.attributes;for(let a in i){let s=i[a],l=e(s,n);t.setAttribute(a,l)}let r=this.morphAttributes;for(let a in r){let s=[],l=r[a];for(let c=0,d=l.length;c<d;c++){let u=l[c],h=e(u,n);s.push(h)}t.morphAttributes[a]=s}t.morphTargetsRelative=this.morphTargetsRelative;let o=this.groups;for(let a=0,s=o.length;a<s;a++){let l=o[a];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let s=this.parameters;for(let l in s)s[l]!==void 0&&(e[l]=s[l]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let n=this.attributes;for(let s in n){let l=n[s];e.data.attributes[s]=l.toJSON(e.data)}let i={},r=!1;for(let s in this.morphAttributes){let l=this.morphAttributes[s],c=[];for(let d=0,u=l.length;d<u;d++){let h=l[d];c.push(h.toJSON(e.data))}c.length>0&&(i[s]=c,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);let o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));let a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let n=e.index;n!==null&&this.setIndex(n.clone(t));let i=e.attributes;for(let l in i){let c=i[l];this.setAttribute(l,c.clone(t))}let r=e.morphAttributes;for(let l in r){let c=[],d=r[l];for(let u=0,h=d.length;u<h;u++)c.push(d[u].clone(t));this.morphAttributes[l]=c}this.morphTargetsRelative=e.morphTargetsRelative;let o=e.groups;for(let l=0,c=o.length;l<c;l++){let d=o[l];this.addGroup(d.start,d.count,d.materialIndex)}let a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());let s=e.boundingSphere;return s!==null&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}},SF=new Be,km=new Zf,Z2=new ua,$0=new L,K0=new L,J0=new L,$2=new L,O_=new L,S_=new oe,E_=new oe,D_=new oe,K2=new L,A_=new L,Ji=class extends qn{constructor(e=new pt,t=new ap){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++){let o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}getVertexPosition(e,t){let n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(i,e);let a=this.morphTargetInfluences;if(r&&a){O_.set(0,0,0);for(let s=0,l=r.length;s<l;s++){let c=a[s],d=r[s];c!==0&&($2.fromBufferAttribute(d,e),o?O_.addScaledVector($2,c):O_.addScaledVector($2.sub(t),c))}t.add(O_)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){let n=this.geometry,i=this.material,r=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),Z2.copy(n.boundingSphere),Z2.applyMatrix4(r),e.ray.intersectsSphere(Z2)===!1)||(SF.copy(r).invert(),km.copy(e.ray).applyMatrix4(SF),n.boundingBox!==null&&km.intersectsBox(n.boundingBox)===!1))return;let o,a=n.index,s=n.attributes.position,l=n.attributes.uv,c=n.attributes.uv2,d=n.groups,u=n.drawRange;if(a!==null)if(Array.isArray(i))for(let h=0,p=d.length;h<p;h++){let m=d[h],g=i[m.materialIndex],v=Math.max(m.start,u.start),b=Math.min(a.count,Math.min(m.start+m.count,u.start+u.count));for(let _=v,C=b;_<C;_+=3){let M=a.getX(_),P=a.getX(_+1),x=a.getX(_+2);o=T_(this,g,e,km,l,c,M,P,x),o&&(o.faceIndex=Math.floor(_/3),o.face.materialIndex=m.materialIndex,t.push(o))}}else{let h=Math.max(0,u.start),p=Math.min(a.count,u.start+u.count);for(let m=h,g=p;m<g;m+=3){let v=a.getX(m),b=a.getX(m+1),_=a.getX(m+2);o=T_(this,i,e,km,l,c,v,b,_),o&&(o.faceIndex=Math.floor(m/3),t.push(o))}}else if(s!==void 0)if(Array.isArray(i))for(let h=0,p=d.length;h<p;h++){let m=d[h],g=i[m.materialIndex],v=Math.max(m.start,u.start),b=Math.min(s.count,Math.min(m.start+m.count,u.start+u.count));for(let _=v,C=b;_<C;_+=3){let M=_,P=_+1,x=_+2;o=T_(this,g,e,km,l,c,M,P,x),o&&(o.faceIndex=Math.floor(_/3),o.face.materialIndex=m.materialIndex,t.push(o))}}else{let h=Math.max(0,u.start),p=Math.min(s.count,u.start+u.count);for(let m=h,g=p;m<g;m+=3){let v=m,b=m+1,_=m+2;o=T_(this,i,e,km,l,c,v,b,_),o&&(o.faceIndex=Math.floor(m/3),t.push(o))}}}};function jie(e,t,n,i,r,o,a,s){let l;if(t.side===Ir?l=i.intersectTriangle(a,o,r,!0,s):l=i.intersectTriangle(r,o,a,t.side===Ys,s),l===null)return null;A_.copy(s),A_.applyMatrix4(e.matrixWorld);let c=n.ray.origin.distanceTo(A_);return c<n.near||c>n.far?null:{distance:c,point:A_.clone(),object:e}}function T_(e,t,n,i,r,o,a,s,l){e.getVertexPosition(a,$0),e.getVertexPosition(s,K0),e.getVertexPosition(l,J0);let c=jie(e,t,n,i,$0,K0,J0,K2);if(c){r&&(S_.fromBufferAttribute(r,a),E_.fromBufferAttribute(r,s),D_.fromBufferAttribute(r,l),c.uv=Xr.getUV(K2,$0,K0,J0,S_,E_,D_,new oe)),o&&(S_.fromBufferAttribute(o,a),E_.fromBufferAttribute(o,s),D_.fromBufferAttribute(o,l),c.uv2=Xr.getUV(K2,$0,K0,J0,S_,E_,D_,new oe));let d={a,b:s,c:l,normal:new L,materialIndex:0};Xr.getNormal($0,K0,J0,d.normal),c.face=d}return c}var Qs=class extends pt{constructor(e=1,t=1,n=1,i=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};let a=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);let s=[],l=[],c=[],d=[],u=0,h=0;p("z","y","x",-1,-1,n,t,e,o,r,0),p("z","y","x",1,-1,n,t,-e,o,r,1),p("x","z","y",1,1,e,n,t,i,o,2),p("x","z","y",1,-1,e,n,-t,i,o,3),p("x","y","z",1,-1,e,t,n,i,r,4),p("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(s),this.setAttribute("position",new Je(l,3)),this.setAttribute("normal",new Je(c,3)),this.setAttribute("uv",new Je(d,2));function p(m,g,v,b,_,C,M,P,x,E,O){let S=C/x,D=M/E,I=C/2,T=M/2,R=P/2,k=x+1,z=E+1,W=0,N=0,F=new L;for(let X=0;X<z;X++){let V=X*D-T;for(let G=0;G<k;G++){let Y=G*S-I;F[m]=Y*b,F[g]=V*_,F[v]=R,l.push(F.x,F.y,F.z),F[m]=0,F[g]=0,F[v]=P>0?1:-1,c.push(F.x,F.y,F.z),d.push(G/x),d.push(1-X/E),W+=1}}for(let X=0;X<E;X++)for(let V=0;V<x;V++){let G=u+V+k*X,Y=u+V+k*(X+1),ie=u+(V+1)+k*(X+1),te=u+(V+1)+k*X;s.push(G,Y,te),s.push(Y,ie,te),N+=6}a.addGroup(h,N,O),h+=N,u+=W}}static fromJSON(e){return new Qs(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function kf(e){let t={};for(let n in e){t[n]={};for(let i in e[n]){let r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function No(e){let t={};for(let n=0;n<e.length;n++){let i=kf(e[n]);for(let r in i)t[r]=i[r]}return t}function Hie(e){let t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}function K9(e){return e.getRenderTarget()===null&&e.outputEncoding===jt?Rl:oM}var $f={clone:kf,merge:No},Gie=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Wie=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,Vn=class extends vy{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Gie,this.fragmentShader=Wie,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=kf(e.uniforms),this.uniformsGroups=Hie(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let i in this.uniforms){let r=this.uniforms[i].value;r&&r.isTexture?t.uniforms[i]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[i]={type:"m4",value:r.toArray()}:t.uniforms[i]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let n={};for(let i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}},sp=class extends qn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Be,this.projectionMatrix=new Be,this.projectionMatrixInverse=new Be}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},go=class extends sp{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=Yv*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(Lv*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Yv*2*Math.atan(Math.tan(Lv*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,i,r,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(Lv*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,o=this.view;if(this.view!==null&&this.view.enabled){let s=o.fullWidth,l=o.fullHeight;r+=o.offsetX*i/s,t-=o.offsetY*n/l,i*=o.width/s,n*=o.height/l}let a=this.filmOffset;a!==0&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}},Fm=-90,Nm=1,qie=class extends qn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;let i=new go(Fm,Nm,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);let r=new go(Fm,Nm,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(-1,0,0),this.add(r);let o=new go(Fm,Nm,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);let a=new go(Fm,Nm,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);let s=new go(Fm,Nm,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(0,0,1),this.add(s);let l=new go(Fm,Nm,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,-1),this.add(l)}update(e,t){this.parent===null&&this.updateMatrixWorld();let n=this.renderTarget,[i,r,o,a,s,l]=this.children,c=e.getRenderTarget(),d=e.toneMapping,u=e.xr.enabled;e.toneMapping=Hl,e.xr.enabled=!1;let h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,r),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=d,e.xr.enabled=u,n.texture.needsPMREMUpdate=!0}},RA=class extends wi{constructor(e,t,n,i,r,o,a,s,l,c){e=e!==void 0?e:[],t=t!==void 0?t:$h,super(e,t,n,i,r,o,a,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},Yie=class extends Bn{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new RA(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:qt}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Qs(5,5,5),r=new Vn({name:"CubemapFromEquirect",uniforms:kf(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Ir,blending:er});r.uniforms.tEquirect.value=t;let o=new Ji(i,r),a=t.minFilter;return t.minFilter===Lf&&(t.minFilter=qt),new qie(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){let r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(r)}},J2=new L,Xie=new L,Qie=new fr,Fa=class{constructor(e=new L(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){let i=J2.subVectors(n,t).cross(Xie.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){let n=e.delta(J2),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(n).multiplyScalar(r).add(e.start)}intersectsLine(e){let t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let n=t||Qie.getNormalMatrix(e),i=this.coplanarPoint(J2).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}},zm=new ua,I_=new L,LA=class{constructor(e=new Fa,t=new Fa,n=new Fa,i=new Fa,r=new Fa,o=new Fa){this.planes=[e,t,n,i,r,o]}set(e,t,n,i,r,o){let a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(o),this}copy(e){let t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=this.planes,n=e.elements,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],d=n[7],u=n[8],h=n[9],p=n[10],m=n[11],g=n[12],v=n[13],b=n[14],_=n[15];return t[0].setComponents(a-i,d-s,m-u,_-g).normalize(),t[1].setComponents(a+i,d+s,m+u,_+g).normalize(),t[2].setComponents(a+r,d+l,m+h,_+v).normalize(),t[3].setComponents(a-r,d-l,m-h,_-v).normalize(),t[4].setComponents(a-o,d-c,m-p,_-b).normalize(),t[5].setComponents(a+o,d+c,m+p,_+b).normalize(),this}intersectsObject(e){let t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),zm.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(zm)}intersectsSprite(e){return zm.center.set(0,0,0),zm.radius=.7071067811865476,zm.applyMatrix4(e.matrixWorld),this.intersectsSphere(zm)}intersectsSphere(e){let t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){let t=this.planes;for(let n=0;n<6;n++){let i=t[n];if(I_.x=i.normal.x>0?e.max.x:e.min.x,I_.y=i.normal.y>0?e.max.y:e.min.y,I_.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(I_)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function J9(){let e=null,t=!1,n=null,i=null;function r(o,a){n(o,a),i=e.requestAnimationFrame(r)}return{start:function(){t!==!0&&n!==null&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(o){n=o},setContext:function(o){e=o}}}function Zie(e,t){let n=t.isWebGL2,i=new WeakMap;function r(c,d){let u=c.array,h=c.usage,p=e.createBuffer();e.bindBuffer(d,p),e.bufferData(d,u,h),c.onUploadCallback();let m;if(u instanceof Float32Array)m=5126;else if(u instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)m=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=5123;else if(u instanceof Int16Array)m=5122;else if(u instanceof Uint32Array)m=5125;else if(u instanceof Int32Array)m=5124;else if(u instanceof Int8Array)m=5120;else if(u instanceof Uint8Array)m=5121;else if(u instanceof Uint8ClampedArray)m=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:p,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:c.version}}function o(c,d,u){let h=d.array,p=d.updateRange;e.bindBuffer(u,c),p.count===-1?e.bufferSubData(u,0,h):(n?e.bufferSubData(u,p.offset*h.BYTES_PER_ELEMENT,h,p.offset,p.count):e.bufferSubData(u,p.offset*h.BYTES_PER_ELEMENT,h.subarray(p.offset,p.offset+p.count)),p.count=-1),d.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);let d=i.get(c);d&&(e.deleteBuffer(d.buffer),i.delete(c))}function l(c,d){if(c.isGLBufferAttribute){let h=i.get(c);(!h||h.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);let u=i.get(c);u===void 0?i.set(c,r(c,d)):u.version<c.version&&(o(u.buffer,c,d),u.version=c.version)}return{get:a,remove:s,update:l}}var lp=class extends pt{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};let r=e/2,o=t/2,a=Math.floor(n),s=Math.floor(i),l=a+1,c=s+1,d=e/a,u=t/s,h=[],p=[],m=[],g=[];for(let v=0;v<c;v++){let b=v*u-o;for(let _=0;_<l;_++){let C=_*d-r;p.push(C,-b,0),m.push(0,0,1),g.push(_/a),g.push(1-v/s)}}for(let v=0;v<s;v++)for(let b=0;b<a;b++){let _=b+l*v,C=b+l*(v+1),M=b+1+l*(v+1),P=b+1+l*v;h.push(_,C,P),h.push(C,M,P)}this.setIndex(h),this.setAttribute("position",new Je(p,3)),this.setAttribute("normal",new Je(m,3)),this.setAttribute("uv",new Je(g,2))}static fromJSON(e){return new lp(e.width,e.height,e.widthSegments,e.heightSegments)}},$ie=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Kie=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Jie=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,ere=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,tre=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,nre=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,ire="vec3 transformed = vec3( position );",rre=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ore=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,are=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,sre=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,lre=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,cre=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,dre=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ure=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,hre=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,pre=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,mre=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,fre=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,gre=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,vre=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,yre=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,bre=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,_re=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Cre=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Mre=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,wre="gl_FragColor = linearToOutputTexel( gl_FragColor );",xre=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Pre=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Ore=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Sre=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Ere=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Dre=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Are=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Tre=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Ire=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Rre=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Lre=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,kre=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Fre=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Nre=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,zre=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Bre=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Vre=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Ure=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,jre=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Hre=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Gre=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Wre=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,qre=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Yre=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Xre=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Qre=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Zre=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,$re=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Kre=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Jre=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,eoe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,toe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,noe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,ioe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,roe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,ooe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,aoe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,soe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,loe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,coe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,doe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,uoe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,hoe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,poe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,moe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,foe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,goe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,voe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,yoe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,boe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,_oe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Coe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Moe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,woe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,xoe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Poe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Ooe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Soe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Eoe=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Doe=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Aoe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Toe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Ioe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Roe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Loe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,koe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Foe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Noe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,zoe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Boe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Voe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,Uoe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,joe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Hoe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Goe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Woe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,qoe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Yoe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Xoe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,Qoe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Zoe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,$oe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Koe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Joe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,eae=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,tae=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,nae=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,iae=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,rae=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,oae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,aae=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,sae=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lae=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cae=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,dae=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uae=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hae=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pae=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,mae=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fae=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,gae=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vae=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yae=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bae=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,_ae=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cae=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mae=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wae=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,xae=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Pae=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Oae=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Sae=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Eae=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Wt={alphamap_fragment:$ie,alphamap_pars_fragment:Kie,alphatest_fragment:Jie,alphatest_pars_fragment:ere,aomap_fragment:tre,aomap_pars_fragment:nre,begin_vertex:ire,beginnormal_vertex:rre,bsdfs:ore,iridescence_fragment:are,bumpmap_pars_fragment:sre,clipping_planes_fragment:lre,clipping_planes_pars_fragment:cre,clipping_planes_pars_vertex:dre,clipping_planes_vertex:ure,color_fragment:hre,color_pars_fragment:pre,color_pars_vertex:mre,color_vertex:fre,common:gre,cube_uv_reflection_fragment:vre,defaultnormal_vertex:yre,displacementmap_pars_vertex:bre,displacementmap_vertex:_re,emissivemap_fragment:Cre,emissivemap_pars_fragment:Mre,encodings_fragment:wre,encodings_pars_fragment:xre,envmap_fragment:Pre,envmap_common_pars_fragment:Ore,envmap_pars_fragment:Sre,envmap_pars_vertex:Ere,envmap_physical_pars_fragment:Vre,envmap_vertex:Dre,fog_vertex:Are,fog_pars_vertex:Tre,fog_fragment:Ire,fog_pars_fragment:Rre,gradientmap_pars_fragment:Lre,lightmap_fragment:kre,lightmap_pars_fragment:Fre,lights_lambert_fragment:Nre,lights_lambert_pars_fragment:zre,lights_pars_begin:Bre,lights_toon_fragment:Ure,lights_toon_pars_fragment:jre,lights_phong_fragment:Hre,lights_phong_pars_fragment:Gre,lights_physical_fragment:Wre,lights_physical_pars_fragment:qre,lights_fragment_begin:Yre,lights_fragment_maps:Xre,lights_fragment_end:Qre,logdepthbuf_fragment:Zre,logdepthbuf_pars_fragment:$re,logdepthbuf_pars_vertex:Kre,logdepthbuf_vertex:Jre,map_fragment:eoe,map_pars_fragment:toe,map_particle_fragment:noe,map_particle_pars_fragment:ioe,metalnessmap_fragment:roe,metalnessmap_pars_fragment:ooe,morphcolor_vertex:aoe,morphnormal_vertex:soe,morphtarget_pars_vertex:loe,morphtarget_vertex:coe,normal_fragment_begin:doe,normal_fragment_maps:uoe,normal_pars_fragment:hoe,normal_pars_vertex:poe,normal_vertex:moe,normalmap_pars_fragment:foe,clearcoat_normal_fragment_begin:goe,clearcoat_normal_fragment_maps:voe,clearcoat_pars_fragment:yoe,iridescence_pars_fragment:boe,output_fragment:_oe,packing:Coe,premultiplied_alpha_fragment:Moe,project_vertex:woe,dithering_fragment:xoe,dithering_pars_fragment:Poe,roughnessmap_fragment:Ooe,roughnessmap_pars_fragment:Soe,shadowmap_pars_fragment:Eoe,shadowmap_pars_vertex:Doe,shadowmap_vertex:Aoe,shadowmask_pars_fragment:Toe,skinbase_vertex:Ioe,skinning_pars_vertex:Roe,skinning_vertex:Loe,skinnormal_vertex:koe,specularmap_fragment:Foe,specularmap_pars_fragment:Noe,tonemapping_fragment:zoe,tonemapping_pars_fragment:Boe,transmission_fragment:Voe,transmission_pars_fragment:Uoe,uv_pars_fragment:joe,uv_pars_vertex:Hoe,uv_vertex:Goe,uv2_pars_fragment:Woe,uv2_pars_vertex:qoe,uv2_vertex:Yoe,worldpos_vertex:Xoe,background_vert:Qoe,background_frag:Zoe,backgroundCube_vert:$oe,backgroundCube_frag:Koe,cube_vert:Joe,cube_frag:eae,depth_vert:tae,depth_frag:nae,distanceRGBA_vert:iae,distanceRGBA_frag:rae,equirect_vert:oae,equirect_frag:aae,linedashed_vert:sae,linedashed_frag:lae,meshbasic_vert:cae,meshbasic_frag:dae,meshlambert_vert:uae,meshlambert_frag:hae,meshmatcap_vert:pae,meshmatcap_frag:mae,meshnormal_vert:fae,meshnormal_frag:gae,meshphong_vert:vae,meshphong_frag:yae,meshphysical_vert:bae,meshphysical_frag:_ae,meshtoon_vert:Cae,meshtoon_frag:Mae,points_vert:wae,points_frag:xae,shadow_vert:Pae,shadow_frag:Oae,sprite_vert:Sae,sprite_frag:Eae},Xe={common:{diffuse:{value:new _t(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new fr},uv2Transform:{value:new fr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new oe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new _t(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new _t(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new fr}},sprite:{diffuse:{value:new _t(16777215)},opacity:{value:1},center:{value:new oe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new fr}}},kl={basic:{uniforms:No([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.fog]),vertexShader:Wt.meshbasic_vert,fragmentShader:Wt.meshbasic_frag},lambert:{uniforms:No([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,Xe.lights,{emissive:{value:new _t(0)}}]),vertexShader:Wt.meshlambert_vert,fragmentShader:Wt.meshlambert_frag},phong:{uniforms:No([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,Xe.lights,{emissive:{value:new _t(0)},specular:{value:new _t(1118481)},shininess:{value:30}}]),vertexShader:Wt.meshphong_vert,fragmentShader:Wt.meshphong_frag},standard:{uniforms:No([Xe.common,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.roughnessmap,Xe.metalnessmap,Xe.fog,Xe.lights,{emissive:{value:new _t(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Wt.meshphysical_vert,fragmentShader:Wt.meshphysical_frag},toon:{uniforms:No([Xe.common,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.gradientmap,Xe.fog,Xe.lights,{emissive:{value:new _t(0)}}]),vertexShader:Wt.meshtoon_vert,fragmentShader:Wt.meshtoon_frag},matcap:{uniforms:No([Xe.common,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,{matcap:{value:null}}]),vertexShader:Wt.meshmatcap_vert,fragmentShader:Wt.meshmatcap_frag},points:{uniforms:No([Xe.points,Xe.fog]),vertexShader:Wt.points_vert,fragmentShader:Wt.points_frag},dashed:{uniforms:No([Xe.common,Xe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Wt.linedashed_vert,fragmentShader:Wt.linedashed_frag},depth:{uniforms:No([Xe.common,Xe.displacementmap]),vertexShader:Wt.depth_vert,fragmentShader:Wt.depth_frag},normal:{uniforms:No([Xe.common,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,{opacity:{value:1}}]),vertexShader:Wt.meshnormal_vert,fragmentShader:Wt.meshnormal_frag},sprite:{uniforms:No([Xe.sprite,Xe.fog]),vertexShader:Wt.sprite_vert,fragmentShader:Wt.sprite_frag},background:{uniforms:{uvTransform:{value:new fr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Wt.background_vert,fragmentShader:Wt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Wt.backgroundCube_vert,fragmentShader:Wt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Wt.cube_vert,fragmentShader:Wt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Wt.equirect_vert,fragmentShader:Wt.equirect_frag},distanceRGBA:{uniforms:No([Xe.common,Xe.displacementmap,{referencePosition:{value:new L},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Wt.distanceRGBA_vert,fragmentShader:Wt.distanceRGBA_frag},shadow:{uniforms:No([Xe.lights,Xe.fog,{color:{value:new _t(0)},opacity:{value:1}}]),vertexShader:Wt.shadow_vert,fragmentShader:Wt.shadow_frag}};kl.physical={uniforms:No([kl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new oe(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new _t(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new oe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new _t(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new _t(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Wt.meshphysical_vert,fragmentShader:Wt.meshphysical_frag};var R_={r:0,b:0,g:0};function Dae(e,t,n,i,r,o,a){let s=new _t(0),l=o===!0?0:1,c,d,u=null,h=0,p=null;function m(v,b){let _=!1,C=b.isScene===!0?b.background:null;C&&C.isTexture&&(C=(b.backgroundBlurriness>0?n:t).get(C));let M=e.xr,P=M.getSession&&M.getSession();P&&P.environmentBlendMode==="additive"&&(C=null),C===null?g(s,l):C&&C.isColor&&(g(C,1),_=!0),(e.autoClear||_)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),C&&(C.isCubeTexture||C.mapping===gy)?(d===void 0&&(d=new Ji(new Qs(1,1,1),new Vn({name:"BackgroundCubeMaterial",uniforms:kf(kl.backgroundCube.uniforms),vertexShader:kl.backgroundCube.vertexShader,fragmentShader:kl.backgroundCube.fragmentShader,side:Ir,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(x,E,O){this.matrixWorld.copyPosition(O.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=C,d.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,d.material.toneMapped=C.encoding!==jt,(u!==C||h!==C.version||p!==e.toneMapping)&&(d.material.needsUpdate=!0,u=C,h=C.version,p=e.toneMapping),d.layers.enableAll(),v.unshift(d,d.geometry,d.material,0,0,null)):C&&C.isTexture&&(c===void 0&&(c=new Ji(new lp(2,2),new Vn({name:"BackgroundMaterial",uniforms:kf(kl.background.uniforms),vertexShader:kl.background.vertexShader,fragmentShader:kl.background.fragmentShader,side:Ys,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=C,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=C.encoding!==jt,C.matrixAutoUpdate===!0&&C.updateMatrix(),c.material.uniforms.uvTransform.value.copy(C.matrix),(u!==C||h!==C.version||p!==e.toneMapping)&&(c.material.needsUpdate=!0,u=C,h=C.version,p=e.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}function g(v,b){v.getRGB(R_,K9(e)),i.buffers.color.setClear(R_.r,R_.g,R_.b,b,a)}return{getClearColor:function(){return s},setClearColor:function(v,b=1){s.set(v),l=b,g(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,g(s,l)},render:m}}function Aae(e,t,n,i){let r=e.getParameter(34921),o=i.isWebGL2?null:t.get("OES_vertex_array_object"),a=i.isWebGL2||o!==null,s={},l=v(null),c=l,d=!1;function u(k,z,W,N,F){let X=!1;if(a){let V=g(N,W,z);c!==V&&(c=V,p(c.object)),X=b(k,N,W,F),X&&_(k,N,W,F)}else{let V=z.wireframe===!0;(c.geometry!==N.id||c.program!==W.id||c.wireframe!==V)&&(c.geometry=N.id,c.program=W.id,c.wireframe=V,X=!0)}F!==null&&n.update(F,34963),(X||d)&&(d=!1,O(k,z,W,N),F!==null&&e.bindBuffer(34963,n.get(F).buffer))}function h(){return i.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}function p(k){return i.isWebGL2?e.bindVertexArray(k):o.bindVertexArrayOES(k)}function m(k){return i.isWebGL2?e.deleteVertexArray(k):o.deleteVertexArrayOES(k)}function g(k,z,W){let N=W.wireframe===!0,F=s[k.id];F===void 0&&(F={},s[k.id]=F);let X=F[z.id];X===void 0&&(X={},F[z.id]=X);let V=X[N];return V===void 0&&(V=v(h()),X[N]=V),V}function v(k){let z=[],W=[],N=[];for(let F=0;F<r;F++)z[F]=0,W[F]=0,N[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:z,enabledAttributes:W,attributeDivisors:N,object:k,attributes:{},index:null}}function b(k,z,W,N){let F=c.attributes,X=z.attributes,V=0,G=W.getAttributes();for(let Y in G)if(G[Y].location>=0){let ie=F[Y],te=X[Y];if(te===void 0&&(Y==="instanceMatrix"&&k.instanceMatrix&&(te=k.instanceMatrix),Y==="instanceColor"&&k.instanceColor&&(te=k.instanceColor)),ie===void 0||ie.attribute!==te||te&&ie.data!==te.data)return!0;V++}return c.attributesNum!==V||c.index!==N}function _(k,z,W,N){let F={},X=z.attributes,V=0,G=W.getAttributes();for(let Y in G)if(G[Y].location>=0){let ie=X[Y];ie===void 0&&(Y==="instanceMatrix"&&k.instanceMatrix&&(ie=k.instanceMatrix),Y==="instanceColor"&&k.instanceColor&&(ie=k.instanceColor));let te={};te.attribute=ie,ie&&ie.data&&(te.data=ie.data),F[Y]=te,V++}c.attributes=F,c.attributesNum=V,c.index=N}function C(){let k=c.newAttributes;for(let z=0,W=k.length;z<W;z++)k[z]=0}function M(k){P(k,0)}function P(k,z){let W=c.newAttributes,N=c.enabledAttributes,F=c.attributeDivisors;W[k]=1,N[k]===0&&(e.enableVertexAttribArray(k),N[k]=1),F[k]!==z&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,z),F[k]=z)}function x(){let k=c.newAttributes,z=c.enabledAttributes;for(let W=0,N=z.length;W<N;W++)z[W]!==k[W]&&(e.disableVertexAttribArray(W),z[W]=0)}function E(k,z,W,N,F,X){i.isWebGL2===!0&&(W===5124||W===5125)?e.vertexAttribIPointer(k,z,W,F,X):e.vertexAttribPointer(k,z,W,N,F,X)}function O(k,z,W,N){if(i.isWebGL2===!1&&(k.isInstancedMesh||N.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;C();let F=N.attributes,X=W.getAttributes(),V=z.defaultAttributeValues;for(let G in X){let Y=X[G];if(Y.location>=0){let ie=F[G];if(ie===void 0&&(G==="instanceMatrix"&&k.instanceMatrix&&(ie=k.instanceMatrix),G==="instanceColor"&&k.instanceColor&&(ie=k.instanceColor)),ie!==void 0){let te=ie.normalized,ne=ie.itemSize,re=n.get(ie);if(re===void 0)continue;let ye=re.buffer,he=re.type,Me=re.bytesPerElement;if(ie.isInterleavedBufferAttribute){let pe=ie.data,Ae=pe.stride,xe=ie.offset;if(pe.isInstancedInterleavedBuffer){for(let be=0;be<Y.locationSize;be++)P(Y.location+be,pe.meshPerAttribute);k.isInstancedMesh!==!0&&N._maxInstanceCount===void 0&&(N._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let be=0;be<Y.locationSize;be++)M(Y.location+be);e.bindBuffer(34962,ye);for(let be=0;be<Y.locationSize;be++)E(Y.location+be,ne/Y.locationSize,he,te,Ae*Me,(xe+ne/Y.locationSize*be)*Me)}else{if(ie.isInstancedBufferAttribute){for(let pe=0;pe<Y.locationSize;pe++)P(Y.location+pe,ie.meshPerAttribute);k.isInstancedMesh!==!0&&N._maxInstanceCount===void 0&&(N._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let pe=0;pe<Y.locationSize;pe++)M(Y.location+pe);e.bindBuffer(34962,ye);for(let pe=0;pe<Y.locationSize;pe++)E(Y.location+pe,ne/Y.locationSize,he,te,ne*Me,ne/Y.locationSize*pe*Me)}}else if(V!==void 0){let te=V[G];if(te!==void 0)switch(te.length){case 2:e.vertexAttrib2fv(Y.location,te);break;case 3:e.vertexAttrib3fv(Y.location,te);break;case 4:e.vertexAttrib4fv(Y.location,te);break;default:e.vertexAttrib1fv(Y.location,te)}}}}x()}function S(){T();for(let k in s){let z=s[k];for(let W in z){let N=z[W];for(let F in N)m(N[F].object),delete N[F];delete z[W]}delete s[k]}}function D(k){if(s[k.id]===void 0)return;let z=s[k.id];for(let W in z){let N=z[W];for(let F in N)m(N[F].object),delete N[F];delete z[W]}delete s[k.id]}function I(k){for(let z in s){let W=s[z];if(W[k.id]===void 0)continue;let N=W[k.id];for(let F in N)m(N[F].object),delete N[F];delete W[k.id]}}function T(){R(),d=!0,c!==l&&(c=l,p(c.object))}function R(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:T,resetDefaultState:R,dispose:S,releaseStatesOfGeometry:D,releaseStatesOfProgram:I,initAttributes:C,enableAttribute:M,disableUnusedAttributes:x}}function Tae(e,t,n,i){let r=i.isWebGL2,o;function a(c){o=c}function s(c,d){e.drawArrays(o,c,d),n.update(d,o,1)}function l(c,d,u){if(u===0)return;let h,p;if(r)h=e,p="drawArraysInstanced";else if(h=t.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[p](o,c,d,u),n.update(d,o,u)}this.setMode=a,this.render=s,this.renderInstances=l}function Iae(e,t,n){let i;function r(){if(i!==void 0)return i;if(t.has("EXT_texture_filter_anisotropic")===!0){let E=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(E){if(E==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";E="mediump"}return E==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let a=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext,s=n.precision!==void 0?n.precision:"highp",l=o(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);let c=a||t.has("WEBGL_draw_buffers"),d=n.logarithmicDepthBuffer===!0,u=e.getParameter(34930),h=e.getParameter(35660),p=e.getParameter(3379),m=e.getParameter(34076),g=e.getParameter(34921),v=e.getParameter(36347),b=e.getParameter(36348),_=e.getParameter(36349),C=h>0,M=a||t.has("OES_texture_float"),P=C&&M,x=a?e.getParameter(36183):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:d,maxTextures:u,maxVertexTextures:h,maxTextureSize:p,maxCubemapSize:m,maxAttributes:g,maxVertexUniforms:v,maxVaryings:b,maxFragmentUniforms:_,vertexTextures:C,floatFragmentTextures:M,floatVertexTextures:P,maxSamples:x}}function Rae(e){let t=this,n=null,i=0,r=!1,o=!1,a=new Fa,s=new fr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,h){let p=u.length!==0||h||i!==0||r;return r=h,i=u.length,p},this.beginShadows=function(){o=!0,d(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(u,h){n=d(u,h,0)},this.setState=function(u,h,p){let m=u.clippingPlanes,g=u.clipIntersection,v=u.clipShadows,b=e.get(u);if(!r||m===null||m.length===0||o&&!v)o?d(null):c();else{let _=o?0:i,C=_*4,M=b.clippingState||null;l.value=M,M=d(m,h,C,p);for(let P=0;P!==C;++P)M[P]=n[P];b.clippingState=M,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function d(u,h,p,m){let g=u!==null?u.length:0,v=null;if(g!==0){if(v=l.value,m!==!0||v===null){let b=p+g*4,_=h.matrixWorldInverse;s.getNormalMatrix(_),(v===null||v.length<b)&&(v=new Float32Array(b));for(let C=0,M=p;C!==g;++C,M+=4)a.copy(u[C]).applyMatrix4(_,s),a.normal.toArray(v,M),v[M+3]=a.constant}l.value=v,l.needsUpdate=!0}return t.numPlanes=g,t.numIntersection=0,v}}function Lae(e){let t=new WeakMap;function n(a,s){return s===A3?a.mapping=$h:s===T3&&(a.mapping=Kh),a}function i(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){let s=a.mapping;if(s===A3||s===T3)if(t.has(a)){let l=t.get(a).texture;return n(l,a.mapping)}else{let l=a.image;if(l&&l.height>0){let c=new Yie(l.height/2);return c.fromEquirectangularTexture(e,a),t.set(a,c),a.addEventListener("dispose",r),n(c.texture,a.mapping)}else return null}}return a}function r(a){let s=a.target;s.removeEventListener("dispose",r);let l=t.get(s);l!==void 0&&(t.delete(s),l.dispose())}function o(){t=new WeakMap}return{get:i,dispose:o}}var kA=class extends sp{constructor(e=-1,t=1,n=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,o=n+e,a=i+t,s=i-t;if(this.view!==null&&this.view.enabled){let l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=l*this.view.offsetX,o=r+l*this.view.width,a-=c*this.view.offsetY,s=a-c*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}},mf=4,EF=[.125,.215,.35,.446,.526,.582],Ah=20,eE=new kA,DF=new _t,tE=null,Oh=(1+Math.sqrt(5))/2,Bm=1/Oh,AF=[new L(1,1,1),new L(-1,1,1),new L(1,1,-1),new L(-1,1,-1),new L(0,Oh,Bm),new L(0,Oh,-Bm),new L(Bm,0,Oh),new L(-Bm,0,Oh),new L(Oh,Bm,0),new L(-Oh,Bm,0)],TF=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){tE=this._renderer.getRenderTarget(),this._setSize(256);let r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=LF(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=RF(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(tE),e.scissorTest=!1,L_(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===$h||e.mapping===Kh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),tE=this._renderer.getRenderTarget();let n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:qt,minFilter:qt,generateMipmaps:!1,type:Jh,format:Ar,encoding:Xs,depthBuffer:!1},i=IF(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=IF(e,t,n);let{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=kae(r)),this._blurMaterial=Fae(r,e,t)}return i}_compileMaterial(e){let t=new Ji(this._lodPlanes[0],e);this._renderer.compile(t,eE)}_sceneToCubeUV(e,t,n,i){let r=new go(90,1,t,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,c=s.toneMapping;s.getClearColor(DF),s.toneMapping=Hl,s.autoClear=!1;let d=new ap({name:"PMREM.Background",side:Ir,depthWrite:!1,depthTest:!1}),u=new Ji(new Qs,d),h=!1,p=e.background;p?p.isColor&&(d.color.copy(p),e.background=null,h=!0):(d.color.copy(DF),h=!0);for(let m=0;m<6;m++){let g=m%3;g===0?(r.up.set(0,o[m],0),r.lookAt(a[m],0,0)):g===1?(r.up.set(0,0,o[m]),r.lookAt(0,a[m],0)):(r.up.set(0,o[m],0),r.lookAt(0,0,a[m]));let v=this._cubeSize;L_(i,g*v,m>2?v:0,v,v),s.setRenderTarget(i),h&&s.render(u,r),s.render(e,r)}u.geometry.dispose(),u.material.dispose(),s.toneMapping=c,s.autoClear=l,e.background=p}_textureToCubeUV(e,t){let n=this._renderer,i=e.mapping===$h||e.mapping===Kh;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=LF()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=RF());let r=i?this._cubemapMaterial:this._equirectMaterial,o=new Ji(this._lodPlanes[0],r),a=r.uniforms;a.envMap.value=e;let s=this._cubeSize;L_(t,0,0,3*s,2*s),n.setRenderTarget(t),n.render(o,eE)}_applyPMREM(e){let t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){let r=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=AF[(i-1)%AF.length];this._blur(e,i-1,i,r,o)}t.autoClear=n}_blur(e,t,n,i,r){let o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",r),this._halfBlur(o,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,o,a){let s=this._renderer,l=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let c=3,d=new Ji(this._lodPlanes[i],l),u=l.uniforms,h=this._sizeLods[n]-1,p=isFinite(r)?Math.PI/(2*h):2*Math.PI/(2*Ah-1),m=r/p,g=isFinite(r)?1+Math.floor(c*m):Ah;g>Ah&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${Ah}`);let v=[],b=0;for(let x=0;x<Ah;++x){let E=x/m,O=Math.exp(-E*E/2);v.push(O),x===0?b+=O:x<g&&(b+=2*O)}for(let x=0;x<v.length;x++)v[x]=v[x]/b;u.envMap.value=e.texture,u.samples.value=g,u.weights.value=v,u.latitudinal.value=o==="latitudinal",a&&(u.poleAxis.value=a);let{_lodMax:_}=this;u.dTheta.value=p,u.mipInt.value=_-n;let C=this._sizeLods[i],M=3*C*(i>_-mf?i-_+mf:0),P=4*(this._cubeSize-C);L_(t,M,P,3*C,2*C),s.setRenderTarget(t),s.render(d,eE)}};function kae(e){let t=[],n=[],i=[],r=e,o=e-mf+1+EF.length;for(let a=0;a<o;a++){let s=Math.pow(2,r);n.push(s);let l=1/s;a>e-mf?l=EF[a-e+mf-1]:a===0&&(l=0),i.push(l);let c=1/(s-2),d=-c,u=1+c,h=[d,d,u,d,u,u,d,d,u,u,d,u],p=6,m=6,g=3,v=2,b=1,_=new Float32Array(g*m*p),C=new Float32Array(v*m*p),M=new Float32Array(b*m*p);for(let x=0;x<p;x++){let E=x%3*2/3-1,O=x>2?0:-1,S=[E,O,0,E+2/3,O,0,E+2/3,O+1,0,E,O,0,E+2/3,O+1,0,E,O+1,0];_.set(S,g*m*x),C.set(h,v*m*x);let D=[x,x,x,x,x,x];M.set(D,b*m*x)}let P=new pt;P.setAttribute("position",new St(_,g)),P.setAttribute("uv",new St(C,v)),P.setAttribute("faceIndex",new St(M,b)),t.push(P),r>mf&&r--}return{lodPlanes:t,sizeLods:n,sigmas:i}}function IF(e,t,n){let i=new Bn(e,t,n);return i.texture.mapping=gy,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function L_(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function Fae(e,t,n){let i=new Float32Array(Ah),r=new L(0,1,0);return new Vn({name:"SphericalGaussianBlur",defines:{n:Ah,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:FA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:er,depthTest:!1,depthWrite:!1})}function RF(){return new Vn({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:FA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:er,depthTest:!1,depthWrite:!1})}function LF(){return new Vn({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:FA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:er,depthTest:!1,depthWrite:!1})}function FA(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Nae(e){let t=new WeakMap,n=null;function i(s){if(s&&s.isTexture){let l=s.mapping,c=l===A3||l===T3,d=l===$h||l===Kh;if(c||d)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let u=t.get(s);return n===null&&(n=new TF(e)),u=c?n.fromEquirectangular(s,u):n.fromCubemap(s,u),t.set(s,u),u.texture}else{if(t.has(s))return t.get(s).texture;{let u=s.image;if(c&&u&&u.height>0||d&&u&&r(u)){n===null&&(n=new TF(e));let h=c?n.fromEquirectangular(s):n.fromCubemap(s);return t.set(s,h),s.addEventListener("dispose",o),h.texture}else return null}}}return s}function r(s){let l=0,c=6;for(let d=0;d<c;d++)s[d]!==void 0&&l++;return l===c}function o(s){let l=s.target;l.removeEventListener("dispose",o);let c=t.get(l);c!==void 0&&(t.delete(l),c.dispose())}function a(){t=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:a}}function zae(e){let t={};function n(i){if(t[i]!==void 0)return t[i];let r;switch(i){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(i)}return t[i]=r,r}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){let r=n(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Bae(e,t,n,i){let r={},o=new WeakMap;function a(u){let h=u.target;h.index!==null&&t.remove(h.index);for(let m in h.attributes)t.remove(h.attributes[m]);h.removeEventListener("dispose",a),delete r[h.id];let p=o.get(h);p&&(t.remove(p),o.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function s(u,h){return r[h.id]===!0||(h.addEventListener("dispose",a),r[h.id]=!0,n.memory.geometries++),h}function l(u){let h=u.attributes;for(let m in h)t.update(h[m],34962);let p=u.morphAttributes;for(let m in p){let g=p[m];for(let v=0,b=g.length;v<b;v++)t.update(g[v],34962)}}function c(u){let h=[],p=u.index,m=u.attributes.position,g=0;if(p!==null){let _=p.array;g=p.version;for(let C=0,M=_.length;C<M;C+=3){let P=_[C+0],x=_[C+1],E=_[C+2];h.push(P,x,x,E,E,P)}}else{let _=m.array;g=m.version;for(let C=0,M=_.length/3-1;C<M;C+=3){let P=C+0,x=C+1,E=C+2;h.push(P,x,x,E,E,P)}}let v=new(q9(h)?bf:$9)(h,1);v.version=g;let b=o.get(u);b&&t.remove(b),o.set(u,v)}function d(u){let h=o.get(u);if(h){let p=u.index;p!==null&&h.version<p.version&&c(u)}else c(u);return o.get(u)}return{get:s,update:l,getWireframeAttribute:d}}function Vae(e,t,n,i){let r=i.isWebGL2,o;function a(h){o=h}let s,l;function c(h){s=h.type,l=h.bytesPerElement}function d(h,p){e.drawElements(o,p,s,h*l),n.update(p,o,1)}function u(h,p,m){if(m===0)return;let g,v;if(r)g=e,v="drawElementsInstanced";else if(g=t.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[v](o,p,s,h*l,m),n.update(p,o,m)}this.setMode=a,this.setIndex=c,this.render=d,this.renderInstances=u}function Uae(e){let t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,a,s){switch(n.calls++,a){case 4:n.triangles+=s*(o/3);break;case 1:n.lines+=s*(o/2);break;case 3:n.lines+=s*(o-1);break;case 2:n.lines+=s*o;break;case 0:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:r,update:i}}function jae(e,t){return e[0]-t[0]}function Hae(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Gae(e,t,n){let i={},r=new Float32Array(8),o=new WeakMap,a=new Et,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function l(c,d,u,h){let p=c.morphTargetInfluences;if(t.isWebGL2===!0){let m=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,g=m!==void 0?m.length:0,v=o.get(d);if(v===void 0||v.count!==g){let C=function(){k.dispose(),o.delete(d),d.removeEventListener("dispose",C)};v!==void 0&&v.texture.dispose();let M=d.morphAttributes.position!==void 0,P=d.morphAttributes.normal!==void 0,x=d.morphAttributes.color!==void 0,E=d.morphAttributes.position||[],O=d.morphAttributes.normal||[],S=d.morphAttributes.color||[],D=0;M===!0&&(D=1),P===!0&&(D=2),x===!0&&(D=3);let I=d.attributes.position.count*D,T=1;I>t.maxTextureSize&&(T=Math.ceil(I/t.maxTextureSize),I=t.maxTextureSize);let R=new Float32Array(I*T*4*g),k=new Z9(R,I,T,g);k.type=Ki,k.needsUpdate=!0;let z=D*4;for(let W=0;W<g;W++){let N=E[W],F=O[W],X=S[W],V=I*T*4*W;for(let G=0;G<N.count;G++){let Y=G*z;M===!0&&(a.fromBufferAttribute(N,G),R[V+Y+0]=a.x,R[V+Y+1]=a.y,R[V+Y+2]=a.z,R[V+Y+3]=0),P===!0&&(a.fromBufferAttribute(F,G),R[V+Y+4]=a.x,R[V+Y+5]=a.y,R[V+Y+6]=a.z,R[V+Y+7]=0),x===!0&&(a.fromBufferAttribute(X,G),R[V+Y+8]=a.x,R[V+Y+9]=a.y,R[V+Y+10]=a.z,R[V+Y+11]=X.itemSize===4?a.w:1)}}v={count:g,texture:k,size:new oe(I,T)},o.set(d,v),d.addEventListener("dispose",C)}let b=0;for(let C=0;C<p.length;C++)b+=p[C];let _=d.morphTargetsRelative?1:1-b;h.getUniforms().setValue(e,"morphTargetBaseInfluence",_),h.getUniforms().setValue(e,"morphTargetInfluences",p),h.getUniforms().setValue(e,"morphTargetsTexture",v.texture,n),h.getUniforms().setValue(e,"morphTargetsTextureSize",v.size)}else{let m=p===void 0?0:p.length,g=i[d.id];if(g===void 0||g.length!==m){g=[];for(let M=0;M<m;M++)g[M]=[M,0];i[d.id]=g}for(let M=0;M<m;M++){let P=g[M];P[0]=M,P[1]=p[M]}g.sort(Hae);for(let M=0;M<8;M++)M<m&&g[M][1]?(s[M][0]=g[M][0],s[M][1]=g[M][1]):(s[M][0]=Number.MAX_SAFE_INTEGER,s[M][1]=0);s.sort(jae);let v=d.morphAttributes.position,b=d.morphAttributes.normal,_=0;for(let M=0;M<8;M++){let P=s[M],x=P[0],E=P[1];x!==Number.MAX_SAFE_INTEGER&&E?(v&&d.getAttribute("morphTarget"+M)!==v[x]&&d.setAttribute("morphTarget"+M,v[x]),b&&d.getAttribute("morphNormal"+M)!==b[x]&&d.setAttribute("morphNormal"+M,b[x]),r[M]=E,_+=E):(v&&d.hasAttribute("morphTarget"+M)===!0&&d.deleteAttribute("morphTarget"+M),b&&d.hasAttribute("morphNormal"+M)===!0&&d.deleteAttribute("morphNormal"+M),r[M]=0)}let C=d.morphTargetsRelative?1:1-_;h.getUniforms().setValue(e,"morphTargetBaseInfluence",C),h.getUniforms().setValue(e,"morphTargetInfluences",r)}}return{update:l}}function Wae(e,t,n,i){let r=new WeakMap;function o(l){let c=i.render.frame,d=l.geometry,u=t.get(l,d);return r.get(u)!==c&&(t.update(u),r.set(u,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),u}function a(){r=new WeakMap}function s(l){let c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:a}}var eV=new wi,tV=new Z9,nV=new Tie,iV=new RA,kF=[],FF=[],NF=new Float32Array(16),zF=new Float32Array(9),BF=new Float32Array(4);function Kf(e,t,n){let i=e[0];if(i<=0||i>0)return e;let r=t*n,o=kF[r];if(o===void 0&&(o=new Float32Array(r),kF[r]=o),t!==0){i.toArray(o,0);for(let a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function gr(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function vr(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function rw(e,t){let n=FF[t];n===void 0&&(n=new Int32Array(t),FF[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function qae(e,t){let n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Yae(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(gr(n,t))return;e.uniform2fv(this.addr,t),vr(n,t)}}function Xae(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(gr(n,t))return;e.uniform3fv(this.addr,t),vr(n,t)}}function Qae(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(gr(n,t))return;e.uniform4fv(this.addr,t),vr(n,t)}}function Zae(e,t){let n=this.cache,i=t.elements;if(i===void 0){if(gr(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),vr(n,t)}else{if(gr(n,i))return;BF.set(i),e.uniformMatrix2fv(this.addr,!1,BF),vr(n,i)}}function $ae(e,t){let n=this.cache,i=t.elements;if(i===void 0){if(gr(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),vr(n,t)}else{if(gr(n,i))return;zF.set(i),e.uniformMatrix3fv(this.addr,!1,zF),vr(n,i)}}function Kae(e,t){let n=this.cache,i=t.elements;if(i===void 0){if(gr(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),vr(n,t)}else{if(gr(n,i))return;NF.set(i),e.uniformMatrix4fv(this.addr,!1,NF),vr(n,i)}}function Jae(e,t){let n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function ese(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(gr(n,t))return;e.uniform2iv(this.addr,t),vr(n,t)}}function tse(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(gr(n,t))return;e.uniform3iv(this.addr,t),vr(n,t)}}function nse(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(gr(n,t))return;e.uniform4iv(this.addr,t),vr(n,t)}}function ise(e,t){let n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function rse(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(gr(n,t))return;e.uniform2uiv(this.addr,t),vr(n,t)}}function ose(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(gr(n,t))return;e.uniform3uiv(this.addr,t),vr(n,t)}}function ase(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(gr(n,t))return;e.uniform4uiv(this.addr,t),vr(n,t)}}function sse(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(t||eV,r)}function lse(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||nV,r)}function cse(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||iV,r)}function dse(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||tV,r)}function use(e){switch(e){case 5126:return qae;case 35664:return Yae;case 35665:return Xae;case 35666:return Qae;case 35674:return Zae;case 35675:return $ae;case 35676:return Kae;case 5124:case 35670:return Jae;case 35667:case 35671:return ese;case 35668:case 35672:return tse;case 35669:case 35673:return nse;case 5125:return ise;case 36294:return rse;case 36295:return ose;case 36296:return ase;case 35678:case 36198:case 36298:case 36306:case 35682:return sse;case 35679:case 36299:case 36307:return lse;case 35680:case 36300:case 36308:case 36293:return cse;case 36289:case 36303:case 36311:case 36292:return dse}}function hse(e,t){e.uniform1fv(this.addr,t)}function pse(e,t){let n=Kf(t,this.size,2);e.uniform2fv(this.addr,n)}function mse(e,t){let n=Kf(t,this.size,3);e.uniform3fv(this.addr,n)}function fse(e,t){let n=Kf(t,this.size,4);e.uniform4fv(this.addr,n)}function gse(e,t){let n=Kf(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function vse(e,t){let n=Kf(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function yse(e,t){let n=Kf(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function bse(e,t){e.uniform1iv(this.addr,t)}function _se(e,t){e.uniform2iv(this.addr,t)}function Cse(e,t){e.uniform3iv(this.addr,t)}function Mse(e,t){e.uniform4iv(this.addr,t)}function wse(e,t){e.uniform1uiv(this.addr,t)}function xse(e,t){e.uniform2uiv(this.addr,t)}function Pse(e,t){e.uniform3uiv(this.addr,t)}function Ose(e,t){e.uniform4uiv(this.addr,t)}function Sse(e,t,n){let i=this.cache,r=t.length,o=rw(n,r);gr(i,o)||(e.uniform1iv(this.addr,o),vr(i,o));for(let a=0;a!==r;++a)n.setTexture2D(t[a]||eV,o[a])}function Ese(e,t,n){let i=this.cache,r=t.length,o=rw(n,r);gr(i,o)||(e.uniform1iv(this.addr,o),vr(i,o));for(let a=0;a!==r;++a)n.setTexture3D(t[a]||nV,o[a])}function Dse(e,t,n){let i=this.cache,r=t.length,o=rw(n,r);gr(i,o)||(e.uniform1iv(this.addr,o),vr(i,o));for(let a=0;a!==r;++a)n.setTextureCube(t[a]||iV,o[a])}function Ase(e,t,n){let i=this.cache,r=t.length,o=rw(n,r);gr(i,o)||(e.uniform1iv(this.addr,o),vr(i,o));for(let a=0;a!==r;++a)n.setTexture2DArray(t[a]||tV,o[a])}function Tse(e){switch(e){case 5126:return hse;case 35664:return pse;case 35665:return mse;case 35666:return fse;case 35674:return gse;case 35675:return vse;case 35676:return yse;case 5124:case 35670:return bse;case 35667:case 35671:return _se;case 35668:case 35672:return Cse;case 35669:case 35673:return Mse;case 5125:return wse;case 36294:return xse;case 36295:return Pse;case 36296:return Ose;case 35678:case 36198:case 36298:case 36306:case 35682:return Sse;case 35679:case 36299:case 36307:return Ese;case 35680:case 36300:case 36308:case 36293:return Dse;case 36289:case 36303:case 36311:case 36292:return Ase}}var Ise=class{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=use(t.type)}},Rse=class{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=Tse(t.type)}},Lse=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){let i=this.seq;for(let r=0,o=i.length;r!==o;++r){let a=i[r];a.setValue(e,t[a.id],n)}}},nE=/(\w+)(\])?(\[|\.)?/g;function VF(e,t){e.seq.push(t),e.map[t.id]=t}function kse(e,t,n){let i=e.name,r=i.length;for(nE.lastIndex=0;;){let o=nE.exec(i),a=nE.lastIndex,s=o[1],l=o[2]==="]",c=o[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===r){VF(n,c===void 0?new Ise(s,e,t):new Rse(s,e,t));break}else{let d=n.map[s];d===void 0&&(d=new Lse(s),VF(n,d)),n=d}}}var VC=class{constructor(e,t){this.seq=[],this.map={};let n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){let r=e.getActiveUniform(t,i),o=e.getUniformLocation(t,r.name);kse(r,o,this)}}setValue(e,t,n,i){let r=this.map[t];r!==void 0&&r.setValue(e,n,i)}setOptional(e,t,n){let i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let r=0,o=t.length;r!==o;++r){let a=t[r],s=n[a.id];s.needsUpdate!==!1&&a.setValue(e,s.value,i)}}static seqWithValue(e,t){let n=[];for(let i=0,r=e.length;i!==r;++i){let o=e[i];o.id in t&&n.push(o)}return n}};function UF(e,t,n){let i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}var Fse=0;function Nse(e,t){let n=e.split(`
`),i=[],r=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let a=r;a<o;a++){let s=a+1;i.push(`${s===t?">":" "} ${s}: ${n[a]}`)}return i.join(`
`)}function zse(e){switch(e){case Xs:return["Linear","( value )"];case jt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function jF(e,t,n){let i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(i&&r==="")return"";let o=/ERROR: 0:(\d+)/.exec(r);if(o){let a=parseInt(o[1]);return n.toUpperCase()+`

`+r+`

`+Nse(e.getShaderSource(t),a)}else return r}function Bse(e,t){let n=zse(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Vse(e,t){let n;switch(t){case qne:n="Linear";break;case Yne:n="Reinhard";break;case Xne:n="OptimizedCineon";break;case Qne:n="ACESFilmic";break;case Zne:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Use(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Pv).join(`
`)}function jse(e){let t=[];for(let n in e){let i=e[n];i!==!1&&t.push("#define "+n+" "+i)}return t.join(`
`)}function Hse(e,t){let n={},i=e.getProgramParameter(t,35721);for(let r=0;r<i;r++){let o=e.getActiveAttrib(t,r),a=o.name,s=1;o.type===35674&&(s=2),o.type===35675&&(s=3),o.type===35676&&(s=4),n[a]={type:o.type,location:e.getAttribLocation(t,a),locationSize:s}}return n}function Pv(e){return e!==""}function HF(e,t){let n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function GF(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Gse=/^[ \t]*#include +<([\w\d./]+)>/gm;function F3(e){return e.replace(Gse,Wse)}function Wse(e,t){let n=Wt[t];if(n===void 0)throw new Error("Can not resolve #include <"+t+">");return F3(n)}var qse=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function WF(e){return e.replace(qse,Yse)}function Yse(e,t,n,i){let r="";for(let o=parseInt(t);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function qF(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function Xse(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===EA?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===xne?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===xv&&(t="SHADOWMAP_TYPE_VSM"),t}function Qse(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case $h:case Kh:t="ENVMAP_TYPE_CUBE";break;case gy:t="ENVMAP_TYPE_CUBE_UV";break}return t}function Zse(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case Kh:t="ENVMAP_MODE_REFRACTION";break}return t}function $se(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case z9:t="ENVMAP_BLENDING_MULTIPLY";break;case Gne:t="ENVMAP_BLENDING_MIX";break;case Wne:t="ENVMAP_BLENDING_ADD";break}return t}function Kse(e){let t=e.envMapCubeUVHeight;if(t===null)return null;let n=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function Jse(e,t,n,i){let r=e.getContext(),o=n.defines,a=n.vertexShader,s=n.fragmentShader,l=Xse(n),c=Qse(n),d=Zse(n),u=$se(n),h=Kse(n),p=n.isWebGL2?"":Use(n),m=jse(o),g=r.createProgram(),v,b,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=[m].filter(Pv).join(`
`),v.length>0&&(v+=`
`),b=[p,m].filter(Pv).join(`
`),b.length>0&&(b+=`
`)):(v=[qF(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Pv).join(`
`),b=[p,qF(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.envMap?"#define "+u:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Hl?"#define TONE_MAPPING":"",n.toneMapping!==Hl?Wt.tonemapping_pars_fragment:"",n.toneMapping!==Hl?Vse("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Wt.encodings_pars_fragment,Bse("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Pv).join(`
`)),a=F3(a),a=HF(a,n),a=GF(a,n),s=F3(s),s=HF(s,n),s=GF(s,n),a=WF(a),s=WF(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,b=["#define varying in",n.glslVersion===gF?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===gF?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);let C=_+v+a,M=_+b+s,P=UF(r,35633,C),x=UF(r,35632,M);if(r.attachShader(g,P),r.attachShader(g,x),n.index0AttributeName!==void 0?r.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),e.debug.checkShaderErrors){let S=r.getProgramInfoLog(g).trim(),D=r.getShaderInfoLog(P).trim(),I=r.getShaderInfoLog(x).trim(),T=!0,R=!0;if(r.getProgramParameter(g,35714)===!1){T=!1;let k=jF(r,P,"vertex"),z=jF(r,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,35715)+`

Program Info Log: `+S+`
`+k+`
`+z)}else S!==""?console.warn("THREE.WebGLProgram: Program Info Log:",S):(D===""||I==="")&&(R=!1);R&&(this.diagnostics={runnable:T,programLog:S,vertexShader:{log:D,prefix:v},fragmentShader:{log:I,prefix:b}})}r.deleteShader(P),r.deleteShader(x);let E;this.getUniforms=function(){return E===void 0&&(E=new VC(r,g)),E};let O;return this.getAttributes=function(){return O===void 0&&(O=Hse(r,g)),O},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=Fse++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=P,this.fragmentShader=x,this}var ele=0,tle=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),r=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){let t=this.shaderCache,n=t.get(e);return n===void 0&&(n=new nle(e),t.set(e,n)),n}},nle=class{constructor(e){this.id=ele++,this.code=e,this.usedTimes=0}};function ile(e,t,n,i,r,o,a){let s=new IA,l=new tle,c=[],d=r.isWebGL2,u=r.logarithmicDepthBuffer,h=r.vertexTextures,p=r.precision,m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(O,S,D,I,T){let R=I.fog,k=T.geometry,z=O.isMeshStandardMaterial?I.environment:null,W=(O.isMeshStandardMaterial?n:t).get(O.envMap||z),N=W&&W.mapping===gy?W.image.height:null,F=m[O.type];O.precision!==null&&(p=r.getMaxPrecision(O.precision),p!==O.precision&&console.warn("THREE.WebGLProgram.getParameters:",O.precision,"not supported, using",p,"instead."));let X=k.morphAttributes.position||k.morphAttributes.normal||k.morphAttributes.color,V=X!==void 0?X.length:0,G=0;k.morphAttributes.position!==void 0&&(G=1),k.morphAttributes.normal!==void 0&&(G=2),k.morphAttributes.color!==void 0&&(G=3);let Y,ie,te,ne;if(F){let pe=kl[F];Y=pe.vertexShader,ie=pe.fragmentShader}else Y=O.vertexShader,ie=O.fragmentShader,l.update(O),te=l.getVertexShaderID(O),ne=l.getFragmentShaderID(O);let re=e.getRenderTarget(),ye=O.alphaTest>0,he=O.clearcoat>0,Me=O.iridescence>0;return{isWebGL2:d,shaderID:F,shaderName:O.type,vertexShader:Y,fragmentShader:ie,defines:O.defines,customVertexShaderID:te,customFragmentShaderID:ne,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:p,instancing:T.isInstancedMesh===!0,instancingColor:T.isInstancedMesh===!0&&T.instanceColor!==null,supportsVertexTextures:h,outputEncoding:re===null?e.outputEncoding:re.isXRRenderTarget===!0?re.texture.encoding:Xs,map:!!O.map,matcap:!!O.matcap,envMap:!!W,envMapMode:W&&W.mapping,envMapCubeUVHeight:N,lightMap:!!O.lightMap,aoMap:!!O.aoMap,emissiveMap:!!O.emissiveMap,bumpMap:!!O.bumpMap,normalMap:!!O.normalMap,objectSpaceNormalMap:O.normalMapType===pie,tangentSpaceNormalMap:O.normalMapType===hie,decodeVideoTexture:!!O.map&&O.map.isVideoTexture===!0&&O.map.encoding===jt,clearcoat:he,clearcoatMap:he&&!!O.clearcoatMap,clearcoatRoughnessMap:he&&!!O.clearcoatRoughnessMap,clearcoatNormalMap:he&&!!O.clearcoatNormalMap,iridescence:Me,iridescenceMap:Me&&!!O.iridescenceMap,iridescenceThicknessMap:Me&&!!O.iridescenceThicknessMap,displacementMap:!!O.displacementMap,roughnessMap:!!O.roughnessMap,metalnessMap:!!O.metalnessMap,specularMap:!!O.specularMap,specularIntensityMap:!!O.specularIntensityMap,specularColorMap:!!O.specularColorMap,opaque:O.transparent===!1&&O.blending===Gh,alphaMap:!!O.alphaMap,alphaTest:ye,gradientMap:!!O.gradientMap,sheen:O.sheen>0,sheenColorMap:!!O.sheenColorMap,sheenRoughnessMap:!!O.sheenRoughnessMap,transmission:O.transmission>0,transmissionMap:!!O.transmissionMap,thicknessMap:!!O.thicknessMap,combine:O.combine,vertexTangents:!!O.normalMap&&!!k.attributes.tangent,vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!k.attributes.color&&k.attributes.color.itemSize===4,vertexUvs:!!O.map||!!O.bumpMap||!!O.normalMap||!!O.specularMap||!!O.alphaMap||!!O.emissiveMap||!!O.roughnessMap||!!O.metalnessMap||!!O.clearcoatMap||!!O.clearcoatRoughnessMap||!!O.clearcoatNormalMap||!!O.iridescenceMap||!!O.iridescenceThicknessMap||!!O.displacementMap||!!O.transmissionMap||!!O.thicknessMap||!!O.specularIntensityMap||!!O.specularColorMap||!!O.sheenColorMap||!!O.sheenRoughnessMap,uvsVertexOnly:!(O.map||O.bumpMap||O.normalMap||O.specularMap||O.alphaMap||O.emissiveMap||O.roughnessMap||O.metalnessMap||O.clearcoatNormalMap||O.iridescenceMap||O.iridescenceThicknessMap||O.transmission>0||O.transmissionMap||O.thicknessMap||O.specularIntensityMap||O.specularColorMap||O.sheen>0||O.sheenColorMap||O.sheenRoughnessMap)&&!!O.displacementMap,fog:!!R,useFog:O.fog===!0,fogExp2:R&&R.isFogExp2,flatShading:!!O.flatShading,sizeAttenuation:O.sizeAttenuation,logarithmicDepthBuffer:u,skinning:T.isSkinnedMesh===!0,morphTargets:k.morphAttributes.position!==void 0,morphNormals:k.morphAttributes.normal!==void 0,morphColors:k.morphAttributes.color!==void 0,morphTargetsCount:V,morphTextureStride:G,numDirLights:S.directional.length,numPointLights:S.point.length,numSpotLights:S.spot.length,numSpotLightMaps:S.spotLightMap.length,numRectAreaLights:S.rectArea.length,numHemiLights:S.hemi.length,numDirLightShadows:S.directionalShadowMap.length,numPointLightShadows:S.pointShadowMap.length,numSpotLightShadows:S.spotShadowMap.length,numSpotLightShadowsWithMaps:S.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:O.dithering,shadowMapEnabled:e.shadowMap.enabled&&D.length>0,shadowMapType:e.shadowMap.type,toneMapping:O.toneMapped?e.toneMapping:Hl,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===la,flipSided:O.side===Ir,useDepthPacking:!!O.depthPacking,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionDerivatives:O.extensions&&O.extensions.derivatives,extensionFragDepth:O.extensions&&O.extensions.fragDepth,extensionDrawBuffers:O.extensions&&O.extensions.drawBuffers,extensionShaderTextureLOD:O.extensions&&O.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:O.customProgramCacheKey()}}function v(O){let S=[];if(O.shaderID?S.push(O.shaderID):(S.push(O.customVertexShaderID),S.push(O.customFragmentShaderID)),O.defines!==void 0)for(let D in O.defines)S.push(D),S.push(O.defines[D]);return O.isRawShaderMaterial===!1&&(b(S,O),_(S,O),S.push(e.outputEncoding)),S.push(O.customProgramCacheKey),S.join()}function b(O,S){O.push(S.precision),O.push(S.outputEncoding),O.push(S.envMapMode),O.push(S.envMapCubeUVHeight),O.push(S.combine),O.push(S.vertexUvs),O.push(S.fogExp2),O.push(S.sizeAttenuation),O.push(S.morphTargetsCount),O.push(S.morphAttributeCount),O.push(S.numDirLights),O.push(S.numPointLights),O.push(S.numSpotLights),O.push(S.numSpotLightMaps),O.push(S.numHemiLights),O.push(S.numRectAreaLights),O.push(S.numDirLightShadows),O.push(S.numPointLightShadows),O.push(S.numSpotLightShadows),O.push(S.numSpotLightShadowsWithMaps),O.push(S.shadowMapType),O.push(S.toneMapping),O.push(S.numClippingPlanes),O.push(S.numClipIntersection),O.push(S.depthPacking)}function _(O,S){s.disableAll(),S.isWebGL2&&s.enable(0),S.supportsVertexTextures&&s.enable(1),S.instancing&&s.enable(2),S.instancingColor&&s.enable(3),S.map&&s.enable(4),S.matcap&&s.enable(5),S.envMap&&s.enable(6),S.lightMap&&s.enable(7),S.aoMap&&s.enable(8),S.emissiveMap&&s.enable(9),S.bumpMap&&s.enable(10),S.normalMap&&s.enable(11),S.objectSpaceNormalMap&&s.enable(12),S.tangentSpaceNormalMap&&s.enable(13),S.clearcoat&&s.enable(14),S.clearcoatMap&&s.enable(15),S.clearcoatRoughnessMap&&s.enable(16),S.clearcoatNormalMap&&s.enable(17),S.iridescence&&s.enable(18),S.iridescenceMap&&s.enable(19),S.iridescenceThicknessMap&&s.enable(20),S.displacementMap&&s.enable(21),S.specularMap&&s.enable(22),S.roughnessMap&&s.enable(23),S.metalnessMap&&s.enable(24),S.gradientMap&&s.enable(25),S.alphaMap&&s.enable(26),S.alphaTest&&s.enable(27),S.vertexColors&&s.enable(28),S.vertexAlphas&&s.enable(29),S.vertexUvs&&s.enable(30),S.vertexTangents&&s.enable(31),S.uvsVertexOnly&&s.enable(32),O.push(s.mask),s.disableAll(),S.fog&&s.enable(0),S.useFog&&s.enable(1),S.flatShading&&s.enable(2),S.logarithmicDepthBuffer&&s.enable(3),S.skinning&&s.enable(4),S.morphTargets&&s.enable(5),S.morphNormals&&s.enable(6),S.morphColors&&s.enable(7),S.premultipliedAlpha&&s.enable(8),S.shadowMapEnabled&&s.enable(9),S.physicallyCorrectLights&&s.enable(10),S.doubleSided&&s.enable(11),S.flipSided&&s.enable(12),S.useDepthPacking&&s.enable(13),S.dithering&&s.enable(14),S.specularIntensityMap&&s.enable(15),S.specularColorMap&&s.enable(16),S.transmission&&s.enable(17),S.transmissionMap&&s.enable(18),S.thicknessMap&&s.enable(19),S.sheen&&s.enable(20),S.sheenColorMap&&s.enable(21),S.sheenRoughnessMap&&s.enable(22),S.decodeVideoTexture&&s.enable(23),S.opaque&&s.enable(24),O.push(s.mask)}function C(O){let S=m[O.type],D;if(S){let I=kl[S];D=$f.clone(I.uniforms)}else D=O.uniforms;return D}function M(O,S){let D;for(let I=0,T=c.length;I<T;I++){let R=c[I];if(R.cacheKey===S){D=R,++D.usedTimes;break}}return D===void 0&&(D=new Jse(e,S,O,o),c.push(D)),D}function P(O){if(--O.usedTimes===0){let S=c.indexOf(O);c[S]=c[c.length-1],c.pop(),O.destroy()}}function x(O){l.remove(O)}function E(){l.dispose()}return{getParameters:g,getProgramCacheKey:v,getUniforms:C,acquireProgram:M,releaseProgram:P,releaseShaderCache:x,programs:c,dispose:E}}function rle(){let e=new WeakMap;function t(o){let a=e.get(o);return a===void 0&&(a={},e.set(o,a)),a}function n(o){e.delete(o)}function i(o,a,s){e.get(o)[a]=s}function r(){e=new WeakMap}return{get:t,remove:n,update:i,dispose:r}}function ole(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function YF(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function XF(){let e=[],t=0,n=[],i=[],r=[];function o(){t=0,n.length=0,i.length=0,r.length=0}function a(u,h,p,m,g,v){let b=e[t];return b===void 0?(b={id:u.id,object:u,geometry:h,material:p,groupOrder:m,renderOrder:u.renderOrder,z:g,group:v},e[t]=b):(b.id=u.id,b.object=u,b.geometry=h,b.material=p,b.groupOrder=m,b.renderOrder=u.renderOrder,b.z=g,b.group=v),t++,b}function s(u,h,p,m,g,v){let b=a(u,h,p,m,g,v);p.transmission>0?i.push(b):p.transparent===!0?r.push(b):n.push(b)}function l(u,h,p,m,g,v){let b=a(u,h,p,m,g,v);p.transmission>0?i.unshift(b):p.transparent===!0?r.unshift(b):n.unshift(b)}function c(u,h){n.length>1&&n.sort(u||ole),i.length>1&&i.sort(h||YF),r.length>1&&r.sort(h||YF)}function d(){for(let u=t,h=e.length;u<h;u++){let p=e[u];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:i,transparent:r,init:o,push:s,unshift:l,finish:d,sort:c}}function ale(){let e=new WeakMap;function t(i,r){let o=e.get(i),a;return o===void 0?(a=new XF,e.set(i,[a])):r>=o.length?(a=new XF,o.push(a)):a=o[r],a}function n(){e=new WeakMap}return{get:t,dispose:n}}function sle(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new L,color:new _t};break;case"SpotLight":n={position:new L,direction:new L,color:new _t,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new L,color:new _t,distance:0,decay:0};break;case"HemisphereLight":n={direction:new L,skyColor:new _t,groundColor:new _t};break;case"RectAreaLight":n={color:new _t,position:new L,halfWidth:new L,halfHeight:new L};break}return e[t.id]=n,n}}}function lle(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new oe};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new oe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new oe,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}var cle=0;function dle(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function ule(e,t){let n=new sle,i=lle(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)r.probe.push(new L);let o=new L,a=new Be,s=new Be;function l(d,u){let h=0,p=0,m=0;for(let I=0;I<9;I++)r.probe[I].set(0,0,0);let g=0,v=0,b=0,_=0,C=0,M=0,P=0,x=0,E=0,O=0;d.sort(dle);let S=u!==!0?Math.PI:1;for(let I=0,T=d.length;I<T;I++){let R=d[I],k=R.color,z=R.intensity,W=R.distance,N=R.shadow&&R.shadow.map?R.shadow.map.texture:null;if(R.isAmbientLight)h+=k.r*z*S,p+=k.g*z*S,m+=k.b*z*S;else if(R.isLightProbe)for(let F=0;F<9;F++)r.probe[F].addScaledVector(R.sh.coefficients[F],z);else if(R.isDirectionalLight){let F=n.get(R);if(F.color.copy(R.color).multiplyScalar(R.intensity*S),R.castShadow){let X=R.shadow,V=i.get(R);V.shadowBias=X.bias,V.shadowNormalBias=X.normalBias,V.shadowRadius=X.radius,V.shadowMapSize=X.mapSize,r.directionalShadow[g]=V,r.directionalShadowMap[g]=N,r.directionalShadowMatrix[g]=R.shadow.matrix,M++}r.directional[g]=F,g++}else if(R.isSpotLight){let F=n.get(R);F.position.setFromMatrixPosition(R.matrixWorld),F.color.copy(k).multiplyScalar(z*S),F.distance=W,F.coneCos=Math.cos(R.angle),F.penumbraCos=Math.cos(R.angle*(1-R.penumbra)),F.decay=R.decay,r.spot[b]=F;let X=R.shadow;if(R.map&&(r.spotLightMap[E]=R.map,E++,X.updateMatrices(R),R.castShadow&&O++),r.spotLightMatrix[b]=X.matrix,R.castShadow){let V=i.get(R);V.shadowBias=X.bias,V.shadowNormalBias=X.normalBias,V.shadowRadius=X.radius,V.shadowMapSize=X.mapSize,r.spotShadow[b]=V,r.spotShadowMap[b]=N,x++}b++}else if(R.isRectAreaLight){let F=n.get(R);F.color.copy(k).multiplyScalar(z),F.halfWidth.set(R.width*.5,0,0),F.halfHeight.set(0,R.height*.5,0),r.rectArea[_]=F,_++}else if(R.isPointLight){let F=n.get(R);if(F.color.copy(R.color).multiplyScalar(R.intensity*S),F.distance=R.distance,F.decay=R.decay,R.castShadow){let X=R.shadow,V=i.get(R);V.shadowBias=X.bias,V.shadowNormalBias=X.normalBias,V.shadowRadius=X.radius,V.shadowMapSize=X.mapSize,V.shadowCameraNear=X.camera.near,V.shadowCameraFar=X.camera.far,r.pointShadow[v]=V,r.pointShadowMap[v]=N,r.pointShadowMatrix[v]=R.shadow.matrix,P++}r.point[v]=F,v++}else if(R.isHemisphereLight){let F=n.get(R);F.skyColor.copy(R.color).multiplyScalar(z*S),F.groundColor.copy(R.groundColor).multiplyScalar(z*S),r.hemi[C]=F,C++}}_>0&&(t.isWebGL2||e.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Xe.LTC_FLOAT_1,r.rectAreaLTC2=Xe.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Xe.LTC_HALF_1,r.rectAreaLTC2=Xe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=p,r.ambient[2]=m;let D=r.hash;(D.directionalLength!==g||D.pointLength!==v||D.spotLength!==b||D.rectAreaLength!==_||D.hemiLength!==C||D.numDirectionalShadows!==M||D.numPointShadows!==P||D.numSpotShadows!==x||D.numSpotMaps!==E)&&(r.directional.length=g,r.spot.length=b,r.rectArea.length=_,r.point.length=v,r.hemi.length=C,r.directionalShadow.length=M,r.directionalShadowMap.length=M,r.pointShadow.length=P,r.pointShadowMap.length=P,r.spotShadow.length=x,r.spotShadowMap.length=x,r.directionalShadowMatrix.length=M,r.pointShadowMatrix.length=P,r.spotLightMatrix.length=x+E-O,r.spotLightMap.length=E,r.numSpotLightShadowsWithMaps=O,D.directionalLength=g,D.pointLength=v,D.spotLength=b,D.rectAreaLength=_,D.hemiLength=C,D.numDirectionalShadows=M,D.numPointShadows=P,D.numSpotShadows=x,D.numSpotMaps=E,r.version=cle++)}function c(d,u){let h=0,p=0,m=0,g=0,v=0,b=u.matrixWorldInverse;for(let _=0,C=d.length;_<C;_++){let M=d[_];if(M.isDirectionalLight){let P=r.directional[h];P.direction.setFromMatrixPosition(M.matrixWorld),o.setFromMatrixPosition(M.target.matrixWorld),P.direction.sub(o),P.direction.transformDirection(b),h++}else if(M.isSpotLight){let P=r.spot[m];P.position.setFromMatrixPosition(M.matrixWorld),P.position.applyMatrix4(b),P.direction.setFromMatrixPosition(M.matrixWorld),o.setFromMatrixPosition(M.target.matrixWorld),P.direction.sub(o),P.direction.transformDirection(b),m++}else if(M.isRectAreaLight){let P=r.rectArea[g];P.position.setFromMatrixPosition(M.matrixWorld),P.position.applyMatrix4(b),s.identity(),a.copy(M.matrixWorld),a.premultiply(b),s.extractRotation(a),P.halfWidth.set(M.width*.5,0,0),P.halfHeight.set(0,M.height*.5,0),P.halfWidth.applyMatrix4(s),P.halfHeight.applyMatrix4(s),g++}else if(M.isPointLight){let P=r.point[p];P.position.setFromMatrixPosition(M.matrixWorld),P.position.applyMatrix4(b),p++}else if(M.isHemisphereLight){let P=r.hemi[v];P.direction.setFromMatrixPosition(M.matrixWorld),P.direction.transformDirection(b),v++}}}return{setup:l,setupView:c,state:r}}function QF(e,t){let n=new ule(e,t),i=[],r=[];function o(){i.length=0,r.length=0}function a(d){i.push(d)}function s(d){r.push(d)}function l(d){n.setup(i,d)}function c(d){n.setupView(i,d)}return{init:o,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:s}}function hle(e,t){let n=new WeakMap;function i(o,a=0){let s=n.get(o),l;return s===void 0?(l=new QF(e,t),n.set(o,[l])):a>=s.length?(l=new QF(e,t),s.push(l)):l=s[a],l}function r(){n=new WeakMap}return{get:i,dispose:r}}var rV=class extends vy{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=rd,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},ple=class extends vy{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new L,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}},mle=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fle=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function gle(e,t,n){let i=new LA,r=new oe,o=new oe,a=new Et,s=new rV({depthPacking:G9}),l=new ple,c={},d=n.maxTextureSize,u={[Ys]:Ir,[Ir]:Ys,[la]:la},h=new Vn({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new oe},radius:{value:4}},vertexShader:mle,fragmentShader:fle}),p=h.clone();p.defines.HORIZONTAL_PASS=1;let m=new pt;m.setAttribute("position",new St(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let g=new Ji(m,h),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=EA,this.render=function(M,P,x){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||M.length===0)return;let E=e.getRenderTarget(),O=e.getActiveCubeFace(),S=e.getActiveMipmapLevel(),D=e.state;D.setBlending(er),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let I=0,T=M.length;I<T;I++){let R=M[I],k=R.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",R,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;r.copy(k.mapSize);let z=k.getFrameExtents();if(r.multiply(z),o.copy(k.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(o.x=Math.floor(d/z.x),r.x=o.x*z.x,k.mapSize.x=o.x),r.y>d&&(o.y=Math.floor(d/z.y),r.y=o.y*z.y,k.mapSize.y=o.y)),k.map===null){let N=this.type!==xv?{minFilter:zn,magFilter:zn}:{};k.map=new Bn(r.x,r.y,N),k.map.texture.name=R.name+".shadowMap",k.camera.updateProjectionMatrix()}e.setRenderTarget(k.map),e.clear();let W=k.getViewportCount();for(let N=0;N<W;N++){let F=k.getViewport(N);a.set(o.x*F.x,o.y*F.y,o.x*F.z,o.y*F.w),D.viewport(a),k.updateMatrices(R,N),i=k.getFrustum(),C(P,x,k.camera,R,this.type)}k.isPointLightShadow!==!0&&this.type===xv&&b(k,x),k.needsUpdate=!1}v.needsUpdate=!1,e.setRenderTarget(E,O,S)};function b(M,P){let x=t.update(g);h.defines.VSM_SAMPLES!==M.blurSamples&&(h.defines.VSM_SAMPLES=M.blurSamples,p.defines.VSM_SAMPLES=M.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Bn(r.x,r.y)),h.uniforms.shadow_pass.value=M.map.texture,h.uniforms.resolution.value=M.mapSize,h.uniforms.radius.value=M.radius,e.setRenderTarget(M.mapPass),e.clear(),e.renderBufferDirect(P,null,x,h,g,null),p.uniforms.shadow_pass.value=M.mapPass.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,e.setRenderTarget(M.map),e.clear(),e.renderBufferDirect(P,null,x,p,g,null)}function _(M,P,x,E,O,S){let D=null,I=x.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(I!==void 0)D=I;else if(D=x.isPointLight===!0?l:s,e.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){let T=D.uuid,R=P.uuid,k=c[T];k===void 0&&(k={},c[T]=k);let z=k[R];z===void 0&&(z=D.clone(),k[R]=z),D=z}return D.visible=P.visible,D.wireframe=P.wireframe,S===xv?D.side=P.shadowSide!==null?P.shadowSide:P.side:D.side=P.shadowSide!==null?P.shadowSide:u[P.side],D.alphaMap=P.alphaMap,D.alphaTest=P.alphaTest,D.map=P.map,D.clipShadows=P.clipShadows,D.clippingPlanes=P.clippingPlanes,D.clipIntersection=P.clipIntersection,D.displacementMap=P.displacementMap,D.displacementScale=P.displacementScale,D.displacementBias=P.displacementBias,D.wireframeLinewidth=P.wireframeLinewidth,D.linewidth=P.linewidth,x.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(x.matrixWorld),D.nearDistance=E,D.farDistance=O),D}function C(M,P,x,E,O){if(M.visible===!1)return;if(M.layers.test(P.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&O===xv)&&(!M.frustumCulled||i.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(x.matrixWorldInverse,M.matrixWorld);let D=t.update(M),I=M.material;if(Array.isArray(I)){let T=D.groups;for(let R=0,k=T.length;R<k;R++){let z=T[R],W=I[z.materialIndex];if(W&&W.visible){let N=_(M,W,E,x.near,x.far,O);e.renderBufferDirect(x,null,D,N,M,z)}}}else if(I.visible){let T=_(M,I,E,x.near,x.far,O);e.renderBufferDirect(x,null,D,T,M,null)}}let S=M.children;for(let D=0,I=S.length;D<I;D++)C(S[D],P,x,E,O)}}function vle(e,t,n){let i=n.isWebGL2;function r(){let ae=!1,De=new Et,ke=null,Fe=new Et(0,0,0,0);return{setMask:function(Qe){ke!==Qe&&!ae&&(e.colorMask(Qe,Qe,Qe,Qe),ke=Qe)},setLocked:function(Qe){ae=Qe},setClear:function(Qe,st,gn,sn,Pi){Pi===!0&&(Qe*=sn,st*=sn,gn*=sn),De.set(Qe,st,gn,sn),Fe.equals(De)===!1&&(e.clearColor(Qe,st,gn,sn),Fe.copy(De))},reset:function(){ae=!1,ke=null,Fe.set(-1,0,0,0)}}}function o(){let ae=!1,De=null,ke=null,Fe=null;return{setTest:function(Qe){Qe?ye(2929):he(2929)},setMask:function(Qe){De!==Qe&&!ae&&(e.depthMask(Qe),De=Qe)},setFunc:function(Qe){if(ke!==Qe){switch(Qe){case Nne:e.depthFunc(512);break;case zne:e.depthFunc(519);break;case Bne:e.depthFunc(513);break;case D3:e.depthFunc(515);break;case Vne:e.depthFunc(514);break;case Une:e.depthFunc(518);break;case jne:e.depthFunc(516);break;case Hne:e.depthFunc(517);break;default:e.depthFunc(515)}ke=Qe}},setLocked:function(Qe){ae=Qe},setClear:function(Qe){Fe!==Qe&&(e.clearDepth(Qe),Fe=Qe)},reset:function(){ae=!1,De=null,ke=null,Fe=null}}}function a(){let ae=!1,De=null,ke=null,Fe=null,Qe=null,st=null,gn=null,sn=null,Pi=null;return{setTest:function(tt){ae||(tt?ye(2960):he(2960))},setMask:function(tt){De!==tt&&!ae&&(e.stencilMask(tt),De=tt)},setFunc:function(tt,ct,Lt){(ke!==tt||Fe!==ct||Qe!==Lt)&&(e.stencilFunc(tt,ct,Lt),ke=tt,Fe=ct,Qe=Lt)},setOp:function(tt,ct,Lt){(st!==tt||gn!==ct||sn!==Lt)&&(e.stencilOp(tt,ct,Lt),st=tt,gn=ct,sn=Lt)},setLocked:function(tt){ae=tt},setClear:function(tt){Pi!==tt&&(e.clearStencil(tt),Pi=tt)},reset:function(){ae=!1,De=null,ke=null,Fe=null,Qe=null,st=null,gn=null,sn=null,Pi=null}}}let s=new r,l=new o,c=new a,d=new WeakMap,u=new WeakMap,h={},p={},m=new WeakMap,g=[],v=null,b=!1,_=null,C=null,M=null,P=null,x=null,E=null,O=null,S=!1,D=null,I=null,T=null,R=null,k=null,z=e.getParameter(35661),W=!1,N=0,F=e.getParameter(7938);F.indexOf("WebGL")!==-1?(N=parseFloat(/^WebGL (\d)/.exec(F)[1]),W=N>=1):F.indexOf("OpenGL ES")!==-1&&(N=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),W=N>=2);let X=null,V={},G=e.getParameter(3088),Y=e.getParameter(2978),ie=new Et().fromArray(G),te=new Et().fromArray(Y);function ne(ae,De,ke){let Fe=new Uint8Array(4),Qe=e.createTexture();e.bindTexture(ae,Qe),e.texParameteri(ae,10241,9728),e.texParameteri(ae,10240,9728);for(let st=0;st<ke;st++)e.texImage2D(De+st,0,6408,1,1,0,6408,5121,Fe);return Qe}let re={};re[3553]=ne(3553,3553,1),re[34067]=ne(34067,34069,6),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ye(2929),l.setFunc(D3),Ge(!1),de(V8),ye(2884),Ve(er);function ye(ae){h[ae]!==!0&&(e.enable(ae),h[ae]=!0)}function he(ae){h[ae]!==!1&&(e.disable(ae),h[ae]=!1)}function Me(ae,De){return p[ae]!==De?(e.bindFramebuffer(ae,De),p[ae]=De,i&&(ae===36009&&(p[36160]=De),ae===36160&&(p[36009]=De)),!0):!1}function pe(ae,De){let ke=g,Fe=!1;if(ae)if(ke=m.get(De),ke===void 0&&(ke=[],m.set(De,ke)),ae.isWebGLMultipleRenderTargets){let Qe=ae.texture;if(ke.length!==Qe.length||ke[0]!==36064){for(let st=0,gn=Qe.length;st<gn;st++)ke[st]=36064+st;ke.length=Qe.length,Fe=!0}}else ke[0]!==36064&&(ke[0]=36064,Fe=!0);else ke[0]!==1029&&(ke[0]=1029,Fe=!0);Fe&&(n.isWebGL2?e.drawBuffers(ke):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(ke))}function Ae(ae){return v!==ae?(e.useProgram(ae),v=ae,!0):!1}let xe={[af]:32774,[One]:32778,[Sne]:32779};if(i)xe[G8]=32775,xe[W8]=32776;else{let ae=t.get("EXT_blend_minmax");ae!==null&&(xe[G8]=ae.MIN_EXT,xe[W8]=ae.MAX_EXT)}let be={[Ene]:0,[Dne]:1,[Ane]:768,[F9]:770,[Fne]:776,[Lne]:774,[Ine]:772,[Tne]:769,[N9]:771,[kne]:775,[Rne]:773};function Ve(ae,De,ke,Fe,Qe,st,gn,sn){if(ae===er){b===!0&&(he(3042),b=!1);return}if(b===!1&&(ye(3042),b=!0),ae!==Pne){if(ae!==_||sn!==S){if((C!==af||x!==af)&&(e.blendEquation(32774),C=af,x=af),sn)switch(ae){case Gh:e.blendFuncSeparate(1,771,1,771);break;case U8:e.blendFunc(1,1);break;case j8:e.blendFuncSeparate(0,769,0,1);break;case H8:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}else switch(ae){case Gh:e.blendFuncSeparate(770,771,1,771);break;case U8:e.blendFunc(770,1);break;case j8:e.blendFuncSeparate(0,769,0,1);break;case H8:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}M=null,P=null,E=null,O=null,_=ae,S=sn}return}Qe=Qe||De,st=st||ke,gn=gn||Fe,(De!==C||Qe!==x)&&(e.blendEquationSeparate(xe[De],xe[Qe]),C=De,x=Qe),(ke!==M||Fe!==P||st!==E||gn!==O)&&(e.blendFuncSeparate(be[ke],be[Fe],be[st],be[gn]),M=ke,P=Fe,E=st,O=gn),_=ae,S=!1}function He(ae,De){ae.side===la?he(2884):ye(2884);let ke=ae.side===Ir;De&&(ke=!ke),Ge(ke),ae.blending===Gh&&ae.transparent===!1?Ve(er):Ve(ae.blending,ae.blendEquation,ae.blendSrc,ae.blendDst,ae.blendEquationAlpha,ae.blendSrcAlpha,ae.blendDstAlpha,ae.premultipliedAlpha),l.setFunc(ae.depthFunc),l.setTest(ae.depthTest),l.setMask(ae.depthWrite),s.setMask(ae.colorWrite);let Fe=ae.stencilWrite;c.setTest(Fe),Fe&&(c.setMask(ae.stencilWriteMask),c.setFunc(ae.stencilFunc,ae.stencilRef,ae.stencilFuncMask),c.setOp(ae.stencilFail,ae.stencilZFail,ae.stencilZPass)),fe(ae.polygonOffset,ae.polygonOffsetFactor,ae.polygonOffsetUnits),ae.alphaToCoverage===!0?ye(32926):he(32926)}function Ge(ae){D!==ae&&(ae?e.frontFace(2304):e.frontFace(2305),D=ae)}function de(ae){ae!==Mne?(ye(2884),ae!==I&&(ae===V8?e.cullFace(1029):ae===wne?e.cullFace(1028):e.cullFace(1032))):he(2884),I=ae}function Ue(ae){ae!==T&&(W&&e.lineWidth(ae),T=ae)}function fe(ae,De,ke){ae?(ye(32823),(R!==De||k!==ke)&&(e.polygonOffset(De,ke),R=De,k=ke)):he(32823)}function ce(ae){ae?ye(3089):he(3089)}function Pe(ae){ae===void 0&&(ae=33984+z-1),X!==ae&&(e.activeTexture(ae),X=ae)}function Q(ae,De,ke){ke===void 0&&(X===null?ke=33984+z-1:ke=X);let Fe=V[ke];Fe===void 0&&(Fe={type:void 0,texture:void 0},V[ke]=Fe),(Fe.type!==ae||Fe.texture!==De)&&(X!==ke&&(e.activeTexture(ke),X=ke),e.bindTexture(ae,De||re[ae]),Fe.type=ae,Fe.texture=De)}function H(){let ae=V[X];ae!==void 0&&ae.type!==void 0&&(e.bindTexture(ae.type,null),ae.type=void 0,ae.texture=void 0)}function ue(){try{e.compressedTexImage2D.apply(e,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Te(){try{e.compressedTexImage3D.apply(e,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function j(){try{e.texSubImage2D.apply(e,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function _e(){try{e.texSubImage3D.apply(e,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function qe(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Ne(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function we(){try{e.texStorage2D.apply(e,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function je(){try{e.texStorage3D.apply(e,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Re(){try{e.texImage2D.apply(e,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function $e(){try{e.texImage3D.apply(e,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function lt(ae){ie.equals(ae)===!1&&(e.scissor(ae.x,ae.y,ae.z,ae.w),ie.copy(ae))}function at(ae){te.equals(ae)===!1&&(e.viewport(ae.x,ae.y,ae.z,ae.w),te.copy(ae))}function Bt(ae,De){let ke=u.get(De);ke===void 0&&(ke=new WeakMap,u.set(De,ke));let Fe=ke.get(ae);Fe===void 0&&(Fe=e.getUniformBlockIndex(De,ae.name),ke.set(ae,Fe))}function Qt(ae,De){let ke=u.get(De).get(ae);d.get(De)!==ke&&(e.uniformBlockBinding(De,ke,ae.__bindingPointIndex),d.set(De,ke))}function At(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),i===!0&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},X=null,V={},p={},m=new WeakMap,g=[],v=null,b=!1,_=null,C=null,M=null,P=null,x=null,E=null,O=null,S=!1,D=null,I=null,T=null,R=null,k=null,ie.set(0,0,e.canvas.width,e.canvas.height),te.set(0,0,e.canvas.width,e.canvas.height),s.reset(),l.reset(),c.reset()}return{buffers:{color:s,depth:l,stencil:c},enable:ye,disable:he,bindFramebuffer:Me,drawBuffers:pe,useProgram:Ae,setBlending:Ve,setMaterial:He,setFlipSided:Ge,setCullFace:de,setLineWidth:Ue,setPolygonOffset:fe,setScissorTest:ce,activeTexture:Pe,bindTexture:Q,unbindTexture:H,compressedTexImage2D:ue,compressedTexImage3D:Te,texImage2D:Re,texImage3D:$e,updateUBOMapping:Bt,uniformBlockBinding:Qt,texStorage2D:we,texStorage3D:je,texSubImage2D:j,texSubImage3D:_e,compressedTexSubImage2D:qe,compressedTexSubImage3D:Ne,scissor:lt,viewport:at,reset:At}}function yle(e,t,n,i,r,o,a){let s=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,d=r.maxTextureSize,u=r.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap,g,v=new WeakMap,b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(Q,H){return b?new OffscreenCanvas(Q,H):Xv("canvas")}function C(Q,H,ue,Te){let j=1;if((Q.width>Te||Q.height>Te)&&(j=Te/Math.max(Q.width,Q.height)),j<1||H===!0)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap){let _e=H?aM:Math.floor,qe=_e(j*Q.width),Ne=_e(j*Q.height);g===void 0&&(g=_(qe,Ne));let we=ue?_(qe,Ne):g;return we.width=qe,we.height=Ne,we.getContext("2d").drawImage(Q,0,0,qe,Ne),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+qe+"x"+Ne+")."),we}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),Q;return Q}function M(Q){return k3(Q.width)&&k3(Q.height)}function P(Q){return s?!1:Q.wrapS!==mi||Q.wrapT!==mi||Q.minFilter!==zn&&Q.minFilter!==qt}function x(Q,H){return Q.generateMipmaps&&H&&Q.minFilter!==zn&&Q.minFilter!==qt}function E(Q){e.generateMipmap(Q)}function O(Q,H,ue,Te,j=!1){if(s===!1)return H;if(Q!==null){if(e[Q]!==void 0)return e[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let _e=H;return H===6403&&(ue===5126&&(_e=33326),ue===5131&&(_e=33325),ue===5121&&(_e=33321)),H===33319&&(ue===5126&&(_e=33328),ue===5131&&(_e=33327),ue===5121&&(_e=33323)),H===6408&&(ue===5126&&(_e=34836),ue===5131&&(_e=34842),ue===5121&&(_e=Te===jt&&j===!1?35907:32856),ue===32819&&(_e=32854),ue===32820&&(_e=32855)),(_e===33325||_e===33326||_e===33327||_e===33328||_e===34842||_e===34836)&&t.get("EXT_color_buffer_float"),_e}function S(Q,H,ue){return x(Q,ue)===!0||Q.isFramebufferTexture&&Q.minFilter!==zn&&Q.minFilter!==qt?Math.log2(Math.max(H.width,H.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?H.mipmaps.length:1}function D(Q){return Q===zn||Q===q8||Q===O2?9728:9729}function I(Q){let H=Q.target;H.removeEventListener("dispose",I),R(H),H.isVideoTexture&&m.delete(H)}function T(Q){let H=Q.target;H.removeEventListener("dispose",T),z(H)}function R(Q){let H=i.get(Q);if(H.__webglInit===void 0)return;let ue=Q.source,Te=v.get(ue);if(Te){let j=Te[H.__cacheKey];j.usedTimes--,j.usedTimes===0&&k(Q),Object.keys(Te).length===0&&v.delete(ue)}i.remove(Q)}function k(Q){let H=i.get(Q);e.deleteTexture(H.__webglTexture);let ue=Q.source,Te=v.get(ue);delete Te[H.__cacheKey],a.memory.textures--}function z(Q){let H=Q.texture,ue=i.get(Q),Te=i.get(H);if(Te.__webglTexture!==void 0&&(e.deleteTexture(Te.__webglTexture),a.memory.textures--),Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let j=0;j<6;j++)e.deleteFramebuffer(ue.__webglFramebuffer[j]),ue.__webglDepthbuffer&&e.deleteRenderbuffer(ue.__webglDepthbuffer[j]);else{if(e.deleteFramebuffer(ue.__webglFramebuffer),ue.__webglDepthbuffer&&e.deleteRenderbuffer(ue.__webglDepthbuffer),ue.__webglMultisampledFramebuffer&&e.deleteFramebuffer(ue.__webglMultisampledFramebuffer),ue.__webglColorRenderbuffer)for(let j=0;j<ue.__webglColorRenderbuffer.length;j++)ue.__webglColorRenderbuffer[j]&&e.deleteRenderbuffer(ue.__webglColorRenderbuffer[j]);ue.__webglDepthRenderbuffer&&e.deleteRenderbuffer(ue.__webglDepthRenderbuffer)}if(Q.isWebGLMultipleRenderTargets)for(let j=0,_e=H.length;j<_e;j++){let qe=i.get(H[j]);qe.__webglTexture&&(e.deleteTexture(qe.__webglTexture),a.memory.textures--),i.remove(H[j])}i.remove(H),i.remove(Q)}let W=0;function N(){W=0}function F(){let Q=W;return Q>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+l),W+=1,Q}function X(Q){let H=[];return H.push(Q.wrapS),H.push(Q.wrapT),H.push(Q.wrapR||0),H.push(Q.magFilter),H.push(Q.minFilter),H.push(Q.anisotropy),H.push(Q.internalFormat),H.push(Q.format),H.push(Q.type),H.push(Q.generateMipmaps),H.push(Q.premultiplyAlpha),H.push(Q.flipY),H.push(Q.unpackAlignment),H.push(Q.encoding),H.join()}function V(Q,H){let ue=i.get(Q);if(Q.isVideoTexture&&ce(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&ue.__version!==Q.version){let Te=Q.image;if(Te===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Te.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{he(ue,Q,H);return}}n.bindTexture(3553,ue.__webglTexture,33984+H)}function G(Q,H){let ue=i.get(Q);if(Q.version>0&&ue.__version!==Q.version){he(ue,Q,H);return}n.bindTexture(35866,ue.__webglTexture,33984+H)}function Y(Q,H){let ue=i.get(Q);if(Q.version>0&&ue.__version!==Q.version){he(ue,Q,H);return}n.bindTexture(32879,ue.__webglTexture,33984+H)}function ie(Q,H){let ue=i.get(Q);if(Q.version>0&&ue.__version!==Q.version){Me(ue,Q,H);return}n.bindTexture(34067,ue.__webglTexture,33984+H)}let te={[Gc]:10497,[mi]:33071,[I3]:33648},ne={[zn]:9728,[q8]:9984,[O2]:9986,[qt]:9729,[$ne]:9985,[Lf]:9987};function re(Q,H,ue){if(ue?(e.texParameteri(Q,10242,te[H.wrapS]),e.texParameteri(Q,10243,te[H.wrapT]),(Q===32879||Q===35866)&&e.texParameteri(Q,32882,te[H.wrapR]),e.texParameteri(Q,10240,ne[H.magFilter]),e.texParameteri(Q,10241,ne[H.minFilter])):(e.texParameteri(Q,10242,33071),e.texParameteri(Q,10243,33071),(Q===32879||Q===35866)&&e.texParameteri(Q,32882,33071),(H.wrapS!==mi||H.wrapT!==mi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(Q,10240,D(H.magFilter)),e.texParameteri(Q,10241,D(H.minFilter)),H.minFilter!==zn&&H.minFilter!==qt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),t.has("EXT_texture_filter_anisotropic")===!0){let Te=t.get("EXT_texture_filter_anisotropic");if(H.magFilter===zn||H.minFilter!==O2&&H.minFilter!==Lf||H.type===Ki&&t.has("OES_texture_float_linear")===!1||s===!1&&H.type===Jh&&t.has("OES_texture_half_float_linear")===!1)return;(H.anisotropy>1||i.get(H).__currentAnisotropy)&&(e.texParameterf(Q,Te.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,r.getMaxAnisotropy())),i.get(H).__currentAnisotropy=H.anisotropy)}}function ye(Q,H){let ue=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,H.addEventListener("dispose",I));let Te=H.source,j=v.get(Te);j===void 0&&(j={},v.set(Te,j));let _e=X(H);if(_e!==Q.__cacheKey){j[_e]===void 0&&(j[_e]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,ue=!0),j[_e].usedTimes++;let qe=j[Q.__cacheKey];qe!==void 0&&(j[Q.__cacheKey].usedTimes--,qe.usedTimes===0&&k(H)),Q.__cacheKey=_e,Q.__webglTexture=j[_e].texture}return ue}function he(Q,H,ue){let Te=3553;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(Te=35866),H.isData3DTexture&&(Te=32879);let j=ye(Q,H),_e=H.source;n.bindTexture(Te,Q.__webglTexture,33984+ue);let qe=i.get(_e);if(_e.version!==qe.__version||j===!0){n.activeTexture(33984+ue),e.pixelStorei(37440,H.flipY),e.pixelStorei(37441,H.premultiplyAlpha),e.pixelStorei(3317,H.unpackAlignment),e.pixelStorei(37443,0);let Ne=P(H)&&M(H.image)===!1,we=C(H.image,Ne,!1,d);we=Pe(H,we);let je=M(we)||s,Re=o.convert(H.format,H.encoding),$e=o.convert(H.type),lt=O(H.internalFormat,Re,$e,H.encoding,H.isVideoTexture);re(Te,H,je);let at,Bt=H.mipmaps,Qt=s&&H.isVideoTexture!==!0,At=qe.__version===void 0||j===!0,ae=S(H,we,je);if(H.isDepthTexture)lt=6402,s?H.type===Ki?lt=36012:H.type===Wc?lt=33190:H.type===Wh?lt=35056:lt=33189:H.type===Ki&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),H.format===qh&&lt===6402&&H.type!==V9&&H.type!==Wc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),H.type=Wc,$e=o.convert(H.type)),H.format===ep&&lt===6402&&(lt=34041,H.type!==Wh&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),H.type=Wh,$e=o.convert(H.type))),At&&(Qt?n.texStorage2D(3553,1,lt,we.width,we.height):n.texImage2D(3553,0,lt,we.width,we.height,0,Re,$e,null));else if(H.isDataTexture)if(Bt.length>0&&je){Qt&&At&&n.texStorage2D(3553,ae,lt,Bt[0].width,Bt[0].height);for(let De=0,ke=Bt.length;De<ke;De++)at=Bt[De],Qt?n.texSubImage2D(3553,De,0,0,at.width,at.height,Re,$e,at.data):n.texImage2D(3553,De,lt,at.width,at.height,0,Re,$e,at.data);H.generateMipmaps=!1}else Qt?(At&&n.texStorage2D(3553,ae,lt,we.width,we.height),n.texSubImage2D(3553,0,0,0,we.width,we.height,Re,$e,we.data)):n.texImage2D(3553,0,lt,we.width,we.height,0,Re,$e,we.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){Qt&&At&&n.texStorage3D(35866,ae,lt,Bt[0].width,Bt[0].height,we.depth);for(let De=0,ke=Bt.length;De<ke;De++)at=Bt[De],H.format!==Ar?Re!==null?Qt?n.compressedTexSubImage3D(35866,De,0,0,0,at.width,at.height,we.depth,Re,at.data,0,0):n.compressedTexImage3D(35866,De,lt,at.width,at.height,we.depth,0,at.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Qt?n.texSubImage3D(35866,De,0,0,0,at.width,at.height,we.depth,Re,$e,at.data):n.texImage3D(35866,De,lt,at.width,at.height,we.depth,0,Re,$e,at.data)}else{Qt&&At&&n.texStorage2D(3553,ae,lt,Bt[0].width,Bt[0].height);for(let De=0,ke=Bt.length;De<ke;De++)at=Bt[De],H.format!==Ar?Re!==null?Qt?n.compressedTexSubImage2D(3553,De,0,0,at.width,at.height,Re,at.data):n.compressedTexImage2D(3553,De,lt,at.width,at.height,0,at.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Qt?n.texSubImage2D(3553,De,0,0,at.width,at.height,Re,$e,at.data):n.texImage2D(3553,De,lt,at.width,at.height,0,Re,$e,at.data)}else if(H.isDataArrayTexture)Qt?(At&&n.texStorage3D(35866,ae,lt,we.width,we.height,we.depth),n.texSubImage3D(35866,0,0,0,0,we.width,we.height,we.depth,Re,$e,we.data)):n.texImage3D(35866,0,lt,we.width,we.height,we.depth,0,Re,$e,we.data);else if(H.isData3DTexture)Qt?(At&&n.texStorage3D(32879,ae,lt,we.width,we.height,we.depth),n.texSubImage3D(32879,0,0,0,0,we.width,we.height,we.depth,Re,$e,we.data)):n.texImage3D(32879,0,lt,we.width,we.height,we.depth,0,Re,$e,we.data);else if(H.isFramebufferTexture){if(At)if(Qt)n.texStorage2D(3553,ae,lt,we.width,we.height);else{let De=we.width,ke=we.height;for(let Fe=0;Fe<ae;Fe++)n.texImage2D(3553,Fe,lt,De,ke,0,Re,$e,null),De>>=1,ke>>=1}}else if(Bt.length>0&&je){Qt&&At&&n.texStorage2D(3553,ae,lt,Bt[0].width,Bt[0].height);for(let De=0,ke=Bt.length;De<ke;De++)at=Bt[De],Qt?n.texSubImage2D(3553,De,0,0,Re,$e,at):n.texImage2D(3553,De,lt,Re,$e,at);H.generateMipmaps=!1}else Qt?(At&&n.texStorage2D(3553,ae,lt,we.width,we.height),n.texSubImage2D(3553,0,0,0,Re,$e,we)):n.texImage2D(3553,0,lt,Re,$e,we);x(H,je)&&E(Te),qe.__version=_e.version,H.onUpdate&&H.onUpdate(H)}Q.__version=H.version}function Me(Q,H,ue){if(H.image.length!==6)return;let Te=ye(Q,H),j=H.source;n.bindTexture(34067,Q.__webglTexture,33984+ue);let _e=i.get(j);if(j.version!==_e.__version||Te===!0){n.activeTexture(33984+ue),e.pixelStorei(37440,H.flipY),e.pixelStorei(37441,H.premultiplyAlpha),e.pixelStorei(3317,H.unpackAlignment),e.pixelStorei(37443,0);let qe=H.isCompressedTexture||H.image[0].isCompressedTexture,Ne=H.image[0]&&H.image[0].isDataTexture,we=[];for(let De=0;De<6;De++)!qe&&!Ne?we[De]=C(H.image[De],!1,!0,c):we[De]=Ne?H.image[De].image:H.image[De],we[De]=Pe(H,we[De]);let je=we[0],Re=M(je)||s,$e=o.convert(H.format,H.encoding),lt=o.convert(H.type),at=O(H.internalFormat,$e,lt,H.encoding),Bt=s&&H.isVideoTexture!==!0,Qt=_e.__version===void 0||Te===!0,At=S(H,je,Re);re(34067,H,Re);let ae;if(qe){Bt&&Qt&&n.texStorage2D(34067,At,at,je.width,je.height);for(let De=0;De<6;De++){ae=we[De].mipmaps;for(let ke=0;ke<ae.length;ke++){let Fe=ae[ke];H.format!==Ar?$e!==null?Bt?n.compressedTexSubImage2D(34069+De,ke,0,0,Fe.width,Fe.height,$e,Fe.data):n.compressedTexImage2D(34069+De,ke,at,Fe.width,Fe.height,0,Fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Bt?n.texSubImage2D(34069+De,ke,0,0,Fe.width,Fe.height,$e,lt,Fe.data):n.texImage2D(34069+De,ke,at,Fe.width,Fe.height,0,$e,lt,Fe.data)}}}else{ae=H.mipmaps,Bt&&Qt&&(ae.length>0&&At++,n.texStorage2D(34067,At,at,we[0].width,we[0].height));for(let De=0;De<6;De++)if(Ne){Bt?n.texSubImage2D(34069+De,0,0,0,we[De].width,we[De].height,$e,lt,we[De].data):n.texImage2D(34069+De,0,at,we[De].width,we[De].height,0,$e,lt,we[De].data);for(let ke=0;ke<ae.length;ke++){let Fe=ae[ke].image[De].image;Bt?n.texSubImage2D(34069+De,ke+1,0,0,Fe.width,Fe.height,$e,lt,Fe.data):n.texImage2D(34069+De,ke+1,at,Fe.width,Fe.height,0,$e,lt,Fe.data)}}else{Bt?n.texSubImage2D(34069+De,0,0,0,$e,lt,we[De]):n.texImage2D(34069+De,0,at,$e,lt,we[De]);for(let ke=0;ke<ae.length;ke++){let Fe=ae[ke];Bt?n.texSubImage2D(34069+De,ke+1,0,0,$e,lt,Fe.image[De]):n.texImage2D(34069+De,ke+1,at,$e,lt,Fe.image[De])}}}x(H,Re)&&E(34067),_e.__version=j.version,H.onUpdate&&H.onUpdate(H)}Q.__version=H.version}function pe(Q,H,ue,Te,j){let _e=o.convert(ue.format,ue.encoding),qe=o.convert(ue.type),Ne=O(ue.internalFormat,_e,qe,ue.encoding);i.get(H).__hasExternalTextures||(j===32879||j===35866?n.texImage3D(j,0,Ne,H.width,H.height,H.depth,0,_e,qe,null):n.texImage2D(j,0,Ne,H.width,H.height,0,_e,qe,null)),n.bindFramebuffer(36160,Q),fe(H)?h.framebufferTexture2DMultisampleEXT(36160,Te,j,i.get(ue).__webglTexture,0,Ue(H)):(j===3553||j>=34069&&j<=34074)&&e.framebufferTexture2D(36160,Te,j,i.get(ue).__webglTexture,0),n.bindFramebuffer(36160,null)}function Ae(Q,H,ue){if(e.bindRenderbuffer(36161,Q),H.depthBuffer&&!H.stencilBuffer){let Te=33189;if(ue||fe(H)){let j=H.depthTexture;j&&j.isDepthTexture&&(j.type===Ki?Te=36012:j.type===Wc&&(Te=33190));let _e=Ue(H);fe(H)?h.renderbufferStorageMultisampleEXT(36161,_e,Te,H.width,H.height):e.renderbufferStorageMultisample(36161,_e,Te,H.width,H.height)}else e.renderbufferStorage(36161,Te,H.width,H.height);e.framebufferRenderbuffer(36160,36096,36161,Q)}else if(H.depthBuffer&&H.stencilBuffer){let Te=Ue(H);ue&&fe(H)===!1?e.renderbufferStorageMultisample(36161,Te,35056,H.width,H.height):fe(H)?h.renderbufferStorageMultisampleEXT(36161,Te,35056,H.width,H.height):e.renderbufferStorage(36161,34041,H.width,H.height),e.framebufferRenderbuffer(36160,33306,36161,Q)}else{let Te=H.isWebGLMultipleRenderTargets===!0?H.texture:[H.texture];for(let j=0;j<Te.length;j++){let _e=Te[j],qe=o.convert(_e.format,_e.encoding),Ne=o.convert(_e.type),we=O(_e.internalFormat,qe,Ne,_e.encoding),je=Ue(H);ue&&fe(H)===!1?e.renderbufferStorageMultisample(36161,je,we,H.width,H.height):fe(H)?h.renderbufferStorageMultisampleEXT(36161,je,we,H.width,H.height):e.renderbufferStorage(36161,we,H.width,H.height)}}e.bindRenderbuffer(36161,null)}function xe(Q,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,Q),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(H.depthTexture).__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),V(H.depthTexture,0);let ue=i.get(H.depthTexture).__webglTexture,Te=Ue(H);if(H.depthTexture.format===qh)fe(H)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,ue,0,Te):e.framebufferTexture2D(36160,36096,3553,ue,0);else if(H.depthTexture.format===ep)fe(H)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,ue,0,Te):e.framebufferTexture2D(36160,33306,3553,ue,0);else throw new Error("Unknown depthTexture format")}function be(Q){let H=i.get(Q),ue=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!H.__autoAllocateDepthBuffer){if(ue)throw new Error("target.depthTexture not supported in Cube render targets");xe(H.__webglFramebuffer,Q)}else if(ue){H.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)n.bindFramebuffer(36160,H.__webglFramebuffer[Te]),H.__webglDepthbuffer[Te]=e.createRenderbuffer(),Ae(H.__webglDepthbuffer[Te],Q,!1)}else n.bindFramebuffer(36160,H.__webglFramebuffer),H.__webglDepthbuffer=e.createRenderbuffer(),Ae(H.__webglDepthbuffer,Q,!1);n.bindFramebuffer(36160,null)}function Ve(Q,H,ue){let Te=i.get(Q);H!==void 0&&pe(Te.__webglFramebuffer,Q,Q.texture,36064,3553),ue!==void 0&&be(Q)}function He(Q){let H=Q.texture,ue=i.get(Q),Te=i.get(H);Q.addEventListener("dispose",T),Q.isWebGLMultipleRenderTargets!==!0&&(Te.__webglTexture===void 0&&(Te.__webglTexture=e.createTexture()),Te.__version=H.version,a.memory.textures++);let j=Q.isWebGLCubeRenderTarget===!0,_e=Q.isWebGLMultipleRenderTargets===!0,qe=M(Q)||s;if(j){ue.__webglFramebuffer=[];for(let Ne=0;Ne<6;Ne++)ue.__webglFramebuffer[Ne]=e.createFramebuffer()}else{if(ue.__webglFramebuffer=e.createFramebuffer(),_e)if(r.drawBuffers){let Ne=Q.texture;for(let we=0,je=Ne.length;we<je;we++){let Re=i.get(Ne[we]);Re.__webglTexture===void 0&&(Re.__webglTexture=e.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&Q.samples>0&&fe(Q)===!1){let Ne=_e?H:[H];ue.__webglMultisampledFramebuffer=e.createFramebuffer(),ue.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,ue.__webglMultisampledFramebuffer);for(let we=0;we<Ne.length;we++){let je=Ne[we];ue.__webglColorRenderbuffer[we]=e.createRenderbuffer(),e.bindRenderbuffer(36161,ue.__webglColorRenderbuffer[we]);let Re=o.convert(je.format,je.encoding),$e=o.convert(je.type),lt=O(je.internalFormat,Re,$e,je.encoding,Q.isXRRenderTarget===!0),at=Ue(Q);e.renderbufferStorageMultisample(36161,at,lt,Q.width,Q.height),e.framebufferRenderbuffer(36160,36064+we,36161,ue.__webglColorRenderbuffer[we])}e.bindRenderbuffer(36161,null),Q.depthBuffer&&(ue.__webglDepthRenderbuffer=e.createRenderbuffer(),Ae(ue.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(36160,null)}}if(j){n.bindTexture(34067,Te.__webglTexture),re(34067,H,qe);for(let Ne=0;Ne<6;Ne++)pe(ue.__webglFramebuffer[Ne],Q,H,36064,34069+Ne);x(H,qe)&&E(34067),n.unbindTexture()}else if(_e){let Ne=Q.texture;for(let we=0,je=Ne.length;we<je;we++){let Re=Ne[we],$e=i.get(Re);n.bindTexture(3553,$e.__webglTexture),re(3553,Re,qe),pe(ue.__webglFramebuffer,Q,Re,36064+we,3553),x(Re,qe)&&E(3553)}n.unbindTexture()}else{let Ne=3553;(Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(s?Ne=Q.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ne,Te.__webglTexture),re(Ne,H,qe),pe(ue.__webglFramebuffer,Q,H,36064,Ne),x(H,qe)&&E(Ne),n.unbindTexture()}Q.depthBuffer&&be(Q)}function Ge(Q){let H=M(Q)||s,ue=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let Te=0,j=ue.length;Te<j;Te++){let _e=ue[Te];if(x(_e,H)){let qe=Q.isWebGLCubeRenderTarget?34067:3553,Ne=i.get(_e).__webglTexture;n.bindTexture(qe,Ne),E(qe),n.unbindTexture()}}}function de(Q){if(s&&Q.samples>0&&fe(Q)===!1){let H=Q.isWebGLMultipleRenderTargets?Q.texture:[Q.texture],ue=Q.width,Te=Q.height,j=16384,_e=[],qe=Q.stencilBuffer?33306:36096,Ne=i.get(Q),we=Q.isWebGLMultipleRenderTargets===!0;if(we)for(let je=0;je<H.length;je++)n.bindFramebuffer(36160,Ne.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+je,36161,null),n.bindFramebuffer(36160,Ne.__webglFramebuffer),e.framebufferTexture2D(36009,36064+je,3553,null,0);n.bindFramebuffer(36008,Ne.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Ne.__webglFramebuffer);for(let je=0;je<H.length;je++){_e.push(36064+je),Q.depthBuffer&&_e.push(qe);let Re=Ne.__ignoreDepthValues!==void 0?Ne.__ignoreDepthValues:!1;if(Re===!1&&(Q.depthBuffer&&(j|=256),Q.stencilBuffer&&(j|=1024)),we&&e.framebufferRenderbuffer(36008,36064,36161,Ne.__webglColorRenderbuffer[je]),Re===!0&&(e.invalidateFramebuffer(36008,[qe]),e.invalidateFramebuffer(36009,[qe])),we){let $e=i.get(H[je]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,$e,0)}e.blitFramebuffer(0,0,ue,Te,0,0,ue,Te,j,9728),p&&e.invalidateFramebuffer(36008,_e)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),we)for(let je=0;je<H.length;je++){n.bindFramebuffer(36160,Ne.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+je,36161,Ne.__webglColorRenderbuffer[je]);let Re=i.get(H[je]).__webglTexture;n.bindFramebuffer(36160,Ne.__webglFramebuffer),e.framebufferTexture2D(36009,36064+je,3553,Re,0)}n.bindFramebuffer(36009,Ne.__webglMultisampledFramebuffer)}}function Ue(Q){return Math.min(u,Q.samples)}function fe(Q){let H=i.get(Q);return s&&Q.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function ce(Q){let H=a.render.frame;m.get(Q)!==H&&(m.set(Q,H),Q.update())}function Pe(Q,H){let ue=Q.encoding,Te=Q.format,j=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||Q.format===L3||ue!==Xs&&(ue===jt?s===!1?t.has("EXT_sRGB")===!0&&Te===Ar?(Q.format=L3,Q.minFilter=qt,Q.generateMipmaps=!1):H=X9.sRGBToLinear(H):(Te!==Ar||j!==Mo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ue)),H}this.allocateTextureUnit=F,this.resetTextureUnits=N,this.setTexture2D=V,this.setTexture2DArray=G,this.setTexture3D=Y,this.setTextureCube=ie,this.rebindTextures=Ve,this.setupRenderTarget=He,this.updateRenderTargetMipmap=Ge,this.updateMultisampleRenderTarget=de,this.setupDepthRenderbuffer=be,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=fe}function ble(e,t,n){let i=n.isWebGL2;function r(o,a=null){let s;if(o===Mo)return 5121;if(o===tie)return 32819;if(o===nie)return 32820;if(o===Kne)return 5120;if(o===Jne)return 5122;if(o===V9)return 5123;if(o===eie)return 5124;if(o===Wc)return 5125;if(o===Ki)return 5126;if(o===Jh)return i?5131:(s=t.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===iie)return 6406;if(o===Ar)return 6408;if(o===rie)return 6409;if(o===oie)return 6410;if(o===qh)return 6402;if(o===ep)return 34041;if(o===L3)return s=t.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(o===aie)return 6403;if(o===sie)return 36244;if(o===tM)return 33319;if(o===lie)return 33320;if(o===U9)return 36249;if(o===S2||o===E2||o===D2||o===A2)if(a===jt)if(s=t.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(o===S2)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===E2)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===D2)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===A2)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=t.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===S2)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===E2)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===D2)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===A2)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===Y8||o===X8||o===Q8||o===Z8)if(s=t.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===Y8)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===X8)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===Q8)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===Z8)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===cie)return s=t.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===$8||o===K8)if(s=t.get("WEBGL_compressed_texture_etc"),s!==null){if(o===$8)return a===jt?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(o===K8)return a===jt?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===J8||o===eF||o===tF||o===nF||o===iF||o===rF||o===oF||o===aF||o===sF||o===lF||o===cF||o===dF||o===uF||o===hF)if(s=t.get("WEBGL_compressed_texture_astc"),s!==null){if(o===J8)return a===jt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===eF)return a===jt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===tF)return a===jt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===nF)return a===jt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===iF)return a===jt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===rF)return a===jt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===oF)return a===jt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===aF)return a===jt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===sF)return a===jt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===lF)return a===jt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===cF)return a===jt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===dF)return a===jt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===uF)return a===jt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===hF)return a===jt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===T2)if(s=t.get("EXT_texture_compression_bptc"),s!==null){if(o===T2)return a===jt?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===die||o===pF||o===mF||o===fF)if(s=t.get("EXT_texture_compression_rgtc"),s!==null){if(o===T2)return s.COMPRESSED_RED_RGTC1_EXT;if(o===pF)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===mF)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===fF)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===Wh?i?34042:(s=t.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):e[o]!==void 0?e[o]:null}return{convert:r}}var _le=class extends go{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},kh=class extends qn{constructor(){super(),this.isGroup=!0,this.type="Group"}},Cle={type:"move"},iE=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new kh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new kh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new L,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new L),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new kh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new L,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new L),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,o=null,a=this._targetRay,s=this._grip,l=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(l&&e.hand){o=!0;for(let m of e.hand.values()){let g=t.getJointPose(m,n),v=this._getHandJoint(l,m);g!==null&&(v.matrix.fromArray(g.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.jointRadius=g.radius),v.visible=g!==null}let c=l.joints["index-finger-tip"],d=l.joints["thumb-tip"],u=c.position.distanceTo(d.position),h=.02,p=.005;l.inputState.pinching&&u>h+p?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&u<=h-p&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else s!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),r!==null&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,n),i===null&&r!==null&&(i=r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Cle)))}return a!==null&&(a.visible=i!==null),s!==null&&(s.visible=r!==null),l!==null&&(l.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){let n=new kh;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}},Ff=class extends wi{constructor(e,t,n,i,r,o,a,s,l,c){if(c=c!==void 0?c:qh,c!==qh&&c!==ep)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&c===qh&&(n=Wc),n===void 0&&c===ep&&(n=Wh),super(null,i,r,o,a,s,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:zn,this.minFilter=s!==void 0?s:zn,this.flipY=!1,this.generateMipmaps=!1}},Mle=class extends Jr{constructor(e,t){super();let n=this,i=null,r=1,o=null,a="local-floor",s=1,l=null,c=null,d=null,u=null,h=null,p=null,m=t.getContextAttributes(),g=null,v=null,b=[],_=[],C=new Set,M=new Map,P=new go;P.layers.enable(1),P.viewport=new Et;let x=new go;x.layers.enable(2),x.viewport=new Et;let E=[P,x],O=new _le;O.layers.enable(1),O.layers.enable(2);let S=null,D=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let Y=b[G];return Y===void 0&&(Y=new iE,b[G]=Y),Y.getTargetRaySpace()},this.getControllerGrip=function(G){let Y=b[G];return Y===void 0&&(Y=new iE,b[G]=Y),Y.getGripSpace()},this.getHand=function(G){let Y=b[G];return Y===void 0&&(Y=new iE,b[G]=Y),Y.getHandSpace()};function I(G){let Y=_.indexOf(G.inputSource);if(Y===-1)return;let ie=b[Y];ie!==void 0&&ie.dispatchEvent({type:G.type,data:G.inputSource})}function T(){i.removeEventListener("select",I),i.removeEventListener("selectstart",I),i.removeEventListener("selectend",I),i.removeEventListener("squeeze",I),i.removeEventListener("squeezestart",I),i.removeEventListener("squeezeend",I),i.removeEventListener("end",T),i.removeEventListener("inputsourceschange",R);for(let G=0;G<b.length;G++){let Y=_[G];Y!==null&&(_[G]=null,b[G].disconnect(Y))}S=null,D=null,e.setRenderTarget(g),h=null,u=null,d=null,i=null,v=null,V.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){r=G,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){a=G,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(G){l=G},this.getBaseLayer=function(){return u!==null?u:h},this.getBinding=function(){return d},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=function(G){return ri(this,null,function*(){if(i=G,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",I),i.addEventListener("selectstart",I),i.addEventListener("selectend",I),i.addEventListener("squeeze",I),i.addEventListener("squeezestart",I),i.addEventListener("squeezeend",I),i.addEventListener("end",T),i.addEventListener("inputsourceschange",R),m.xrCompatible!==!0&&(yield t.makeXRCompatible()),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){let Y={antialias:i.renderState.layers===void 0?m.antialias:!0,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:r};h=new XRWebGLLayer(i,t,Y),i.updateRenderState({baseLayer:h}),v=new Bn(h.framebufferWidth,h.framebufferHeight,{format:Ar,type:Mo,encoding:e.outputEncoding,stencilBuffer:m.stencil})}else{let Y=null,ie=null,te=null;m.depth&&(te=m.stencil?35056:33190,Y=m.stencil?ep:qh,ie=m.stencil?Wh:Wc);let ne={colorFormat:32856,depthFormat:te,scaleFactor:r};d=new XRWebGLBinding(i,t),u=d.createProjectionLayer(ne),i.updateRenderState({layers:[u]}),v=new Bn(u.textureWidth,u.textureHeight,{format:Ar,type:Mo,depthTexture:new Ff(u.textureWidth,u.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,Y),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0});let re=e.properties.get(v);re.__ignoreDepthValues=u.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(s),l=null,o=yield i.requestReferenceSpace(a),V.setContext(i),V.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}})};function R(G){for(let Y=0;Y<G.removed.length;Y++){let ie=G.removed[Y],te=_.indexOf(ie);te>=0&&(_[te]=null,b[te].disconnect(ie))}for(let Y=0;Y<G.added.length;Y++){let ie=G.added[Y],te=_.indexOf(ie);if(te===-1){for(let re=0;re<b.length;re++)if(re>=_.length){_.push(ie),te=re;break}else if(_[re]===null){_[re]=ie,te=re;break}if(te===-1)break}let ne=b[te];ne&&ne.connect(ie)}}let k=new L,z=new L;function W(G,Y,ie){k.setFromMatrixPosition(Y.matrixWorld),z.setFromMatrixPosition(ie.matrixWorld);let te=k.distanceTo(z),ne=Y.projectionMatrix.elements,re=ie.projectionMatrix.elements,ye=ne[14]/(ne[10]-1),he=ne[14]/(ne[10]+1),Me=(ne[9]+1)/ne[5],pe=(ne[9]-1)/ne[5],Ae=(ne[8]-1)/ne[0],xe=(re[8]+1)/re[0],be=ye*Ae,Ve=ye*xe,He=te/(-Ae+xe),Ge=He*-Ae;Y.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(Ge),G.translateZ(He),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();let de=ye+He,Ue=he+He,fe=be-Ge,ce=Ve+(te-Ge),Pe=Me*he/Ue*de,Q=pe*he/Ue*de;G.projectionMatrix.makePerspective(fe,ce,Pe,Q,de,Ue)}function N(G,Y){Y===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(Y.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(i===null)return;O.near=x.near=P.near=G.near,O.far=x.far=P.far=G.far,(S!==O.near||D!==O.far)&&(i.updateRenderState({depthNear:O.near,depthFar:O.far}),S=O.near,D=O.far);let Y=G.parent,ie=O.cameras;N(O,Y);for(let ne=0;ne<ie.length;ne++)N(ie[ne],Y);O.matrixWorld.decompose(O.position,O.quaternion,O.scale),G.matrix.copy(O.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale);let te=G.children;for(let ne=0,re=te.length;ne<re;ne++)te[ne].updateMatrixWorld(!0);ie.length===2?W(O,P,x):O.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return O},this.getFoveation=function(){if(!(u===null&&h===null))return s},this.setFoveation=function(G){s=G,u!==null&&(u.fixedFoveation=G),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=G)},this.getPlanes=function(){return C};let F=null;function X(G,Y){if(c=Y.getViewerPose(l||o),p=Y,c!==null){let ie=c.views;h!==null&&(e.setRenderTargetFramebuffer(v,h.framebuffer),e.setRenderTarget(v));let te=!1;ie.length!==O.cameras.length&&(O.cameras.length=0,te=!0);for(let ne=0;ne<ie.length;ne++){let re=ie[ne],ye=null;if(h!==null)ye=h.getViewport(re);else{let Me=d.getViewSubImage(u,re);ye=Me.viewport,ne===0&&(e.setRenderTargetTextures(v,Me.colorTexture,u.ignoreDepthValues?void 0:Me.depthStencilTexture),e.setRenderTarget(v))}let he=E[ne];he===void 0&&(he=new go,he.layers.enable(ne),he.viewport=new Et,E[ne]=he),he.matrix.fromArray(re.transform.matrix),he.projectionMatrix.fromArray(re.projectionMatrix),he.viewport.set(ye.x,ye.y,ye.width,ye.height),ne===0&&O.matrix.copy(he.matrix),te===!0&&O.cameras.push(he)}}for(let ie=0;ie<b.length;ie++){let te=_[ie],ne=b[ie];te!==null&&ne!==void 0&&ne.update(te,Y,l||o)}if(F&&F(G,Y),Y.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:Y.detectedPlanes});let ie=null;for(let te of C)Y.detectedPlanes.has(te)||(ie===null&&(ie=[]),ie.push(te));if(ie!==null)for(let te of ie)C.delete(te),M.delete(te),n.dispatchEvent({type:"planeremoved",data:te});for(let te of Y.detectedPlanes)if(!C.has(te))C.add(te),M.set(te,Y.lastChangedTime),n.dispatchEvent({type:"planeadded",data:te});else{let ne=M.get(te);te.lastChangedTime>ne&&(M.set(te,te.lastChangedTime),n.dispatchEvent({type:"planechanged",data:te}))}}p=null}let V=new J9;V.setAnimationLoop(X),this.setAnimationLoop=function(G){F=G},this.dispose=function(){}}};function wle(e,t){function n(g,v){v.color.getRGB(g.fogColor.value,K9(e)),v.isFog?(g.fogNear.value=v.near,g.fogFar.value=v.far):v.isFogExp2&&(g.fogDensity.value=v.density)}function i(g,v,b,_,C){v.isMeshBasicMaterial||v.isMeshLambertMaterial?r(g,v):v.isMeshToonMaterial?(r(g,v),d(g,v)):v.isMeshPhongMaterial?(r(g,v),c(g,v)):v.isMeshStandardMaterial?(r(g,v),u(g,v),v.isMeshPhysicalMaterial&&h(g,v,C)):v.isMeshMatcapMaterial?(r(g,v),p(g,v)):v.isMeshDepthMaterial?r(g,v):v.isMeshDistanceMaterial?(r(g,v),m(g,v)):v.isMeshNormalMaterial?r(g,v):v.isLineBasicMaterial?(o(g,v),v.isLineDashedMaterial&&a(g,v)):v.isPointsMaterial?s(g,v,b,_):v.isSpriteMaterial?l(g,v):v.isShadowMaterial?(g.color.value.copy(v.color),g.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function r(g,v){g.opacity.value=v.opacity,v.color&&g.diffuse.value.copy(v.color),v.emissive&&g.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(g.map.value=v.map),v.alphaMap&&(g.alphaMap.value=v.alphaMap),v.bumpMap&&(g.bumpMap.value=v.bumpMap,g.bumpScale.value=v.bumpScale,v.side===Ir&&(g.bumpScale.value*=-1)),v.displacementMap&&(g.displacementMap.value=v.displacementMap,g.displacementScale.value=v.displacementScale,g.displacementBias.value=v.displacementBias),v.emissiveMap&&(g.emissiveMap.value=v.emissiveMap),v.normalMap&&(g.normalMap.value=v.normalMap,g.normalScale.value.copy(v.normalScale),v.side===Ir&&g.normalScale.value.negate()),v.specularMap&&(g.specularMap.value=v.specularMap),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);let b=t.get(v).envMap;if(b&&(g.envMap.value=b,g.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=v.reflectivity,g.ior.value=v.ior,g.refractionRatio.value=v.refractionRatio),v.lightMap){g.lightMap.value=v.lightMap;let M=e.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=v.lightMapIntensity*M}v.aoMap&&(g.aoMap.value=v.aoMap,g.aoMapIntensity.value=v.aoMapIntensity);let _;v.map?_=v.map:v.specularMap?_=v.specularMap:v.displacementMap?_=v.displacementMap:v.normalMap?_=v.normalMap:v.bumpMap?_=v.bumpMap:v.roughnessMap?_=v.roughnessMap:v.metalnessMap?_=v.metalnessMap:v.alphaMap?_=v.alphaMap:v.emissiveMap?_=v.emissiveMap:v.clearcoatMap?_=v.clearcoatMap:v.clearcoatNormalMap?_=v.clearcoatNormalMap:v.clearcoatRoughnessMap?_=v.clearcoatRoughnessMap:v.iridescenceMap?_=v.iridescenceMap:v.iridescenceThicknessMap?_=v.iridescenceThicknessMap:v.specularIntensityMap?_=v.specularIntensityMap:v.specularColorMap?_=v.specularColorMap:v.transmissionMap?_=v.transmissionMap:v.thicknessMap?_=v.thicknessMap:v.sheenColorMap?_=v.sheenColorMap:v.sheenRoughnessMap&&(_=v.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),g.uvTransform.value.copy(_.matrix));let C;v.aoMap?C=v.aoMap:v.lightMap&&(C=v.lightMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),g.uv2Transform.value.copy(C.matrix))}function o(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity}function a(g,v){g.dashSize.value=v.dashSize,g.totalSize.value=v.dashSize+v.gapSize,g.scale.value=v.scale}function s(g,v,b,_){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.size.value=v.size*b,g.scale.value=_*.5,v.map&&(g.map.value=v.map),v.alphaMap&&(g.alphaMap.value=v.alphaMap),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);let C;v.map?C=v.map:v.alphaMap&&(C=v.alphaMap),C!==void 0&&(C.matrixAutoUpdate===!0&&C.updateMatrix(),g.uvTransform.value.copy(C.matrix))}function l(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.rotation.value=v.rotation,v.map&&(g.map.value=v.map),v.alphaMap&&(g.alphaMap.value=v.alphaMap),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);let b;v.map?b=v.map:v.alphaMap&&(b=v.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uvTransform.value.copy(b.matrix))}function c(g,v){g.specular.value.copy(v.specular),g.shininess.value=Math.max(v.shininess,1e-4)}function d(g,v){v.gradientMap&&(g.gradientMap.value=v.gradientMap)}function u(g,v){g.roughness.value=v.roughness,g.metalness.value=v.metalness,v.roughnessMap&&(g.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(g.metalnessMap.value=v.metalnessMap),t.get(v).envMap&&(g.envMapIntensity.value=v.envMapIntensity)}function h(g,v,b){g.ior.value=v.ior,v.sheen>0&&(g.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),g.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(g.sheenColorMap.value=v.sheenColorMap),v.sheenRoughnessMap&&(g.sheenRoughnessMap.value=v.sheenRoughnessMap)),v.clearcoat>0&&(g.clearcoat.value=v.clearcoat,g.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(g.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),g.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===Ir&&g.clearcoatNormalScale.value.negate())),v.iridescence>0&&(g.iridescence.value=v.iridescence,g.iridescenceIOR.value=v.iridescenceIOR,g.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(g.iridescenceMap.value=v.iridescenceMap),v.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=v.iridescenceThicknessMap)),v.transmission>0&&(g.transmission.value=v.transmission,g.transmissionSamplerMap.value=b.texture,g.transmissionSamplerSize.value.set(b.width,b.height),v.transmissionMap&&(g.transmissionMap.value=v.transmissionMap),g.thickness.value=v.thickness,v.thicknessMap&&(g.thicknessMap.value=v.thicknessMap),g.attenuationDistance.value=v.attenuationDistance,g.attenuationColor.value.copy(v.attenuationColor)),g.specularIntensity.value=v.specularIntensity,g.specularColor.value.copy(v.specularColor),v.specularIntensityMap&&(g.specularIntensityMap.value=v.specularIntensityMap),v.specularColorMap&&(g.specularColorMap.value=v.specularColorMap)}function p(g,v){v.matcap&&(g.matcap.value=v.matcap)}function m(g,v){g.referencePosition.value.copy(v.referencePosition),g.nearDistance.value=v.nearDistance,g.farDistance.value=v.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function xle(e,t,n,i){let r={},o={},a=[],s=n.isWebGL2?e.getParameter(35375):0;function l(_,C){let M=C.program;i.uniformBlockBinding(_,M)}function c(_,C){let M=r[_.id];M===void 0&&(m(_),M=d(_),r[_.id]=M,_.addEventListener("dispose",v));let P=C.program;i.updateUBOMapping(_,P);let x=t.render.frame;o[_.id]!==x&&(h(_),o[_.id]=x)}function d(_){let C=u();_.__bindingPointIndex=C;let M=e.createBuffer(),P=_.__size,x=_.usage;return e.bindBuffer(35345,M),e.bufferData(35345,P,x),e.bindBuffer(35345,null),e.bindBufferBase(35345,C,M),M}function u(){for(let _=0;_<s;_++)if(a.indexOf(_)===-1)return a.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(_){let C=r[_.id],M=_.uniforms,P=_.__cache;e.bindBuffer(35345,C);for(let x=0,E=M.length;x<E;x++){let O=M[x];if(p(O,x,P)===!0){let S=O.__offset,D=Array.isArray(O.value)?O.value:[O.value],I=0;for(let T=0;T<D.length;T++){let R=D[T],k=g(R);typeof R=="number"?(O.__data[0]=R,e.bufferSubData(35345,S+I,O.__data)):R.isMatrix3?(O.__data[0]=R.elements[0],O.__data[1]=R.elements[1],O.__data[2]=R.elements[2],O.__data[3]=R.elements[0],O.__data[4]=R.elements[3],O.__data[5]=R.elements[4],O.__data[6]=R.elements[5],O.__data[7]=R.elements[0],O.__data[8]=R.elements[6],O.__data[9]=R.elements[7],O.__data[10]=R.elements[8],O.__data[11]=R.elements[0]):(R.toArray(O.__data,I),I+=k.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,S,O.__data)}}e.bindBuffer(35345,null)}function p(_,C,M){let P=_.value;if(M[C]===void 0){if(typeof P=="number")M[C]=P;else{let x=Array.isArray(P)?P:[P],E=[];for(let O=0;O<x.length;O++)E.push(x[O].clone());M[C]=E}return!0}else if(typeof P=="number"){if(M[C]!==P)return M[C]=P,!0}else{let x=Array.isArray(M[C])?M[C]:[M[C]],E=Array.isArray(P)?P:[P];for(let O=0;O<x.length;O++){let S=x[O];if(S.equals(E[O])===!1)return S.copy(E[O]),!0}}return!1}function m(_){let C=_.uniforms,M=0,P=16,x=0;for(let E=0,O=C.length;E<O;E++){let S=C[E],D={boundary:0,storage:0},I=Array.isArray(S.value)?S.value:[S.value];for(let T=0,R=I.length;T<R;T++){let k=I[T],z=g(k);D.boundary+=z.boundary,D.storage+=z.storage}if(S.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),S.__offset=M,E>0){x=M%P;let T=P-x;x!==0&&T-D.boundary<0&&(M+=P-x,S.__offset=M)}M+=D.storage}return x=M%P,x>0&&(M+=P-x),_.__size=M,_.__cache={},this}function g(_){let C={boundary:0,storage:0};return typeof _=="number"?(C.boundary=4,C.storage=4):_.isVector2?(C.boundary=8,C.storage=8):_.isVector3||_.isColor?(C.boundary=16,C.storage=12):_.isVector4?(C.boundary=16,C.storage=16):_.isMatrix3?(C.boundary=48,C.storage=48):_.isMatrix4?(C.boundary=64,C.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),C}function v(_){let C=_.target;C.removeEventListener("dispose",v);let M=a.indexOf(C.__bindingPointIndex);a.splice(M,1),e.deleteBuffer(r[C.id]),delete r[C.id],delete o[C.id]}function b(){for(let _ in r)e.deleteBuffer(r[_]);a=[],r={},o={}}return{bind:l,update:c,dispose:b}}function Ple(){let e=Xv("canvas");return e.style.display="block",e}function oV(e={}){this.isWebGLRenderer=!0;let t=e.canvas!==void 0?e.canvas:Ple(),n=e.context!==void 0?e.context:null,i=e.depth!==void 0?e.depth:!0,r=e.stencil!==void 0?e.stencil:!0,o=e.antialias!==void 0?e.antialias:!1,a=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,s=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,l=e.powerPreference!==void 0?e.powerPreference:"default",c=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1,d;n!==null?d=n.getContextAttributes().alpha:d=e.alpha!==void 0?e.alpha:!1;let u=null,h=null,p=[],m=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Xs,this.physicallyCorrectLights=!1,this.toneMapping=Hl,this.toneMappingExposure=1;let g=this,v=!1,b=0,_=0,C=null,M=-1,P=null,x=new Et,E=new Et,O=null,S=t.width,D=t.height,I=1,T=null,R=null,k=new Et(0,0,S,D),z=new Et(0,0,S,D),W=!1,N=new LA,F=!1,X=!1,V=null,G=new Be,Y=new oe,ie=new L,te={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ne(){return C===null?I:1}let re=n;function ye(K,me){for(let Oe=0;Oe<K.length;Oe++){let ve=K[Oe],Se=t.getContext(ve,me);if(Se!==null)return Se}return null}try{let K={alpha:!0,depth:i,stencil:r,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:s,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Qf}`),t.addEventListener("webglcontextlost",lt,!1),t.addEventListener("webglcontextrestored",at,!1),t.addEventListener("webglcontextcreationerror",Bt,!1),re===null){let me=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&me.shift(),re=ye(me,K),re===null)throw ye(me)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}re.getShaderPrecisionFormat===void 0&&(re.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(K){throw console.error("THREE.WebGLRenderer: "+K.message),K}let he,Me,pe,Ae,xe,be,Ve,He,Ge,de,Ue,fe,ce,Pe,Q,H,ue,Te,j,_e,qe,Ne,we,je;function Re(){he=new zae(re),Me=new Iae(re,he,e),he.init(Me),Ne=new ble(re,he,Me),pe=new vle(re,he,Me),Ae=new Uae,xe=new rle,be=new yle(re,he,pe,xe,Me,Ne,Ae),Ve=new Lae(g),He=new Nae(g),Ge=new Zie(re,Me),we=new Aae(re,he,Ge,Me),de=new Bae(re,Ge,Ae,we),Ue=new Wae(re,de,Ge,Ae),j=new Gae(re,Me,be),H=new Rae(xe),fe=new ile(g,Ve,He,he,Me,we,H),ce=new wle(g,xe),Pe=new ale,Q=new hle(he,Me),Te=new Dae(g,Ve,He,pe,Ue,d,a),ue=new gle(g,Ue,Me),je=new xle(re,Ae,Me,pe),_e=new Tae(re,he,Ae,Me),qe=new Vae(re,he,Ae,Me),Ae.programs=fe.programs,g.capabilities=Me,g.extensions=he,g.properties=xe,g.renderLists=Pe,g.shadowMap=ue,g.state=pe,g.info=Ae}Re();let $e=new Mle(g,re);this.xr=$e,this.getContext=function(){return re},this.getContextAttributes=function(){return re.getContextAttributes()},this.forceContextLoss=function(){let K=he.get("WEBGL_lose_context");K&&K.loseContext()},this.forceContextRestore=function(){let K=he.get("WEBGL_lose_context");K&&K.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(K){K!==void 0&&(I=K,this.setSize(S,D,!1))},this.getSize=function(K){return K.set(S,D)},this.setSize=function(K,me,Oe){if($e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}S=K,D=me,t.width=Math.floor(K*I),t.height=Math.floor(me*I),Oe!==!1&&(t.style.width=K+"px",t.style.height=me+"px"),this.setViewport(0,0,K,me)},this.getDrawingBufferSize=function(K){return K.set(S*I,D*I).floor()},this.setDrawingBufferSize=function(K,me,Oe){S=K,D=me,I=Oe,t.width=Math.floor(K*Oe),t.height=Math.floor(me*Oe),this.setViewport(0,0,K,me)},this.getCurrentViewport=function(K){return K.copy(x)},this.getViewport=function(K){return K.copy(k)},this.setViewport=function(K,me,Oe,ve){K.isVector4?k.set(K.x,K.y,K.z,K.w):k.set(K,me,Oe,ve),pe.viewport(x.copy(k).multiplyScalar(I).floor())},this.getScissor=function(K){return K.copy(z)},this.setScissor=function(K,me,Oe,ve){K.isVector4?z.set(K.x,K.y,K.z,K.w):z.set(K,me,Oe,ve),pe.scissor(E.copy(z).multiplyScalar(I).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(K){pe.setScissorTest(W=K)},this.setOpaqueSort=function(K){T=K},this.setTransparentSort=function(K){R=K},this.getClearColor=function(K){return K.copy(Te.getClearColor())},this.setClearColor=function(){Te.setClearColor.apply(Te,arguments)},this.getClearAlpha=function(){return Te.getClearAlpha()},this.setClearAlpha=function(){Te.setClearAlpha.apply(Te,arguments)},this.clear=function(K=!0,me=!0,Oe=!0){let ve=0;K&&(ve|=16384),me&&(ve|=256),Oe&&(ve|=1024),re.clear(ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",lt,!1),t.removeEventListener("webglcontextrestored",at,!1),t.removeEventListener("webglcontextcreationerror",Bt,!1),Pe.dispose(),Q.dispose(),xe.dispose(),Ve.dispose(),He.dispose(),Ue.dispose(),we.dispose(),je.dispose(),fe.dispose(),$e.dispose(),$e.removeEventListener("sessionstart",Fe),$e.removeEventListener("sessionend",Qe),V&&(V.dispose(),V=null),st.stop()};function lt(K){K.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function at(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;let K=Ae.autoReset,me=ue.enabled,Oe=ue.autoUpdate,ve=ue.needsUpdate,Se=ue.type;Re(),Ae.autoReset=K,ue.enabled=me,ue.autoUpdate=Oe,ue.needsUpdate=ve,ue.type=Se}function Bt(K){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",K.statusMessage)}function Qt(K){let me=K.target;me.removeEventListener("dispose",Qt),At(me)}function At(K){ae(K),xe.remove(K)}function ae(K){let me=xe.get(K).programs;me!==void 0&&(me.forEach(function(Oe){fe.releaseProgram(Oe)}),K.isShaderMaterial&&fe.releaseShaderCache(K))}this.renderBufferDirect=function(K,me,Oe,ve,Se,Ye){me===null&&(me=te);let nt=Se.isMesh&&Se.matrixWorld.determinant()<0,wt=Nt(K,me,Oe,ve,Se);pe.setMaterial(ve,nt);let ht=Oe.index,Yt=1;ve.wireframe===!0&&(ht=de.getWireframeAttribute(Oe),Yt=2);let Vt=Oe.drawRange,ft=Oe.attributes.position,vn=Vt.start*Yt,Rn=(Vt.start+Vt.count)*Yt;Ye!==null&&(vn=Math.max(vn,Ye.start*Yt),Rn=Math.min(Rn,(Ye.start+Ye.count)*Yt)),ht!==null?(vn=Math.max(vn,0),Rn=Math.min(Rn,ht.count)):ft!=null&&(vn=Math.max(vn,0),Rn=Math.min(Rn,ft.count));let ir=Rn-vn;if(ir<0||ir===1/0)return;we.setup(Se,ve,wt,Oe,ht);let Yo,tn=_e;if(ht!==null&&(Yo=Ge.get(ht),tn=qe,tn.setIndex(Yo)),Se.isMesh)ve.wireframe===!0?(pe.setLineWidth(ve.wireframeLinewidth*ne()),tn.setMode(1)):tn.setMode(4);else if(Se.isLine){let ot=ve.linewidth;ot===void 0&&(ot=1),pe.setLineWidth(ot*ne()),Se.isLineSegments?tn.setMode(1):Se.isLineLoop?tn.setMode(2):tn.setMode(3)}else Se.isPoints?tn.setMode(0):Se.isSprite&&tn.setMode(4);if(Se.isInstancedMesh)tn.renderInstances(vn,ir,Se.count);else if(Oe.isInstancedBufferGeometry){let ot=Oe._maxInstanceCount!==void 0?Oe._maxInstanceCount:1/0,Fr=Math.min(Oe.instanceCount,ot);tn.renderInstances(vn,ir,Fr)}else tn.render(vn,ir)},this.compile=function(K,me){function Oe(ve,Se,Ye){ve.transparent===!0&&ve.side===la&&ve.forceSinglePass===!1?(ve.side=Ir,ve.needsUpdate=!0,Lt(ve,Se,Ye),ve.side=Ys,ve.needsUpdate=!0,Lt(ve,Se,Ye),ve.side=la):Lt(ve,Se,Ye)}h=Q.get(K),h.init(),m.push(h),K.traverseVisible(function(ve){ve.isLight&&ve.layers.test(me.layers)&&(h.pushLight(ve),ve.castShadow&&h.pushShadow(ve))}),h.setupLights(g.physicallyCorrectLights),K.traverse(function(ve){let Se=ve.material;if(Se)if(Array.isArray(Se))for(let Ye=0;Ye<Se.length;Ye++){let nt=Se[Ye];Oe(nt,K,ve)}else Oe(Se,K,ve)}),m.pop(),h=null};let De=null;function ke(K){De&&De(K)}function Fe(){st.stop()}function Qe(){st.start()}let st=new J9;st.setAnimationLoop(ke),typeof self<"u"&&st.setContext(self),this.setAnimationLoop=function(K){De=K,$e.setAnimationLoop(K),K===null?st.stop():st.start()},$e.addEventListener("sessionstart",Fe),$e.addEventListener("sessionend",Qe),this.render=function(K,me){if(me!==void 0&&me.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;K.matrixWorldAutoUpdate===!0&&K.updateMatrixWorld(),me.parent===null&&me.matrixWorldAutoUpdate===!0&&me.updateMatrixWorld(),$e.enabled===!0&&$e.isPresenting===!0&&($e.cameraAutoUpdate===!0&&$e.updateCamera(me),me=$e.getCamera()),K.isScene===!0&&K.onBeforeRender(g,K,me,C),h=Q.get(K,m.length),h.init(),m.push(h),G.multiplyMatrices(me.projectionMatrix,me.matrixWorldInverse),N.setFromProjectionMatrix(G),X=this.localClippingEnabled,F=H.init(this.clippingPlanes,X),u=Pe.get(K,p.length),u.init(),p.push(u),gn(K,me,0,g.sortObjects),u.finish(),g.sortObjects===!0&&u.sort(T,R),F===!0&&H.beginShadows();let Oe=h.state.shadowsArray;if(ue.render(Oe,K,me),F===!0&&H.endShadows(),this.info.autoReset===!0&&this.info.reset(),Te.render(u,K),h.setupLights(g.physicallyCorrectLights),me.isArrayCamera){let ve=me.cameras;for(let Se=0,Ye=ve.length;Se<Ye;Se++){let nt=ve[Se];sn(u,K,nt,nt.viewport)}}else sn(u,K,me);C!==null&&(be.updateMultisampleRenderTarget(C),be.updateRenderTargetMipmap(C)),K.isScene===!0&&K.onAfterRender(g,K,me),we.resetDefaultState(),M=-1,P=null,m.pop(),m.length>0?h=m[m.length-1]:h=null,p.pop(),p.length>0?u=p[p.length-1]:u=null};function gn(K,me,Oe,ve){if(K.visible===!1)return;if(K.layers.test(me.layers)){if(K.isGroup)Oe=K.renderOrder;else if(K.isLOD)K.autoUpdate===!0&&K.update(me);else if(K.isLight)h.pushLight(K),K.castShadow&&h.pushShadow(K);else if(K.isSprite){if(!K.frustumCulled||N.intersectsSprite(K)){ve&&ie.setFromMatrixPosition(K.matrixWorld).applyMatrix4(G);let Ye=Ue.update(K),nt=K.material;nt.visible&&u.push(K,Ye,nt,Oe,ie.z,null)}}else if((K.isMesh||K.isLine||K.isPoints)&&(K.isSkinnedMesh&&K.skeleton.frame!==Ae.render.frame&&(K.skeleton.update(),K.skeleton.frame=Ae.render.frame),!K.frustumCulled||N.intersectsObject(K))){ve&&ie.setFromMatrixPosition(K.matrixWorld).applyMatrix4(G);let Ye=Ue.update(K),nt=K.material;if(Array.isArray(nt)){let wt=Ye.groups;for(let ht=0,Yt=wt.length;ht<Yt;ht++){let Vt=wt[ht],ft=nt[Vt.materialIndex];ft&&ft.visible&&u.push(K,Ye,ft,Oe,ie.z,Vt)}}else nt.visible&&u.push(K,Ye,nt,Oe,ie.z,null)}}let Se=K.children;for(let Ye=0,nt=Se.length;Ye<nt;Ye++)gn(Se[Ye],me,Oe,ve)}function sn(K,me,Oe,ve){let Se=K.opaque,Ye=K.transmissive,nt=K.transparent;h.setupLightsView(Oe),F===!0&&H.setGlobalState(g.clippingPlanes,Oe),Ye.length>0&&Pi(Se,me,Oe),ve&&pe.viewport(x.copy(ve)),Se.length>0&&tt(Se,me,Oe),Ye.length>0&&tt(Ye,me,Oe),nt.length>0&&tt(nt,me,Oe),pe.buffers.depth.setTest(!0),pe.buffers.depth.setMask(!0),pe.buffers.color.setMask(!0),pe.setPolygonOffset(!1)}function Pi(K,me,Oe){let ve=Me.isWebGL2;V===null&&(V=new Bn(1,1,{generateMipmaps:!0,type:he.has("EXT_color_buffer_half_float")?Jh:Mo,minFilter:Lf,samples:ve&&o===!0?4:0})),g.getDrawingBufferSize(Y),ve?V.setSize(Y.x,Y.y):V.setSize(aM(Y.x),aM(Y.y));let Se=g.getRenderTarget();g.setRenderTarget(V),g.clear();let Ye=g.toneMapping;g.toneMapping=Hl,tt(K,me,Oe),g.toneMapping=Ye,be.updateMultisampleRenderTarget(V),be.updateRenderTargetMipmap(V),g.setRenderTarget(Se)}function tt(K,me,Oe){let ve=me.isScene===!0?me.overrideMaterial:null;for(let Se=0,Ye=K.length;Se<Ye;Se++){let nt=K[Se],wt=nt.object,ht=nt.geometry,Yt=ve===null?nt.material:ve,Vt=nt.group;wt.layers.test(Oe.layers)&&ct(wt,me,Oe,ht,Yt,Vt)}}function ct(K,me,Oe,ve,Se,Ye){K.onBeforeRender(g,me,Oe,ve,Se,Ye),K.modelViewMatrix.multiplyMatrices(Oe.matrixWorldInverse,K.matrixWorld),K.normalMatrix.getNormalMatrix(K.modelViewMatrix),Se.onBeforeRender(g,me,Oe,ve,K,Ye),Se.transparent===!0&&Se.side===la&&Se.forceSinglePass===!1?(Se.side=Ir,Se.needsUpdate=!0,g.renderBufferDirect(Oe,me,ve,Se,K,Ye),Se.side=Ys,Se.needsUpdate=!0,g.renderBufferDirect(Oe,me,ve,Se,K,Ye),Se.side=la):g.renderBufferDirect(Oe,me,ve,Se,K,Ye),K.onAfterRender(g,me,Oe,ve,Se,Ye)}function Lt(K,me,Oe){me.isScene!==!0&&(me=te);let ve=xe.get(K),Se=h.state.lights,Ye=h.state.shadowsArray,nt=Se.state.version,wt=fe.getParameters(K,Se.state,Ye,me,Oe),ht=fe.getProgramCacheKey(wt),Yt=ve.programs;ve.environment=K.isMeshStandardMaterial?me.environment:null,ve.fog=me.fog,ve.envMap=(K.isMeshStandardMaterial?He:Ve).get(K.envMap||ve.environment),Yt===void 0&&(K.addEventListener("dispose",Qt),Yt=new Map,ve.programs=Yt);let Vt=Yt.get(ht);if(Vt!==void 0){if(ve.currentProgram===Vt&&ve.lightsStateVersion===nt)return Ke(K,wt),Vt}else wt.uniforms=fe.getUniforms(K),K.onBuild(Oe,wt,g),K.onBeforeCompile(wt,g),Vt=fe.acquireProgram(wt,ht),Yt.set(ht,Vt),ve.uniforms=wt.uniforms;let ft=ve.uniforms;(!K.isShaderMaterial&&!K.isRawShaderMaterial||K.clipping===!0)&&(ft.clippingPlanes=H.uniform),Ke(K,wt),ve.needsLights=Tt(K),ve.lightsStateVersion=nt,ve.needsLights&&(ft.ambientLightColor.value=Se.state.ambient,ft.lightProbe.value=Se.state.probe,ft.directionalLights.value=Se.state.directional,ft.directionalLightShadows.value=Se.state.directionalShadow,ft.spotLights.value=Se.state.spot,ft.spotLightShadows.value=Se.state.spotShadow,ft.rectAreaLights.value=Se.state.rectArea,ft.ltc_1.value=Se.state.rectAreaLTC1,ft.ltc_2.value=Se.state.rectAreaLTC2,ft.pointLights.value=Se.state.point,ft.pointLightShadows.value=Se.state.pointShadow,ft.hemisphereLights.value=Se.state.hemi,ft.directionalShadowMap.value=Se.state.directionalShadowMap,ft.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,ft.spotShadowMap.value=Se.state.spotShadowMap,ft.spotLightMatrix.value=Se.state.spotLightMatrix,ft.spotLightMap.value=Se.state.spotLightMap,ft.pointShadowMap.value=Se.state.pointShadowMap,ft.pointShadowMatrix.value=Se.state.pointShadowMatrix);let vn=Vt.getUniforms(),Rn=VC.seqWithValue(vn.seq,ft);return ve.currentProgram=Vt,ve.uniformsList=Rn,Vt}function Ke(K,me){let Oe=xe.get(K);Oe.outputEncoding=me.outputEncoding,Oe.instancing=me.instancing,Oe.skinning=me.skinning,Oe.morphTargets=me.morphTargets,Oe.morphNormals=me.morphNormals,Oe.morphColors=me.morphColors,Oe.morphTargetsCount=me.morphTargetsCount,Oe.numClippingPlanes=me.numClippingPlanes,Oe.numIntersection=me.numClipIntersection,Oe.vertexAlphas=me.vertexAlphas,Oe.vertexTangents=me.vertexTangents,Oe.toneMapping=me.toneMapping}function Nt(K,me,Oe,ve,Se){me.isScene!==!0&&(me=te),be.resetTextureUnits();let Ye=me.fog,nt=ve.isMeshStandardMaterial?me.environment:null,wt=C===null?g.outputEncoding:C.isXRRenderTarget===!0?C.texture.encoding:Xs,ht=(ve.isMeshStandardMaterial?He:Ve).get(ve.envMap||nt),Yt=ve.vertexColors===!0&&!!Oe.attributes.color&&Oe.attributes.color.itemSize===4,Vt=!!ve.normalMap&&!!Oe.attributes.tangent,ft=!!Oe.morphAttributes.position,vn=!!Oe.morphAttributes.normal,Rn=!!Oe.morphAttributes.color,ir=ve.toneMapped?g.toneMapping:Hl,Yo=Oe.morphAttributes.position||Oe.morphAttributes.normal||Oe.morphAttributes.color,tn=Yo!==void 0?Yo.length:0,ot=xe.get(ve),Fr=h.state.lights;if(F===!0&&(X===!0||K!==P)){let ki=K===P&&ve.id===M;H.setState(ve,K,ki)}let Xo=!1;ve.version===ot.__version?(ot.needsLights&&ot.lightsStateVersion!==Fr.state.version||ot.outputEncoding!==wt||Se.isInstancedMesh&&ot.instancing===!1||!Se.isInstancedMesh&&ot.instancing===!0||Se.isSkinnedMesh&&ot.skinning===!1||!Se.isSkinnedMesh&&ot.skinning===!0||ot.envMap!==ht||ve.fog===!0&&ot.fog!==Ye||ot.numClippingPlanes!==void 0&&(ot.numClippingPlanes!==H.numPlanes||ot.numIntersection!==H.numIntersection)||ot.vertexAlphas!==Yt||ot.vertexTangents!==Vt||ot.morphTargets!==ft||ot.morphNormals!==vn||ot.morphColors!==Rn||ot.toneMapping!==ir||Me.isWebGL2===!0&&ot.morphTargetsCount!==tn)&&(Xo=!0):(Xo=!0,ot.__version=ve.version);let fa=ot.currentProgram;Xo===!0&&(fa=Lt(ve,me,Se));let On=!1,rr=!1,Va=!1,fi=fa.getUniforms(),to=ot.uniforms;if(pe.useProgram(fa.program)&&(On=!0,rr=!0,Va=!0),ve.id!==M&&(M=ve.id,rr=!0),On||P!==K){if(fi.setValue(re,"projectionMatrix",K.projectionMatrix),Me.logarithmicDepthBuffer&&fi.setValue(re,"logDepthBufFC",2/(Math.log(K.far+1)/Math.LN2)),P!==K&&(P=K,rr=!0,Va=!0),ve.isShaderMaterial||ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshStandardMaterial||ve.envMap){let ki=fi.map.cameraPosition;ki!==void 0&&ki.setValue(re,ie.setFromMatrixPosition(K.matrixWorld))}(ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshLambertMaterial||ve.isMeshBasicMaterial||ve.isMeshStandardMaterial||ve.isShaderMaterial)&&fi.setValue(re,"isOrthographic",K.isOrthographicCamera===!0),(ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshLambertMaterial||ve.isMeshBasicMaterial||ve.isMeshStandardMaterial||ve.isShaderMaterial||ve.isShadowMaterial||Se.isSkinnedMesh)&&fi.setValue(re,"viewMatrix",K.matrixWorldInverse)}if(Se.isSkinnedMesh){fi.setOptional(re,Se,"bindMatrix"),fi.setOptional(re,Se,"bindMatrixInverse");let ki=Se.skeleton;ki&&(Me.floatVertexTextures?(ki.boneTexture===null&&ki.computeBoneTexture(),fi.setValue(re,"boneTexture",ki.boneTexture,be),fi.setValue(re,"boneTextureSize",ki.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let Cu=Oe.morphAttributes;if((Cu.position!==void 0||Cu.normal!==void 0||Cu.color!==void 0&&Me.isWebGL2===!0)&&j.update(Se,Oe,ve,fa),(rr||ot.receiveShadow!==Se.receiveShadow)&&(ot.receiveShadow=Se.receiveShadow,fi.setValue(re,"receiveShadow",Se.receiveShadow)),ve.isMeshGouraudMaterial&&ve.envMap!==null&&(to.envMap.value=ht,to.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),rr&&(fi.setValue(re,"toneMappingExposure",g.toneMappingExposure),ot.needsLights&&bt(to,Va),Ye&&ve.fog===!0&&ce.refreshFogUniforms(to,Ye),ce.refreshMaterialUniforms(to,ve,I,D,V),VC.upload(re,ot.uniformsList,to,be)),ve.isShaderMaterial&&ve.uniformsNeedUpdate===!0&&(VC.upload(re,ot.uniformsList,to,be),ve.uniformsNeedUpdate=!1),ve.isSpriteMaterial&&fi.setValue(re,"center",Se.center),fi.setValue(re,"modelViewMatrix",Se.modelViewMatrix),fi.setValue(re,"normalMatrix",Se.normalMatrix),fi.setValue(re,"modelMatrix",Se.matrixWorld),Se.previousModelViewMatrix&&fi.setValue(re,"previousModelViewMatrix",Se.previousModelViewMatrix),K.previousProjectionMatrix&&fi.setValue(re,"previousProjectionMatrix",K.previousProjectionMatrix),ve.isShaderMaterial||ve.isRawShaderMaterial){let ki=ve.uniformsGroups;for(let ln=0,Nw=ki.length;ln<Nw;ln++)if(Me.isWebGL2){let Mu=ki[ln];je.update(Mu,fa),je.bind(Mu,fa)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return fa}function bt(K,me){K.ambientLightColor.needsUpdate=me,K.lightProbe.needsUpdate=me,K.directionalLights.needsUpdate=me,K.directionalLightShadows.needsUpdate=me,K.pointLights.needsUpdate=me,K.pointLightShadows.needsUpdate=me,K.spotLights.needsUpdate=me,K.spotLightShadows.needsUpdate=me,K.rectAreaLights.needsUpdate=me,K.hemisphereLights.needsUpdate=me}function Tt(K){return K.isMeshLambertMaterial||K.isMeshToonMaterial||K.isMeshPhongMaterial||K.isMeshStandardMaterial||K.isShadowMaterial||K.isShaderMaterial&&K.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(K,me,Oe){xe.get(K.texture).__webglTexture=me,xe.get(K.depthTexture).__webglTexture=Oe;let ve=xe.get(K);ve.__hasExternalTextures=!0,ve.__hasExternalTextures&&(ve.__autoAllocateDepthBuffer=Oe===void 0,ve.__autoAllocateDepthBuffer||he.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ve.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(K,me){let Oe=xe.get(K);Oe.__webglFramebuffer=me,Oe.__useDefaultFramebuffer=me===void 0},this.setRenderTarget=function(K,me=0,Oe=0){C=K,b=me,_=Oe;let ve=!0,Se=null,Ye=!1,nt=!1;if(K){let wt=xe.get(K);wt.__useDefaultFramebuffer!==void 0?(pe.bindFramebuffer(36160,null),ve=!1):wt.__webglFramebuffer===void 0?be.setupRenderTarget(K):wt.__hasExternalTextures&&be.rebindTextures(K,xe.get(K.texture).__webglTexture,xe.get(K.depthTexture).__webglTexture);let ht=K.texture;(ht.isData3DTexture||ht.isDataArrayTexture||ht.isCompressedArrayTexture)&&(nt=!0);let Yt=xe.get(K).__webglFramebuffer;K.isWebGLCubeRenderTarget?(Se=Yt[me],Ye=!0):Me.isWebGL2&&K.samples>0&&be.useMultisampledRTT(K)===!1?Se=xe.get(K).__webglMultisampledFramebuffer:Se=Yt,x.copy(K.viewport),E.copy(K.scissor),O=K.scissorTest}else x.copy(k).multiplyScalar(I).floor(),E.copy(z).multiplyScalar(I).floor(),O=W;if(pe.bindFramebuffer(36160,Se)&&Me.drawBuffers&&ve&&pe.drawBuffers(K,Se),pe.viewport(x),pe.scissor(E),pe.setScissorTest(O),Ye){let wt=xe.get(K.texture);re.framebufferTexture2D(36160,36064,34069+me,wt.__webglTexture,Oe)}else if(nt){let wt=xe.get(K.texture),ht=me||0;re.framebufferTextureLayer(36160,36064,wt.__webglTexture,Oe||0,ht)}M=-1},this.readRenderTargetPixels=function(K,me,Oe,ve,Se,Ye,nt){if(!(K&&K.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let wt=xe.get(K).__webglFramebuffer;if(K.isWebGLCubeRenderTarget&&nt!==void 0&&(wt=wt[nt]),wt){pe.bindFramebuffer(36160,wt);try{let ht=K.texture,Yt=ht.format,Vt=ht.type;if(Yt!==Ar&&Ne.convert(Yt)!==re.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let ft=Vt===Jh&&(he.has("EXT_color_buffer_half_float")||Me.isWebGL2&&he.has("EXT_color_buffer_float"));if(Vt!==Mo&&Ne.convert(Vt)!==re.getParameter(35738)&&!(Vt===Ki&&(Me.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!ft){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}me>=0&&me<=K.width-ve&&Oe>=0&&Oe<=K.height-Se&&re.readPixels(me,Oe,ve,Se,Ne.convert(Yt),Ne.convert(Vt),Ye)}finally{let ht=C!==null?xe.get(C).__webglFramebuffer:null;pe.bindFramebuffer(36160,ht)}}},this.copyFramebufferToTexture=function(K,me,Oe=0){let ve=Math.pow(2,-Oe),Se=Math.floor(me.image.width*ve),Ye=Math.floor(me.image.height*ve);be.setTexture2D(me,0),re.copyTexSubImage2D(3553,Oe,0,0,K.x,K.y,Se,Ye),pe.unbindTexture()},this.copyTextureToTexture=function(K,me,Oe,ve=0){let Se=me.image.width,Ye=me.image.height,nt=Ne.convert(Oe.format),wt=Ne.convert(Oe.type);be.setTexture2D(Oe,0),re.pixelStorei(37440,Oe.flipY),re.pixelStorei(37441,Oe.premultiplyAlpha),re.pixelStorei(3317,Oe.unpackAlignment),me.isDataTexture?re.texSubImage2D(3553,ve,K.x,K.y,Se,Ye,nt,wt,me.image.data):me.isCompressedTexture?re.compressedTexSubImage2D(3553,ve,K.x,K.y,me.mipmaps[0].width,me.mipmaps[0].height,nt,me.mipmaps[0].data):re.texSubImage2D(3553,ve,K.x,K.y,nt,wt,me.image),ve===0&&Oe.generateMipmaps&&re.generateMipmap(3553),pe.unbindTexture()},this.copyTextureToTexture3D=function(K,me,Oe,ve,Se=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let Ye=K.max.x-K.min.x+1,nt=K.max.y-K.min.y+1,wt=K.max.z-K.min.z+1,ht=Ne.convert(ve.format),Yt=Ne.convert(ve.type),Vt;if(ve.isData3DTexture)be.setTexture3D(ve,0),Vt=32879;else if(ve.isDataArrayTexture)be.setTexture2DArray(ve,0),Vt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}re.pixelStorei(37440,ve.flipY),re.pixelStorei(37441,ve.premultiplyAlpha),re.pixelStorei(3317,ve.unpackAlignment);let ft=re.getParameter(3314),vn=re.getParameter(32878),Rn=re.getParameter(3316),ir=re.getParameter(3315),Yo=re.getParameter(32877),tn=Oe.isCompressedTexture?Oe.mipmaps[0]:Oe.image;re.pixelStorei(3314,tn.width),re.pixelStorei(32878,tn.height),re.pixelStorei(3316,K.min.x),re.pixelStorei(3315,K.min.y),re.pixelStorei(32877,K.min.z),Oe.isDataTexture||Oe.isData3DTexture?re.texSubImage3D(Vt,Se,me.x,me.y,me.z,Ye,nt,wt,ht,Yt,tn.data):Oe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),re.compressedTexSubImage3D(Vt,Se,me.x,me.y,me.z,Ye,nt,wt,ht,tn.data)):re.texSubImage3D(Vt,Se,me.x,me.y,me.z,Ye,nt,wt,ht,Yt,tn),re.pixelStorei(3314,ft),re.pixelStorei(32878,vn),re.pixelStorei(3316,Rn),re.pixelStorei(3315,ir),re.pixelStorei(32877,Yo),Se===0&&ve.generateMipmaps&&re.generateMipmap(Vt),pe.unbindTexture()},this.initTexture=function(K){K.isCubeTexture?be.setTextureCube(K,0):K.isData3DTexture?be.setTexture3D(K,0):K.isDataArrayTexture||K.isCompressedArrayTexture?be.setTexture2DArray(K,0):be.setTexture2D(K,0),pe.unbindTexture()},this.resetState=function(){b=0,_=0,C=null,pe.reset(),we.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}var Ole=class extends oV{};Ole.prototype.isWebGL1Renderer=!0;var aV=class{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new _t(e),this.near=t,this.far=n}clone(){return new aV(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}},Qc=class extends qn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}},Sle=class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=R3,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=gs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=gs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=gs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},Lo=new L,N3=class{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Lo.fromBufferAttribute(this,t),Lo.applyMatrix4(e),this.setXYZ(t,Lo.x,Lo.y,Lo.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Lo.fromBufferAttribute(this,t),Lo.applyNormalMatrix(e),this.setXYZ(t,Lo.x,Lo.y,Lo.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Lo.fromBufferAttribute(this,t),Lo.transformDirection(e),this.setXYZ(t,Lo.x,Lo.y,Lo.z);return this}setX(e,t){return this.normalized&&(t=si(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=si(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=si(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=si(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=qc(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=qc(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=qc(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=qc(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=si(t,this.array),n=si(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=si(t,this.array),n=si(n,this.array),i=si(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=si(t,this.array),n=si(n,this.array),i=si(i,this.array),r=si(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new St(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new N3(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},sV=class extends qn{constructor(){super(),this.isBone=!0,this.type="Bone"}},fs=class extends wi{constructor(e=null,t=1,n=1,i,r,o,a,s,l=zn,c=zn,d,u){super(null,o,a,s,l,c,i,r,d,u),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},ZF=new Be,Ele=new Be,NA=class{constructor(e=[],t=[]){this.uuid=gs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Be)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let n=new Be;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){let e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,o=e.length;r<o;r++){let a=e[r]?e[r].matrixWorld:Ele;ZF.multiplyMatrices(a,t[r]),ZF.toArray(n,r*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new NA(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=W9(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let n=new fs(t,e,e,Ar,Ki);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){let i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){let r=e.bones[n],o=t[r];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new sV),this.bones.push(o),this.boneInverses.push(new Be().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){let e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++){let o=t[i];e.bones.push(o.uuid);let a=n[i];e.boneInverses.push(a.toArray())}return e}},Qv=class extends St{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},$F=new Be,KF=new Be,k_=[],Dle=new Be,ev=new Ji,Ale=class extends Ji{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Qv(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1;for(let i=0;i<n;i++)this.setMatrixAt(i,Dle)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){let n=this.matrixWorld,i=this.count;if(ev.geometry=this.geometry,ev.material=this.material,ev.material!==void 0)for(let r=0;r<i;r++){this.getMatrixAt(r,$F),KF.multiplyMatrices(n,$F),ev.matrixWorld=KF,ev.raycast(e,k_);for(let o=0,a=k_.length;o<a;o++){let s=k_[o];s.instanceId=r,s.object=this,t.push(s)}k_.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Qv(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}},pu=class extends vy{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new _t(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},JF=new L,eN=new L,tN=new Be,rE=new Zf,F_=new ua,sM=class extends qn{constructor(e=new pt,t=new pu){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,n=[0];for(let i=1,r=t.count;i<r;i++)JF.fromBufferAttribute(t,i-1),eN.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=JF.distanceTo(eN);e.setAttribute("lineDistance",new Je(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),F_.copy(n.boundingSphere),F_.applyMatrix4(i),F_.radius+=r,e.ray.intersectsSphere(F_)===!1)return;tN.copy(i).invert(),rE.copy(e.ray).applyMatrix4(tN);let a=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=new L,c=new L,d=new L,u=new L,h=this.isLineSegments?2:1,p=n.index,m=n.attributes.position;if(p!==null){let g=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count);for(let b=g,_=v-1;b<_;b+=h){let C=p.getX(b),M=p.getX(b+1);if(l.fromBufferAttribute(m,C),c.fromBufferAttribute(m,M),rE.distanceSqToSegment(l,c,u,d)>s)continue;u.applyMatrix4(this.matrixWorld);let P=e.ray.origin.distanceTo(u);P<e.near||P>e.far||t.push({distance:P,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{let g=Math.max(0,o.start),v=Math.min(m.count,o.start+o.count);for(let b=g,_=v-1;b<_;b+=h){if(l.fromBufferAttribute(m,b),c.fromBufferAttribute(m,b+1),rE.distanceSqToSegment(l,c,u,d)>s)continue;u.applyMatrix4(this.matrixWorld);let C=e.ray.origin.distanceTo(u);C<e.near||C>e.far||t.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++){let o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}},nN=new L,iN=new L,yy=class extends sM{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,n=[];for(let i=0,r=t.count;i<r;i+=2)nN.fromBufferAttribute(t,i),iN.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+nN.distanceTo(iN);e.setAttribute("lineDistance",new Je(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},Tle=class extends wi{constructor(e,t,n,i,r,o,a,s,l){super(e,t,n,i,r,o,a,s,l),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:qt,this.magFilter=r!==void 0?r:qt,this.generateMipmaps=!1;let c=this;function d(){c.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},Ile=class extends wi{constructor(e,t,n,i,r,o,a,s,l){super(e,t,n,i,r,o,a,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}},$l=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],n,i=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let n=this.getLengths(),i=0,r=n.length,o;t?o=t:o=e*n[r-1];let a=0,s=r-1,l;for(;a<=s;)if(i=Math.floor(a+(s-a)/2),l=n[i]-o,l<0)a=i+1;else if(l>0)s=i-1;else{s=i;break}if(i=s,n[i]===o)return i/(r-1);let c=n[i],d=n[i+1]-c,u=(o-c)/d;return(i+u)/(r-1)}getTangent(e,t){let n=e-1e-4,i=e+1e-4;n<0&&(n=0),i>1&&(i=1);let r=this.getPoint(n),o=this.getPoint(i),a=t||(r.isVector2?new oe:new L);return a.copy(o).sub(r).normalize(),a}getTangentAt(e,t){let n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){let n=new L,i=[],r=[],o=[],a=new L,s=new Be;for(let h=0;h<=e;h++){let p=h/e;i[h]=this.getTangentAt(p,new L)}r[0]=new L,o[0]=new L;let l=Number.MAX_VALUE,c=Math.abs(i[0].x),d=Math.abs(i[0].y),u=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),d<=l&&(l=d,n.set(0,1,0)),u<=l&&n.set(0,0,1),a.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],a),o[0].crossVectors(i[0],r[0]);for(let h=1;h<=e;h++){if(r[h]=r[h-1].clone(),o[h]=o[h-1].clone(),a.crossVectors(i[h-1],i[h]),a.length()>Number.EPSILON){a.normalize();let p=Math.acos(Zi(i[h-1].dot(i[h]),-1,1));r[h].applyMatrix4(s.makeRotationAxis(a,p))}o[h].crossVectors(i[h],r[h])}if(t===!0){let h=Math.acos(Zi(r[0].dot(r[e]),-1,1));h/=e,i[0].dot(a.crossVectors(r[0],r[e]))>0&&(h=-h);for(let p=1;p<=e;p++)r[p].applyMatrix4(s.makeRotationAxis(i[p],h*p)),o[p].crossVectors(i[p],r[p])}return{tangents:i,normals:r,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},ow=class extends $l{constructor(e=0,t=0,n=1,i=1,r=0,o=Math.PI*2,a=!1,s=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s}getPoint(e,t){let n=t||new oe,i=Math.PI*2,r=this.aEndAngle-this.aStartAngle,o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(o?r=0:r=i),this.aClockwise===!0&&!o&&(r===i?r=-i:r=r-i);let a=this.aStartAngle+e*r,s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){let c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),u=s-this.aX,h=l-this.aY;s=u*c-h*d+this.aX,l=u*d+h*c+this.aY}return n.set(s,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},Rle=class extends ow{constructor(e,t,n,i,r,o){super(e,t,n,n,i,r,o),this.isArcCurve=!0,this.type="ArcCurve"}};function zA(){let e=0,t=0,n=0,i=0;function r(o,a,s,l){e=o,t=s,n=-3*o+3*a-2*s-l,i=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,c){r(a,s,c*(s-o),c*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,c,d,u){let h=(a-o)/c-(s-o)/(c+d)+(s-a)/d,p=(s-a)/d-(l-a)/(d+u)+(l-s)/u;h*=d,p*=d,r(a,s,h,p)},calc:function(o){let a=o*o,s=a*o;return e+t*o+n*a+i*s}}}var N_=new L,oE=new zA,aE=new zA,sE=new zA,Lle=class extends $l{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new L){let n=t,i=this.points,r=i.length,o=(r-(this.closed?0:1))*e,a=Math.floor(o),s=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/r)+1)*r:s===0&&a===r-1&&(a=r-2,s=1);let l,c;this.closed||a>0?l=i[(a-1)%r]:(N_.subVectors(i[0],i[1]).add(i[0]),l=N_);let d=i[a%r],u=i[(a+1)%r];if(this.closed||a+2<r?c=i[(a+2)%r]:(N_.subVectors(i[r-1],i[r-2]).add(i[r-1]),c=N_),this.curveType==="centripetal"||this.curveType==="chordal"){let h=this.curveType==="chordal"?.5:.25,p=Math.pow(l.distanceToSquared(d),h),m=Math.pow(d.distanceToSquared(u),h),g=Math.pow(u.distanceToSquared(c),h);m<1e-4&&(m=1),p<1e-4&&(p=m),g<1e-4&&(g=m),oE.initNonuniformCatmullRom(l.x,d.x,u.x,c.x,p,m,g),aE.initNonuniformCatmullRom(l.y,d.y,u.y,c.y,p,m,g),sE.initNonuniformCatmullRom(l.z,d.z,u.z,c.z,p,m,g)}else this.curveType==="catmullrom"&&(oE.initCatmullRom(l.x,d.x,u.x,c.x,this.tension),aE.initCatmullRom(l.y,d.y,u.y,c.y,this.tension),sE.initCatmullRom(l.z,d.z,u.z,c.z,this.tension));return n.set(oE.calc(s),aE.calc(s),sE.calc(s)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let i=e.points[t];this.points.push(new L().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};function rN(e,t,n,i,r){let o=(i-t)*.5,a=(r-n)*.5,s=e*e,l=e*s;return(2*n-2*i+o+a)*l+(-3*n+3*i-2*o-a)*s+o*e+n}function kle(e,t){let n=1-e;return n*n*t}function Fle(e,t){return 2*(1-e)*e*t}function Nle(e,t){return e*e*t}function Fv(e,t,n,i){return kle(e,t)+Fle(e,n)+Nle(e,i)}function zle(e,t){let n=1-e;return n*n*n*t}function Ble(e,t){let n=1-e;return 3*n*n*e*t}function Vle(e,t){return 3*(1-e)*e*e*t}function Ule(e,t){return e*e*e*t}function Nv(e,t,n,i,r){return zle(e,t)+Ble(e,n)+Vle(e,i)+Ule(e,r)}var js=class extends $l{constructor(e=new oe,t=new oe,n=new oe,i=new oe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new oe){let n=t,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return n.set(Nv(e,i.x,r.x,o.x,a.x),Nv(e,i.y,r.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},UC=class extends $l{constructor(e=new L,t=new L,n=new L,i=new L){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new L){let n=t,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return n.set(Nv(e,i.x,r.x,o.x,a.x),Nv(e,i.y,r.y,o.y,a.y),Nv(e,i.z,r.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},qs=class extends $l{constructor(e=new oe,t=new oe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new oe){let n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let n=t||new oe;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},lV=class extends $l{constructor(e=new L,t=new L){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new L){let n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},du=class extends $l{constructor(e=new oe,t=new oe,n=new oe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new oe){let n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(Fv(e,i.x,r.x,o.x),Fv(e,i.y,r.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},jle=class extends $l{constructor(e=new L,t=new L,n=new L){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new L){let n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(Fv(e,i.x,r.x,o.x),Fv(e,i.y,r.y,o.y),Fv(e,i.z,r.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},BA=class extends $l{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new oe){let n=t,i=this.points,r=(i.length-1)*e,o=Math.floor(r),a=r-o,s=i[o===0?o:o-1],l=i[o],c=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return n.set(rN(a,s.x,l.x,c.x,d.x),rN(a,s.y,l.y,c.y,d.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let i=e.points[t];this.points.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let i=e.points[t];this.points.push(new oe().fromArray(i))}return this}},Hle=Object.freeze({__proto__:null,ArcCurve:Rle,CatmullRomCurve3:Lle,CubicBezierCurve:js,CubicBezierCurve3:UC,EllipseCurve:ow,LineCurve:qs,LineCurve3:lV,QuadraticBezierCurve:du,QuadraticBezierCurve3:jle,SplineCurve:BA}),cV=class extends $l{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new qs(t,e))}getPoint(e,t){let n=e*this.getLength(),i=this.getCurveLengths(),r=0;for(;r<i.length;){if(i[r]>=n){let o=i[r]-n,a=this.curves[r],s=a.getLength(),l=s===0?0:1-o/s;return a.getPointAt(l,t)}r++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t=[],n;for(let i=0,r=this.curves;i<r.length;i++){let o=r[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a);for(let l=0;l<s.length;l++){let c=s[l];n&&n.equals(c)||(t.push(c),n=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){let i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let i=e.curves[t];this.curves.push(new Hle[i.type]().fromJSON(i))}return this}},lM=class extends cV{constructor(e){super(),this.type="Path",this.currentPoint=new oe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let n=new qs(this.currentPoint.clone(),new oe(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){let r=new du(this.currentPoint.clone(),new oe(e,t),new oe(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,r,o){let a=new js(this.currentPoint.clone(),new oe(e,t),new oe(n,i),new oe(r,o));return this.curves.push(a),this.currentPoint.set(r,o),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),n=new BA(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,r,o){let a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,i,r,o),this}absarc(e,t,n,i,r,o){return this.absellipse(e,t,n,n,i,r,o),this}ellipse(e,t,n,i,r,o,a,s){let l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,o,a,s),this}absellipse(e,t,n,i,r,o,a,s){let l=new ow(e,t,n,i,r,o,a,s);if(this.curves.length>0){let d=l.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(l);let c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},dV=class extends pt{constructor(e=[new oe(0,-.5),new oe(.5,0),new oe(0,.5)],t=12,n=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=Zi(i,0,Math.PI*2);let r=[],o=[],a=[],s=[],l=[],c=1/t,d=new L,u=new oe,h=new L,p=new L,m=new L,g=0,v=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:g=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,h.x=v*1,h.y=-g,h.z=v*0,m.copy(h),h.normalize(),s.push(h.x,h.y,h.z);break;case e.length-1:s.push(m.x,m.y,m.z);break;default:g=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,h.x=v*1,h.y=-g,h.z=v*0,p.copy(h),h.x+=m.x,h.y+=m.y,h.z+=m.z,h.normalize(),s.push(h.x,h.y,h.z),m.copy(p)}for(let b=0;b<=t;b++){let _=n+b*c*i,C=Math.sin(_),M=Math.cos(_);for(let P=0;P<=e.length-1;P++){d.x=e[P].x*C,d.y=e[P].y,d.z=e[P].x*M,o.push(d.x,d.y,d.z),u.x=b/t,u.y=P/(e.length-1),a.push(u.x,u.y);let x=s[3*P+0]*C,E=s[3*P+1],O=s[3*P+0]*M;l.push(x,E,O)}}for(let b=0;b<t;b++)for(let _=0;_<e.length-1;_++){let C=_+b*e.length,M=C,P=C+e.length,x=C+e.length+1,E=C+1;r.push(M,P,E),r.push(x,E,P)}this.setIndex(r),this.setAttribute("position",new Je(o,3)),this.setAttribute("uv",new Je(a,2)),this.setAttribute("normal",new Je(l,3))}static fromJSON(e){return new dV(e.points,e.segments,e.phiStart,e.phiLength)}},VA=class extends pt{constructor(e=1,t=1,n=1,i=32,r=1,o=!1,a=0,s=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:s};let l=this;i=Math.floor(i),r=Math.floor(r);let c=[],d=[],u=[],h=[],p=0,m=[],g=n/2,v=0;b(),o===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(c),this.setAttribute("position",new Je(d,3)),this.setAttribute("normal",new Je(u,3)),this.setAttribute("uv",new Je(h,2));function b(){let C=new L,M=new L,P=0,x=(t-e)/n;for(let E=0;E<=r;E++){let O=[],S=E/r,D=S*(t-e)+e;for(let I=0;I<=i;I++){let T=I/i,R=T*s+a,k=Math.sin(R),z=Math.cos(R);M.x=D*k,M.y=-S*n+g,M.z=D*z,d.push(M.x,M.y,M.z),C.set(k,x,z).normalize(),u.push(C.x,C.y,C.z),h.push(T,1-S),O.push(p++)}m.push(O)}for(let E=0;E<i;E++)for(let O=0;O<r;O++){let S=m[O][E],D=m[O+1][E],I=m[O+1][E+1],T=m[O][E+1];c.push(S,D,T),c.push(D,I,T),P+=6}l.addGroup(v,P,0),v+=P}function _(C){let M=p,P=new oe,x=new L,E=0,O=C===!0?e:t,S=C===!0?1:-1;for(let I=1;I<=i;I++)d.push(0,g*S,0),u.push(0,S,0),h.push(.5,.5),p++;let D=p;for(let I=0;I<=i;I++){let T=I/i*s+a,R=Math.cos(T),k=Math.sin(T);x.x=O*k,x.y=g*S,x.z=O*R,d.push(x.x,x.y,x.z),u.push(0,S,0),P.x=R*.5+.5,P.y=k*.5*S+.5,h.push(P.x,P.y),p++}for(let I=0;I<i;I++){let T=M+I,R=D+I;C===!0?c.push(R,R+1,T):c.push(R+1,R,T),E+=3}l.addGroup(v,E,C===!0?1:2),v+=E}}static fromJSON(e){return new VA(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},UA=class extends VA{constructor(e=1,t=1,n=32,i=1,r=!1,o=0,a=Math.PI*2){super(0,e,t,n,i,r,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:a}}static fromJSON(e){return new UA(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},jA=class extends pt{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};let r=[],o=[];a(i),l(n),c(),this.setAttribute("position",new Je(r,3)),this.setAttribute("normal",new Je(r.slice(),3)),this.setAttribute("uv",new Je(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(b){let _=new L,C=new L,M=new L;for(let P=0;P<t.length;P+=3)h(t[P+0],_),h(t[P+1],C),h(t[P+2],M),s(_,C,M,b)}function s(b,_,C,M){let P=M+1,x=[];for(let E=0;E<=P;E++){x[E]=[];let O=b.clone().lerp(C,E/P),S=_.clone().lerp(C,E/P),D=P-E;for(let I=0;I<=D;I++)I===0&&E===P?x[E][I]=O:x[E][I]=O.clone().lerp(S,I/D)}for(let E=0;E<P;E++)for(let O=0;O<2*(P-E)-1;O++){let S=Math.floor(O/2);O%2===0?(u(x[E][S+1]),u(x[E+1][S]),u(x[E][S])):(u(x[E][S+1]),u(x[E+1][S+1]),u(x[E+1][S]))}}function l(b){let _=new L;for(let C=0;C<r.length;C+=3)_.x=r[C+0],_.y=r[C+1],_.z=r[C+2],_.normalize().multiplyScalar(b),r[C+0]=_.x,r[C+1]=_.y,r[C+2]=_.z}function c(){let b=new L;for(let _=0;_<r.length;_+=3){b.x=r[_+0],b.y=r[_+1],b.z=r[_+2];let C=g(b)/2/Math.PI+.5,M=v(b)/Math.PI+.5;o.push(C,1-M)}p(),d()}function d(){for(let b=0;b<o.length;b+=6){let _=o[b+0],C=o[b+2],M=o[b+4],P=Math.max(_,C,M),x=Math.min(_,C,M);P>.9&&x<.1&&(_<.2&&(o[b+0]+=1),C<.2&&(o[b+2]+=1),M<.2&&(o[b+4]+=1))}}function u(b){r.push(b.x,b.y,b.z)}function h(b,_){let C=b*3;_.x=e[C+0],_.y=e[C+1],_.z=e[C+2]}function p(){let b=new L,_=new L,C=new L,M=new L,P=new oe,x=new oe,E=new oe;for(let O=0,S=0;O<r.length;O+=9,S+=6){b.set(r[O+0],r[O+1],r[O+2]),_.set(r[O+3],r[O+4],r[O+5]),C.set(r[O+6],r[O+7],r[O+8]),P.set(o[S+0],o[S+1]),x.set(o[S+2],o[S+3]),E.set(o[S+4],o[S+5]),M.copy(b).add(_).add(C).divideScalar(3);let D=g(M);m(P,S+0,b,D),m(x,S+2,_,D),m(E,S+4,C,D)}}function m(b,_,C,M){M<0&&b.x===1&&(o[_]=b.x-1),C.x===0&&C.z===0&&(o[_]=M/2/Math.PI+.5)}function g(b){return Math.atan2(b.z,-b.x)}function v(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}static fromJSON(e){return new jA(e.vertices,e.indices,e.radius,e.details)}},uV=class extends jA{constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new uV(e.radius,e.detail)}},cM=class extends lM{constructor(e){super(e),this.uuid=gs(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){let i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let i=e.holes[t];this.holes.push(new lM().fromJSON(i))}return this}},Gle={triangulate:function(e,t,n=2){let i=t&&t.length,r=i?t[0]*n:e.length,o=hV(e,0,r,n,!0),a=[];if(!o||o.next===o.prev)return a;let s,l,c,d,u,h,p;if(i&&(o=Qle(e,t,o,n)),e.length>80*n){s=c=e[0],l=d=e[1];for(let m=n;m<r;m+=n)u=e[m],h=e[m+1],u<s&&(s=u),h<l&&(l=h),u>c&&(c=u),h>d&&(d=h);p=Math.max(c-s,d-l),p=p!==0?32767/p:0}return Zv(o,a,n,s,l,p,0),a}};function hV(e,t,n,i,r){let o,a;if(r===ace(e,t,n,i)>0)for(o=t;o<n;o+=i)a=oN(o,e[o],e[o+1],a);else for(o=n-i;o>=t;o-=i)a=oN(o,e[o],e[o+1],a);return a&&aw(a,a.next)&&(Kv(a),a=a.next),a}function tp(e,t){if(!e)return e;t||(t=e);let n=e,i;do if(i=!1,!n.steiner&&(aw(n,n.next)||Mi(n.prev,n,n.next)===0)){if(Kv(n),n=t=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==t);return t}function Zv(e,t,n,i,r,o,a){if(!e)return;!a&&o&&ece(e,i,r,o);let s=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,o?qle(e,i,r,o):Wle(e)){t.push(l.i/n|0),t.push(e.i/n|0),t.push(c.i/n|0),Kv(e),e=c.next,s=c.next;continue}if(e=c,e===s){a?a===1?(e=Yle(tp(e),t,n),Zv(e,t,n,i,r,o,2)):a===2&&Xle(e,t,n,i,r,o):Zv(tp(e),t,n,i,r,o,1);break}}}function Wle(e){let t=e.prev,n=e,i=e.next;if(Mi(t,n,i)>=0)return!1;let r=t.x,o=n.x,a=i.x,s=t.y,l=n.y,c=i.y,d=r<o?r<a?r:a:o<a?o:a,u=s<l?s<c?s:c:l<c?l:c,h=r>o?r>a?r:a:o>a?o:a,p=s>l?s>c?s:c:l>c?l:c,m=i.next;for(;m!==t;){if(m.x>=d&&m.x<=h&&m.y>=u&&m.y<=p&&ff(r,s,o,l,a,c,m.x,m.y)&&Mi(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function qle(e,t,n,i){let r=e.prev,o=e,a=e.next;if(Mi(r,o,a)>=0)return!1;let s=r.x,l=o.x,c=a.x,d=r.y,u=o.y,h=a.y,p=s<l?s<c?s:c:l<c?l:c,m=d<u?d<h?d:h:u<h?u:h,g=s>l?s>c?s:c:l>c?l:c,v=d>u?d>h?d:h:u>h?u:h,b=z3(p,m,t,n,i),_=z3(g,v,t,n,i),C=e.prevZ,M=e.nextZ;for(;C&&C.z>=b&&M&&M.z<=_;){if(C.x>=p&&C.x<=g&&C.y>=m&&C.y<=v&&C!==r&&C!==a&&ff(s,d,l,u,c,h,C.x,C.y)&&Mi(C.prev,C,C.next)>=0||(C=C.prevZ,M.x>=p&&M.x<=g&&M.y>=m&&M.y<=v&&M!==r&&M!==a&&ff(s,d,l,u,c,h,M.x,M.y)&&Mi(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;C&&C.z>=b;){if(C.x>=p&&C.x<=g&&C.y>=m&&C.y<=v&&C!==r&&C!==a&&ff(s,d,l,u,c,h,C.x,C.y)&&Mi(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;M&&M.z<=_;){if(M.x>=p&&M.x<=g&&M.y>=m&&M.y<=v&&M!==r&&M!==a&&ff(s,d,l,u,c,h,M.x,M.y)&&Mi(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function Yle(e,t,n){let i=e;do{let r=i.prev,o=i.next.next;!aw(r,o)&&pV(r,i,i.next,o)&&$v(r,o)&&$v(o,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(o.i/n|0),Kv(i),Kv(i.next),i=e=o),i=i.next}while(i!==e);return tp(i)}function Xle(e,t,n,i,r,o){let a=e;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&ice(a,s)){let l=mV(a,s);a=tp(a,a.next),l=tp(l,l.next),Zv(a,t,n,i,r,o,0),Zv(l,t,n,i,r,o,0);return}s=s.next}a=a.next}while(a!==e)}function Qle(e,t,n,i){let r=[],o,a,s,l,c;for(o=0,a=t.length;o<a;o++)s=t[o]*i,l=o<a-1?t[o+1]*i:e.length,c=hV(e,s,l,i,!1),c===c.next&&(c.steiner=!0),r.push(nce(c));for(r.sort(Zle),o=0;o<r.length;o++)n=$le(r[o],n);return n}function Zle(e,t){return e.x-t.x}function $le(e,t){let n=Kle(e,t);if(!n)return t;let i=mV(n,e);return tp(i,i.next),tp(n,n.next)}function Kle(e,t){let n=t,i=-1/0,r,o=e.x,a=e.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){let h=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=o&&h>i&&(i=h,r=n.x<n.next.x?n:n.next,h===o))return r}n=n.next}while(n!==t);if(!r)return null;let s=r,l=r.x,c=r.y,d=1/0,u;n=r;do o>=n.x&&n.x>=l&&o!==n.x&&ff(a<c?o:i,a,l,c,a<c?i:o,a,n.x,n.y)&&(u=Math.abs(a-n.y)/(o-n.x),$v(n,e)&&(u<d||u===d&&(n.x>r.x||n.x===r.x&&Jle(r,n)))&&(r=n,d=u)),n=n.next;while(n!==s);return r}function Jle(e,t){return Mi(e.prev,e,t.prev)<0&&Mi(t.next,e,e.next)<0}function ece(e,t,n,i){let r=e;do r.z===0&&(r.z=z3(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,tce(r)}function tce(e){let t,n,i,r,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,i=n,s=0,t=0;t<c&&(s++,i=i.nextZ,!!i);t++);for(l=c;s>0||l>0&&i;)s!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(a>1);return e}function z3(e,t,n,i,r){return e=(e-n)*r|0,t=(t-i)*r|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function nce(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function ff(e,t,n,i,r,o,a,s){return(r-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(i-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(r-a)*(i-s)}function ice(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!rce(e,t)&&($v(e,t)&&$v(t,e)&&oce(e,t)&&(Mi(e.prev,e,t.prev)||Mi(e,t.prev,t))||aw(e,t)&&Mi(e.prev,e,e.next)>0&&Mi(t.prev,t,t.next)>0)}function Mi(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function aw(e,t){return e.x===t.x&&e.y===t.y}function pV(e,t,n,i){let r=B_(Mi(e,t,n)),o=B_(Mi(e,t,i)),a=B_(Mi(n,i,e)),s=B_(Mi(n,i,t));return!!(r!==o&&a!==s||r===0&&z_(e,n,t)||o===0&&z_(e,i,t)||a===0&&z_(n,e,i)||s===0&&z_(n,t,i))}function z_(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function B_(e){return e>0?1:e<0?-1:0}function rce(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&pV(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function $v(e,t){return Mi(e.prev,e,e.next)<0?Mi(e,t,e.next)>=0&&Mi(e,e.prev,t)>=0:Mi(e,t,e.prev)<0||Mi(e,e.next,t)<0}function oce(e,t){let n=e,i=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==e);return i}function mV(e,t){let n=new B3(e.i,e.x,e.y),i=new B3(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function oN(e,t,n,i){let r=new B3(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Kv(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function B3(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ace(e,t,n,i){let r=0;for(let o=t,a=n-i;o<n;o+=i)r+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return r}var fV=class{static area(e){let t=e.length,n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return n*.5}static isClockWise(e){return fV.area(e)<0}static triangulateShape(e,t){let n=[],i=[],r=[];aN(e),sN(n,e);let o=e.length;t.forEach(aN);for(let s=0;s<t.length;s++)i.push(o),o+=t[s].length,sN(n,t[s]);let a=Gle.triangulate(n,i);for(let s=0;s<a.length;s+=3)r.push(a.slice(s,s+3));return r}};function aN(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function sN(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var gV=class extends jA{constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new gV(e.radius,e.detail)}},_f=class extends pt{constructor(e=1,t=32,n=16,i=0,r=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));let s=Math.min(o+a,Math.PI),l=0,c=[],d=new L,u=new L,h=[],p=[],m=[],g=[];for(let v=0;v<=n;v++){let b=[],_=v/n,C=0;v==0&&o==0?C=.5/t:v==n&&s==Math.PI&&(C=-.5/t);for(let M=0;M<=t;M++){let P=M/t;d.x=-e*Math.cos(i+P*r)*Math.sin(o+_*a),d.y=e*Math.cos(o+_*a),d.z=e*Math.sin(i+P*r)*Math.sin(o+_*a),p.push(d.x,d.y,d.z),u.copy(d).normalize(),m.push(u.x,u.y,u.z),g.push(P+C,1-_),b.push(l++)}c.push(b)}for(let v=0;v<n;v++)for(let b=0;b<t;b++){let _=c[v][b+1],C=c[v][b],M=c[v+1][b],P=c[v+1][b+1];(v!==0||o>0)&&h.push(_,C,P),(v!==n-1||s<Math.PI)&&h.push(C,M,P)}this.setIndex(h),this.setAttribute("position",new Je(p,3)),this.setAttribute("normal",new Je(m,3)),this.setAttribute("uv",new Je(g,2))}static fromJSON(e){return new _f(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},vV=class extends pt{constructor(e=1,t=.4,n=12,i=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},n=Math.floor(n),i=Math.floor(i);let o=[],a=[],s=[],l=[],c=new L,d=new L,u=new L;for(let h=0;h<=n;h++)for(let p=0;p<=i;p++){let m=p/i*r,g=h/n*Math.PI*2;d.x=(e+t*Math.cos(g))*Math.cos(m),d.y=(e+t*Math.cos(g))*Math.sin(m),d.z=t*Math.sin(g),a.push(d.x,d.y,d.z),c.x=e*Math.cos(m),c.y=e*Math.sin(m),u.subVectors(d,c).normalize(),s.push(u.x,u.y,u.z),l.push(p/i),l.push(h/n)}for(let h=1;h<=n;h++)for(let p=1;p<=i;p++){let m=(i+1)*h+p-1,g=(i+1)*(h-1)+p-1,v=(i+1)*(h-1)+p,b=(i+1)*h+p;o.push(m,g,b),o.push(g,v,b)}this.setIndex(o),this.setAttribute("position",new Je(a,3)),this.setAttribute("normal",new Je(s,3)),this.setAttribute("uv",new Je(l,2))}static fromJSON(e){return new vV(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},yV=class extends pt{constructor(e=1,t=.4,n=64,i=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:o},n=Math.floor(n),i=Math.floor(i);let a=[],s=[],l=[],c=[],d=new L,u=new L,h=new L,p=new L,m=new L,g=new L,v=new L;for(let _=0;_<=n;++_){let C=_/n*r*Math.PI*2;b(C,r,o,e,h),b(C+.01,r,o,e,p),g.subVectors(p,h),v.addVectors(p,h),m.crossVectors(g,v),v.crossVectors(m,g),m.normalize(),v.normalize();for(let M=0;M<=i;++M){let P=M/i*Math.PI*2,x=-t*Math.cos(P),E=t*Math.sin(P);d.x=h.x+(x*v.x+E*m.x),d.y=h.y+(x*v.y+E*m.y),d.z=h.z+(x*v.z+E*m.z),s.push(d.x,d.y,d.z),u.subVectors(d,h).normalize(),l.push(u.x,u.y,u.z),c.push(_/n),c.push(M/i)}}for(let _=1;_<=n;_++)for(let C=1;C<=i;C++){let M=(i+1)*(_-1)+(C-1),P=(i+1)*_+(C-1),x=(i+1)*_+C,E=(i+1)*(_-1)+C;a.push(M,P,E),a.push(P,x,E)}this.setIndex(a),this.setAttribute("position",new Je(s,3)),this.setAttribute("normal",new Je(l,3)),this.setAttribute("uv",new Je(c,2));function b(_,C,M,P,x){let E=Math.cos(_),O=Math.sin(_),S=M/C*_,D=Math.cos(S);x.x=P*(2+D)*.5*E,x.y=P*(2+D)*O*.5,x.z=P*Math.sin(S)*.5}}static fromJSON(e){return new yV(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}};function kd(e,t,n){return bV(e)?new e.constructor(e.subarray(t,n!==void 0?n:e.length)):e.slice(t,n)}function V_(e,t,n){return!e||!n&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)}function bV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function sce(e){function t(r,o){return e[r]-e[o]}let n=e.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(t),i}function lN(e,t,n){let i=e.length,r=new e.constructor(i);for(let o=0,a=0;a!==i;++o){let s=n[o]*t;for(let l=0;l!==t;++l)r[a++]=e[s+l]}return r}function _V(e,t,n,i){let r=1,o=e[0];for(;o!==void 0&&o[i]===void 0;)o=e[r++];if(o===void 0)return;let a=o[i];if(a!==void 0)if(Array.isArray(a))do a=o[i],a!==void 0&&(t.push(o.time),n.push.apply(n,a)),o=e[r++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[i],a!==void 0&&(t.push(o.time),a.toArray(n,n.length)),o=e[r++];while(o!==void 0);else do a=o[i],a!==void 0&&(t.push(o.time),n.push(a)),o=e[r++];while(o!==void 0)}var sw=class{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let o;n:{i:if(!(e<i)){for(let a=n+2;;){if(i===void 0){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(r=i,i=t[++n],e<i)break t}o=t.length;break n}if(!(e>=r)){let a=t[1];e<a&&(n=2,r=a);for(let s=n-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===s)break;if(i=r,r=t[--n-1],e>=r)break t}o=n,n=0;break n}break e}for(;n<o;){let a=n+o>>>1;e<t[a]?o=a:n=a+1}if(i=t[n],r=t[n-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let o=0;o!==i;++o)t[o]=n[r+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},lce=class extends sw{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:hf,endingEnd:hf}}intervalChanged_(e,t,n){let i=this.parameterPositions,r=e-2,o=e+1,a=i[r],s=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case pf:r=e,a=2*t-n;break;case rM:r=i.length-2,a=t+i[r]-i[r+1];break;default:r=e,a=n}if(s===void 0)switch(this.getSettings_().endingEnd){case pf:o=e,s=2*n-t;break;case rM:o=1,s=n+i[1]-i[0];break;default:o=e-1,s=t}let l=(n-t)*.5,c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=r*c,this._offsetNext=o*c}interpolate_(e,t,n,i){let r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=this._offsetPrev,d=this._offsetNext,u=this._weightPrev,h=this._weightNext,p=(n-t)/(i-t),m=p*p,g=m*p,v=-u*g+2*u*m-u*p,b=(1+u)*g+(-1.5-2*u)*m+(-.5+u)*p+1,_=(-1-h)*g+(1.5+h)*m+.5*p,C=h*g-h*m;for(let M=0;M!==a;++M)r[M]=v*o[c+M]+b*o[l+M]+_*o[s+M]+C*o[d+M];return r}},CV=class extends sw{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){let r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=(n-t)/(i-t),d=1-c;for(let u=0;u!==a;++u)r[u]=o[l+u]*d+o[s+u]*c;return r}},cce=class extends sw{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}},Kl=class{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=V_(t,this.TimeBufferType),this.values=V_(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:V_(e.times,Array),values:V_(e.values,Array)};let i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new cce(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new CV(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new lce(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case nM:t=this.InterpolantFactoryMethodDiscrete;break;case iM:t=this.InterpolantFactoryMethodLinear;break;case I2:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return nM;case this.InterpolantFactoryMethodLinear:return iM;case this.InterpolantFactoryMethodSmooth:return I2}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){let n=this.times,i=n.length,r=0,o=i-1;for(;r!==i&&n[r]<e;)++r;for(;o!==-1&&n[o]>t;)--o;if(++o,r!==0||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);let a=this.getValueSize();this.times=kd(n,r,o),this.values=kd(this.values,r*a,o*a)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let n=this.times,i=this.values,r=n.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==r;a++){let s=n[a];if(typeof s=="number"&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(o!==null&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(i!==void 0&&bV(i))for(let a=0,s=i.length;a!==s;++a){let l=i[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}return e}optimize(){let e=kd(this.times),t=kd(this.values),n=this.getValueSize(),i=this.getInterpolation()===I2,r=e.length-1,o=1;for(let a=1;a<r;++a){let s=!1,l=e[a],c=e[a+1];if(l!==c&&(a!==1||l!==e[0]))if(i)s=!0;else{let d=a*n,u=d-n,h=d+n;for(let p=0;p!==n;++p){let m=t[d+p];if(m!==t[u+p]||m!==t[h+p]){s=!0;break}}}if(s){if(a!==o){e[o]=e[a];let d=a*n,u=o*n;for(let h=0;h!==n;++h)t[u+h]=t[d+h]}++o}}if(r>0){e[o]=e[r];for(let a=r*n,s=o*n,l=0;l!==n;++l)t[s+l]=t[a+l];++o}return o!==e.length?(this.times=kd(e,0,o),this.values=kd(t,0,o*n)):(this.times=e,this.values=t),this}clone(){let e=kd(this.times,0),t=kd(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}};Kl.prototype.TimeBufferType=Float32Array;Kl.prototype.ValueBufferType=Float32Array;Kl.prototype.DefaultInterpolation=iM;var Jf=class extends Kl{};Jf.prototype.ValueTypeName="bool";Jf.prototype.ValueBufferType=Array;Jf.prototype.DefaultInterpolation=nM;Jf.prototype.InterpolantFactoryMethodLinear=void 0;Jf.prototype.InterpolantFactoryMethodSmooth=void 0;var MV=class extends Kl{};MV.prototype.ValueTypeName="color";var dM=class extends Kl{};dM.prototype.ValueTypeName="number";var dce=class extends sw{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){let r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(i-t),l=e*a;for(let c=l+a;l!==c;l+=4)Dt.slerpFlat(r,0,o,l-a,o,l,s);return r}},by=class extends Kl{InterpolantFactoryMethodLinear(e){return new dce(this.times,this.values,this.getValueSize(),e)}};by.prototype.ValueTypeName="quaternion";by.prototype.DefaultInterpolation=iM;by.prototype.InterpolantFactoryMethodSmooth=void 0;var eg=class extends Kl{};eg.prototype.ValueTypeName="string";eg.prototype.ValueBufferType=Array;eg.prototype.DefaultInterpolation=nM;eg.prototype.InterpolantFactoryMethodLinear=void 0;eg.prototype.InterpolantFactoryMethodSmooth=void 0;var uM=class extends Kl{};uM.prototype.ValueTypeName="vector";var V3=class{constructor(e,t=-1,n,i=AA){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=gs(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,a=n.length;o!==a;++o)t.push(hce(n[o]).scale(i));let r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){let t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=n.length;r!==o;++r)t.push(Kl.toJSON(n[r]));return i}static CreateFromMorphTargetSequence(e,t,n,i){let r=t.length,o=[];for(let a=0;a<r;a++){let s=[],l=[];s.push((a+r-1)%r,a,(a+1)%r),l.push(0,1,0);let c=sce(s);s=lN(s,1,c),l=lN(l,1,c),!i&&s[0]===0&&(s.push(r),l.push(l[0])),o.push(new dM(".morphTargetInfluences["+t[a].name+"]",s,l).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){let i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){let i={},r=/^([\w-]*?)([\d]+)$/;for(let a=0,s=e.length;a<s;a++){let l=e[a],c=l.name.match(r);if(c&&c.length>1){let d=c[1],u=i[d];u||(i[d]=u=[]),u.push(l)}}let o=[];for(let a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let n=function(c,d,u,h,p){if(u.length!==0){let m=[],g=[];_V(u,m,g,h),m.length!==0&&p.push(new c(d,m,g))}},i=[],r=e.name||"default",o=e.fps||30,a=e.blendMode,s=e.length||-1,l=e.hierarchy||[];for(let c=0;c<l.length;c++){let d=l[c].keys;if(!(!d||d.length===0))if(d[0].morphTargets){let u={},h;for(h=0;h<d.length;h++)if(d[h].morphTargets)for(let p=0;p<d[h].morphTargets.length;p++)u[d[h].morphTargets[p]]=-1;for(let p in u){let m=[],g=[];for(let v=0;v!==d[h].morphTargets.length;++v){let b=d[h];m.push(b.time),g.push(b.morphTarget===p?1:0)}i.push(new dM(".morphTargetInfluence["+p+"]",m,g))}s=u.length*o}else{let u=".bones["+t[c].name+"]";n(uM,u+".position",d,"pos",i),n(by,u+".quaternion",d,"rot",i),n(uM,u+".scale",d,"scl",i)}}return i.length===0?null:new this(r,s,i,a)}resetDuration(){let e=this.tracks,t=0;for(let n=0,i=e.length;n!==i;++n){let r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function uce(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return dM;case"vector":case"vector2":case"vector3":case"vector4":return uM;case"color":return MV;case"quaternion":return by;case"bool":case"boolean":return Jf;case"string":return eg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function hce(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let t=uce(e.type);if(e.times===void 0){let n=[],i=[];_V(e.keys,n,i,"value"),e.times=n,e.values=i}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var hM={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},wV=class{constructor(e,t,n){let i=this,r=!1,o=0,a=0,s,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(c){a++,r===!1&&i.onStart!==void 0&&i.onStart(c,o,a),r=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return s?s(c):c},this.setURLModifier=function(c){return s=c,this},this.addHandler=function(c,d){return l.push(c,d),this},this.removeHandler=function(c){let d=l.indexOf(c);return d!==-1&&l.splice(d,2),this},this.getHandler=function(c){for(let d=0,u=l.length;d<u;d+=2){let h=l[d],p=l[d+1];if(h.global&&(h.lastIndex=0),h.test(c))return p}return null}}},pce=new wV,_y=class{constructor(e){this.manager=e!==void 0?e:pce,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let n=this;return new Promise(function(i,r){n.load(e,i,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},Sc={},mce=class extends Error{constructor(e,t){super(e),this.response=t}},U3=class extends _y{constructor(e){super(e)}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let r=hM.get(e);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(Sc[e]!==void 0){Sc[e].push({onLoad:t,onProgress:n,onError:i});return}Sc[e]=[],Sc[e].push({onLoad:t,onProgress:n,onError:i});let o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,s=this.responseType;fetch(o).then(l=>{if(l.status===200||l.status===0){if(l.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||l.body===void 0||l.body.getReader===void 0)return l;let c=Sc[e],d=l.body.getReader(),u=l.headers.get("Content-Length")||l.headers.get("X-File-Size"),h=u?parseInt(u):0,p=h!==0,m=0,g=new ReadableStream({start(v){b();function b(){d.read().then(({done:_,value:C})=>{if(_)v.close();else{m+=C.byteLength;let M=new ProgressEvent("progress",{lengthComputable:p,loaded:m,total:h});for(let P=0,x=c.length;P<x;P++){let E=c[P];E.onProgress&&E.onProgress(M)}v.enqueue(C),b()}})}}});return new Response(g)}else throw new mce(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(s){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return l.json();default:if(a===void 0)return l.text();{let c=/charset="?([^;"\s]*)"?/i.exec(a),d=c&&c[1]?c[1].toLowerCase():void 0,u=new TextDecoder(d);return l.arrayBuffer().then(h=>u.decode(h))}}}).then(l=>{hM.add(e,l);let c=Sc[e];delete Sc[e];for(let d=0,u=c.length;d<u;d++){let h=c[d];h.onLoad&&h.onLoad(l)}}).catch(l=>{let c=Sc[e];if(c===void 0)throw this.manager.itemError(e),l;delete Sc[e];for(let d=0,u=c.length;d<u;d++){let h=c[d];h.onError&&h.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},fce=class extends _y{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let r=this,o=hM.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;let a=Xv("img");function s(){c(),hM.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(d){c(),i&&i(d),r.manager.itemError(e),r.manager.itemEnd(e)}function c(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a}},gce=class extends _y{constructor(e){super(e)}load(e,t,n,i){let r=new wi,o=new fce(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){r.image=a,r.needsUpdate=!0,t!==void 0&&t(r)},n,i),r}},Cy=class extends qn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new _t(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}},vce=class extends Cy{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(qn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new _t(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}},lE=new Be,cN=new L,dN=new L,HA=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new oe(512,512),this.map=null,this.mapPass=null,this.matrix=new Be,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new LA,this._frameExtents=new oe(1,1),this._viewportCount=1,this._viewports=[new Et(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,n=this.matrix;cN.setFromMatrixPosition(e.matrixWorld),t.position.copy(cN),dN.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(dN),t.updateMatrixWorld(),lE.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lE),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(lE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},yce=class extends HA{constructor(){super(new go(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let t=this.camera,n=Yv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(n!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},bce=class extends Cy{constructor(e,t,n=0,i=Math.PI/3,r=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(qn.DEFAULT_UP),this.updateMatrix(),this.target=new qn,this.distance=n,this.angle=i,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new yce}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},uN=new Be,tv=new L,cE=new L,_ce=class extends HA{constructor(){super(new go(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new oe(4,2),this._viewportCount=6,this._viewports=[new Et(2,1,1,1),new Et(0,1,1,1),new Et(3,1,1,1),new Et(1,1,1,1),new Et(3,0,1,1),new Et(1,0,1,1)],this._cubeDirections=[new L(1,0,0),new L(-1,0,0),new L(0,0,1),new L(0,0,-1),new L(0,1,0),new L(0,-1,0)],this._cubeUps=[new L(0,1,0),new L(0,1,0),new L(0,1,0),new L(0,1,0),new L(0,0,1),new L(0,0,-1)]}updateMatrices(e,t=0){let n=this.camera,i=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),tv.setFromMatrixPosition(e.matrixWorld),n.position.copy(tv),cE.copy(n.position),cE.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(cE),n.updateMatrixWorld(),i.makeTranslation(-tv.x,-tv.y,-tv.z),uN.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(uN)}},Cce=class extends Cy{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new _ce}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},Mce=class extends HA{constructor(){super(new kA(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},wce=class extends Cy{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(qn.DEFAULT_UP),this.updateMatrix(),this.target=new qn,this.shadow=new Mce}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},xV=class extends pt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}},PV=class extends _y{constructor(e){super(e)}load(e,t,n,i){let r=this,o=new U3(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(a){try{t(r.parse(JSON.parse(a)))}catch(s){i?i(s):console.error(s),r.manager.itemError(e)}},n,i)}parse(e){let t={},n={};function i(u,h){if(t[h]!==void 0)return t[h];let p=u.interleavedBuffers[h],m=r(u,p.buffer),g=g_(p.type,m),v=new Sle(g,p.stride);return v.uuid=p.uuid,t[h]=v,v}function r(u,h){if(n[h]!==void 0)return n[h];let p=u.arrayBuffers[h],m=new Uint32Array(p).buffer;return n[h]=m,m}let o=e.isInstancedBufferGeometry?new xV:new pt,a=e.data.index;if(a!==void 0){let u=g_(a.type,a.array);o.setIndex(new St(u,1))}let s=e.data.attributes;for(let u in s){let h=s[u],p;if(h.isInterleavedBufferAttribute){let m=i(e.data,h.data);p=new N3(m,h.itemSize,h.offset,h.normalized)}else{let m=g_(h.type,h.array),g=h.isInstancedBufferAttribute?Qv:St;p=new g(m,h.itemSize,h.normalized)}h.name!==void 0&&(p.name=h.name),h.usage!==void 0&&p.setUsage(h.usage),h.updateRange!==void 0&&(p.updateRange.offset=h.updateRange.offset,p.updateRange.count=h.updateRange.count),o.setAttribute(u,p)}let l=e.data.morphAttributes;if(l)for(let u in l){let h=l[u],p=[];for(let m=0,g=h.length;m<g;m++){let v=h[m],b;if(v.isInterleavedBufferAttribute){let _=i(e.data,v.data);b=new N3(_,v.itemSize,v.offset,v.normalized)}else{let _=g_(v.type,v.array);b=new St(_,v.itemSize,v.normalized)}v.name!==void 0&&(b.name=v.name),p.push(b)}o.morphAttributes[u]=p}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);let c=e.data.groups||e.data.drawcalls||e.data.offsets;if(c!==void 0)for(let u=0,h=c.length;u!==h;++u){let p=c[u];o.addGroup(p.start,p.count,p.materialIndex)}let d=e.data.boundingSphere;if(d!==void 0){let u=new L;d.center!==void 0&&u.fromArray(d.center),o.boundingSphere=new ua(u,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}},xce=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=hN(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=hN();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function hN(){return(typeof performance>"u"?Date:performance).now()}var Pce=class{constructor(e,t,n){this.binding=e,this.valueSize=n;let i,r,o;switch(t){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let n=this.buffer,i=this.valueSize,r=e*i+i,o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)n[r+a]=n[a];o=t}else{o+=t;let a=t/o;this._mixBufferRegion(n,r,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){let t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){let s=t*this._origIndex;this._mixBufferRegion(n,i,s,1-r,t)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){a.setValue(n,i);break}}saveOriginalState(){let e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,o=i;r!==o;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,r){if(i>=.5)for(let o=0;o!==r;++o)e[t+o]=e[n+o]}_slerp(e,t,n,i){Dt.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,r){let o=this._workIndex*r;Dt.multiplyQuaternionsFlat(e,o,e,t,e,n),Dt.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,n,i,r){let o=1-i;for(let a=0;a!==r;++a){let s=t+a;e[s]=e[s]*o+e[n+a]*i}}_lerpAdditive(e,t,n,i,r){for(let o=0;o!==r;++o){let a=t+o;e[a]=e[a]+e[n+o]*i}}},GA="\\[\\]\\.:\\/",Oce=new RegExp("["+GA+"]","g"),WA="[^"+GA+"]",Sce="[^"+GA.replace("\\.","")+"]",Ece=/((?:WC+[\/:])*)/.source.replace("WC",WA),Dce=/(WCOD+)?/.source.replace("WCOD",Sce),Ace=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",WA),Tce=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",WA),Ice=new RegExp("^"+Ece+Dce+Ace+Tce+"$"),Rce=["material","materials","bones","map"],Lce=class{constructor(e,t,n){let i=n||ti.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();let n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){let n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},ti=class{constructor(e,t,n){this.path=t,this.parsedPath=n||ti.parseTrackName(t),this.node=ti.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new ti.Composite(e,t,n):new ti(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Oce,"")}static parseTrackName(e){let t=Ice.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){let r=n.nodeName.substring(i+1);Rce.indexOf(r)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){let n=function(r){for(let o=0;o<r.length;o++){let a=r[o];if(a.name===t||a.uuid===t)return a;let s=n(a.children);if(s)return s}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=ti.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let l=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===l){l=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(l!==void 0){if(e[l]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[l]}}let o=e[i];if(o===void 0){let l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(r!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};ti.Composite=Lce;ti.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ti.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ti.prototype.GetterByBindingType=[ti.prototype._getValue_direct,ti.prototype._getValue_array,ti.prototype._getValue_arrayElement,ti.prototype._getValue_toArray];ti.prototype.SetterByBindingTypeAndVersioning=[[ti.prototype._setValue_direct,ti.prototype._setValue_direct_setNeedsUpdate,ti.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ti.prototype._setValue_array,ti.prototype._setValue_array_setNeedsUpdate,ti.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ti.prototype._setValue_arrayElement,ti.prototype._setValue_arrayElement_setNeedsUpdate,ti.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ti.prototype._setValue_fromArray,ti.prototype._setValue_fromArray_setNeedsUpdate,ti.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var kce=class{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;let r=t.tracks,o=r.length,a=new Array(o),s={endingStart:hf,endingEnd:hf};for(let l=0;l!==o;++l){let c=r[l].createInterpolant(null);a[l]=c,c.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=H9,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){let i=this._clip.duration,r=e._clip.duration,o=r/i,a=i/r;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){let i=this._mixer,r=i.time,o=this.timeScale,a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);let s=a.parameterPositions,l=a.sampleValues;return s[0]=r,s[1]=r+n,l[0]=e/o,l[1]=t/o,this}stopWarping(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}let r=this._startTime;if(r!==null){let s=(e-r)*n;s<0||n===0?t=0:(this._startTime=null,t=n*s)}t*=this._updateTimeScale(e);let o=this._updateTime(t),a=this._updateWeight(e);if(a>0){let s=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case uie:for(let c=0,d=s.length;c!==d;++c)s[c].evaluate(o),l[c].accumulateAdditive(a);break;case AA:default:for(let c=0,d=s.length;c!==d;++c)s[c].evaluate(o),l[c].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let n=this._weightInterpolant;if(n!==null){let i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let n=this._timeScaleInterpolant;if(n!==null){let i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,n=this.loop,i=this.time+e,r=this._loopCount,o=n===DA;if(e===0)return r===-1?i:o&&(r&1)===1?t-i:i;if(n===j9){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){let a=Math.floor(i/t);i-=t*a,r+=Math.abs(a);let s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(s===1){let l=e<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(r&1)===1)return t-i}return i}_setEndings(e,t,n){let i=this._interpolantSettings;n?(i.endingStart=pf,i.endingEnd=pf):(e?i.endingStart=this.zeroSlopeAtStart?pf:hf:i.endingStart=rM,t?i.endingEnd=this.zeroSlopeAtEnd?pf:hf:i.endingEnd=rM)}_scheduleFading(e,t,n){let i=this._mixer,r=i.time,o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);let a=o.parameterPositions,s=o.sampleValues;return a[0]=r,s[0]=t,a[1]=r+e,s[1]=n,this}},Fce=new Float32Array(1),Nce=class extends Jr{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,c=l[s];c===void 0&&(c={},l[s]=c);for(let d=0;d!==r;++d){let u=i[d],h=u.name,p=c[h];if(p!==void 0)++p.referenceCount,o[d]=p;else{if(p=o[d],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,s,h));continue}let m=t&&t._propertyBindings[d].binding.parsedPath;p=new Pce(ti.create(n,h,m),u.ValueTypeName,u.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,s,h),o[d]=p}a[d].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){let n=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,n)}let t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){let r=t[n];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){let r=t[n];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){let i=this._actions,r=this._actionsByClip,o=r[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{let a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){let t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;let r=e._clip.uuid,o=this._actionsByClip,a=o[r],s=a.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;let d=a.actionByRoot,u=(e._localRoot||this._root).uuid;delete d[u],s.length===0&&delete o[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){let r=t[n];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){let t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackAction(e){let t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_addInactiveBinding(e,t,n){let i=this._bindingsByRootAndName,r=this._bindings,o=i[t];o===void 0&&(o={},i[t]=o),o[n]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){let t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,a=o[i],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[r],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){let t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackBinding(e){let t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return n===void 0&&(n=new CV(new Float32Array(2),new Float32Array(2),1,Fce),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){let t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r}clipAction(e,t,n){let i=t||this._root,r=i.uuid,o=typeof e=="string"?V3.findByName(i,e):e,a=o!==null?o.uuid:e,s=this._actionsByClip[a],l=null;if(n===void 0&&(o!==null?n=o.blendMode:n=AA),s!==void 0){let d=s.actionByRoot[r];if(d!==void 0&&d.blendMode===n)return d;l=s.knownActions[0],o===null&&(o=l._clip)}if(o===null)return null;let c=new kce(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,r),c}existingAction(e,t){let n=t||this._root,i=n.uuid,r=typeof e=="string"?V3.findByName(n,e):e,o=r?r.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;let t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l)t[l]._update(i,e,r,o);let a=this._bindings,s=this._nActiveBindings;for(let l=0;l!==s;++l)a[l].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(r!==void 0){let o=r.knownActions;for(let a=0,s=o.length;a!==s;++a){let l=o[a];this._deactivateAction(l);let c=l._cacheIndex,d=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,d._cacheIndex=c,t[c]=d,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}}uncacheRoot(e){let t=e.uuid,n=this._actionsByClip;for(let o in n){let a=n[o].actionByRoot,s=a[t];s!==void 0&&(this._deactivateAction(s),this._removeInactiveAction(s))}let i=this._bindingsByRootAndName,r=i[t];if(r!==void 0)for(let o in r){let a=r[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){let n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}},ze=class{constructor(e){this.value=e}clone(){return new ze(this.value.clone===void 0?this.value:this.value.clone())}},OV=class{constructor(e,t,n=0,i=1/0){this.ray=new Zf(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new IA,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return j3(e,this,n,t),n.sort(pN),n}intersectObjects(e,t=!0,n=[]){for(let i=0,r=e.length;i<r;i++)j3(e[i],this,n,t);return n.sort(pN),n}};function pN(e,t){return e.distance-t.distance}function j3(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),i===!0){let r=e.children;for(let o=0,a=r.length;o<a;o++)j3(r[o],t,n,!0)}}var mN=class{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Zi(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},fN=new oe,SV=class{constructor(e=new oe(1/0,1/0),t=new oe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=fN.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return fN.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},gN=new L,U_=new L,vs=class{constructor(e=new L,t=new L){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){gN.subVectors(e,this.start),U_.subVectors(this.end,this.start);let n=U_.dot(U_),i=U_.dot(gN)/n;return t&&(i=Zi(i,0,1)),i}closestPointToPoint(e,t,n){let i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},vN=new L,zce=class extends qn{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";let n=new pt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,s=32;o<s;o++,a++){let l=o/s*Math.PI*2,c=a/s*Math.PI*2;i.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}n.setAttribute("position",new Je(i,3));let r=new pu({fog:!1,toneMapped:!1});this.cone=new yy(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),vN.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(vN),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},Bce=class extends Ji{constructor(e,t,n){let i=new _f(t,4,2),r=new ap({wireframe:!0,fog:!1,toneMapped:!1});super(i,r),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},yN=new L,j_=new L,bN=new L,Vce=class extends qn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new pt;i.setAttribute("position",new Je([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let r=new pu({fog:!1,toneMapped:!1});this.lightPlane=new sM(i,r),this.add(this.lightPlane),i=new pt,i.setAttribute("position",new Je([0,0,0,0,0,1],3)),this.targetLine=new sM(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),yN.setFromMatrixPosition(this.light.matrixWorld),j_.setFromMatrixPosition(this.light.target.matrixWorld),bN.subVectors(j_,yN),this.lightPlane.lookAt(j_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(j_),this.targetLine.scale.z=bN.length()}},H_=new L,Ai=new sp,pM=class extends yy{constructor(e){let t=new pt,n=new pu({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(p,m){s(p),s(m)}function s(p){i.push(0,0,0),r.push(0,0,0),o[p]===void 0&&(o[p]=[]),o[p].push(i.length/3-1)}t.setAttribute("position",new Je(i,3)),t.setAttribute("color",new Je(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();let l=new _t(16755200),c=new _t(16711680),d=new _t(43775),u=new _t(16777215),h=new _t(3355443);this.setColors(l,c,d,u,h)}setColors(e,t,n,i,r){let o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,r.r,r.g,r.b),o.setXYZ(41,r.r,r.g,r.b),o.setXYZ(42,r.r,r.g,r.b),o.setXYZ(43,r.r,r.g,r.b),o.setXYZ(44,r.r,r.g,r.b),o.setXYZ(45,r.r,r.g,r.b),o.setXYZ(46,r.r,r.g,r.b),o.setXYZ(47,r.r,r.g,r.b),o.setXYZ(48,r.r,r.g,r.b),o.setXYZ(49,r.r,r.g,r.b),o.needsUpdate=!0}update(){let e=this.geometry,t=this.pointMap,n=1,i=1;Ai.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ni("c",t,e,Ai,0,0,-1),Ni("t",t,e,Ai,0,0,1),Ni("n1",t,e,Ai,-n,-i,-1),Ni("n2",t,e,Ai,n,-i,-1),Ni("n3",t,e,Ai,-n,i,-1),Ni("n4",t,e,Ai,n,i,-1),Ni("f1",t,e,Ai,-n,-i,1),Ni("f2",t,e,Ai,n,-i,1),Ni("f3",t,e,Ai,-n,i,1),Ni("f4",t,e,Ai,n,i,1),Ni("u1",t,e,Ai,n*.7,i*1.1,-1),Ni("u2",t,e,Ai,-n*.7,i*1.1,-1),Ni("u3",t,e,Ai,0,i*2,-1),Ni("cf1",t,e,Ai,-n,0,1),Ni("cf2",t,e,Ai,n,0,1),Ni("cf3",t,e,Ai,0,-i,1),Ni("cf4",t,e,Ai,0,i,1),Ni("cn1",t,e,Ai,-n,0,-1),Ni("cn2",t,e,Ai,n,0,-1),Ni("cn3",t,e,Ai,0,-i,-1),Ni("cn4",t,e,Ai,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function Ni(e,t,n,i,r,o,a){H_.set(r,o,a).unproject(i);let s=t[e];if(s!==void 0){let l=n.getAttribute("position");for(let c=0,d=s.length;c<d;c++)l.setXYZ(s[c],H_.x,H_.y,H_.z)}}var mM=class extends yy{constructor(e,t=16776960){let n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new pt;r.setIndex(new St(n,1)),r.setAttribute("position",new Je(i,3)),super(r,new pu({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},Uce=class extends yy{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new pt;i.setAttribute("position",new Je(t,3)),i.setAttribute("color",new Je(n,3));let r=new pu({vertexColors:!0,toneMapped:!1});super(i,r),this.type="AxesHelper"}setColors(e,t,n){let i=new _t,r=this.geometry.attributes.color.array;return i.set(e),i.toArray(r,0),i.toArray(r,3),i.set(t),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},jc=jce();function jce(){let e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){let c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}let o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,o[l]=c|d}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:t,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:o,exponentTable:a,offsetTable:s}}function Hce(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Zi(e,-65504,65504),jc.floatView[0]=e;let t=jc.uint32View[0],n=t>>23&511;return jc.baseTable[n]+((t&8388607)>>jc.shiftTable[n])}function Gce(e){let t=e>>10;return jc.uint32View[0]=jc.mantissaTable[jc.offsetTable[t]+(e&1023)]+jc.exponentTable[t],jc.floatView[0]}var Wce=Object.freeze({__proto__:null,fromHalfFloat:Gce,toHalfFloat:Hce});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Qf}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Qf);var nv=".",qA=Symbol("target"),EV=Symbol("unsubscribe");function H3(e){return e instanceof Date||e instanceof Set||e instanceof Map||e instanceof WeakSet||e instanceof WeakMap||ArrayBuffer.isView(e)}function qce(e){return(typeof e=="object"?e===null:typeof e!="function")||e instanceof RegExp}var Nl=Array.isArray;function YA(e){return typeof e=="symbol"}var Yce={after:(e,t)=>Nl(e)?e.slice(t.length):t===""?e:e.slice(t.length+1),concat:(e,t)=>Nl(e)?(e=[...e],t&&e.push(t),e):t&&t.toString!==void 0?(e!==""&&(e+=nv),YA(t)?e+t.toString():e+t):e,initial:e=>{if(Nl(e))return e.slice(0,-1);if(e==="")return e;let t=e.lastIndexOf(nv);return t===-1?"":e.slice(0,t)},last:e=>{if(Nl(e))return e[e.length-1]||"";if(e==="")return e;let t=e.lastIndexOf(nv);return t===-1?e:e.slice(t+1)},walk:(e,t)=>{if(Nl(e))for(let n of e)t(n);else if(e!==""){let n=0,i=e.indexOf(nv);if(i===-1)t(e);else for(;n<e.length;)i===-1&&(i=e.length),t(e.slice(n,i)),n=i+1,i=e.indexOf(nv,n)}},get(e,t){return this.walk(t,n=>{e&&(e=e[n])}),e}},us=Yce;function Xce(e){return typeof e=="object"&&typeof e.next=="function"}function Qce(e,t,n,i,r){let o=e.next;if(t.name==="entries")e.next=function(){let a=o.call(this);return a.done===!1&&(a.value[0]=r(a.value[0],t,a.value[0],i),a.value[1]=r(a.value[1],t,a.value[0],i)),a};else if(t.name==="values"){let a=n[qA].keys();e.next=function(){let s=o.call(this);return s.done===!1&&(s.value=r(s.value,t,a.next().value,i)),s}}else e.next=function(){let a=o.call(this);return a.done===!1&&(a.value=r(a.value,t,a.value,i)),a};return e}function _N(e,t,n){return e.isUnsubscribed||t.ignoreSymbols&&YA(n)||t.ignoreUnderscores&&n.charAt(0)==="_"||"ignoreKeys"in t&&t.ignoreKeys.includes(n)}var Zce=class{constructor(e){this._equals=e,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this.isUnsubscribed=!1}_getDescriptorCache(){return this._descriptorCache===void 0&&(this._descriptorCache=new WeakMap),this._descriptorCache}_getProperties(e){let t=this._getDescriptorCache(),n=t.get(e);return n===void 0&&(n={},t.set(e,n)),n}_getOwnPropertyDescriptor(e,t){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor(e,t);let n=this._getProperties(e),i=n[t];return i===void 0&&(i=Reflect.getOwnPropertyDescriptor(e,t),n[t]=i),i}getProxy(e,t,n,i){if(this.isUnsubscribed)return e;let r=e[i],o=r||e;this._pathCache.set(o,t);let a=this._proxyCache.get(o);return a===void 0&&(a=r===void 0?new Proxy(e,n):e,this._proxyCache.set(o,a)),a}getPath(e){return this.isUnsubscribed?void 0:this._pathCache.get(e)}isDetached(e,t){return!Object.is(e,us.get(t,this.getPath(e)))}defineProperty(e,t,n){return Reflect.defineProperty(e,t,n)?(this.isUnsubscribed||(this._getProperties(e)[t]=n),!0):!1}setProperty(e,t,n,i,r){if(!this._equals(r,n)||!(t in e)){let o=this._getOwnPropertyDescriptor(e,t);return o!==void 0&&"set"in o?Reflect.set(e,t,n,i):Reflect.set(e,t,n)}return!0}deleteProperty(e,t,n){if(Reflect.deleteProperty(e,t)){if(!this.isUnsubscribed){let i=this._getDescriptorCache().get(e);i&&(delete i[t],this._pathCache.delete(n))}return!0}return!1}isSameDescriptor(e,t,n){let i=this._getOwnPropertyDescriptor(t,n);return e!==void 0&&i!==void 0&&Object.is(e.value,i.value)&&(e.writable||!1)===(i.writable||!1)&&(e.enumerable||!1)===(i.enumerable||!1)&&(e.configurable||!1)===(i.configurable||!1)&&e.get===i.get&&e.set===i.set}isGetInvariant(e,t){let n=this._getOwnPropertyDescriptor(e,t);return n!==void 0&&n.configurable!==!0&&n.writable!==!0}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this.isUnsubscribed=!0}};function G3(e){return toString.call(e)==="[object Object]"}function G_(){return!0}function Vm(e,t){return e.length!==t.length||e.some((n,i)=>t[i]!==n)}var DV=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),$ce=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),AV={push:G_,pop:G_,shift:G_,unshift:G_,copyWithin:Vm,reverse:Vm,sort:Vm,splice:Vm,flat:Vm,fill:Vm},Kce=new Set([...DV,...$ce,...Object.keys(AV)]);function W_(e,t){if(e.size!==t.size)return!0;for(let n of e)if(!t.has(n))return!0;return!1}var TV=["keys","values","entries"],IV=new Set(["has","toString"]),RV={add:W_,clear:W_,delete:W_,forEach:W_},Jce=new Set([...IV,...Object.keys(RV),...TV]);function q_(e,t){if(e.size!==t.size)return!0;let n;for(let[i,r]of e)if(n=t.get(i),n!==r||n===void 0&&!t.has(i))return!0;return!1}var ede=new Set([...IV,"get"]),LV={set:q_,clear:q_,delete:q_,forEach:q_},tde=new Set([...ede,...Object.keys(LV),...TV]),uu=class{constructor(e,t,n,i){this._path=t,this._isChanged=!1,this._clonedCache=new Set,this._hasOnValidate=i,this._changes=i?[]:null,this.clone=t===void 0?e:this._shallowClone(e)}static isHandledMethod(e){return DV.has(e)}_shallowClone(e){let t=e;if(G3(e))t=B({},e);else if(Nl(e))t=[...e];else if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set([...e].map(n=>this._shallowClone(n)));else if(e instanceof Map){t=new Map;for(let[n,i]of e.entries())t.set(n,this._shallowClone(i))}return this._clonedCache.add(t),t}preferredThisArg(e,t,n,i){return e?(Nl(i)?this._onIsChanged=AV[t]:i instanceof Set?this._onIsChanged=RV[t]:i instanceof Map&&(this._onIsChanged=LV[t]),i):n}update(e,t,n){let i=us.after(e,this._path);if(t!=="length"){let r=this.clone;us.walk(i,o=>{r&&r[o]&&(this._clonedCache.has(r[o])||(r[o]=this._shallowClone(r[o])),r=r[o])}),this._hasOnValidate&&this._changes.push({path:i,property:t,previous:n}),r&&r[t]&&(r[t]=n)}this._isChanged=!0}undo(e){let t;for(let n=this._changes.length-1;n!==-1;n--)t=this._changes[n],us.get(e,t.path)[t.property]=t.previous}isChanged(e){return this._onIsChanged===void 0?this._isChanged:this._onIsChanged(this.clone,e)}},CN=class extends uu{static isHandledMethod(e){return Kce.has(e)}},nde=class extends uu{undo(e){e.setTime(this.clone.getTime())}isChanged(e,t){return!t(this.clone.valueOf(),e.valueOf())}},MN=class extends uu{static isHandledMethod(e){return Jce.has(e)}undo(e){for(let t of this.clone)e.add(t);for(let t of e)this.clone.has(t)||e.delete(t)}},wN=class extends uu{static isHandledMethod(e){return tde.has(e)}undo(e){for(let[t,n]of this.clone.entries())e.set(t,n);for(let t of e.keys())this.clone.has(t)||e.delete(t)}},ide=class extends uu{constructor(e,t,n,i){super(void 0,t,n,i),this._arg1=n[0],this._weakValue=e.has(this._arg1)}isChanged(e){return this._weakValue!==e.has(this._arg1)}undo(e){this._weakValue&&!e.has(this._arg1)?e.add(this._arg1):e.delete(this._arg1)}},rde=class extends uu{constructor(e,t,n,i){super(void 0,t,n,i),this._weakKey=n[0],this._weakHas=e.has(this._weakKey),this._weakValue=e.get(this._weakKey)}isChanged(e){return this._weakValue!==e.get(this._weakKey)}undo(e){let t=e.has(this._weakKey);this._weakHas&&!t?e.set(this._weakKey,this._weakValue):!this._weakHas&&t?e.delete(this._weakKey):this._weakValue!==e.get(this._weakKey)&&e.set(this._weakKey,this._weakValue)}},sf=class{constructor(e){this._stack=[],this._hasOnValidate=e}static isHandledType(e){return G3(e)||Nl(e)||H3(e)}static isHandledMethod(e,t){return G3(e)?uu.isHandledMethod(t):Nl(e)?CN.isHandledMethod(t):e instanceof Set?MN.isHandledMethod(t):e instanceof Map?wN.isHandledMethod(t):H3(e)}get isCloning(){return this._stack.length>0}start(e,t,n){let i=uu;Nl(e)?i=CN:e instanceof Date?i=nde:e instanceof Set?i=MN:e instanceof Map?i=wN:e instanceof WeakSet?i=ide:e instanceof WeakMap&&(i=rde),this._stack.push(new i(e,t,n,this._hasOnValidate))}update(e,t,n){this._stack[this._stack.length-1].update(e,t,n)}preferredThisArg(e,t,n){let{name:i}=e,r=sf.isHandledMethod(n,i);return this._stack[this._stack.length-1].preferredThisArg(r,i,t,n)}isChanged(e,t,n){return this._stack[this._stack.length-1].isChanged(e,t,n)}undo(e){this._previousClone!==void 0&&this._previousClone.undo(e)}stop(){return this._previousClone=this._stack.pop(),this._previousClone.clone}},ode={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1,details:!1},XA=(e,t,n={})=>{n=B(B({},ode),n);let i=Symbol("ProxyTarget"),{equals:r,isShallow:o,ignoreDetached:a,details:s}=n,l=new Zce(r),c=typeof n.onValidate=="function",d=new sf(c),u=(_,C,M,P,x)=>!c||d.isCloning||n.onValidate(us.concat(l.getPath(_),C),M,P,x)===!0,h=(_,C,M,P)=>{!_N(l,n,C)&&!(a&&l.isDetached(_,e))&&p(l.getPath(_),C,M,P)},p=(_,C,M,P,x)=>{d.isCloning?d.update(_,C,P):t(us.concat(_,C),M,P,x)},m=_=>_&&(_[i]||_),g=(_,C,M,P)=>qce(_)||M==="constructor"||o&&!sf.isHandledMethod(C,M)||_N(l,n,M)||l.isGetInvariant(C,M)||a&&l.isDetached(C,e)?_:(P===void 0&&(P=l.getPath(C)),l.getProxy(_,us.concat(P,M),v,i)),v={get(_,C,M){if(YA(C)){if(C===i||C===qA)return _;if(C===EV&&!l.isUnsubscribed&&l.getPath(_).length===0)return l.unsubscribe(),_}let P=H3(_)?Reflect.get(_,C):Reflect.get(_,C,M);return g(P,_,C)},set(_,C,M,P){M=m(M);let x=_[i]||_,E=x[C];if(r(E,M)&&C in _)return!0;let O=u(_,C,M,E);return O&&l.setProperty(x,C,M,P,E)?(h(_,C,_[C],E),!0):!O},defineProperty(_,C,M){if(!l.isSameDescriptor(M,_,C)){let P=_[C];u(_,C,M.value,P)&&l.defineProperty(_,C,M,P)&&h(_,C,M.value,P)}return!0},deleteProperty(_,C){if(!Reflect.has(_,C))return!0;let M=Reflect.get(_,C),P=u(_,C,void 0,M);return P&&l.deleteProperty(_,C,M)?(h(_,C,void 0,M),!0):!P},apply(_,C,M){let P=C[i]||C;if(l.isUnsubscribed)return Reflect.apply(_,P,M);if((s===!1||s!==!0&&!s.includes(_.name))&&sf.isHandledType(P)){let x=us.initial(l.getPath(_)),E=sf.isHandledMethod(P,_.name);d.start(P,x,M);let O=Reflect.apply(_,d.preferredThisArg(_,C,P),E?M.map(I=>m(I)):M),S=d.isChanged(P,r),D=d.stop();if(sf.isHandledType(O)&&E&&(C instanceof Map&&_.name==="get"&&(x=us.concat(x,M[0])),O=l.getProxy(O,x,v)),S){let I={name:_.name,args:M,result:O},T=d.isCloning?us.initial(x):x,R=d.isCloning?us.last(x):"";u(us.get(e,T),R,P,D,I)?p(T,R,P,D,I):d.undo(P)}return(C instanceof Map||C instanceof Set)&&Xce(O)?Qce(O,_,C,x,g):O}return Reflect.apply(_,C,M)}},b=l.getProxy(e,n.pathAsArray?[]:"",v);return t=t.bind(b),c&&(n.onValidate=n.onValidate.bind(b)),b};XA.target=e=>e&&e[qA]||e;XA.unsubscribe=e=>e[EV]||e;var xN=XA,ade=typeof global=="object"&&global&&global.Object===Object&&global,kV=ade,sde=typeof self=="object"&&self&&self.Object===Object&&self,lde=kV||sde||Function("return this")(),$s=lde,cde=$s.Symbol,bs=cde,FV=Object.prototype,dde=FV.hasOwnProperty,ude=FV.toString,iv=bs?bs.toStringTag:void 0;function hde(e){var t=dde.call(e,iv),n=e[iv];try{e[iv]=void 0;var i=!0}catch{}var r=ude.call(e);return i&&(t?e[iv]=n:delete e[iv]),r}var pde=hde,mde=Object.prototype,fde=mde.toString;function gde(e){return fde.call(e)}var vde=gde,yde="[object Null]",bde="[object Undefined]",PN=bs?bs.toStringTag:void 0;function _de(e){return e==null?e===void 0?bde:yde:PN&&PN in Object(e)?pde(e):vde(e)}var cp=_de;function Cde(e){return e!=null&&typeof e=="object"}var Jc=Cde,Mde="[object Symbol]";function wde(e){return typeof e=="symbol"||Jc(e)&&cp(e)==Mde}var lw=wde;function xde(e,t){for(var n=-1,i=e==null?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}var NV=xde,Pde=Array.isArray,ql=Pde,Ode=1/0,ON=bs?bs.prototype:void 0,SN=ON?ON.toString:void 0;function zV(e){if(typeof e=="string")return e;if(ql(e))return NV(e,zV)+"";if(lw(e))return SN?SN.call(e):"";var t=e+"";return t=="0"&&1/e==-Ode?"-0":t}var Sde=zV,Ede=/\s/;function Dde(e){for(var t=e.length;t--&&Ede.test(e.charAt(t)););return t}var Ade=Dde,Tde=/^\s+/;function Ide(e){return e&&e.slice(0,Ade(e)+1).replace(Tde,"")}var Rde=Ide;function Lde(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Zs=Lde,EN=NaN,kde=/^[-+]0x[0-9a-f]+$/i,Fde=/^0b[01]+$/i,Nde=/^0o[0-7]+$/i,zde=parseInt;function Bde(e){if(typeof e=="number")return e;if(lw(e))return EN;if(Zs(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Zs(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Rde(e);var n=Fde.test(e);return n||Nde.test(e)?zde(e.slice(2),n?2:8):kde.test(e)?EN:+e}var DN=Bde;function Vde(e){return e}var Ude=Vde,jde="[object AsyncFunction]",Hde="[object Function]",Gde="[object GeneratorFunction]",Wde="[object Proxy]";function qde(e){if(!Zs(e))return!1;var t=cp(e);return t==Hde||t==Gde||t==jde||t==Wde}var BV=qde,Yde=$s["__core-js_shared__"],dE=Yde,AN=function(){var e=/[^.]+$/.exec(dE&&dE.keys&&dE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Xde(e){return!!AN&&AN in e}var Qde=Xde,Zde=Function.prototype,$de=Zde.toString;function Kde(e){if(e!=null){try{return $de.call(e)}catch{}try{return e+""}catch{}}return""}var dp=Kde,Jde=/[\\^$.*+?()[\]{}|]/g,eue=/^\[object .+?Constructor\]$/,tue=Function.prototype,nue=Object.prototype,iue=tue.toString,rue=nue.hasOwnProperty,oue=RegExp("^"+iue.call(rue).replace(Jde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function aue(e){if(!Zs(e)||Qde(e))return!1;var t=BV(e)?oue:eue;return t.test(dp(e))}var sue=aue;function lue(e,t){return e?.[t]}var cue=lue;function due(e,t){var n=cue(e,t);return sue(n)?n:void 0}var up=due,uue=up($s,"WeakMap"),W3=uue,TN=Object.create,hue=function(){function e(){}return function(t){if(!Zs(t))return{};if(TN)return TN(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),pue=hue;function mue(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var fue=mue;function gue(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var vue=gue,yue=800,bue=16,_ue=Date.now;function Cue(e){var t=0,n=0;return function(){var i=_ue(),r=bue-(i-n);if(n=i,r>0){if(++t>=yue)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Mue=Cue;function wue(e){return function(){return e}}var xue=wue,Pue=function(){try{var e=up(Object,"defineProperty");return e({},"",{}),e}catch{}}(),fM=Pue,Oue=fM?function(e,t){return fM(e,"toString",{configurable:!0,enumerable:!1,value:xue(t),writable:!0})}:Ude,Sue=Oue,Eue=Mue(Sue),Due=Eue;function Aue(e,t){for(var n=-1,i=e==null?0:e.length;++n<i&&t(e[n],n,e)!==!1;);return e}var Tue=Aue,Iue=9007199254740991,Rue=/^(?:0|[1-9]\d*)$/;function Lue(e,t){var n=typeof e;return t=t??Iue,!!t&&(n=="number"||n!="symbol"&&Rue.test(e))&&e>-1&&e%1==0&&e<t}var QA=Lue;function kue(e,t,n){t=="__proto__"&&fM?fM(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var VV=kue;function Fue(e,t){return e===t||e!==e&&t!==t}var ZA=Fue,Nue=Object.prototype,zue=Nue.hasOwnProperty;function Bue(e,t,n){var i=e[t];(!(zue.call(e,t)&&ZA(i,n))||n===void 0&&!(t in e))&&VV(e,t,n)}var $A=Bue;function Vue(e,t,n,i){var r=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=i?i(n[s],e[s],s,n,e):void 0;l===void 0&&(l=e[s]),r?VV(n,s,l):$A(n,s,l)}return n}var My=Vue,IN=Math.max;function Uue(e,t,n){return t=IN(t===void 0?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=IN(i.length-t,0),a=Array(o);++r<o;)a[r]=i[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=i[r];return s[t]=n(a),fue(e,this,s)}}var jue=Uue,Hue=9007199254740991;function Gue(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Hue}var KA=Gue;function Wue(e){return e!=null&&KA(e.length)&&!BV(e)}var UV=Wue,que=Object.prototype;function Yue(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||que;return e===n}var JA=Yue;function Xue(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var Que=Xue,Zue="[object Arguments]";function $ue(e){return Jc(e)&&cp(e)==Zue}var RN=$ue,jV=Object.prototype,Kue=jV.hasOwnProperty,Jue=jV.propertyIsEnumerable,ehe=RN(function(){return arguments}())?RN:function(e){return Jc(e)&&Kue.call(e,"callee")&&!Jue.call(e,"callee")},eT=ehe;function the(){return!1}var nhe=the,HV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,LN=HV&&typeof module=="object"&&module&&!module.nodeType&&module,ihe=LN&&LN.exports===HV,kN=ihe?$s.Buffer:void 0,rhe=kN?kN.isBuffer:void 0,ohe=rhe||nhe,gM=ohe,ahe="[object Arguments]",she="[object Array]",lhe="[object Boolean]",che="[object Date]",dhe="[object Error]",uhe="[object Function]",hhe="[object Map]",phe="[object Number]",mhe="[object Object]",fhe="[object RegExp]",ghe="[object Set]",vhe="[object String]",yhe="[object WeakMap]",bhe="[object ArrayBuffer]",_he="[object DataView]",Che="[object Float32Array]",Mhe="[object Float64Array]",whe="[object Int8Array]",xhe="[object Int16Array]",Phe="[object Int32Array]",Ohe="[object Uint8Array]",She="[object Uint8ClampedArray]",Ehe="[object Uint16Array]",Dhe="[object Uint32Array]",pi={};pi[Che]=pi[Mhe]=pi[whe]=pi[xhe]=pi[Phe]=pi[Ohe]=pi[She]=pi[Ehe]=pi[Dhe]=!0;pi[ahe]=pi[she]=pi[bhe]=pi[lhe]=pi[_he]=pi[che]=pi[dhe]=pi[uhe]=pi[hhe]=pi[phe]=pi[mhe]=pi[fhe]=pi[ghe]=pi[vhe]=pi[yhe]=!1;function Ahe(e){return Jc(e)&&KA(e.length)&&!!pi[cp(e)]}var The=Ahe;function Ihe(e){return function(t){return e(t)}}var tT=Ihe,GV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zv=GV&&typeof module=="object"&&module&&!module.nodeType&&module,Rhe=zv&&zv.exports===GV,uE=Rhe&&kV.process,Lhe=function(){try{var e=zv&&zv.require&&zv.require("util").types;return e||uE&&uE.binding&&uE.binding("util")}catch{}}(),Nf=Lhe,FN=Nf&&Nf.isTypedArray,khe=FN?tT(FN):The,WV=khe,Fhe=Object.prototype,Nhe=Fhe.hasOwnProperty;function zhe(e,t){var n=ql(e),i=!n&&eT(e),r=!n&&!i&&gM(e),o=!n&&!i&&!r&&WV(e),a=n||i||r||o,s=a?Que(e.length,String):[],l=s.length;for(var c in e)(t||Nhe.call(e,c))&&!(a&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||QA(c,l)))&&s.push(c);return s}var qV=zhe;function Bhe(e,t){return function(n){return e(t(n))}}var YV=Bhe,Vhe=YV(Object.keys,Object),Uhe=Vhe,jhe=Object.prototype,Hhe=jhe.hasOwnProperty;function Ghe(e){if(!JA(e))return Uhe(e);var t=[];for(var n in Object(e))Hhe.call(e,n)&&n!="constructor"&&t.push(n);return t}var Whe=Ghe;function qhe(e){return UV(e)?qV(e):Whe(e)}var nT=qhe;function Yhe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Xhe=Yhe,Qhe=Object.prototype,Zhe=Qhe.hasOwnProperty;function $he(e){if(!Zs(e))return Xhe(e);var t=JA(e),n=[];for(var i in e)i=="constructor"&&(t||!Zhe.call(e,i))||n.push(i);return n}var Khe=$he;function Jhe(e){return UV(e)?qV(e,!0):Khe(e)}var Fh=Jhe,epe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tpe=/^\w*$/;function npe(e,t){if(ql(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||lw(e)?!0:tpe.test(e)||!epe.test(e)||t!=null&&e in Object(t)}var ipe=npe,rpe=up(Object,"create"),Jv=rpe;function ope(){this.__data__=Jv?Jv(null):{},this.size=0}var ape=ope;function spe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var lpe=spe,cpe="__lodash_hash_undefined__",dpe=Object.prototype,upe=dpe.hasOwnProperty;function hpe(e){var t=this.__data__;if(Jv){var n=t[e];return n===cpe?void 0:n}return upe.call(t,e)?t[e]:void 0}var ppe=hpe,mpe=Object.prototype,fpe=mpe.hasOwnProperty;function gpe(e){var t=this.__data__;return Jv?t[e]!==void 0:fpe.call(t,e)}var vpe=gpe,ype="__lodash_hash_undefined__";function bpe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Jv&&t===void 0?ype:t,this}var _pe=bpe;function tg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}tg.prototype.clear=ape;tg.prototype.delete=lpe;tg.prototype.get=ppe;tg.prototype.has=vpe;tg.prototype.set=_pe;var NN=tg;function Cpe(){this.__data__=[],this.size=0}var Mpe=Cpe;function wpe(e,t){for(var n=e.length;n--;)if(ZA(e[n][0],t))return n;return-1}var cw=wpe,xpe=Array.prototype,Ppe=xpe.splice;function Ope(e){var t=this.__data__,n=cw(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Ppe.call(t,n,1),--this.size,!0}var Spe=Ope;function Epe(e){var t=this.__data__,n=cw(t,e);return n<0?void 0:t[n][1]}var Dpe=Epe;function Ape(e){return cw(this.__data__,e)>-1}var Tpe=Ape;function Ipe(e,t){var n=this.__data__,i=cw(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var Rpe=Ipe;function ng(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}ng.prototype.clear=Mpe;ng.prototype.delete=Spe;ng.prototype.get=Dpe;ng.prototype.has=Tpe;ng.prototype.set=Rpe;var dw=ng,Lpe=up($s,"Map"),ey=Lpe;function kpe(){this.size=0,this.__data__={hash:new NN,map:new(ey||dw),string:new NN}}var Fpe=kpe;function Npe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var zpe=Npe;function Bpe(e,t){var n=e.__data__;return zpe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var uw=Bpe;function Vpe(e){var t=uw(this,e).delete(e);return this.size-=t?1:0,t}var Upe=Vpe;function jpe(e){return uw(this,e).get(e)}var Hpe=jpe;function Gpe(e){return uw(this,e).has(e)}var Wpe=Gpe;function qpe(e,t){var n=uw(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var Ype=qpe;function ig(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}ig.prototype.clear=Fpe;ig.prototype.delete=Upe;ig.prototype.get=Hpe;ig.prototype.has=Wpe;ig.prototype.set=Ype;var hw=ig,Xpe="Expected a function";function iT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Xpe);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(iT.Cache||hw),n}iT.Cache=hw;var Qpe=iT,Zpe=500;function $pe(e){var t=Qpe(e,function(i){return n.size===Zpe&&n.clear(),i}),n=t.cache;return t}var Kpe=$pe,Jpe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eme=/\\(\\)?/g,tme=Kpe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Jpe,function(n,i,r,o){t.push(r?o.replace(eme,"$1"):i||n)}),t}),nme=tme;function ime(e){return e==null?"":Sde(e)}var rme=ime;function ome(e,t){return ql(e)?e:ipe(e,t)?[e]:nme(rme(e))}var rg=ome,ame=1/0;function sme(e){if(typeof e=="string"||lw(e))return e;var t=e+"";return t=="0"&&1/e==-ame?"-0":t}var pw=sme;function lme(e,t){t=rg(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[pw(t[n++])];return n&&n==i?e:void 0}var XV=lme;function cme(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}var rT=cme,zN=bs?bs.isConcatSpreadable:void 0;function dme(e){return ql(e)||eT(e)||!!(zN&&e&&e[zN])}var ume=dme;function QV(e,t,n,i,r){var o=-1,a=e.length;for(n||(n=ume),r||(r=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?QV(s,t-1,n,i,r):rT(r,s):i||(r[r.length]=s)}return r}var hme=QV;function pme(e){var t=e==null?0:e.length;return t?hme(e,1):[]}var mme=pme;function fme(e){return Due(jue(e,void 0,mme),e+"")}var ZV=fme,gme=YV(Object.getPrototypeOf,Object),oT=gme,vme="[object Object]",yme=Function.prototype,bme=Object.prototype,$V=yme.toString,_me=bme.hasOwnProperty,Cme=$V.call(Object);function Mme(e){if(!Jc(e)||cp(e)!=vme)return!1;var t=oT(e);if(t===null)return!0;var n=_me.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&$V.call(n)==Cme}var wme=Mme;function xme(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}var Pme=xme;function Ome(){this.__data__=new dw,this.size=0}var Sme=Ome;function Eme(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Dme=Eme;function Ame(e){return this.__data__.get(e)}var Tme=Ame;function Ime(e){return this.__data__.has(e)}var Rme=Ime,Lme=200;function kme(e,t){var n=this.__data__;if(n instanceof dw){var i=n.__data__;if(!ey||i.length<Lme-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new hw(i)}return n.set(e,t),this.size=n.size,this}var Fme=kme;function og(e){var t=this.__data__=new dw(e);this.size=t.size}og.prototype.clear=Sme;og.prototype.delete=Dme;og.prototype.get=Tme;og.prototype.has=Rme;og.prototype.set=Fme;var jC=og;function Nme(e,t){return e&&My(t,nT(t),e)}var zme=Nme;function Bme(e,t){return e&&My(t,Fh(t),e)}var Vme=Bme,KV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,BN=KV&&typeof module=="object"&&module&&!module.nodeType&&module,Ume=BN&&BN.exports===KV,VN=Ume?$s.Buffer:void 0,UN=VN?VN.allocUnsafe:void 0;function jme(e,t){if(t)return e.slice();var n=e.length,i=UN?UN(n):new e.constructor(n);return e.copy(i),i}var Hme=jme;function Gme(e,t){for(var n=-1,i=e==null?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}var Wme=Gme;function qme(){return[]}var JV=qme,Yme=Object.prototype,Xme=Yme.propertyIsEnumerable,jN=Object.getOwnPropertySymbols,Qme=jN?function(e){return e==null?[]:(e=Object(e),Wme(jN(e),function(t){return Xme.call(e,t)}))}:JV,aT=Qme;function Zme(e,t){return My(e,aT(e),t)}var $me=Zme,Kme=Object.getOwnPropertySymbols,Jme=Kme?function(e){for(var t=[];e;)rT(t,aT(e)),e=oT(e);return t}:JV,eU=Jme;function efe(e,t){return My(e,eU(e),t)}var tfe=efe;function nfe(e,t,n){var i=t(e);return ql(e)?i:rT(i,n(e))}var tU=nfe;function ife(e){return tU(e,nT,aT)}var q3=ife;function rfe(e){return tU(e,Fh,eU)}var nU=rfe,ofe=up($s,"DataView"),Y3=ofe,afe=up($s,"Promise"),X3=afe,sfe=up($s,"Set"),Q3=sfe,HN="[object Map]",lfe="[object Object]",GN="[object Promise]",WN="[object Set]",qN="[object WeakMap]",YN="[object DataView]",cfe=dp(Y3),dfe=dp(ey),ufe=dp(X3),hfe=dp(Q3),pfe=dp(W3),Sh=cp;(Y3&&Sh(new Y3(new ArrayBuffer(1)))!=YN||ey&&Sh(new ey)!=HN||X3&&Sh(X3.resolve())!=GN||Q3&&Sh(new Q3)!=WN||W3&&Sh(new W3)!=qN)&&(Sh=function(e){var t=cp(e),n=t==lfe?e.constructor:void 0,i=n?dp(n):"";if(i)switch(i){case cfe:return YN;case dfe:return HN;case ufe:return GN;case hfe:return WN;case pfe:return qN}return t});var ty=Sh,mfe=Object.prototype,ffe=mfe.hasOwnProperty;function gfe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&ffe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var vfe=gfe,yfe=$s.Uint8Array,vM=yfe;function bfe(e){var t=new e.constructor(e.byteLength);return new vM(t).set(new vM(e)),t}var sT=bfe;function _fe(e,t){var n=t?sT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Cfe=_fe,Mfe=/\w*$/;function wfe(e){var t=new e.constructor(e.source,Mfe.exec(e));return t.lastIndex=e.lastIndex,t}var xfe=wfe,XN=bs?bs.prototype:void 0,QN=XN?XN.valueOf:void 0;function Pfe(e){return QN?Object(QN.call(e)):{}}var Ofe=Pfe;function Sfe(e,t){var n=t?sT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Efe=Sfe,Dfe="[object Boolean]",Afe="[object Date]",Tfe="[object Map]",Ife="[object Number]",Rfe="[object RegExp]",Lfe="[object Set]",kfe="[object String]",Ffe="[object Symbol]",Nfe="[object ArrayBuffer]",zfe="[object DataView]",Bfe="[object Float32Array]",Vfe="[object Float64Array]",Ufe="[object Int8Array]",jfe="[object Int16Array]",Hfe="[object Int32Array]",Gfe="[object Uint8Array]",Wfe="[object Uint8ClampedArray]",qfe="[object Uint16Array]",Yfe="[object Uint32Array]";function Xfe(e,t,n){var i=e.constructor;switch(t){case Nfe:return sT(e);case Dfe:case Afe:return new i(+e);case zfe:return Cfe(e,n);case Bfe:case Vfe:case Ufe:case jfe:case Hfe:case Gfe:case Wfe:case qfe:case Yfe:return Efe(e,n);case Tfe:return new i;case Ife:case kfe:return new i(e);case Rfe:return xfe(e);case Lfe:return new i;case Ffe:return Ofe(e)}}var Qfe=Xfe;function Zfe(e){return typeof e.constructor=="function"&&!JA(e)?pue(oT(e)):{}}var $fe=Zfe,Kfe="[object Map]";function Jfe(e){return Jc(e)&&ty(e)==Kfe}var ege=Jfe,ZN=Nf&&Nf.isMap,tge=ZN?tT(ZN):ege,nge=tge,ige="[object Set]";function rge(e){return Jc(e)&&ty(e)==ige}var oge=rge,$N=Nf&&Nf.isSet,age=$N?tT($N):oge,sge=age,lge=1,cge=2,dge=4,iU="[object Arguments]",uge="[object Array]",hge="[object Boolean]",pge="[object Date]",mge="[object Error]",rU="[object Function]",fge="[object GeneratorFunction]",gge="[object Map]",vge="[object Number]",oU="[object Object]",yge="[object RegExp]",bge="[object Set]",_ge="[object String]",Cge="[object Symbol]",Mge="[object WeakMap]",wge="[object ArrayBuffer]",xge="[object DataView]",Pge="[object Float32Array]",Oge="[object Float64Array]",Sge="[object Int8Array]",Ege="[object Int16Array]",Dge="[object Int32Array]",Age="[object Uint8Array]",Tge="[object Uint8ClampedArray]",Ige="[object Uint16Array]",Rge="[object Uint32Array]",ci={};ci[iU]=ci[uge]=ci[wge]=ci[xge]=ci[hge]=ci[pge]=ci[Pge]=ci[Oge]=ci[Sge]=ci[Ege]=ci[Dge]=ci[gge]=ci[vge]=ci[oU]=ci[yge]=ci[bge]=ci[_ge]=ci[Cge]=ci[Age]=ci[Tge]=ci[Ige]=ci[Rge]=!0;ci[mge]=ci[rU]=ci[Mge]=!1;function HC(e,t,n,i,r,o){var a,s=t&lge,l=t&cge,c=t&dge;if(n&&(a=r?n(e,i,r,o):n(e)),a!==void 0)return a;if(!Zs(e))return e;var d=ql(e);if(d){if(a=vfe(e),!s)return vue(e,a)}else{var u=ty(e),h=u==rU||u==fge;if(gM(e))return Hme(e,s);if(u==oU||u==iU||h&&!r){if(a=l||h?{}:$fe(e),!s)return l?tfe(e,Vme(a,e)):$me(e,zme(a,e))}else{if(!ci[u])return r?e:{};a=Qfe(e,u,s)}}o||(o=new jC);var p=o.get(e);if(p)return p;o.set(e,a),sge(e)?e.forEach(function(v){a.add(HC(v,t,n,v,e,o))}):nge(e)&&e.forEach(function(v,b){a.set(b,HC(v,t,n,b,e,o))});var m=c?l?nU:q3:l?Fh:nT,g=d?void 0:m(e);return Tue(g||e,function(v,b){g&&(b=v,v=e[b]),$A(a,b,HC(v,t,n,b,e,o))}),a}var aU=HC,Lge=1,kge=4;function Fge(e){return aU(e,Lge|kge)}var mw=Fge,Nge="__lodash_hash_undefined__";function zge(e){return this.__data__.set(e,Nge),this}var Bge=zge;function Vge(e){return this.__data__.has(e)}var Uge=Vge;function yM(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new hw;++t<n;)this.add(e[t])}yM.prototype.add=yM.prototype.push=Bge;yM.prototype.has=Uge;var jge=yM;function Hge(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var Gge=Hge;function Wge(e,t){return e.has(t)}var qge=Wge,Yge=1,Xge=2;function Qge(e,t,n,i,r,o){var a=n&Yge,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;var u=-1,h=!0,p=n&Xge?new jge:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var m=e[u],g=t[u];if(i)var v=a?i(g,m,u,t,e,o):i(m,g,u,e,t,o);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Gge(t,function(b,_){if(!qge(p,_)&&(m===b||r(m,b,n,i,o)))return p.push(_)})){h=!1;break}}else if(!(m===g||r(m,g,n,i,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var sU=Qge;function Zge(e){var t=-1,n=Array(e.size);return e.forEach(function(i,r){n[++t]=[r,i]}),n}var $ge=Zge;function Kge(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var Jge=Kge,e0e=1,t0e=2,n0e="[object Boolean]",i0e="[object Date]",r0e="[object Error]",o0e="[object Map]",a0e="[object Number]",s0e="[object RegExp]",l0e="[object Set]",c0e="[object String]",d0e="[object Symbol]",u0e="[object ArrayBuffer]",h0e="[object DataView]",KN=bs?bs.prototype:void 0,hE=KN?KN.valueOf:void 0;function p0e(e,t,n,i,r,o,a){switch(n){case h0e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case u0e:return!(e.byteLength!=t.byteLength||!o(new vM(e),new vM(t)));case n0e:case i0e:case a0e:return ZA(+e,+t);case r0e:return e.name==t.name&&e.message==t.message;case s0e:case c0e:return e==t+"";case o0e:var s=$ge;case l0e:var l=i&e0e;if(s||(s=Jge),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;i|=t0e,a.set(e,t);var d=sU(s(e),s(t),i,r,o,a);return a.delete(e),d;case d0e:if(hE)return hE.call(e)==hE.call(t)}return!1}var m0e=p0e,f0e=1,g0e=Object.prototype,v0e=g0e.hasOwnProperty;function y0e(e,t,n,i,r,o){var a=n&f0e,s=q3(e),l=s.length,c=q3(t),d=c.length;if(l!=d&&!a)return!1;for(var u=l;u--;){var h=s[u];if(!(a?h in t:v0e.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var g=!0;o.set(e,t),o.set(t,e);for(var v=a;++u<l;){h=s[u];var b=e[h],_=t[h];if(i)var C=a?i(_,b,h,t,e,o):i(b,_,h,e,t,o);if(!(C===void 0?b===_||r(b,_,n,i,o):C)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var M=e.constructor,P=t.constructor;M!=P&&"constructor"in e&&"constructor"in t&&!(typeof M=="function"&&M instanceof M&&typeof P=="function"&&P instanceof P)&&(g=!1)}return o.delete(e),o.delete(t),g}var b0e=y0e,_0e=1,JN="[object Arguments]",e7="[object Array]",Y_="[object Object]",C0e=Object.prototype,t7=C0e.hasOwnProperty;function M0e(e,t,n,i,r,o){var a=ql(e),s=ql(t),l=a?e7:ty(e),c=s?e7:ty(t);l=l==JN?Y_:l,c=c==JN?Y_:c;var d=l==Y_,u=c==Y_,h=l==c;if(h&&gM(e)){if(!gM(t))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new jC),a||WV(e)?sU(e,t,n,i,r,o):m0e(e,t,l,n,i,r,o);if(!(n&_0e)){var p=d&&t7.call(e,"__wrapped__"),m=u&&t7.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return o||(o=new jC),r(g,v,n,i,o)}}return h?(o||(o=new jC),b0e(e,t,n,i,r,o)):!1}var w0e=M0e;function lU(e,t,n,i,r){return e===t?!0:e==null||t==null||!Jc(e)&&!Jc(t)?e!==e&&t!==t:w0e(e,t,n,i,lU,r)}var x0e=lU;function P0e(e,t){return e!=null&&t in Object(e)}var O0e=P0e;function S0e(e,t,n){t=rg(t,e);for(var i=-1,r=t.length,o=!1;++i<r;){var a=pw(t[i]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++i!=r?o:(r=e==null?0:e.length,!!r&&KA(r)&&QA(a,r)&&(ql(e)||eT(e)))}var E0e=S0e;function D0e(e,t){return e!=null&&E0e(e,t,O0e)}var A0e=D0e,T0e=function(){return $s.Date.now()},pE=T0e,I0e="Expected a function",R0e=Math.max,L0e=Math.min;function k0e(e,t,n){var i,r,o,a,s,l,c=0,d=!1,u=!1,h=!0;if(typeof e!="function")throw new TypeError(I0e);t=DN(t)||0,Zs(n)&&(d=!!n.leading,u="maxWait"in n,o=u?R0e(DN(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h);function p(x){var E=i,O=r;return i=r=void 0,c=x,a=e.apply(O,E),a}function m(x){return c=x,s=setTimeout(b,t),d?p(x):a}function g(x){var E=x-l,O=x-c,S=t-E;return u?L0e(S,o-O):S}function v(x){var E=x-l,O=x-c;return l===void 0||E>=t||E<0||u&&O>=o}function b(){var x=pE();if(v(x))return _(x);s=setTimeout(b,g(x))}function _(x){return s=void 0,h&&i?p(x):(i=r=void 0,a)}function C(){s!==void 0&&clearTimeout(s),c=0,i=l=r=s=void 0}function M(){return s===void 0?a:_(pE())}function P(){var x=pE(),E=v(x);if(i=arguments,r=this,l=x,E){if(s===void 0)return m(l);if(u)return clearTimeout(s),s=setTimeout(b,t),p(l)}return s===void 0&&(s=setTimeout(b,t)),a}return P.cancel=C,P.flush=M,P}var lT=k0e;function F0e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var N0e=F0e;function z0e(e,t){return t.length<2?e:XV(e,Pme(t,0,-1))}var B0e=z0e;function V0e(e,t){return x0e(e,t)}var cU=V0e;function U0e(e,t){return t=rg(t,e),e=B0e(e,t),e==null||delete e[pw(N0e(t))]}var j0e=U0e;function H0e(e){return wme(e)?void 0:e}var G0e=H0e,W0e=1,q0e=2,Y0e=4,X0e=ZV(function(e,t){var n={};if(e==null)return n;var i=!1;t=NV(t,function(o){return o=rg(o,e),i||(i=o.length>1),o}),My(e,nU(e),n),i&&(n=aU(n,W0e|q0e|Y0e,G0e));for(var r=t.length;r--;)j0e(n,t[r]);return n}),Z3=X0e;function Q0e(e,t,n,i){if(!Zs(e))return e;t=rg(t,e);for(var r=-1,o=t.length,a=o-1,s=e;s!=null&&++r<o;){var l=pw(t[r]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(r!=a){var d=s[l];c=i?i(d,l,s):void 0,c===void 0&&(c=Zs(d)?d:QA(t[r+1])?[]:{})}$A(s,l,c),s=s[l]}return e}var Z0e=Q0e;function $0e(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var a=t[i],s=XV(e,a);n(s,a)&&Z0e(o,rg(a,e),s)}return o}var K0e=$0e;function J0e(e,t){return K0e(e,t,function(n,i){return A0e(e,i)})}var eve=J0e,tve=ZV(function(e,t){return e==null?{}:eve(e,t)}),Zc=tve,nve="Expected a function";function ive(e,t,n){var i=!0,r=!0;if(typeof e!="function")throw new TypeError(nve);return Zs(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),lT(e,t,{leading:i,maxWait:t,trailing:r})}var rve=ive;function dU(e){for(let t of Object.keys(e))e[t]===void 0&&delete e[t];return e}function Yl(e,t){return Object.setPrototypeOf(e,t),e}var ove=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes(" electron/"),ave=()=>typeof window>"u"?!1:window.navigator.platform.toUpperCase().includes("MAC"),sve=()=>typeof window>"u"?!1:/iPad|iPhone|iPod/.test(window.navigator.userAgent)||fw&&"ontouchend"in document,lve=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,cve=()=>typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0,dve=()=>{if(typeof window>"u")return!1;let e=navigator.userAgent,t=navigator.vendor;return/Safari/i.test(e)&&/Apple Computer/.test(t)},uve=()=>{if(typeof window>"u")return null;let e=navigator.userAgent.match(/Version\/(\d+\.\d)/);return e&&e[1]},hve=()=>{if(typeof window>"u")return;let e=new URLSearchParams(window.location.search).get("desktop-app-version");return e?(window.localStorage.setItem("desktop-app-version",e),e):window.localStorage.getItem("desktop-app-version")??"0.0.6"},pve=ove(),gLe=pve?hve():void 0,fw=ave(),cT=sve(),mve=lve(),Na=cve(),n7=dve(),fve=Number(uve());function uU(e){return Array.isArray(e)?e:[e]}function hU(e,t){let n=0;for(;n<e.length&&n<t.length;){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1;n+=1}return n!==t.length?-1:n!==e.length?1:0}function X_(e){return fw?e.metaKey:e.ctrlKey}function gve(e){return e.wheelDeltaY===0||e.deltaY===0?fw&&e.shiftKey&&Math.abs(e.wheelDeltaX)>=120?!1:e.wheelDeltaX?e.wheelDeltaX===-3*e.deltaX||e.wheelDeltaX===-3*window.devicePixelRatio*e.deltaX:e.deltaMode===0:e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY||e.wheelDeltaY===-3*window.devicePixelRatio*e.deltaY:e.deltaMode===0}var xt=[],bM={},Ov={},GC={};function pU(e){xt.includes(e)||xt.push(e)}function Cf(e){delete bM[e.pointerId];for(let t=0;t<xt.length;t++)if(xt[t].pointerId===e.pointerId){xt.splice(t,1);break}}function vve(){xt.splice(0,xt.length)}function _M(e){if(e.pointerType!=="touch")return;let t=bM[e.pointerId];t===void 0&&(t={x:0,y:0},bM[e.pointerId]=t),t.x=e.pageX,t.y=e.pageY}function mE(e){let t=e.pointerId===xt[0].pointerId?xt[1]:xt[0];return bM[t.pointerId]}function mU(e){Ov[e.key]=!0,GC[e.key]=GC[e.key]===void 0?1:GC[e.key]+1}function fU(e){if(fw&&Ov.Meta)for(let t in Ov)Ov[t]=!1;else Ov[e.key]=!1;GC={}}function yve(e){e.addEventListener("pointerdown",pU,!0),e.addEventListener("pointerdown",_M,!0),e.addEventListener("pointermove",_M,!0),e.addEventListener("pointerup",Cf,!0),e.addEventListener("pointercancel",Cf,!0),e.addEventListener("pointerleave",Cf,!0),window.addEventListener("keydown",mU,!0),window.addEventListener("keyup",fU,!0)}function bve(e){e.removeEventListener("pointerdown",pU,!0),e.removeEventListener("pointerdown",_M,!0),e.removeEventListener("pointermove",_M,!0),e.removeEventListener("pointerup",Cf,!0),e.removeEventListener("pointercancel",Cf,!0),e.removeEventListener("pointerleave",Cf,!0),window.removeEventListener("keydown",mU,!0),window.removeEventListener("keyup",fU,!0)}var gU,_ve=new Promise(e=>{gU=e}),Q_;function Cve(){if(Q_)return Q_;function e(){return ri(this,null,function*(){let t="https://unpkg.com/@splinetool/navmesh-wasm@1.1.7/build",n=import("./chunk-7L434ECA.js"),[i,r]=yield Promise.all([n,fetch(`${t}/navmesh.wasm`).then(s=>s.arrayBuffer())]),o=i.default,a=yield o({wasmBinary:r});gU(a)})}return Q_=e(),Q_}var vU,Mve=new Promise(e=>{vU=e}),Z_;function wve(){if(Z_)return Z_;function e(){return ri(this,null,function*(){let t=yield import("./chunk-YHBVYLMY.js");yield t.init(),vU(t)})}return Z_=e(),Z_}var Ft=class{modifyById(e,t){let n=this;if(n[e]===void 0)throw new Error("not expected");{let i=se(B({},n),{[e]:t});return Object.setPrototypeOf(i,Ft.prototype),i}}add(e,t){return this.runOp({type:1,id:e,data:t})?.data??this}runOp(e){let t=this;if(e.type===1){let n=t[e.id],i;n===void 0?i={type:2,id:e.id}:i={type:1,id:e.id,data:n};let{id:r,data:o}=e,a=se(B({},t),{[r]:o});return Object.setPrototypeOf(a,Ft.prototype),{data:a,actual:e,reverse:i}}else if(e.type===2){let{id:n}=e,i=t[n];if(i===void 0)return null;{let r=B({},t);return Object.setPrototypeOf(r,Ft.prototype),delete r[n],{data:r,actual:e,reverse:{type:1,id:n,data:i}}}}return null}};function dT(e){if(e.deepFreeze!==void 0){e.deepFreeze(e);return}let t=Object.getOwnPropertyNames(e);for(let n of t){let i=e[n];i&&typeof i=="object"&&dT(i)}return Object.freeze(e)}function xve(e,t){let n=0;for(;n<e.length&&n<t.length;){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1;n+=1}return n!==t.length?-1:n!==e.length?1:0}var yU=class extends Error{};function fE(e){let t=B({},e);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}function $d(e,t,n){if(e===void 0?t===void 0?(e=0,t=10):e=t-10:t===void 0&&(t=e+10),e>t){let o=e;e=t,t=o}let i=[],r=1/(n+1);for(let o=0;o<n;o++){let a=e+(t-e)*(o+.75+Math.random()*.5)*r;i.push(a)}return i}function uT(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array}function Pve(){return typeof process<"u"}function bU(e,t){for(let n of e)t(n.id,n.data)!==!0&&bU(n.children,t)}function _U(e,t){if(t(e.id,e.data)!==!0)for(let n of e.children)_U(n,t)}var Zr=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Zr.prototype)}deepFreeze(){let e=0;for(;e<this.length;)dT(this[e]),e++}fillCaches0(e,t){this.objCaches.set(e.id,e),this.parentCaches.set(e.id,t);for(let n of e.children)this.fillCaches0(n,e.id)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,this.parentCaches=new Map;for(let e of this)this.fillCaches0(e,null)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(e.length!==0)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}nonExistOrDescendantOf(e,t){if(!this.has(e))return!0;for(;e;){let n=this.parent(e);if(n===t)return!0;e=n}return!1}rootAcestor(e){for(;e;){let t=this.parent(e);if(t)e=t;else return e}return e}isDescendantOf(e,t){for(;e;){let n=this.parent(e);if(n===t)return!0;e=n}return!1}data(e){return this.get(e)?.data}has(e){return this.childrenOf(e)!==void 0}get(e){return this.fillCaches(),this.objCaches.get(e)}childrenOf(e){return e===null?this:this.get(e)?.children}traverseFrom(e,t){if(e===null)this.traverse(t);else{let n=this.get(e);n&&_U(n,t)}}traverse(e){bU(this,e)}totalSize(){return this.fillCaches(),this.objCaches.size}parent(e){return this.fillCaches(),this.parentCaches.get(e)}childrenArray(e){return e===null?this:this.get(e).children}modifyById(e,t){if(this.get(e)===void 0)throw new Error("not expected");{let n=this.parent(e),i=this.childrenArray(n),r=i.findIndex(a=>a.id===e);if(r<0)throw new Error("not expected");let o=i[r];return i=[...i],i[r]=se(B({},o),{data:t}),this.modifyArrayBy(n,i)}}modifyArrayBy(e,t){let n=e,i=t;for(;n!==null;){let o=i,a=n;if(n=this.parent(n),n===void 0)throw new Error;i=this.childrenArray(n);let s=i.findIndex(l=>l.id===a);if(s<0)throw new Error;i=[...i],i[s]=se(B({},i[s]),{children:o})}Object.setPrototypeOf(i,Zr.prototype);let r=i;return r.fillCaches(),r}runOp(e){switch(e.type){case 7:return this.addOp(e);case 8:return this.deleteOp(e);case 9:return this.moveOp(e)}return null}checkDuplicatedIdRec({id:e,children:t}){if(this.get(e)!==void 0)return!0;for(let n of t)if(this.checkDuplicatedIdRec(n))return!0;return!1}addOp(e){let{parent:t,fi:n,id:i,data:r,children:o}=e;if(t!==null&&this.get(t)===void 0||this.checkDuplicatedIdRec(e))return null;{let a=t,s=this.childrenArray(a),l={fi:n,id:i,data:r,children:o};return s=[...s,l],s.sort((c,d)=>c.fi-d.fi),e.localIndex=s.indexOf(l),{data:this.modifyArrayBy(a,s),actual:e,reverse:{type:8,id:i}}}}deleteOp(e){let{id:t}=e;if(this.get(t)===null)return null;{let n=this.parent(t);if(n===void 0)return null;let i=this.childrenArray(n),r=i.findIndex(a=>a.id===t);e.localIndex=r,i=[...i];let o=i.splice(r,1)[0];return{data:this.modifyArrayBy(n,i),actual:e,reverse:se(B({type:7},o),{parent:n})}}}moveOp(e){let{parent:t,fi:n,id:i}=e;if(t!==null&&this.get(t)===void 0)return this.deleteOp({type:8,id:i});if(t!==null){let u=t;for(;u!==null;){if(u===void 0)throw new Error;if(u===i)throw new yU("cyclic tree");u=this.parent(u)}}let r=this.parent(i);if(r===void 0)return null;let o=r,a=this.childrenArray(r),s=a.findIndex(u=>u.id===i);a=[...a];let l=a.splice(s,1)[0],c=this.modifyArrayBy(r,a);r=t,a=c.childrenArray(r);let d=l.fi;return l=se(B({},l),{fi:n}),a=[...a,l],a.sort((u,h)=>u.fi-h.fi),e.localIndex=a.indexOf(l),c=c.modifyArrayBy(r,a),{data:c,actual:e,reverse:{type:9,parent:o,fi:d,id:i}}}previous(e,t){if(t===null){let i=this.childrenArray(e);return i.length===0?null:i[i.length-1].id}let n=null;for(let i of this.childrenArray(e)){if(i.id===t)return n;n=i.id}return null}traverseSortNext(e){let t=this.parent(e);if(t!==void 0){let n=this.childrenArray(t),i=n.findIndex(r=>r.id===e)+1;if(i<n.length)return n[i].id;if(t)return this.traverseSortNext(t)}}sortNext(e){let t=this.childrenArray(e);return t.length>0?t[0].id:this.traverseSortNext(e)}traverseSortPrevious(e){let t=this.childrenArray(e);return t.length>0?this.traverseSortPrevious(t[t.length-1].id):e}sortPrevious(e){let t=this.parent(e);if(t!==void 0){let n=this.childrenArray(t),i=n.findIndex(r=>r.id===e)-1;return i>=0?this.traverseSortPrevious(n[i].id):t}}getAllSorted(e){let t=[];for(let n of e){let i=this.getWithSortKey(n.id);i!==void 0&&t.push(B(B({},n),i))}t.sort((n,i)=>xve(n.sortKey,i.sortKey));for(let n of t)delete n.sortKey;return t}getWithSortKey(e){var t=e;let n=[],i=this.get(t),r=i;if(i!==void 0){for(;t;)n.splice(0,0,i.fi),t=this.parent(t),t!==null&&(i=this.get(t));return se(B({},r),{sortKey:n})}}insertBeforeHelper(e,t,n){return this.insertAfterHelper(e,this.previous(e,t),n)}insertAfterHelper(e,t,n){let i=this.childrenArray(e);if(t===null){if(i.length===0)return $d(0,n,n);{let r=i[0].fi;return $d(r-n,r,n)}}else{let r=this.get(t);if(r===void 0||this.parent(t)!==e)throw new Error("illegal args");let o=i.find(a=>a.fi>r.fi);if(o===void 0){let a=i[i.length-1].fi;return $d(a,a+n,n)}else return $d(r.fi,o.fi,n)}}},CM;(e=>{function t(n,i){if(i.type!==0)return null;if(Array.isArray(n)){let r=i.props,o={},a=[...n],s=!1;if(r)for(let l of Object.keys(r)){let c=parseInt(l);if(isNaN(c))throw new Error("wrong index");o[l]=a[c],a[c]=r[l],s=!0}return s?{data:a,actual:i,reverse:{type:0,props:o}}:null}else{let r=i.props,o={},a=B({},n),s=!1;if(r)for(let l of Object.keys(r)){o[l]=a[l];let c=r[l];c===void 0?delete a[l]:a[l]=c,s=!0}return s?{data:a,actual:i,reverse:{type:0,props:o}}:null}}e.runOp=t})(CM||(CM={}));var yt=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,yt.prototype)}deepFreeze(){let e=0;for(;e<this.length;)dT(this[e]),e++}fillCaches0(e){this.objCaches.set(e.id,e)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,Object.getOwnPropertyDescriptor(this,"objCaches").enumerable=!1;for(let e of this)this.fillCaches0(e)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(e.length!==0)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}data(e){return this.get(e)?.data}get(e){return this.fillCaches(),this.objCaches.get(e)}modifyById(e,t){if(this.get(e)===void 0)throw new Error("not expected");{let n=this,i=n.findIndex(o=>o.id===e);if(i<0)throw new Error("not expected");let r=n[i];return n=[...n],n[i]=se(B({},r),{data:t}),this.modifyArrayBy(n)}}modifyArrayBy(e){Object.setPrototypeOf(e,yt.prototype);let t=e;return Pve()||t.fillCaches(),t}runOp(e){switch(e.type){case 4:return this.addOp(e);case 5:return this.deleteOp(e);case 6:return this.moveOp(e)}return null}addOp(e){let{fi:t,id:n,data:i}=e,r=this,o={fi:t,id:n,data:i};return r=[...r,o],r.sort((a,s)=>a.fi-s.fi),e.localIndex=r.indexOf(o),{data:this.modifyArrayBy(r),actual:e,reverse:{type:5,id:n}}}deleteOp(e){let{id:t}=e,n=this,i=n.findIndex(o=>o.id===t);if(i===-1)return null;e.localIndex=i,n=[...n];let r=n.splice(i,1)[0];return{data:this.modifyArrayBy(n),actual:e,reverse:B({type:4},r)}}moveOp(e){let{fi:t,id:n}=e,i=this;i=[...i];let r=i.findIndex(s=>s.id===n);if(r===-1)return null;let o=i[r].fi,a=se(B({},i[r]),{fi:t});return i[r]=a,i.sort((s,l)=>s.fi-l.fi),e.localIndex=i.indexOf(a),{data:this.modifyArrayBy(i),actual:e,reverse:{type:6,fi:o,id:n}}}previous(e){if(e===null)return this.length===0?null:this[this.length-1].id;let t=null;for(let n of this){if(n.id===e)return t;t=n.id}return null}insertBeforeHelper(e,t){return this.insertAfterHelper(this.previous(e),t)}insertAfterHelper(e,t){let n=this;if(e===null){if(n.length===0)return $d(0,t,t);{let i=n[0].fi;return $d(i-t,i,t)}}else{let i=this.get(e);if(i===void 0)throw new Error("illegal args");let r=n.find(o=>o.fi>i.fi);if(r===void 0){let o=n[n.length-1].fi;return $d(o,o+t,t)}else return $d(i.fi,r.fi,t)}}};function zf(e){return e&&typeof e=="object"&&e instanceof tr}var tr=class{unusedFunOverridesTable(e){}runOp(e){let t=[],n=this,i=0,r={};for(;i<e.path.length;){if(t.push(n),n=n===void 0?void 0:n[e.path[i]],n!==void 0&&!zf(n))return null;i+=1}n=n?fE(n):new tr;for(let[s,l]of Object.entries(e.props)){let c=n[s];r[s]=c,l===void 0?delete n[s]:n[s]=l}for(;i>0;){if(Object.keys(n).length===0){let s=t[i-1];s&&(n=fE(s),delete n[e.path[i-1]])}else{let s=t[i-1];if(s){let l=fE(s);l[e.path[i-1]]=n,n=l}else{let l=new tr;l[e.path[i-1]]=n,n=l}}i-=1}let o=Object.setPrototypeOf(n,tr.prototype),a=se(B({},e),{props:r});return{data:o,actual:e,reverse:a}}},au;(e=>{function t(r,o){return ny(r,o)??r}e.apply=t;function n(r,o){return pT(r,o)}e.merge=n;function i(r,o){let a=0,s=o.path,l=r;for(;a<s.length&&l!==void 0;){if(l=Qr.zoomOnce(l,s[a]),l===void 0)return o;if(!zf(l))return;a+=1}if(l===void 0)return o;if(zf(l))if(o.type===0){let c=B({},o.props);for(let d of Object.keys(l))delete c[d];return se(B({},o),{props:c})}else if(o.type===1||o.type===4||o.type===7){let c=hT([o],l);return c?(console.log(c),c):o}else return o}e.filterOp=i})(au||(au={}));function hT(e,t){if(t===void 0)return;let n=!1,i=e.map(r=>{let o=r.id,a=ny(r.data,t[o]);if(n=n||a!==void 0,a===void 0&&(a=r.data),r.children){let s=hT(r.children,t);return s!==void 0?n=!0:s=r.children,se(B({},r),{id:o,data:a,children:s})}else return se(B({},r),{id:o,data:a})});if(n)return i}function Ove(e,t){if(t===void 0)return;let n=!1,i=e.map(r=>{let o=r.id,a=ny(r.data,t[o]);return n=n||a!==void 0,a===void 0&&(a=r.data),se(B({},r),{id:o,data:a})});if(n)return Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i}function ny(e,t){if(!zf(t))return t;if(e instanceof Zr){let n=hT(e,t);return n!==void 0&&Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}else{if(e instanceof yt)return Ove(e,t);if(Array.isArray(e)){let n=!1,i=e.map((r,o)=>{let a=ny(r,t[o]);return n=n||a!==void 0,a===void 0&&(a=r),a});return n?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}else{if(e instanceof tr)return pT(e,t);if(e&&typeof e=="object"){let n={},i=!1;for(let[r,o]of Object.entries(e)){let a=ny(o,t[r]);i=i||a!==void 0,a===void 0&&(a=o),n[r]=a}return i?(Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n):void 0}}}}function pT(e,t){if(e===void 0)return t;if(t===void 0)return e;if(!zf(t))return t;if(!zf(e))return au.apply(e,t);let n=new Set;for(let r of Object.keys(e))n.add(r);for(let r of Object.keys(t))n.add(r);let i=new tr;for(let r of n){let o=pT(e===void 0?void 0:e[r],t===void 0?void 0:t[r]);i[r]=o}return i}function Sve(e,t){let n={cur:[],result:[],len:0};return e=iy(e,t,n)??e,[e,n.result]}function MM(e,t){return e===null?null:(e.cur[e.len]=t,e.len+=1,e)}function wM(e){e&&(e.len-=1)}function Eve(e){if(e===null)return null;e.result.push(e.cur.slice(0,e.len))}function CU(e,t,n){let i=!1,r=e.map(o=>{let a=o.id,s=t[a];if(s!==void 0&&typeof s=="string"&&(i=!0,a=s,n!==null))throw new Error("not supported");let l=iy(o.data,t,MM(n,a));wM(n),i=i||l!==void 0,l===void 0&&(l=o.data);let c=CU(o.children,t,n);return c!==void 0?i=!0:c=o.children,se(B({},o),{id:a,data:l,children:c})});if(i)return r}function Dve(e,t,n){let i=!1,r=e.map(o=>{let a=o.id,s=t[a];if(s!==void 0&&typeof s=="string"&&(i=!0,a=s,n!==null))throw new Error("not supported");let l=iy(o.data,t,MM(n,a));return wM(n),i=i||l!==void 0,l===void 0&&(l=o.data),se(B({},o),{id:a,data:l})});if(i)return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r}function iy(e,t,n){if(e instanceof Zr){let i=CU(e,t,n);return i!==void 0&&Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i}else{if(e instanceof yt)return Dve(e,t,n);if(Array.isArray(e)){let i=!1,r=e.map((o,a)=>{let s=iy(o,t,MM(n,a));return wM(n),i=i||s!==void 0,s===void 0&&(s=o),s});return i?(Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r):void 0}else if(e&&typeof e=="object"&&!uT(e)){let i={},r=!1;for(let[o,a]of Object.entries(e))if(o!=="name"){let s=t[o];if(typeof s=="string"){if(n!==null)throw new Error("not supported");r=!0,o=s}let l=iy(a,t,MM(n,o));wM(n),r=r||l!==void 0,l===void 0&&(l=a),i[o]=l}else i[o]=a;return r?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}else if(typeof e=="string"){let i=t[e];return i!==void 0&&Eve(n),i}else return}}var xM;(e=>{function t(n,i){let r=Qr.zoom(i,n.path);if(typeof r=="object"){let o={};for(let a of Object.keys(n.props))o[a]=r[a];return se(B({},n),{props:o})}else return se(B({},n),{props:{}})}e.replaceProps=t})(xM||(xM={}));var Tr;(e=>{function t(l,c){return se(B({},l),{path:l.path.slice(c)})}e.drop=t;function n(l,c){return i(l,c)?.data??l}e.applySimple=n;function i(l,c){let d=c.path;for(var u=[];;){let h;if(l instanceof tr&&c.type===0&&(h=l.runOp(se(B({},c),{path:d.slice(u.length)})),h===null&&(h=void 0)),h===void 0&&u.length===d.length&&(l instanceof Zr||l instanceof yt||l instanceof Ft?h=l.runOp(c):h=CM.runOp(l,c)),h!==void 0)if(h!==null){let g=h.data;for(let v=u.length-1;v>=0;v--){let b=d[v],_=u[v];if(_ instanceof Zr){if(typeof b=="number")throw new Error("illegal arg");g=_.modifyById(b,g)}else if(_ instanceof yt){if(typeof b=="number")throw new Error("illegal arg");g=_.modifyById(b,g)}else if(_ instanceof Ft){if(typeof b=="number")throw new Error("illegal arg");g=_.modifyById(b,g)}else if(_ instanceof tr){let C=se(B({},_),{[b]:g});g=Object.setPrototypeOf(C,tr.prototype)}else if(typeof _=="object")if(Array.isArray(_)){if(typeof b=="string"&&(b=parseInt(b),isNaN(b)))throw new Error("Invalid path");let C=g;g=[..._],g[b]=C}else g=se(B({},_),{[b]:g});else return null}return{data:g,actual:se(B({},h.actual),{path:d}),reverse:se(B({},h.reverse),{path:d})}}else return null;let p=d[u.length],m;if(l instanceof Zr){if(typeof p=="number")throw new Error("");m=l.get(p)?.data}else if(l instanceof yt){if(typeof p=="number")throw new Error("");m=l.get(p)?.data}else l!==null&&(m=l[p]);if(m!==void 0)u.push(l),l=m;else return null}}e.apply=i;function r(l,c){for(let d=0;d<l.length&&d<c.length;d++)if(l[d]!==c[d])return!0;return!1}e.pathDisjoint=r;function o(l,c){if(l.length!==c.length)return!1;for(let d=0;d<l.length;d++)if(l[d]!==c[d])return!1;return!0}e.pathEq=o;function a(l,c){return r(l.path,c.path)}e.commutative=a;function s(l,c){return l.type===0&&c.type===0&&o(l.path,c.path)?Object.keys(l.props).every(d=>c.props[d]!==void 0):!1}e.subsumed=s})(Tr||(Tr={}));var $3;(e=>{function t(){return[]}e.empty=t;function n(c,d){let u=[];for(let h of c){let[p,...m]=h.path;p===d&&u.push(se(B({},h),{path:m}))}return u}e.removePrefix=n;function i(c,d){return c.map(u=>se(B({},u),{path:[d,...u.path]}))}e.addPrefix=i;function r(c,d){return[...c,...d]}e.concat=r;function o(c,d){return[...c.filter(u=>!d.some(h=>Tr.subsumed(u,h))),...d]}e.compress=o;function a(c,d){return c.every(u=>d.every(h=>Tr.commutative(u,h)))}e.commutative=a;function s(c,d){for(let u of d){let h=l(c,u);h!==null&&(c=h.data)}return c}e.applyAll=s;function l(c,d){var u=c;let h=[],p=[];for(let m of d)try{if(m.type===3||m.type===5&&m.path[m.path.length-1]==="variables"){let g,v,b;if(m.type===3?(g=Qr.zoom(u,[...m.path,m.id]),b=Tr.apply(u,se(B({},m),{type:2}))):(g=Qr.zoom(u,[...m.path,m.id,"value"]),b=Tr.apply(u,m)),b!==null){u=b.data;let[_,C]=Sve(u,{[m.id]:g});u=_;for(let M=0;M<C.length;M++){let P=C[M],x=P.pop();if(typeof x=="number"){let E=[x];for(let S=M+1;S<C.length;S++){let D=C[S],I=D[D.length-1];if(typeof I=="number"&&Qr.equal(P,D.slice(0,D.length-1)))E.push(I),C.splice(S,1);else break}let O=Qr.zoom(u,P);v=O.map((S,D)=>E.includes(D)?m.id:S),g=O,x=P.pop()}else{if(x==="alphaOverride"||x==="alpha"){g/=100;let E=g,O=Qr.zoom(u,P.slice(0,P.length-2)),S=O.layers.map(D=>D.id===P[P.length-1]?se(B({},D),{data:se(B({},D.data),{[x]:E})}):D);Object.setPrototypeOf(S,Object.getPrototypeOf(O.layers)),O.layers=S}v=m.id}h.push({type:0,path:P,props:{[x]:g}}),p.push({type:0,path:P,props:{[x]:v}})}p.push(b.reverse),h.push(b.actual)}}else{let g=Tr.apply(u,m);g!==null&&(h.push(g.actual),u=g.data,p.push(g.reverse))}}catch(g){if(g instanceof yU)return null;throw g}return{data:u,actual:h,reverse:p.reverse()}}e.apply=l})($3||($3={}));var MU=Symbol(),Ave=Symbol(),gw=Symbol(),wy=class{reportOp(e,t,n=[]){let i=this;if(t===null)return;i._current=t.data;let r=n;for(;!(i instanceof xU);){let o=i._path,a=i._current;if(o!==""&&r.splice(0,0,o),i=i._parent,i===null)return;i.update(o,a)}i.push(r,e,t.actual,t.reverse)}deleteChildren(e){if(this._children){let t=this._children[e];if(t){let n=t[gw];n&&n(),delete this._children[e]}}}},Tve=class extends wy{constructor(e,t,n){super(),this._parent=e,this._path=t,this._current=n}update(e,t){if(Array.isArray(this._current)){if(typeof e=="string"&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid path");this._current=[...this._current],this._current[e]=t}else this._current=se(B({},this._current),{[e]:t})}runOp(e){this.reportOp(e,CM.runOp(this._current,e),e.path)}},Ive=class extends wy{constructor(e,t,n){super(),this._parent=e,this._path=t,this._current=n}update(e,t){this._current=se(B({},this._current),{[e]:t}),Object.setPrototypeOf(this._current,Ft.prototype)}runOp(e){this.reportOp(e,this._current.runOp(e))}},wU={get(e,t){if(t===gw)return()=>{e._parent=null};if(t===MU)return e._current;if(t===Ave)return e;let{_current:n,_children:i}=e;if(t==="push"&&Array.isArray(n))throw new Error("not supported to expand array");let r=i===void 0?void 0:i[t];if(r!==void 0)return r;let o=n[t],a=vw(e,t,o);return a!==o?(i===void 0&&(i={},e._children=i),i[t]=a,a):o},has(e,t){return t in e._current},ownKeys(e){return Reflect.ownKeys(e._current)},defineProperty(){throw Error("not supported")},getPrototypeOf(e){return Object.getPrototypeOf(e._current)},setPrototypeOf(){throw Error("not supported")},getOwnPropertyDescriptor(e,t){let n=e._current,i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:!0,enumerable:i.enumerable,value:n[t]}}},Rve=se(B({},wU),{set(e,t,n){let i={type:0,props:{[t]:Vi(n)??n}};return e.deleteChildren(t),e.runOp(i),!0},deleteProperty(e,t){let n={type:0,props:{[t]:void 0}};return e.deleteChildren(t),e.runOp(n),!0}}),Lve=se(B({},wU),{set(e,t,n){return n===void 0?this.deleteProperty(e,t):(e.deleteChildren(t),e.runOp({type:1,id:t,data:n})),!0},deleteProperty(e,t){return e.runOp({type:2,id:t}),!0}}),mT=class extends wy{constructor(e,t,n){super(),this._children={},this._parent=e,this._path=t,this._current=n,this[gw]=()=>{this._parent=null}}unproxy(){return this._current}update(e,t){this._current=this._current.modifyById(e,t)}runOp(e){this.reportOp(e,this._current.runOp(e))}randomId(){return this._current.randomId()}isDescendantOf(e,t){return this._current.isDescendantOf(e,t)}childrenOf(e){return this._current.childrenOf(e)}traverse(e){return this._current.traverse(e)}get(e){return this._current.get(e)}parent(e){return this._current.parent(e)}traverse(e){this._current.traverse((t,n)=>{e(t,this.data(t))})}data(e){let{_current:t,_children:n}=this,i=n===void 0?void 0:n[e];if(i!==void 0)return i;let r=t.get(e)?.data,o=vw(this,e,r);return o!==r?(n===void 0&&(n={},this._children=n),n[e]=o,o):r}add(e,t,n,i,r){this.runOp({type:7,parent:e,fi:t,id:n,data:i,children:r})}move(e,t,n){this.runOp({type:9,parent:e,fi:t,id:n})}insertAfter(e,t,n){let i=this._current.insertAfterHelper(e,t,n.length);for(let r=0;r<n.length;r++){let o=n[r];this.add(e,i[r],o.id,o.data,o.children)}}insertBefore(e,t,n){let i=this._current.insertBeforeHelper(e,t,n.length);for(let r=0;r<n.length;r++){let o=n[r];this.add(e,i[r],o.id,o.data,o.children)}}moveAfter(e,t,n){let i=this._current.insertAfterHelper(e,t,n.length);for(let r=0;r<n.length;r++){let o=n[r];this.move(e,i[r],o)}}moveBefore(e,t,n){let i=this._current.insertBeforeHelper(e,t,n.length);for(let r=0;r<n.length;r++){let o=n[r];this.move(e,i[r],o)}}delete(e){this.deleteChildren(e),this.runOp({type:8,id:e})}sortNext(e){return this._current.sortNext(e)}sortPrevious(e){return this._current.sortPrevious(e)}getAllSorted(e){return this._current.getAllSorted(e)}},fT=class extends wy{constructor(e,t,n){super(),this._children={},this._parent=e,this._path=t,this._current=n,this[gw]=()=>{this._parent=null}}unproxy(){return this._current}get length(){return this._current.length}forEach(e){let t=this.length;for(let n=0;n<t;n++){let i=this._current[n].id,r=this._current[n].fi;e(this.data(this._current[n].id),i,r)}}find(e){let t=this.length;for(let n=0;n<t;n++){let i=this._current[n].id;if(e(this.data(i),i))return this.get(i)}}update(e,t){this._current=this._current.modifyById(e,t)}randomId(){return this._current.randomId()}get(e){return se(B({},this._current.get(e)),{data:this.data(e)})}data(e){let{_current:t,_children:n}=this,i=n===void 0?void 0:n[e];if(i!==void 0)return i;let r=t.get(e)?.data,o=vw(this,e,r);return o!==r?(n===void 0&&(n={},this._children=n),n[e]=o,o):r}runOp(e){this.reportOp(e,this._current.runOp(e))}add(e,t,n){this.runOp({type:4,fi:e,id:t,data:n})}move(e,t){this.runOp({type:6,fi:e,id:t})}insertAfter(e,t){let n=this._current.insertAfterHelper(e,t.length);for(let i=0;i<t.length;i++){let r=t[i];this.add(n[i],r.id,r.data)}}insertBefore(e,t){let n=this._current.insertBeforeHelper(e,t.length);for(let i=0;i<t.length;i++){let r=t[i];this.add(n[i],r.id,r.data)}}moveAfter(e,t){let n=this._current.insertAfterHelper(e,t.length);for(let i=0;i<t.length;i++){let r=t[i];this.move(n[i],r)}}moveBefore(e,t){let n=this._current.insertBeforeHelper(e,t.length);for(let i=0;i<t.length;i++){let r=t[i];this.move(n[i],r)}}delete(e){this.deleteChildren(e),this.runOp({type:5,id:e})}};function gE(e,t,n){if(e.length>0){let i=e[e.length-1];if(i.type===0&&t.type===0&&Qr.equal(i.path,n)){Object.assign(i.props,t.props);return}}e.push(se(B({},t),{path:n}))}var xU=class extends wy{constructor(e){super(),this.ts=[],this.actual=[],this.reverse=[],this._current=e}update(e,t){if(e!=="")throw new Error("");this._current=t}push(e,t,n,i){gE(this.ts,t,e),gE(this.actual,n,e),gE(this.reverse,i,e)}result(){return{data:this._current,ts:this.ts,actual:this.actual,reverse:this.reverse.reverse()}}};function vw(e,t,n){return n instanceof Zr?new mT(e,t,n):n instanceof yt?new fT(e,t,n):n instanceof Ft?new Proxy(new Ive(e,t,n),Lve):n!==null&&typeof n=="object"?uT(n)?n:new Proxy(new Tve(e,t,n),Rve):n}function PU(e){let t=new xU(e);return[vw(t,"",e),t]}function ry(e,t){let[n,i]=PU(e);return t(n),i.result()}function Vi(e){return e instanceof mT||e instanceof fT?e._current:e!==null&&typeof e=="object"?e[MU]:e}var Qr;(e=>{function t(o,a){if(a.length===o.length)for(var s=0;s<o.length;){if(o[s]!==a[s])return!1;s+=1}else return!1;return!0}e.equal=t;function n(o,a,s){let l=r(s,o);if(l!==void 0&&typeof l=="object"&&l!==null){let c=B({},a);return Object.keys(l).forEach(d=>{delete c[d]}),c}else return a}e.removeOverridden=n;function i(o,a){if((o instanceof Zr||o instanceof mT)&&typeof a=="string"||(o instanceof yt||o instanceof fT)&&typeof a=="string")return o.data(a);if(typeof a=="number"&&Array.isArray(o)||typeof a=="string"&&typeof o=="object"&&o!==null)return o[a]}e.zoomOnce=i;function r(o,a,s=0){for(;s<a.length&&o!==void 0;)o=i(o,a[s]),s+=1;return o}e.zoom=r})(Qr||(Qr={}));function kve(e,t){let n=[];if(t.length===e.length)for(var i=0;i<e.length;){if(t[i]==="*")n.push(e[i]);else if(e[i]!==t[i])return null;i+=1}else return null;return n}function ii(e,t){let n=[];if(t.length<=e.length)for(var i=0;i<t.length;){if(t[i]==="*")n.push(e[i]);else if(e[i]!==t[i])return null;i+=1}else return null;return n}var OU=class{},i7=class extends OU{constructor(e){super(),this.id=e}},r7=class extends OU{constructor(e){super(),this.data=e}},K3;try{K3=new TextDecoder}catch{}var rt,su,Ce=0,SU=[],J3=SU,eD=0,aa={},Ln,Kd,hs=0,zl=0,ka,$c,jo=[],Wn,o7={useRecords:!1,mapsAsObjects:!0},EU=class{},DU=new EU;DU.name="MessagePack 0xC1";var Bf=!1,PM=class{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,t){if(rt)return kU(()=>(nD(),this?this.unpack(e,t):PM.prototype.unpack.call(o7,e,t)));su=t>-1?t:e.length,Ce=0,eD=0,zl=0,Kd=null,J3=SU,ka=null,rt=e;try{Wn=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(n){throw rt=null,e instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof PM){if(aa=this,this.structures)return Ln=this.structures,$_();(!Ln||Ln.length>0)&&(Ln=[])}else aa=o7,(!Ln||Ln.length>0)&&(Ln=[]);return $_()}unpackMultiple(e,t){let n,i=0;try{Bf=!0;let r=e.length,o=this?this.unpack(e,r):bw.unpack(e,r);if(t){for(t(o);Ce<r;)if(i=Ce,t($_())===!1)return}else{for(n=[o];Ce<r;)i=Ce,n.push($_());return n}}catch(r){throw r.lastPosition=i,r.values=n,r}finally{Bf=!1,nD()}}_mergeStructures(e,t){e=e||[];for(let n=0,i=e.length;n<i;n++){let r=e[n];r&&(r.isShared=!0,n>=32&&(r.highByte=n-32>>5))}e.sharedLength=e.length;for(let n in t||[])if(n>=0){let i=e[n],r=t[n];r&&(i&&((e.restoreStructures||(e.restoreStructures=[]))[n]=i),e[n]=r)}return this.structures=e}decode(e,t){return this.unpack(e,t)}};function $_(){try{if(!aa.trusted&&!Bf){let t=Ln.sharedLength||0;t<Ln.length&&(Ln.length=t)}let e=Ii();if(Ce==su)Ln.restoreStructures&&a7(),Ln=null,rt=null,$c&&($c=null);else if(Ce>su){let t=new Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}else if(!Bf)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw Ln.restoreStructures&&a7(),nD(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function a7(){for(let e in Ln.restoreStructures)Ln[e]=Ln.restoreStructures[e];Ln.restoreStructures=null}function Ii(){let e=rt[Ce++];if(e<160)if(e<128){if(e<64)return e;{let t=Ln[e&63]||aa.getStructures&&AU()[e&63];return t?(t.read||(t.read=gT(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,aa.mapsAsObjects){let t={};for(let n=0;n<e;n++)t[IU()]=Ii();return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(Ii(),Ii());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=Ii();return t}else if(e<192){let t=e-160;if(zl>=Ce)return Kd.slice(Ce-hs,(Ce+=t)-hs);if(zl==0&&su<140){let n=t<16?vT(t):TU(t);if(n!=null)return n}return tD(t)}else{let t;switch(e){case 192:return null;case 193:return ka?(t=Ii(),t>0?ka[1].slice(ka.position1,ka.position1+=t):ka[0].slice(ka.position0,ka.position0-=t)):DU;case 194:return!1;case 195:return!0;case 196:return vE(rt[Ce++]);case 197:return t=Wn.getUint16(Ce),Ce+=2,vE(t);case 198:return t=Wn.getUint32(Ce),Ce+=4,vE(t);case 199:return Mh(rt[Ce++]);case 200:return t=Wn.getUint16(Ce),Ce+=2,Mh(t);case 201:return t=Wn.getUint32(Ce),Ce+=4,Mh(t);case 202:if(t=Wn.getFloat32(Ce),aa.useFloat32>2){let n=yT[(rt[Ce]&127)<<1|rt[Ce+1]>>7];return Ce+=4,(n*t+(t>0?.5:-.5)>>0)/n}return Ce+=4,t;case 203:return t=Wn.getFloat64(Ce),Ce+=8,t;case 204:return rt[Ce++];case 205:return t=Wn.getUint16(Ce),Ce+=2,t;case 206:return t=Wn.getUint32(Ce),Ce+=4,t;case 207:return aa.int64AsNumber?(t=Wn.getUint32(Ce)*4294967296,t+=Wn.getUint32(Ce+4)):t=Wn.getBigUint64(Ce),Ce+=8,t;case 208:return Wn.getInt8(Ce++);case 209:return t=Wn.getInt16(Ce),Ce+=2,t;case 210:return t=Wn.getInt32(Ce),Ce+=4,t;case 211:return aa.int64AsNumber?(t=Wn.getInt32(Ce)*4294967296,t+=Wn.getUint32(Ce+4)):t=Wn.getBigInt64(Ce),Ce+=8,t;case 212:if(t=rt[Ce++],t==114)return u7(rt[Ce++]&63);{let n=jo[t];if(n)return n.read?(Ce++,n.read(Ii())):n.noBuffer?(Ce++,n()):n(rt.subarray(Ce,++Ce));throw new Error("Unknown extension "+t)}case 213:return t=rt[Ce],t==114?(Ce++,u7(rt[Ce++]&63,rt[Ce++])):Mh(2);case 214:return Mh(4);case 215:return Mh(8);case 216:return Mh(16);case 217:return t=rt[Ce++],zl>=Ce?Kd.slice(Ce-hs,(Ce+=t)-hs):Nve(t);case 218:return t=Wn.getUint16(Ce),Ce+=2,zl>=Ce?Kd.slice(Ce-hs,(Ce+=t)-hs):zve(t);case 219:return t=Wn.getUint32(Ce),Ce+=4,zl>=Ce?Kd.slice(Ce-hs,(Ce+=t)-hs):Bve(t);case 220:return t=Wn.getUint16(Ce),Ce+=2,l7(t);case 221:return t=Wn.getUint32(Ce),Ce+=4,l7(t);case 222:return t=Wn.getUint16(Ce),Ce+=2,c7(t);case 223:return t=Wn.getUint32(Ce),Ce+=4,c7(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}var Fve=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function gT(e,t){function n(){if(n.count++>2){let r=e.read=new Function("r","return function(){return {"+e.map(o=>Fve.test(o)?o+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}}")(Ii);return e.highByte===0&&(e.read=s7(t,e.read)),r()}let i={};for(let r=0,o=e.length;r<o;r++){let a=e[r];i[a]=Ii()}return i}return n.count=0,e.highByte===0?s7(t,n):n}var s7=(e,t)=>function(){let n=rt[Ce++];if(n===0)return t();let i=e<32?-(e+(n<<5)):e+(n<<5),r=Ln[i]||AU()[i];if(!r)throw new Error("Record id is not defined for "+i);return r.read||(r.read=gT(r,e)),r.read()};function AU(){let e=kU(()=>(rt=null,aa.getStructures()));return Ln=aa._mergeStructures(e,Ln)}var tD=yw,Nve=yw,zve=yw,Bve=yw;function yw(e){let t;if(e<16&&(t=vT(e)))return t;if(e>64&&K3)return K3.decode(rt.subarray(Ce,Ce+=e));let n=Ce+e,i=[];for(t="";Ce<n;){let r=rt[Ce++];if(!(r&128))i.push(r);else if((r&224)===192){let o=rt[Ce++]&63;i.push((r&31)<<6|o)}else if((r&240)===224){let o=rt[Ce++]&63,a=rt[Ce++]&63;i.push((r&31)<<12|o<<6|a)}else if((r&248)===240){let o=rt[Ce++]&63,a=rt[Ce++]&63,s=rt[Ce++]&63,l=(r&7)<<18|o<<12|a<<6|s;l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|l&1023),i.push(l)}else i.push(r);i.length>=4096&&(t+=Or.apply(String,i),i.length=0)}return i.length>0&&(t+=Or.apply(String,i)),t}function l7(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=Ii();return t}function c7(e){if(aa.mapsAsObjects){let t={};for(let n=0;n<e;n++)t[IU()]=Ii();return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(Ii(),Ii());return t}}var Or=String.fromCharCode;function TU(e){let t=Ce,n=new Array(e);for(let i=0;i<e;i++){let r=rt[Ce++];if((r&128)>0){Ce=t;return}n[i]=r}return Or.apply(String,n)}function vT(e){if(e<4)if(e<2){if(e===0)return"";{let t=rt[Ce++];if((t&128)>1){Ce-=1;return}return Or(t)}}else{let t=rt[Ce++],n=rt[Ce++];if((t&128)>0||(n&128)>0){Ce-=2;return}if(e<3)return Or(t,n);let i=rt[Ce++];if((i&128)>0){Ce-=3;return}return Or(t,n,i)}else{let t=rt[Ce++],n=rt[Ce++],i=rt[Ce++],r=rt[Ce++];if((t&128)>0||(n&128)>0||(i&128)>0||(r&128)>0){Ce-=4;return}if(e<6){if(e===4)return Or(t,n,i,r);{let o=rt[Ce++];if((o&128)>0){Ce-=5;return}return Or(t,n,i,r,o)}}else if(e<8){let o=rt[Ce++],a=rt[Ce++];if((o&128)>0||(a&128)>0){Ce-=6;return}if(e<7)return Or(t,n,i,r,o,a);let s=rt[Ce++];if((s&128)>0){Ce-=7;return}return Or(t,n,i,r,o,a,s)}else{let o=rt[Ce++],a=rt[Ce++],s=rt[Ce++],l=rt[Ce++];if((o&128)>0||(a&128)>0||(s&128)>0||(l&128)>0){Ce-=8;return}if(e<10){if(e===8)return Or(t,n,i,r,o,a,s,l);{let c=rt[Ce++];if((c&128)>0){Ce-=9;return}return Or(t,n,i,r,o,a,s,l,c)}}else if(e<12){let c=rt[Ce++],d=rt[Ce++];if((c&128)>0||(d&128)>0){Ce-=10;return}if(e<11)return Or(t,n,i,r,o,a,s,l,c,d);let u=rt[Ce++];if((u&128)>0){Ce-=11;return}return Or(t,n,i,r,o,a,s,l,c,d,u)}else{let c=rt[Ce++],d=rt[Ce++],u=rt[Ce++],h=rt[Ce++];if((c&128)>0||(d&128)>0||(u&128)>0||(h&128)>0){Ce-=12;return}if(e<14){if(e===12)return Or(t,n,i,r,o,a,s,l,c,d,u,h);{let p=rt[Ce++];if((p&128)>0){Ce-=13;return}return Or(t,n,i,r,o,a,s,l,c,d,u,h,p)}}else{let p=rt[Ce++],m=rt[Ce++];if((p&128)>0||(m&128)>0){Ce-=14;return}if(e<15)return Or(t,n,i,r,o,a,s,l,c,d,u,h,p,m);let g=rt[Ce++];if((g&128)>0){Ce-=15;return}return Or(t,n,i,r,o,a,s,l,c,d,u,h,p,m,g)}}}}}function vE(e){return aa.copyBuffers?Uint8Array.prototype.slice.call(rt,Ce,Ce+=e):rt.subarray(Ce,Ce+=e)}function Mh(e){let t=rt[Ce++];if(jo[t])return jo[t](rt.subarray(Ce,Ce+=e));throw new Error("Unknown extension type "+t)}var d7=new Array(4096);function IU(){let e=rt[Ce++];if(e>=160&&e<192){if(e=e-160,zl>=Ce)return Kd.slice(Ce-hs,(Ce+=e)-hs);if(!(zl==0&&su<180))return tD(e)}else return Ce--,Ii();let t=(e<<5^(e>1?Wn.getUint16(Ce):e>0?rt[Ce]:0))&4095,n=d7[t],i=Ce,r=Ce+e-3,o,a=0;if(n&&n.bytes==e){for(;i<r;){if(o=Wn.getUint32(i),o!=n[a++]){i=1879048192;break}i+=4}for(r+=3;i<r;)if(o=rt[i++],o!=n[a++]){i=1879048192;break}if(i===r)return Ce=i,n.string;r-=3,i=Ce}for(n=[],d7[t]=n,n.bytes=e;i<r;)o=Wn.getUint32(i),n.push(o),i+=4;for(r+=3;i<r;)o=rt[i++],n.push(o);let s=e<16?vT(e):TU(e);return s!=null?n.string=s:n.string=tD(e)}var u7=(e,t)=>{var n=Ii();let i=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let r=Ln[e];return r&&r.isShared&&((Ln.restoreStructures||(Ln.restoreStructures=[]))[e]=r),Ln[e]=n,n.read=gT(n,i),n.read()},RU=typeof self=="object"?self:global;jo[0]=()=>{};jo[0].noBuffer=!0;jo[101]=()=>{let e=Ii();return(RU[e[0]]||Error)(e[1])};jo[105]=e=>{let t=Wn.getUint32(Ce-4);$c||($c=new Map);let n=rt[Ce],i;n>=144&&n<160||n==220||n==221?i=[]:i={};let r={target:i};$c.set(t,r);let o=Ii();return r.used?Object.assign(i,o):(r.target=o,o)};jo[112]=e=>{let t=Wn.getUint32(Ce-4),n=$c.get(t);return n.used=!0,n.target};jo[115]=()=>new Set(Ii());var LU=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");jo[116]=e=>{let t=e[0],n=LU[t];if(!n)throw new Error("Could not find typed array for code "+t);return new RU[n](Uint8Array.prototype.slice.call(e,1).buffer)};jo[120]=()=>{let e=Ii();return new RegExp(e[0],e[1])};jo[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=Ce;Ce+=t-4,ka=[Ii(),Ii()],ka.position0=0,ka.position1=0;let i=Ce;Ce=n;try{return Ii()}finally{Ce=i}};jo[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function kU(e){let t=su,n=Ce,i=eD,r=hs,o=zl,a=Kd,s=J3,l=$c,c=ka,d=new Uint8Array(rt.slice(0,su)),u=Ln,h=Ln.slice(0,Ln.length),p=aa,m=Bf,g=e();return su=t,Ce=n,eD=i,hs=r,zl=o,Kd=a,J3=s,$c=l,ka=c,rt=d,Bf=m,Ln=u,Ln.splice(0,Ln.length,...h),aa=p,Wn=new DataView(rt.buffer,rt.byteOffset,rt.byteLength),g}function nD(){rt=null,$c=null,Ln=null}function Vve(e){e.unpack?jo[e.type]=e.unpack:jo[e.type]=e}var yT=new Array(147);for(let e=0;e<256;e++)yT[e]=+("1e"+Math.floor(45.15-e*.30103));var bw=new PM({useRecords:!1}),vLe=bw.unpack,yLe=bw.unpackMultiple,bLe=bw.unpack,Uve={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4},jve=new Float32Array(1),_Le=new Uint8Array(jve.buffer,0,4),WC;try{WC=new TextEncoder}catch{}var OM,bT,_w=typeof Buffer<"u",yE=_w?Buffer.allocUnsafeSlow:Uint8Array,FU=_w?Buffer:Uint8Array,h7=_w?4294967296:2144337920,Le,zi,Ee=0,Cl,Ml=null,Hve=/[\u0080-\uFFFF]/,rv=Symbol("record-id"),NU=class extends PM{constructor(e){super(e),this.offset=0;let t,n,i,r,o,a,s=0,l=FU.prototype.utf8Write?function(E,O,S){return Le.utf8Write(E,O,S)}:WC&&WC.encodeInto?function(E,O){return WC.encodeInto(E,Le.subarray(O)).written}:!1,c=this;e||(e={});let d=e&&e.sequential,u=e.structures||e.saveStructures,h=e.maxSharedStructures;if(h==null&&(h=u?32:0),h>8160)throw new Error("Maximum maxSharedStructure is 8160");let p=e.maxOwnStructures;p==null&&(p=u?32:64),d&&!e.saveStructures&&(this.structures=[]);let m=h>32||p+h>64,g=h+64,v=h+p+64;if(v>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let b=[],_=0,C=0;this.pack=this.encode=function(E,O){if(Le||(Le=new yE(8192),zi=new DataView(Le.buffer,0,8192),Ee=0),Cl=Le.length-10,Cl-Ee<2048?(Le=new yE(Le.length),zi=new DataView(Le.buffer,0,Le.length),Cl=Le.length-10,Ee=0):Ee=Ee+7&2147483640,n=Ee,a=c.structuredClone?new Map:null,c.bundleStrings?(Ml=["",""],Le[Ee++]=214,Le[Ee++]=98,Ml.position=Ee-n,Ee+=4):Ml=null,i=c.structures,i){i.uninitialized&&(i=c._mergeStructures(c.getStructures()));let S=i.sharedLength||0;if(S>h)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let D=0;D<S;D++){let I=i[D];if(!I)continue;let T,R=i.transitions;for(let k=0,z=I.length;k<z;k++){let W=I[k];T=R[W],T||(T=R[W]=Object.create(null)),R=T}R[rv]=D+64}s=S}d||(i.nextId=S+64)}r&&(r=!1),o=i||[];try{if(M(E),Ml){zi.setUint32(Ml.position+n,Ee-Ml.position-n);let S=Ml;Ml=null,M(S[0]),M(S[1])}if(c.offset=Ee,a&&a.idsToInsert){Ee+=a.idsToInsert.length*6,Ee>Cl&&x(Ee),c.offset=Ee;let S=Wve(Le.subarray(n,Ee),a.idsToInsert);return a=null,S}return O&qve?(Le.start=n,Le.end=Ee,Le):Le.subarray(n,Ee)}finally{if(i){if(C<10&&C++,_>1e4)i.transitions=null,C=0,_=0,b.length>0&&(b=[]);else if(b.length>0&&!d){for(let S=0,D=b.length;S<D;S++)b[S][rv]=0;b=[]}if(r&&c.saveStructures){let S=i.sharedLength||h;i.length>S&&(i=i.slice(0,S));let D=Le.subarray(n,Ee);return c.saveStructures(i,s)===!1?(c._mergeStructures(c.getStructures()),c.pack(E)):(s=S,D)}}O&Yve&&(Ee=n)}};let M=E=>{Ee>Cl&&(Le=x(Ee));var O=typeof E,S;if(O==="string"){let D=E.length;if(Ml&&D>=8&&D<4096){let R=Hve.test(E);Ml[R?0:1]+=E,Le[Ee++]=193,M(R?-D:D);return}let I;D<32?I=1:D<256?I=2:D<65536?I=3:I=5;let T=D*3;if(Ee+T>Cl&&(Le=x(Ee+T)),D<64||!l){let R,k,z,W=Ee+I;for(R=0;R<D;R++)k=E.charCodeAt(R),k<128?Le[W++]=k:k<2048?(Le[W++]=k>>6|192,Le[W++]=k&63|128):(k&64512)===55296&&((z=E.charCodeAt(R+1))&64512)===56320?(k=65536+((k&1023)<<10)+(z&1023),R++,Le[W++]=k>>18|240,Le[W++]=k>>12&63|128,Le[W++]=k>>6&63|128,Le[W++]=k&63|128):(Le[W++]=k>>12|224,Le[W++]=k>>6&63|128,Le[W++]=k&63|128);S=W-Ee-I}else S=l(E,Ee+I,T);S<32?Le[Ee++]=160|S:S<256?(I<2&&Le.copyWithin(Ee+2,Ee+1,Ee+1+S),Le[Ee++]=217,Le[Ee++]=S):S<65536?(I<3&&Le.copyWithin(Ee+3,Ee+2,Ee+2+S),Le[Ee++]=218,Le[Ee++]=S>>8,Le[Ee++]=S&255):(I<5&&Le.copyWithin(Ee+5,Ee+3,Ee+3+S),Le[Ee++]=219,zi.setUint32(Ee,S),Ee+=4),Ee+=S}else if(O==="number")if(E>>>0===E)E<64?Le[Ee++]=E:E<256?(Le[Ee++]=204,Le[Ee++]=E):E<65536?(Le[Ee++]=205,Le[Ee++]=E>>8,Le[Ee++]=E&255):(Le[Ee++]=206,zi.setUint32(Ee,E),Ee+=4);else if(E>>0===E)E>=-32?Le[Ee++]=256+E:E>=-128?(Le[Ee++]=208,Le[Ee++]=E+256):E>=-32768?(Le[Ee++]=209,zi.setInt16(Ee,E),Ee+=2):(Le[Ee++]=210,zi.setInt32(Ee,E),Ee+=4);else{let D;if((D=this.useFloat32)>0&&E<4294967296&&E>=-2147483648){Le[Ee++]=202,zi.setFloat32(Ee,E);let I;if(D<4||(I=E*yT[(Le[Ee]&127)<<1|Le[Ee+1]>>7])>>0===I){Ee+=4;return}else Ee--}Le[Ee++]=203,zi.setFloat64(Ee,E),Ee+=8}else if(O==="object")if(!E)Le[Ee++]=192;else{if(a){let I=a.get(E);if(I){if(!I.id){let T=a.idsToInsert||(a.idsToInsert=[]);I.id=T.push(I)}Le[Ee++]=214,Le[Ee++]=112,zi.setUint32(Ee,I.id),Ee+=4;return}else a.set(E,{offset:Ee-n})}let D=E.constructor;if(D===Object)P(E,!0);else if(D===Array){S=E.length,S<16?Le[Ee++]=144|S:S<65536?(Le[Ee++]=220,Le[Ee++]=S>>8,Le[Ee++]=S&255):(Le[Ee++]=221,zi.setUint32(Ee,S),Ee+=4);for(let I=0;I<S;I++)M(E[I])}else if(D===Map){S=E.size,S<16?Le[Ee++]=128|S:S<65536?(Le[Ee++]=222,Le[Ee++]=S>>8,Le[Ee++]=S&255):(Le[Ee++]=223,zi.setUint32(Ee,S),Ee+=4);for(let[I,T]of E)M(I),M(T)}else{for(let I=0,T=OM.length;I<T;I++){let R=bT[I];if(E instanceof R){let k=OM[I];if(k.write){k.type&&(Le[Ee++]=212,Le[Ee++]=k.type,Le[Ee++]=0),M(k.write.call(this,E));return}let z=Le,W=zi,N=Ee;Le=null;let F;try{F=k.pack.call(this,E,X=>(Le=z,z=null,Ee+=X,Ee>Cl&&x(Ee),{target:Le,targetView:zi,position:Ee-X}),M)}finally{z&&(Le=z,zi=W,Ee=N,Cl=Le.length-10)}F&&(F.length+Ee>Cl&&x(F.length+Ee),Ee=Gve(F,Le,Ee,k.type));return}}P(E,!E.hasOwnProperty)}}else if(O==="boolean")Le[Ee++]=E?195:194;else if(O==="bigint"){if(E<BigInt(1)<<BigInt(63)&&E>=-(BigInt(1)<<BigInt(63)))Le[Ee++]=211,zi.setBigInt64(Ee,E);else if(E<BigInt(1)<<BigInt(64)&&E>0)Le[Ee++]=207,zi.setBigUint64(Ee,E);else if(this.largeBigIntToFloat)Le[Ee++]=203,zi.setFloat64(Ee,Number(E));else throw new RangeError(E+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");Ee+=8}else if(O==="undefined")this.encodeUndefinedAsNil?Le[Ee++]=192:(Le[Ee++]=212,Le[Ee++]=0,Le[Ee++]=0);else if(O==="function")M(this.writeFunction&&this.writeFunction());else throw new Error("Unknown type: "+O)},P=this.useRecords===!1?this.variableMapSize?E=>{let O=Object.keys(E),S=O.length;S<16?Le[Ee++]=128|S:S<65536?(Le[Ee++]=222,Le[Ee++]=S>>8,Le[Ee++]=S&255):(Le[Ee++]=223,zi.setUint32(Ee,S),Ee+=4);let D;for(let I=0;I<S;I++)M(D=O[I]),M(E[D])}:(E,O)=>{Le[Ee++]=222;let S=Ee-n;Ee+=2;let D=0;for(let I in E)(O||E.hasOwnProperty(I))&&(M(I),M(E[I]),D++);Le[S+++n]=D>>8,Le[S+n]=D&255}:E=>{let O=Object.keys(E),S,D=o.transitions||(o.transitions=Object.create(null)),I=0;for(let R=0,k=O.length;R<k;R++){let z=O[R];S=D[z],S||(S=D[z]=Object.create(null),I++),D=S}let T=D[rv];if(T)T>=96&&m?(Le[Ee++]=((T-=96)&31)+96,Le[Ee++]=T>>5):Le[Ee++]=T;else{T=o.nextId,T||(T=64),T<g&&this.shouldShareStructure&&!this.shouldShareStructure(O)?(T=o.nextOwnId,T<v||(T=g),o.nextOwnId=T+1):(T>=v&&(T=g),o.nextId=T+1);let R=O.highByte=T>=96&&m?T-96>>5:-1;D[rv]=T,o[T-64]=O,T<g?(O.isShared=!0,o.sharedLength=T-63,r=!0,R>=0?(Le[Ee++]=(T&31)+96,Le[Ee++]=R):Le[Ee++]=T):(R>=0?(Le[Ee++]=213,Le[Ee++]=114,Le[Ee++]=(T&31)+96,Le[Ee++]=R):(Le[Ee++]=212,Le[Ee++]=114,Le[Ee++]=T),I&&(_+=C*I),b.length>=p&&(b.shift()[rv]=0),b.push(D),M(O))}for(let R=0,k=O.length;R<k;R++)M(E[O[R]])},x=E=>{let O;if(E>16777216){if(E-n>h7)throw new Error("Packed buffer would be larger than maximum buffer size");O=Math.min(h7,Math.round(Math.max((E-n)*(E>67108864?1.25:2),4194304)/4096)*4096)}else O=(Math.max(E-n<<2,Le.length-1)>>12)+1<<12;let S=new yE(O);return zi=new DataView(S.buffer,0,O),Le.copy?Le.copy(S,0,n,E):S.set(Le.slice(n,E)),Ee-=n,n=0,Cl=S.length-10,Le=S}}useBuffer(e){Le=e,zi=new DataView(Le.buffer,Le.byteOffset,Le.byteLength),Ee=0}};bT=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,EU];OM=[{pack(e,t,n){let i=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&i>=0&&i<4294967296){let{target:r,targetView:o,position:a}=t(6);r[a++]=214,r[a++]=255,o.setUint32(a,i)}else if(i>0&&i<17179869184){let{target:r,targetView:o,position:a}=t(10);r[a++]=215,r[a++]=255,o.setUint32(a,e.getMilliseconds()*4e6+(i/1e3/4294967296>>0)),o.setUint32(a+4,i)}else if(isNaN(i)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:r,targetView:o,position:a}=t(3);r[a++]=212,r[a++]=255,r[a++]=255}else{let{target:r,targetView:o,position:a}=t(15);r[a++]=199,r[a++]=12,r[a++]=255,o.setUint32(a,e.getMilliseconds()*1e6),o.setBigInt64(a+4,BigInt(Math.floor(i)))}}},{pack(e,t,n){let i=Array.from(e),{target:r,position:o}=t(this.structuredClone?3:0);this.structuredClone&&(r[o++]=212,r[o++]=115,r[o++]=0),n(i)}},{pack(e,t,n){let{target:i,position:r}=t(this.structuredClone?3:0);this.structuredClone&&(i[r++]=212,i[r++]=101,i[r++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:i,position:r}=t(this.structuredClone?3:0);this.structuredClone&&(i[r++]=212,i[r++]=120,i[r++]=0),n([e.source,e.flags])}},{pack(e,t){this.structuredClone?p7(e,16,t):m7(_w?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==FU&&this.structuredClone?p7(e,LU.indexOf(n.name),t):m7(e,t)}},{pack(e,t){let{target:n,position:i}=t(1);n[i]=193}}];function p7(e,t,n,i){let r=e.byteLength;if(r+1<256){var{target:o,position:a}=n(4+r);o[a++]=199,o[a++]=r+1}else if(r+1<65536){var{target:o,position:a}=n(5+r);o[a++]=200,o[a++]=r+1>>8,o[a++]=r+1&255}else{var{target:o,position:a,targetView:s}=n(7+r);o[a++]=201,s.setUint32(a,r+1),a+=4}o[a++]=116,o[a++]=t,o.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),a)}function m7(e,t){let n=e.byteLength;var i,r;if(n<256){var{target:i,position:r}=t(n+2);i[r++]=196,i[r++]=n}else if(n<65536){var{target:i,position:r}=t(n+3);i[r++]=197,i[r++]=n>>8,i[r++]=n&255}else{var{target:i,position:r,targetView:o}=t(n+5);i[r++]=198,o.setUint32(r,n),r+=4}i.set(e,r)}function Gve(e,t,n,i){let r=e.length;switch(r){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:r<256?(t[n++]=199,t[n++]=r):r<65536?(t[n++]=200,t[n++]=r>>8,t[n++]=r&255):(t[n++]=201,t[n++]=r>>24,t[n++]=r>>16&255,t[n++]=r>>8&255,t[n++]=r&255)}return t[n++]=i,t.set(e,n),n+=r,n}function Wve(e,t){let n,i=t.length*6,r=e.length-i;for(t.sort((o,a)=>o.offset>a.offset?1:-1);n=t.pop();){let o=n.offset,a=n.id;e.copyWithin(o+i,o,r),i-=6;let s=o+i;e[s++]=214,e[s++]=105,e[s++]=a>>24,e[s++]=a>>16&255,e[s++]=a>>8&255,e[s++]=a&255,r=o}return e}function ag(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");bT.unshift(e.Class),OM.unshift(e)}Vve(e)}var zU=new NU({useRecords:!1}),CLe=zU.pack,MLe=zU.pack,{NEVER:wLe,ALWAYS:xLe,DECIMAL_ROUND:PLe,DECIMAL_FIT:OLe}=Uve,qve=512,Yve=1024,f7=new NU({structuredClone:!0});ag({Class:Ft.prototype.constructor,type:1,write(e){return B({},e)},read(e){return Object.setPrototypeOf(e,Ft.prototype),e}});ag({Class:yt.prototype.constructor,type:2,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,yt.prototype),e}});ag({Class:Zr.prototype.constructor,type:3,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,Zr.prototype),e}});ag({Class:i7.prototype.constructor,type:4,write(e){return e.id},read(e){return new i7(e)}});ag({Class:r7.prototype.constructor,type:5,write(e){return e.data},read(e){return new r7(e)}});ag({Class:tr.prototype.constructor,type:6,write(e){return B({},e)},read(e){return Object.setPrototypeOf(e,tr.prototype),e}});function Xve(e){var t=0;if(e.length===0)return t;for(let n=0;n<e.length;n++){let i=e[n];t=(t<<5)-t+i,t=t&t}return t}function iD(e){if(uT(e))return e;if(Array.isArray(e))return e.map(iD);if(typeof e=="object"&&e!==null){let t={};for(let n of Object.keys(e).sort())t[n]=iD(e[n]);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}else return e}var rD;(e=>{function t(r){return f7.pack(r)}e.serialize=t;function n(r){return f7.unpack(r)}e.deserialize=n;function i(r){return Xve(t(iD(r))).toString()}e.checksum=i})(rD||(rD={}));var g7;(e=>{function t(i){return i.type==="Conditional"?i.condition.type==="Distance"?"Distance":"StateChange":i.type}e.toEventUIType=t;function n(i){return i==="Distance"||i==="StateChange"?"Conditional":i}e.fromEventUIType=n})(g7||(g7={}));var na={LookAt:[],Follow:["Create"],DragDrop:["Transition","Animation","Audio","Particles","Create","SetVariable","DynamicVariablePlay","Conditional"],MouseHover:["Transition","Animation","Particles","Create","Destroy","SwitchCamera","SceneTransition","SetVariable","DynamicVariablePlay","Conditional"],Scroll:["Transition","Animation","Create","SetVariable","DynamicVariablePlay","Conditional"],Start:["Transition","Animation","Audio","Particles","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],Conditional:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MouseDown:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MouseUp:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MousePress:["Transition","Animation","Audio","Particles","Video","Link","Create","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyDown:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyUp:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyPress:["Transition","Animation","Audio","Particles","Video","Link","Create","SwitchCamera","Reset","SetVariable","DynamicVariablePlay","Conditional"],GameControl:["Transition","Animation","Audio","Particles","Create","Conditional"],Collision:["Transition","Animation","Audio","Particles","Video","Create","Destroy","Reset","SetVariable","DynamicVariablePlay","Conditional"],Trigger:["Transition","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],Resize:["Transition","Animation","Audio","Particles","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],VariableChange:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"]},v7;(e=>{function t(i){return i.type==="MouseDown"||i.type==="MouseUp"||i.type==="MousePress"||i.type==="KeyDown"||i.type==="KeyUp"||i.type==="KeyPress"}e.is=t;function n(i){return i==="MouseDown"||i==="MouseUp"||i==="MousePress"?{type:i,mode:"Object",disabled:!1,actions:new yt}:{type:i,disabled:!1,key:void 0,actions:new yt}}e.defaultData=n})(v7||(v7={}));var SM;(e=>{function t(n){return{type:"Property",value:[n??null,"position","x"]}}e.propertyDefaultData=t,e.valueDefaultData={type:"Literal",value:0}})(SM||(SM={}));var oD;(e=>{function t(r){return{type:"Comparison",operator:"==",lOperand:SM.propertyDefaultData(r),rOperand:B({},SM.valueDefaultData)}}e.comparisonDefaultData=t;function n(r){return{type:"Distance",toObject:r??null,fromObject:r??null,distance:200}}e.distanceDefaultData=n;function i(r,o){return{type:"State",object:r??null,state:o??null}}e.stateDefaultData=i})(oD||(oD={}));var y7;(e=>{function t(i){return i.type==="Conditional"}e.is=t;function n(i){return{type:"Conditional",disabled:!1,inActions:new yt,outActions:new yt,condition:oD.distanceDefaultData(i)}}e.defaultData=n})(y7||(y7={}));var b7;(e=>e.defaultData={type:"DragDrop",cursor:"hand",disabled:!1,dampingFactor:1,objects:[],snapTo:"center",snapSurfaceMode:"bbox",snapSurfaceOffset:0,dropOn:"all",autoOrient:!0,dropDestinations:[],plane:"adaptive",planeMode:"locked",referenceFrame:"global",limits:[-1/0,1/0,-1/0,1/0,-1/0,1/0],drop:!1,resetOnSnapFail:!1,snapSpeed:20,resetSpeed:20,dragDropActions:{drag:new yt,drop:new yt}})(b7||(b7={}));var aD;(e=>e.defaultData={type:"Follow",disabled:!1,maxDelta:0,dampingFactor:1,target:"cursor",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledTranslation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5,actions:new yt})(aD||(aD={}));var sD;(e=>e.defaultData={type:"LookAt",disabled:!1,distance:1e3,dampingFactor:1,target:"cursor",tilt:"up",axis:"z",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledRotation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5})(sD||(sD={}));var _7;(e=>{function t(i){return i.type==="MouseHover"}e.is=t;function n(){return{type:"MouseHover",disabled:!1,actions:new yt}}e.defaultData=n})(_7||(_7={}));var C7;(e=>{function t(i){return i.type==="Scroll"}e.is=t;function n(){return{type:"Scroll",disabled:!1,steps:100,trigger:"load",startFrom:"enter",enterAnchor:"top",startOffset:0,endAfter:400,actions:new yt}}e.defaultData=n})(C7||(C7={}));var M7;(e=>{function t(i){return i.type==="Start"}e.is=t;function n(){return{type:"Start",disabled:!1,actions:new yt}}e.defaultData=n})(M7||(M7={}));var w7;(e=>{function t(i){return i.type==="Collision"}e.is=t;function n(){return{type:"Collision",disabled:!1,target:"character",actions:new yt}}e.defaultData=n})(w7||(w7={}));var x7;(e=>{function t(i){return i.type==="Trigger"}e.is=t;function n(i,r){return{type:"Trigger",disabled:!1,target:"all",triggeringObjects:[],actions:new yt,triggerZone:"box",position:r.toArray(),rotation:[0,0,0],size:i.toArray(),radius:i.length()/2,helperVisible:!0}}e.defaultData=n})(x7||(x7={}));var lD;(e=>{e.defaultSizes={mobile:[480,480],tablet:[768,768],desktop:[1200,1200],custom:[769,1200]};function t(a){return a.type==="Resize"}e.is=t;function n(a){return typeof a=="string"?a:"custom"}e.sizeToDevice=n;function i(a){return typeof a=="string"?[...e.defaultSizes[a]]:[...a]}e.deviceToSize=i;function r(){let a={size:"mobile",operator:"<",actions:new yt},s={size:"tablet",operator:"<",actions:new yt},l={size:[...e.defaultSizes.custom],operator:"<>",actions:new yt},c=new yt;return c.push({id:et.generateUUID(),fi:0,data:a},{id:et.generateUUID(),fi:1,data:s},{id:et.generateUUID(),fi:2,data:l}),{type:"Resize",disabled:!1,orientation:"horizontal",breakpoints:c}}e.defaultData=r;function o(){return{size:[...e.defaultSizes.custom],operator:"<>",actions:new yt}}e.defaultBreakpointData=o})(lD||(lD={}));var cD;(e=>{e.propertyPaths={Position:["position"],"Position X":["position","x"],"Position Y":["position","y"],"Position Z":["position","z"],Rotation:["rotation"],"Rotation X":["rotation","x"],"Rotation Y":["rotation","y"],"Rotation Z":["rotation","z"],Scale:["scale"],"Scale X":["scale","x"],"Scale Y":["scale","y"],"Scale Z":["scale","z"],Width:["width"],Height:["height"],Depth:["depth"],"Mouse Position X":["mouse","x"],"Mouse Position Y":["mouse","y"],"Mouse Pressed":["mouse","pressed"],"Screen Width":["mouse","width"],"Screen Height":["mouse","height"],"Hit Position X":["raycast","x"],"Hit Position Y":["raycast","y"],"Hit Position Z":["raycast","z"],"Hit Object Position X":["raycast","objX"],"Hit Object Position Y":["raycast","objY"],"Hit Object Position Z":["raycast","objZ"]};function t(i){return i.type==="VariableChange"}e.is=t;function n(){return{disabled:!1,type:"VariableChange",actions:new yt,variableId:"",objectId:null,property:"Position X"}}e.defaultData=n})(cD||(cD={}));var sg="personal camera",Bv="a218fcc3-276b-49b9-b485-49037fd14f5f",Qve=2960946,Ba=5526619,Yc;(e=>{function t(m,g){return m[0]===g[0]&&m[1]===g[1]}e.isEqual=t;function n(m,g,v){return[m[0]+(g[0]-m[0])*v,m[1]+(g[1]-m[1])*v]}e.lerp=n;function i(m,g){return[m[0]+g[0],m[1]+g[1]]}e.add=i;function r(m,g){return[m[0]-g[0],m[1]-g[1]]}e.sub=r;function o(m,g){return[m[0]*g[0],m[1]*g[1]]}e.multiply=o;function a(m,g){return[m[0]/g[0],m[1]/g[1]]}e.divide=a;function s(m,g){return Math.pow(g[0]-m[0],2)+Math.pow(g[1]-m[1],2)}e.distanceSquared=s;function l(m,g){return Math.sqrt(s(m,g))}e.distance=l;function c(m,g){return m[0]*g[0]+m[1]*g[1]}e.dot=c;function d(m,g){return[m[0]*g,m[1]*g]}e.scalarMultiply=d;function u(m,g,v){let b=e.sub(g,m),_=e.sub(v,m),C=e.dot(b,_)/e.dot(b,b),M=e.scalarMultiply(b,C);return e.add(m,M)}e.projectionOnto=u;function h(m,g,v){return l(m,u(m,g,v))}e.projectionOntoDistance=h;function p(m,g){return[(m[0]+g[0])*.5,(m[1]+g[1])*.5]}e.center=p})(Yc||(Yc={}));var Xh;(e=>{function t(l,c){return l[0]===c[0]&&l[1]===c[1]&&l[2]===c[2]}e.isEqual=t;function n(l,c){return[l[0]+c[0],l[1]+c[1],l[2]+c[2]]}e.add=n;function i(l,c){return[l[0]-c[0],l[1]-c[1],l[2]-c[2]]}e.sub=i;function r(l,c){return[l[0]/c[0],l[1]/c[1],l[2]/c[2]]}e.div=r;function o(l,c){return[l[0]*c[0],l[1]*c[1],l[2]*c[2]]}e.mul=o;function a(l,c){return Math.hypot(l[0]-c[0],l[1]-c[1],l[2]-c[2])}e.dist=a;function s(l,c,d){return[l[0]+(c[0]-l[0])*d,l[1]+(c[1]-l[1])*d,l[2]+(c[2]-l[2])*d]}e.lerp=s})(Xh||(Xh={}));var EM;(e=>{function t(i,r){return i[0]===r[0]&&i[1]===r[1]&&i[2]===r[2]&&i[3]===r[3]}e.isEqual=t;function n(i,r,o){return[i[0]+(r[0]-i[0])*o,i[1]+(r[1]-i[1])*o,i[2]+(r[2]-i[2])*o,i[3]+(r[3]-i[3])*o]}e.lerp=n})(EM||(EM={}));var Vf;(e=>{e.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function t(r,o){for(let a=0;a<16;a++)if(r[a]!==o[a])return!1;return!0}e.isEqual=t;function n(r){return r??e.identity}e.simplify=n;function i(r,o){let a=o.slice(0);for(var s=0,l=o.length;s<l;s+=3){let c=r[3]*o[s]+r[7]*o[s+1]+r[11]*o[s+2]+r[15];a[s]=(r[0]*o[s]+r[4]*o[s+1]+r[8]*o[s+2]+r[12])/c,a[s+1]=(r[1]*o[s]+r[5]*o[s+1]+r[9]*o[s+2]+r[13])/c,a[s+2]=(r[2]*o[s]+r[6]*o[s+1]+r[10]*o[s+2]+r[14])/c}return a}e.applyMatrix4=i})(Vf||(Vf={}));var fo;(e=>{function t(c){return typeof c=="object"&&typeof c.r=="number"&&typeof c.g=="number"&&typeof c.b=="number"}e.isRGB=t,e.white={r:1,g:1,b:1},e.red={r:1,g:0,b:0},e.black={r:0,g:0,b:0};function n(c){return{r:Math.round(c.r*255),g:Math.round(c.g*255),b:Math.round(c.b*255),a:1}}e.toRgb255a1=n;function i(c){return{r:c.r,g:c.g,b:c.b}}e.clone=i;function r(c){return c=Math.floor(c),{r:(c>>16&255)/255,g:(c>>8&255)/255,b:(c&255)/255}}e.fromHex=r;function o(c){return Math.round(c.r*255)*65536+Math.round(c.g*255)*256+Math.round(c.b*255)}e.toHex=o;function a(c,d){return c.r===d.r&&c.g===d.g&&c.b===d.b}e.equals=a;function s(c,d){return c.r.toFixed(2)===d.r.toFixed(2)&&c.g.toFixed(2)===d.g.toFixed(2)&&c.b.toFixed(2)===d.b.toFixed(2)}e.equalsFixed=s;function l(c,d,u){return{r:c.r+(d.r-c.r)*u,g:c.g+(d.g-c.g)*u,b:c.b+(d.b-c.b)*u}}e.lerp=l})(fo||(fo={}));var $n;(e=>{e.white=se(B({},fo.white),{a:1}),e.transparent=se(B({},fo.white),{a:0});function t(l){return{r:l[0],g:l[1],b:l[2],a:l[3]}}e.from0to1=t;function n(l,c){return se(B({},fo.fromHex(l)),{a:c})}e.fromHexAndA=n;function i(l){return{r:Math.round(l.r*255),g:Math.round(l.g*255),b:Math.round(l.b*255),a:l.a}}e.toRgb255a1=i;function r(l,c){return fo.equals(l,c)&&l.a===c.a}e.equals=r;function o(l,c){return fo.equalsFixed(l,c)&&l.a.toFixed(2)===c.a.toFixed(2)}e.equalsFixed=o;function a(l,c,d){return{r:l.r+(c.r-l.r)*d,g:l.g+(c.g-l.g)*d,b:l.b+(c.b-l.b)*d,a:l.a+(c.a-l.a)*d}}e.lerp=a;function s({r:l,g:c,b:d,a:u}=e.white){return`rgba(${l*255}, ${c*255}, ${d*255}, ${u})`}e.toStyle=s})($n||($n={}));var dD;(e=>e.identity={position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]})(dD||(dD={}));var P7;(e=>e.defaultData={mass:1,stiffness:80,damping:10,velocity:0})(P7||(P7={}));var O7;(e=>e.defaultData={control1:[.5,0],control2:[.5,1]})(O7||(O7={}));var Wd;(e=>(e.linear=[0,0,1,1],e.ease=[.25,.1,.25,1],e.easeIn=[.42,0,1,1],e.easeOut=[0,0,.58,1],e.easeInOut=[.42,0,.58,1]))(Wd||(Wd={}));function S7(e){return typeof e=="string"&&e.length===36?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e):!1}var np;(e=>{e.all=["PerspectiveCamera","OrthographicCamera"];function t(n){return e.all.includes(n)}e.is=t})(np||(np={}));var Uf;(e=>{e.DefaultUp=[0,1,0],e.DefaultTargetOffset=1e3,e.defaultData={far:1e5,type:"OrthographicCamera",perspective:{near:70,fov:45,zoom:1},orthographic:{near:-1e5,zoom:1},up:e.DefaultUp,isUpVectorFlipped:!1,targetOffset:e.DefaultTargetOffset};function t(n){return n.type==="PerspectiveCamera"?n.perspective?.zoom??1:n.orthographic?.zoom??1}e.getZoom=t})(Uf||(Uf={}));var Jd;(e=>{function t(i,r=.1){return{disabled:!1,type:"linear",hideBase:!1,count:3,radial:{radius:Math.max(i[0],i[1])*2,start:0,end:360,alignment:!1,axis:"y",scale:[1,1,1],rotation:[0,0,0],position:[0,0,0]},toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},linear:{scale:[1,1,1],rotation:[0,0,0],position:[i[0]+i[0]*r,0,0]},grid:{count:[2,2,2],size:i.map(o=>o*(1+r)),useCenter:!0},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}}}e.defaultData=t;function n(i,r){let o=B({},i);if(BU.forEach(a=>{Object.assign(o,{[a]:r[a]??i[a]})}),o.radial=B({},i.radial),r.radial){let a=i.radial,s=r.radial;VU.forEach(l=>{Object.assign(o.radial,{[l]:s[l]??a[l]})})}if(o.linear=B({},i.linear),r.linear){let a=i.linear,s=r.linear;UU.forEach(l=>{Object.assign(o.linear,{[l]:s[l]??a[l]})})}if(o.grid=B({},i.grid),r.grid){let a=i.grid,s=r.grid;jU.forEach(l=>{Object.assign(o.grid,{[l]:s[l]??a[l]})})}if(o.toObject=B({},i.toObject),r.toObject){let a=i.toObject,s=r.toObject;HU.forEach(l=>{Object.assign(o.toObject,{[l]:s[l]??a[l]})})}if(o.randomnessObject=B({},i.randomnessObject),r.randomnessObject){let a=i.randomnessObject,s=r.randomnessObject;GU.forEach(l=>{Object.assign(o.randomnessObject,{[l]:s[l]??a[l]})})}return o}e.merge=n})(Jd||(Jd={}));var uD;(e=>{e.defaultData={radial:{},linear:{},grid:{},toObject:{},randomnessObject:{}};let t=["radial","linear","grid","toObject","randomnessObject"];function n(i,r){let o=[];i.count!==void 0&&o.push({type:0,path:r,props:{count:i.count}});for(let a of t){let s=i[a];s&&Object.keys(s).length>0&&o.push({type:0,path:[...r,a],props:s})}return o}e.toOps=n})(uD||(uD={}));var BU=["count"],VU=["radius","start","end","position","scale","rotation"],UU=["position","scale","rotation"],jU=["count","size"],HU=["count","position","scale","rotation"],GU=["strength","scale","rotation","position","movement","seed","freqScale"],hD;(e=>{e.all=["PointLight","SpotLight","DirectionalLight","HemisphereLight"];function t(n){return e.all.includes(n)}e.is=t})(hD||(hD={}));var pD;(e=>{function t(i){return n(i)}e.defaultData=t;function n(i){if(i==="PointLight")return{type:i,color:$n.white,intensity:1,distance:2e3,decay:1,shadows:!0,shadowResolution:1024,shadowRadius:1,penumbraSize:.5,depth:1e5};if(i==="SpotLight")return{type:i,color:$n.white,intensity:1,distance:2e3,decay:1,shadows:!0,penumbra:0,angle:30/180*Math.PI,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};if(i==="DirectionalLight")return{type:i,color:$n.white,intensity:1,shadows:!0,size:2e3,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};throw new Error("not implemented")}})(pD||(pD={}));var DM;(e=>(e.defaultShapeData={type:"PlaneEmitterShape",size:[100,100,100]},e.defaultCollisionData={colliderEntityId:null,collisionBounce:.75},e.defaultData=B({renderMaterial:{type:"particleMaterial",color:{r:1,g:.2,b:.545,a:1},color2:{r:.945,g:.714,b:.184,a:1},coloring:"gradient",ease:"linearFadeOut",easeSize:"linearFadeOut",transparent:!0,size:[40,40],texture:"pt_default_particle",spriteRotation:[0,0]},birthRatePerSec:50,gravity:1,noiseStrength:0,noiseScale:0,noiseSeed:1,noiseType:"curl",randomRotation:0,randomScale:.2,randomMass:.5,rootObjectType:"instancedMesh",life:1,direction:[0,0,0],directionMode:"axis",speed:10,shape:e.defaultShapeData,autoPlay:!0,emitTimeDelay:0,emitTimeCycle:"infinity",emitTimeLoopDelayStart:"end",emitTimeDuration:1},e.defaultCollisionData)))(DM||(DM={}));var jf;(e=>e.defaultData={enabled:"visibility",fusedBody:!0,rigidBody:"positioned",density:1,pointMass:0,gravityScale:1,friction:.5,damping:0,restitution:.2,colliderType:"convex",enabledRotation:[!0,!0,!0],enabledTranslation:[!0,!0,!0]})(jf||(jf={}));var mD;(e=>{e.defaultData={castShadow:!0,receiveShadow:!0};function t(n,i){return n.castShadow===i.castShadow&&n.receiveShadow===i.receiveShadow}e.equals=t})(mD||(mD={}));var fD;(e=>{e.defaultData={flatShading:!1,wireframe:!1,side:0};function t(n,i){return n.flatShading===i.flatShading&&n.side===i.side&&n.wireframe===i.wireframe}e.equals=t})(fD||(fD={}));var gD;(e=>e.defaultData=B(B({},fD.defaultData),mD.defaultData))(gD||(gD={}));var E7;(e=>{function t(n,i){let r=[];if("material"in n){let o=typeof n.material=="string"?i.materials[n.material]??i.lib.materials[n.material]?.asset:n.material;o&&r.push(o)}else if("materials"in n)for(let o of n.materials){let a=typeof o=="string"?i.materials[o]??i.lib.materials[o]?.asset:o;a&&r.push(a)}return r}e.getMaterialData=t})(E7||(E7={}));var AM;(e=>(e.defaultVideo={data:"",thumb:"/_assets/_videos/catThumb.png",type:"video",name:"Cat video"},e.maxSize=3e7))(AM||(AM={}));var D7;(e=>{function t(n){return n==="texture"||n==="video"||n==="color"||n==="depth"||n==="normal"||n==="gradient"||n==="noise"||n==="fresnel"||n==="rainbow"||n==="toon"||n==="outline"||n==="particle"||n==="transmission"||n==="matcap"||n==="displace"||n==="pattern"||n==="light"}e.is=t})(D7||(D7={}));function Zve(e){return e.type!=="displace"}var A7;(e=>{function t(n){return n==="phong"||n==="toon"||n==="lambert"||n==="physical"}e.is=t})(A7||(A7={}));var WU=["mode","gradientType","noiseType","displacementType","projection","cnormal","crop","axis","side"],$ve=["wrapping","image","video","name","minFilter"],Sr;(e=>{function t(o,a){let c=a,{texture:s}=c,l=wu(c,["texture"]);if(Object.assign(o,l),s){let d=o.texture;d&&Object.assign(d,s)}}e.patch=t;function n(o,a){return o==="light"&&a?i(a):r(o)}e.defaultData=n;function i(o){let a={mode:0,isMask:!1,visible:!0,bumpMap:void 0,bumpMapIntensity:5,roughnessMap:void 0,alphaOverride:1};switch(o){case"phong":return se(B({},a),{category:"phong",specular:{r:.2,g:.2,b:.2},shininess:5,type:"light",visible:!0,mode:0,occlusion:!0,alpha:.6});case"toon":return se(B({},a),{category:"toon",specular:{r:.2,g:.2,b:.2},shininess:10,type:"light",alpha:1});case"lambert":return se(B({},a),{category:"lambert",emissive:{r:0,g:0,b:0},type:"light",alpha:1,visible:!0,mode:0,occlusion:!0});case"physical":return se(B({},a),{category:"physical",roughness:.2,metalness:.2,reflectivity:.2,type:"light",alpha:1,visible:!0,mode:0,occlusion:!0})}}function r(o){let a={alpha:1,mode:0,isMask:!1,visible:!0};switch(o){case"texture":return se(B({},a),{type:"texture",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{image:"image_0",wrapping:1e3,repeat:[1,1],offset:[0,0],rotation:0,minFilter:1008},crop:!1});case"video":return se(B({},a),{type:"video",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{video:AM.defaultVideo,wrapping:1001,repeat:[1,1],offset:[0,0],rotation:0,minFilter:1008},crop:!1});case"color":return se(B({},a),{type:"color",color:fo.fromHex(Ba)});case"depth":return se(B({},a),{type:"depth",gradientType:1,smooth:!1,isVector:!0,isWorldSpace:!1,origin:[0,0,0],direction:[1,0,0],colors:[[1,1,1,1],[0,0,0,1]],steps:[0,1],near:50,far:200});case"normal":return se(B({},a),{type:"normal",cnormal:[1,1,1]});case"gradient":return se(B({},a),{type:"gradient",gradientType:0,smooth:!1,colors:[[0,0,0,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,1,1,1,1,1,1,1,1,1],num:2,angle:0,offset:[0,0],morph:[0,0]});case"noise":return se(B({},a),{type:"noise",size:[100,100,100],noiseType:0,scale:1,move:1,colorA:se(B({},fo.fromHex(6710886)),{a:1}),colorB:se(B({},fo.fromHex(6710886)),{a:1}),colorC:se(B({},fo.fromHex(16777215)),{a:1}),colorD:se(B({},fo.fromHex(16777215)),{a:1}),distortion:[1,1],fA:[1.7,9.2],fB:[8.3,2.8],voronoiStyle:0,highCut:1,lowCut:0,smoothness:.3,seed:0,quality:1});case"fresnel":return se(B({},a),{type:"fresnel",color:$n.fromHexAndA(16777215,1),bias:.1,scale:1,intensity:2,factor:1});case"rainbow":return se(B({},a),{type:"rainbow",filmThickness:30,movement:0,wavelengths:[0,0,0],noiseStrength:0,noiseScale:1,offset:[0,0,0]});case"toon":return se(B({},a),{type:"toon",positioning:2,colors:[[0,0,0,1],[.5,.5,.5,1],[.5,.5,.5,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,.475,.525,1,1,1,1,1,1,1],num:4,source:[0,1e3,0],isWorldSpace:!0,noiseStrength:0,noiseScale:1,shadowColor:$n.fromHexAndA(0,0),offset:[0,0,0]});case"outline":return se(B({},a),{type:"outline",outlineColor:$n.fromHexAndA(0,1),contourColor:$n.fromHexAndA(0,1),outlineWidth:2,contourWidth:5,outlineThreshold:.4,contourThreshold:0,outlineSmoothing:0,contourFrequency:10,contourDirection:[0,1,0],positionalLines:!1,compensation:!0});case"matcap":return se(B({},a),{type:"matcap",texture:{image:"matcap_0",wrapping:1001,repeat:[1,1],offset:[0,0],rotation:0,minFilter:1008}});case"transmission":return se(B({},a),{type:"transmission",thickness:10,ior:1.5,roughness:1});case"displace":return{visible:!0,type:"displace",displacementType:"noise",noiseType:0,scale:10,movement:1,offset:[0,0,0],intensity:8,voronoiStyle:0,smoothness:.3,seed:0,highCut:1,lowCut:0,quality:1};case"pattern":return se(B({},a),{type:"pattern",style:0,projection:0,axis:"y",blending:0,offset:[0,0],colorA:se(B({},fo.fromHex(0)),{a:1}),colorB:se(B({},fo.fromHex(16777215)),{a:1}),frequency:[10,10],size:.5,variation:0,smoothness:.5,zigzag:0,rotation:0,vertical:[0,1],horizontal:[0,1],sides:6})}}})(Sr||(Sr={}));var _o;(e=>{function t(d){return!d.layers.some(u=>u.data.type==="texture"&&u.data.projection!==0||u.data.type==="depth"&&!u.data.isWorldSpace||u.data.type==="noise"||u.data.type==="displace")}e.isMergable=t;function n(d){let u="";return d.layers.forEach(h=>{Object.entries(h.data).forEach(([p,m])=>{u+=`${p}${m}`,Array.isArray(m)?m.forEach(g=>u+=`${g}`):typeof m=="object"?Object.values(m).forEach(g=>{typeof g=="number"?u+=`${g.toFixed(4)}`:u+=`${g}`}):u+=`${m}`})}),u}e.getHash=n;function i(){return{layers:new yt}}e.defaultEmptyData=i;function r(d="layer1",u="layer2"){return a("phong",d,u)}e.defaultData=r;function o(d,u){return se(B({},d),{name:u})}e.withName=o;function a(d,u="layer1",h="layer2"){let p=new yt;return p.push({fi:0,data:Sr.defaultData("light",d),id:u}),p.push({fi:1,data:Sr.defaultData("color"),id:h}),{layers:p}}e.defaultTwoLayerData=a;function s(d){let u=Sr.defaultData("texture");d&&Object.assign(u.texture,{image:d});let h=new yt;return h.push({fi:0,data:u,id:"layer1"}),h.push({fi:1,data:se(B({},Sr.defaultData("transmission")),{alpha:1}),id:"layer2"}),h.push({fi:2,data:se(B({},Sr.defaultData("light","lambert")),{alpha:0}),id:"layer3"}),{layers:h}}e.defaultUIObjectMaterial=s;function l(d,u="phong",h="layer1",p="layer2"){let m=Sr.defaultData("texture");Object.assign(m.texture,{image:d});let g=new yt;return g.push({fi:0,data:m,id:h}),g.push({fi:1,data:Sr.defaultData("light",u),id:p}),{layers:g}}e.defaultTwoLayerTextureData=l;function c(d,u="phong",h="layer1",p="layer2"){let m=Sr.defaultData("video");Object.assign(m.texture,{video:d});let g=new yt;return g.push({fi:0,data:m,id:h}),g.push({fi:1,data:Sr.defaultData("light",u),id:p}),{layers:g}}e.defaultTwoLayerVideoTextureData=c})(_o||(_o={}));var TM;(e=>{function t(){return{points:new yt,roundness:0,shapeHoles:[],isClosed:!1}}e.defaultData=t})(TM||(TM={}));var IM;(e=>{function t(){return{points:new yt,lastInsertionPlane:null,subdivisions:12,isClosed:!1}}e.defaultData=t})(IM||(IM={}));var qU={type:"Ellipse",width:50,height:50,spikes:16,angle:360,innerRadius:0},vD;(e=>{function t(n,i){let r=B({},n);return XU.forEach(o=>{Object.assign(r,{[o]:i[o]??n[o]})}),r}e.merge=t})(vD||(vD={}));var YU={shape:qU,depth:1,offset:0,bevel:50,bevelSides:6,angle:0,twist:0,startScale:1,endScale:1,capType:"flat"},XU=["depth","offset","angle","twist","startScale","endScale"],RM;(e=>{function t(i){return i==="PolygonGeometry"||i==="RectangleGeometry"||i==="StarGeometry"||i==="TriangleGeometry"||i==="EllipseGeometry"||i==="UIGeometry"}e.is2DParametricMesh=t;function n(i){return i==="PolygonGeometry"||i==="PolygonGeometry"||i==="RectangleGeometry"||i==="StarGeometry"||i==="TriangleGeometry"||i==="EllipseGeometry"||i==="PathGeometry"||i==="VectorGeometry"||i==="ConeGeometry"||i==="CubeGeometry"||i==="CylinderGeometry"||i==="DodecahedronGeometry"||i==="HelixGeometry"||i==="IcosahedronGeometry"||i==="LatheGeometry"||i==="PyramidGeometry"||i==="SphereGeometry"||i==="PlaneGeometry"||i==="BackdropGeometry"||i==="TorusGeometry"||i==="TorusKnotGeometry"||i==="BooleanGeometry"||i==="TextGeometry"}e.isParametricMesh=n})(RM||(RM={}));var yD;(e=>{function t(n,i){let r=B({},n);return Object.assign(r,i),r.type==="PathGeometry"&&"extrusion"in i&&i.extrusion&&(r.extrusion=B({},n.extrusion),Object.assign(r.extrusion,vD.merge(r.extrusion,i.extrusion))),r}e.merge=t})(yD||(yD={}));var Mf;(e=>{function t(n){if(n==="RectangleGeometry")return{width:320,height:320,type:n,cornerRadius:[0,0,0,0],cornerType:0,depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(n==="UIGeometry")return{type:n,frame:"",cornerRadius:[0,0,0,0],cornerType:0,width:1,height:1};if(n==="PathGeometry")return{type:n,width:1,height:1,depth:1,path:IM.defaultData(),extrusion:YU};if(n==="VectorGeometry")return{width:1,height:1,type:n,subdivisions:12,shape:TM.defaultData(),depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(n==="BooleanGeometry")return{type:n,operation:2,width:0,height:0,depth:0,phongAngle:35};if(n==="TextGeometry")return{type:n,width:100,height:100,depth:0,horizontalAlign:1,verticalAlign:1,fontSize:16,lineHeight:1.2,letterSpacing:0,text:{textValue:""},textTransform:1,font:"Roboto_regular",extrudeBevelSize:0,extrudeBevelSegments:1};if(n==="SphereGeometry")return{type:"SphereGeometry",width:100,height:100,depth:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180};throw new Error("not implemented")}e.defaultData=t})(Mf||(Mf={}));var T7=["width","height","depth"],bD;(e=>e.defaultData={enabled:!1,useBackgroundColor:!1,color:fo.white,near:.1,far:2e3})(bD||(bD={}));var LM;(e=>{let t={opacity:1,blendFunction:13,enabled:!1};e.defaultData={enabled:!1,pixelation:se(B({},t),{blendFunction:16,granularity:15}),bloom:se(B({},t),{blendFunction:16,intensity:1,blurScale:1,luminanceThreshold:.25,luminanceSmoothing:.025,kernelSize:3}),chromaticAberration:se(B({},t),{offset:[2,2]}),vignette:se(B({},t),{darkness:1,offset:0}),hueSaturation:se(B({},t),{hue:3,saturation:0}),brightnessContrast:se(B({},t),{brightness:.25,contrast:0}),depthOfField:se(B({},t),{focusDistance:100,focalLength:20,bokehScale:5}),noise:se(B({},t),{blendFunction:16})}})(LM||(LM={}));var _D;(e=>e.defaultData={softShadowQuality:"low"})(_D||(_D={}));var CD;(e=>e.defaultData={enabled:!0,color:{r:.8274509803921568,g:.8274509803921568,b:.8274509803921568},intensity:.75})(CD||(CD={}));var MD;(e=>e.defaultData={occlusion:!1,aoFullRes:!1,radius:256,bias:.5,aoColor:{r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}})(MD||(MD={}));var Hf;(e=>e.defaultData={usePhysics:!1,gravity:-10})(Hf||(Hf={}));var wD;(e=>e.defaultData={playCamera:sg,gameControlObject:null})(wD||(wD={}));var xD;(e=>e.defaultData={backgroundColor:$n.fromHexAndA(Qve,1),postprocessing:LM.defaultData,fog:bD.defaultData,globalPhysics:Hf.defaultData,ambient:CD.defaultData,ao:MD.defaultData,shadow:_D.defaultData,publish:wD.defaultData})(xD||(xD={}));var PD;(e=>e.defaultData={colliderType:"box",size:[100,100,100],colliderHelperVisible:!0,forceType:"collider",forceRange:"global",forceIntensity:.5,forceDambing:.95})(PD||(PD={}));var I7;(e=>{function t(i){return i==="Component"||i==="Instance"}e.isComponentRelated=t;function n(i){return i==="Empty"||i==="Instance"}e.isEmptyOrComponent=n})(I7||(I7={}));var Gf;(e=>{e.identity=se(B({},dD.identity),{hiddenMatrix:Vf.identity});function t(r){return{position:r.position,rotation:r.rotation,scale:r.scale,hiddenMatrix:r.hiddenMatrix}}e.fromObject=t;function n(r,o){return{position:o?.position||r.position,rotation:o?.rotation||r.rotation,scale:o?.scale||r.scale,hiddenMatrix:o?.hiddenMatrix||r.hiddenMatrix}}e.merge=n;function i(r,o){return dU({position:Xh.isEqual(r.position,o.position)?void 0:o.position,rotation:Xh.isEqual(r.rotation,o.rotation)?void 0:o.rotation,scale:Xh.isEqual(r.scale,o.scale)?null:o.scale,hiddenMatrix:Vf.isEqual(r.hiddenMatrix,o.hiddenMatrix)?void 0:o.hiddenMatrix})}e.diff=i})(Gf||(Gf={}));var $r;(e=>e.defaultData=se(B({states:new yt,events:new yt,visible:!0,raycastLock:!1,physics:jf.defaultData,pathSnapping:{pathId:null,slide:0,offset:0,orientation:"tangential"}},Gf.identity),{cloner:null}))($r||($r={}));var OD;(e=>e.defaultData=B({type:"Empty"},$r.defaultData))(OD||(OD={}));var R7;(e=>e.defaultData=B(B({type:"ParticleCollider"},PD.defaultData),$r.defaultData))(R7||(R7={}));var L7;(e=>e.defaultData=B({type:"Component"},$r.defaultData))(L7||(L7={}));var k7;(e=>e.defaultData=B(B({type:"Particle"},$r.defaultData),DM.defaultData))(k7||(k7={}));var wf;(e=>e.defaultData=B(B({type:"Mesh"},$r.defaultData),gD.defaultData))(wf||(wf={}));var oy;(e=>e.defaultData=B(se(B(B({},$r.defaultData),Gf.identity),{position:[0,0,Uf.DefaultTargetOffset]}),Uf.defaultData))(oy||(oy={}));var SD;(e=>{function t(n){return B(B({},$r.defaultData),pD.defaultData(n))}e.defaultData=t,e.defaultDirectionalLightData=se(B({},e.defaultData("DirectionalLight")),{position:[200,300,300],name:"Directional Light",intensity:.7})})(SD||(SD={}));var kM;(e=>{function t(i,r,o=0){for(;o<r.length;){let a=i?i[r[o]]:void 0;if(r.length===o+1)return a;if(a)i=a.descendants,o+=1;else return}}e.resolveWithDes=t;function n(i,r,o=0){let a=t(i,r,o);if(a){let s=Object.keys(a);if(s.length===1&&s[0]==="descendants")return}return a}e.resolve=n})(kM||(kM={}));var eu;(e=>{e.rootOverrideProps=["physics","events"],e.compositeNonOptionalOverrideProps=["geometry"],e.compositeEntireOverrideOverrideProps=["material"];function t(i,r){return se(B(B({},$r.defaultData),r),{component:i,overrides:new tr,physics:void 0,events:void 0,type:"Instance"})}e.ofComponent=t;function n(i){let r=Gf.fromObject(i.data);return t(i.id,r)}e.fromComponentData=n})(eu||(eu={}));var Wf;(e=>{e.defaultData=se(B(se(B({type:"Page"},$r.defaultData),{physics:se(B({},jf.defaultData),{fusedBody:!1})}),xD.defaultData),{camera:oy.defaultData});function t(n){return n.uiScene!==void 0}e.isUIPage=t})(Wf||(Wf={}));var ED;(e=>(e.defaultCamera=B({position:[0,0,1e3],scale:[1,1,1],rotation:[0,0,0],hiddenMatrix:Vf.identity,name:"Play Camera",visible:!0,raycastLock:!1,physics:jf.defaultData,states:new yt,events:new yt,cloner:null,pathSnapping:{pathId:null,orientation:"tangential",slide:0,offset:0}},Uf.defaultData),e.KeysByResetCategory={States:["states"],Events:["events"],Material:["material","materials"],Geometry:["geometry"],Position:["position"],Rotation:["rotation"],Scale:["scale"],Transform:["position","scale","rotation","hiddenMatrix"],Name:["name"],Visibility:["visible","raycastLock","flatShading","wireframe","side"],Shadows:["castShadow","receiveShadow"],Cloner:["cloner"],Physics:["physics"]},e.defaultMeshObject=se(B(B({name:"Rectangle"},$r.defaultData),wf.defaultData),{geometry:Mf.defaultData("RectangleGeometry"),material:_o.defaultTwoLayerData("phong","layer1","layer2")}),e.defaultBooleanObject=se(B(B({name:"Boolean"},$r.defaultData),wf.defaultData),{geometry:Mf.defaultData("BooleanGeometry"),material:_o.defaultTwoLayerData("phong","layer1","layer2")}),e.defaultTextObject=se(B(B({name:"Text"},$r.defaultData),wf.defaultData),{geometry:Mf.defaultData("TextGeometry"),material:_o.defaultTwoLayerData("phong","layer1","layer2")})))(ED||(ED={}));var Nh;(e=>{function t(o,a){let s={name:a};return o.type==="Mesh"?(s.geometry={},"material"in o&&(s.material={layers:new tr}),"materials"in o&&(s.materials=o.materials.map(l=>({layers:new tr})))):np.is(o.type)&&(s.perspective={},s.orthographic={}),s}e.newEmpty=t;function n(o,a){if(a===void 0)return o;let s=B({},o);return"material"in s&&"material"in a&&a.material&&(s.material=ry(s.material,l=>{if(typeof l!="string")for(let[c,d]of Object.entries(a.material.layers)){let u=l.layers.data(c);u&&Sr.patch(u,d)}}).data),s.materials&&a.materials&&(s.materials=ry(s.materials,l=>{for(let c=0;c<s.materials.length;c++){let d=a.materials[c];if(typeof d!="string")for(let[u,h]of Object.entries(d.layers)){let p=l[c]?.layers?.data(u);p&&Sr.patch(p,h)}}}).data),s}function i(o,a){let s,l=[],c={orthographic:0,perspective:0,geometry:0};function d(u,h){for(let[m,g]of Object.entries(h.layers)){let p=g,{texture:v}=p,b=wu(p,["texture"]);if(v!==void 0&&Object.keys(v).length>0){let _={path:[...u,"layers",m,"texture"],props:v,type:0};l.push(_)}if(Object.keys(b).length>0){let _={path:[...u,"layers",m],props:b,type:0};l.push(_)}}}for(let[u,h]of Object.entries(a))if(u!=="name")if(u==="cloner")l.push(...uD.toOps(h,["cloner"]));else if(u==="pathSnapping")l.push({path:[u],props:{slide:h.slide,offset:h.offset},type:0});else if(u==="material")d(["material"],h);else if(u==="materials")for(let[p,m]of Object.entries(h))d(["materials",p],m);else if(c[u]===0){if(u==="geometry"&&h.extrusion!==void 0){let p={path:[u,"extrusion"],props:h.extrusion,type:0};l.push(p),h=B({},h),delete h.extrusion}if(Object.keys(h).length>0){let p={path:[u],props:h,type:0};l.push(p)}}else s===void 0&&(s={path:[],props:{},type:0},l.push(s)),s.props[u]=h;return l}e.toOps=i;function r(o,a){if(a===void 0)return o;let s=B({},o);if(Object.assign(s,Gf.merge(s,a)),Object.assign(s,{pathSnapping:Object.assign({},s.pathSnapping,{slide:a.pathSnapping?.slide??s.pathSnapping?.slide??0,offset:a.pathSnapping?.offset??s.pathSnapping?.offset??0})}),np.is(o.type)){s.orthographic=B({},s.orthographic),s.perspective=B({},s.perspective);let l=a;l.orthographic?.zoom!==void 0&&(s.orthographic.zoom=l.orthographic.zoom),l.perspective?.zoom!==void 0&&(s.perspective.zoom=l.perspective.zoom),l.isUpVectorFlipped!==void 0&&(s.isUpVectorFlipped=l.isUpVectorFlipped),l.targetOffset!==void 0&&(s.targetOffset=l.targetOffset)}else if(o.type==="Mesh")"geometry"in a&&Object.assign(s,{geometry:yD.merge(s.geometry,a.geometry)}),(a.material||a.materials)&&(s=n(s,a)),s.cloner&&"cloner"in a&&Object.assign(s,{cloner:Jd.merge(s.cloner,a.cloner)});else if(o.type==="Empty")s.cloner&&"cloner"in a&&Object.assign(s,{cloner:Jd.merge(s.cloner,a.cloner)});else if(hD.is(o.type)){let l=a;l.intensity!==void 0&&(s.intensity=l.intensity),l.color!==void 0&&(typeof l.color=="string"?s.color=l.color:s.color=fo.clone(l.color))}return s}e.patch=r})(Nh||(Nh={}));var FM;(e=>e.defaultData={enablePan:!0,enableZoom:!0,enableRotate:!0,enableDamping:!0,rotationLimitsMode:0,rotationVerticalOffset:{min:Math.PI/4,max:Math.PI/4},rotationHorizontalOffset:{min:Math.PI/4,max:Math.PI/4},rotationSoftLimit:2,panLimitsMode:0,panVerticalOffset:{min:250,max:250},panHorizontalOffset:{min:250,max:250},panSoftLimit:2,zoomLimitsEnabled:!1,zoomLimits:{min:.1,max:2},autoRotate:!1,autoRotateSpeed:2,autoRotateClockwise:!0,hoverRotatePanMode:0,hoverRotatePanStrength:20,hoverRotateDamping:.125,isTouchZoom:!0,orbitTouches:2,panTouches:3,resetHoverEffectOnPointerLeave:!0})(FM||(FM={}));var tu;(e=>e.defaultData={orbitControls:FM.defaultData,playPage:Bv,withBackground:!0,preventScroll:!1,preventTouchScroll:!1,hideCursor:!1,mouseEventTarget:"canvas",joystickSizeAndXYOffset:Array(12).fill(0).map((t,n)=>{let i=0,r=0;return n<5?r=-30:n<10&&(r=30),n===0||n===10||n===5?i=30:(n===4||n===11||n===9)&&(i=-30),[120,[i,r],"show"]}),settings:{image:{format:"jpg",ratio:1},video:{format:"mp4",imageFormat:"jpg",fps:30,mbps:80,ratio:Math.max(1,typeof window<"u"?Math.floor(window.devicePixelRatio):1),stopMode:"manual",duration:5e3},web:{logo:!0,compress:!0,preset:1,preload:!0,hint:!1}},stopRaycast:!0,hdTransmission:!1})(tu||(tu={}));var DD;(e=>e.defaultData={id:"basic",label:"Basic",style:"None",prompt:""})(DD||(DD={}));var AD;(e=>e.defaultData={weather:0,shadows:0,lightOrigin:0,temperature:0,sun:0,camera:0,environment:0,particles:0,nature:0,floor:0})(AD||(AD={}));var zh;(e=>(e.defaultData=()=>({mode:"line-art-both",prompt:"",negativePrompt:"",style:B({},DD.defaultData),isRandomSeed:!0,seed:e.generateSeed(),guessMode:!1,advanced:!1,steps:20,guidanceScale:7.5,controlNetScale:1,modifiers:AD.defaultData}),e.generateSeed=()=>Math.round(Math.random()*1e5)))(zh||(zh={}));var ay;(e=>{function t(i){return i.find(r=>r.data.type==="Page"&&r.data.globalPhysics.usePhysics)!==void 0}e.physicsEnabled=t;function n(i,r,o){i.scene.objects.traverseFrom(r,(a,s)=>{if(s.type==="Instance"){let l=BM.getComponentData(i,s.component)?.data;l&&o(a,s,l.events)}else o(a,s,s.events)})}e.traverseModuleInstances=n})(ay||(ay={}));var Bh;(e=>{e.TRASH_CAN_ID="830a2708-8ed9-49cf-a68e-085299892222",e.defaultLight={fi:-1,data:SD.defaultDirectionalLightData,id:"830a2708-8ed9-49cf-a68e-085299899103",children:[]};function t(r=!0,o=[]){let a=[],s=ED.defaultMeshObject;r&&(a.push(B({},e.defaultLight)),a.push({fi:1,id:"7ba78968-2a55-48f2-b14c-5191da3e075e",data:s,children:[]})),a.push(...o);let l=new Zr;return l.push({fi:1,id:Bv,data:se(B({},Wf.defaultData),{name:"Scene 1"}),children:a}),l}e.createDefaultObjectTreeWithPage=t,e.defaultData={objects:t(),publish:tu.defaultData,styles:zh.defaultData()},e.emptyDataWithoutPage=function(){return{objects:new Zr,publish:tu.defaultData,styles:zh.defaultData()}},e.emptyDataWithPage=function(r=!0){return{objects:t(r),publish:tu.defaultData,styles:zh.defaultData()}},e.emptyData=function(){return{objects:new Zr,publish:B({},tu.defaultData),styles:zh.defaultData()}};function n(r){return se(B({},e.defaultData),{objects:Yl(r,Zr.prototype)})}e.withObjs=n;function i(r,o){return n([{id:r,data:o,children:[],fi:0}])}e.withObj=i})(Bh||(Bh={}));var Vv;(e=>e.defaultData={preset:"fullscreen",allowResponsive:!1,size:[512,512],coords:[0,0],sceneScale:1,color:{r:0,g:0,b:0,a:.5}})(Vv||(Vv={}));var za;(e=>{function t(a){return a.textValue!==void 0}e.isTextValue=t;function n(a){return typeof a=="number"}e.isNumber=n;function i(a){return typeof a=="boolean"}e.isBoolean=i;function r(a){return t(a)?"string":i(a)?"boolean":"number"}e.typeOfVariable=r;function o(a){return e.isTextValue(a)?Array.isArray(a.textValue)?a.textValue.map(s=>s.toString().padStart(a.padding??2,"0")).join(a.deliminator??":")+(a.suffix!==void 0?" "+a.suffix:""):a.textValue.toString():e.isBoolean(a)?a?"True":"False":e.isNumber(a)?parseFloat(a.toFixed(3)).toString():a.toString()}e.getDisplayedValue=o})(za||(za={}));var TD;(e=>e.all=["images","videos","colors","audios","particles","fonts","materials","variables"])(TD||(TD={}));var F7;(e=>e.all=[...TD.all,"components"])(F7||(F7={}));var N7;(e=>{function t(){return{images:new Ft,videos:new Ft,colors:new Ft,audios:new Ft,particles:new Ft,fonts:new Ft,materials:new Ft,components:new Ft,variables:new Ft}}e.defaultData=t})(N7||(N7={}));var ip;(e=>{function t(){return{images:new Ft,videos:new Ft,colors:new Ft,audios:new Ft,particles:new Ft,fonts:new Ft,materials:new Ft,components:new Ft,variables:new Ft}}e.defaultData=t})(ip||(ip={}));var ps;(e=>{function t(){let a={};return a["89b10010-844c-11ec-a8a3-0242ac120002"]={r:.5,g:.5,b:.5,a:1,name:"Default Color"},Yl(a,Ft.prototype)}e.defaultColors=t;function n(){return Yl({},Ft.prototype)}e.defaultImages=n;function i(){return{catelogs:new Ft,materials:new Ft,images:new Ft,videos:new Ft,colors:new Ft,audios:new Ft,particles:new Ft,fonts:new Ft,variables:new yt,lib:ip.defaultData()}}e.emptyData=i;function r(a){switch(a){case"number":return{value:0,name:"Number"};case"boolean":return{value:!1,name:"Boolean"};case"string":return{value:{textValue:"String value"},name:"String"};case"time":let s=[0,0,0];return{name:"Time",value:{textValue:s,deliminator:":",padding:2,suffix:"AM"},dynamicVariableType:"time",format:"HH:mm:ss",format12h24h:"12ampm",timeZone:null,hasEnd:!1,endValue:{textValue:s,deliminator:":",padding:2,suffix:"AM"},autoStart:!0,repeat:!1};case"counter":return{name:"Counter",value:0,dynamicVariableType:"counter",updateInterval:1e3,increment:1,autoStart:!0,hasEnd:!0,endValue:60,repeat:!0,randomStart:!1,range:[0,100],decimals:0};case"random":return{name:"Random",value:0,dynamicVariableType:"random",updateInterval:1e3,increment:1,autoStart:!0,isStatic:!1,hasEnd:!0,endValue:60,repeat:!0,min:0,max:100,decimals:0};default:console.error("Unknown variable type",a)}}e.defaultVariables=r;function o(a,s){if(s.format==="HH:mm:ss"){let l=Math.floor(a/3600),c=Math.floor((a-l*3600)/60),d=Math.round(a-l*3600-c*60);return{textValue:[l,c,d]}}else if(s.format==="mm:ss"){let l=Math.floor(a/60),c=Math.round(a-l*60);return{textValue:[l,c]}}else return s.format==="number"?a=Math.round(a):a=Math.round(a*1e3)/1e3,a}e.getFormattedTimerTime=o})(ps||(ps={}));var NM;(e=>e.list=["idle","move","jump","run"])(NM||(NM={}));var zM;(e=>(e.defaultColliderData={type:"capsule",height:200,radius:50,position:[0,0,0],rotation:[0,0,0]},e.defaultDataThirdPerson={moveMode:"walk",forwardDirection:"+z",speedTranslate:1e3,speedRotate:100,runMultiplier:2,rotationMode:"normal",rotBy:"keys",rotByTouch:"drag",delayPos:[.3,.3],delayRot:[.3,.3],keyAssignments:[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","\u25B2"],["rotPosY","\u25C0"],["rotNegX","\u25BC"],["rotNegY","\u25B6"],["jump","Space"],["run","\u21E7"],["none","Ctrl"]],touchControl:!0,joystickPosLoc:5,joystickRotLoc:11,jumpTouchButtonLoc:9,collider:e.defaultColliderData,colliderHelperVisible:!0,collisionEnabled:!0,jumpPower:100,resetYPosition:3e3,alignToGround:!1,autoOrientMove:!0,orientWith:"camera",orientMode:"radial",delayPosCamera:.3,delayRotCamera:.3,camera:"",cameraXAxis:"Limit",cameraYAxis:"Free",cameraRotXLimits:[0,Math.PI/2],cameraRotYLimits:[-Math.PI/2,Math.PI/2],gameActions:{idle:new yt,move:new yt,jump:new yt,run:new yt},navmesh:{enabled:!1,ch:6,cs:6,walkableClimb:5,walkableHeight:1,walkableRadius:0,zones:"all",objects:[],helperVisible:!0,destinationHelperRadius:0,destinationHelperColor:$n.fromHexAndA(3728051,1)}}))(zM||(zM={}));function z7(e){e.layers.forEach(t=>{if(t.type==="depth"&&t.colorA!==void 0){let n=t.colorA,i=t.colorB,r=[[n.r,n.g,n.b,n.a],[i.r,i.g,i.b,i.a]],o=[0,1];for(let s=2;s<10;s++)r.push(r[1]),o.push(1);let a=se(B({},Zc(Vi(t),"type","visible","isVector","isWorldSpace","origin","alpha","mode")),{near:Math.max(0,t.near),far:Math.max(0,t.far),colors:r,steps:o,num:2,direction:[1,0,0],smooth:!1,gradientType:1});Object.assign(t,a)}else if(t.type==="depth"&&t.gradientType===1&&(t.near<0||t.far<0)){let n=se(B({},Vi(t)),{near:Math.max(t.near,0),far:Math.max(t.far,0)});Object.assign(t,n)}})}function Yd(e,t){Object.values(e.shared.materials).forEach(n=>t(n))}function Xd(e,t){e.scene.objects.traverse((n,i)=>{"materials"in i?i.materials.forEach((r,o)=>{r===void 0&&(i.materials[o]=_o.defaultData(),r=i.materials[o]),typeof r!="string"&&t(r)}):"material"in i?typeof i.material!="string"&&(i.material===void 0&&(i.material=_o.defaultData()),t(i.material)):i.type==="Mesh"&&(i.material===void 0&&(i.material=_o.defaultData()),t(i.material)),"overrides"in i&&Object.values(i.overrides).forEach(r=>{r.material&&typeof r.material!="string"&&Object.getPrototypeOf(r.material)!==tr.prototype&&t(r.material)})})}function Kve(e){Object.assign(e.scene.publish,{orbitControls:B(B({},FM.defaultData),Vi(e.scene.publish.orbitControls))})}function Jve(e){Object.assign(e.scene.publish.settings,{video:B(B({},tu.defaultData.settings.video),Vi(e.scene.publish.settings.video))})}function eye(e){function t(n){if(n.layers){for(let i of Object.values(n.layers))if(i){for(let[r,o]of Object.entries(i))if((WU.includes(r)||typeof o=="boolean")&&delete i[r],r==="texture")for(let[a,s]of Object.entries(o))($ve.includes(a)||typeof s=="boolean")&&delete o[a]}}}e.scene.objects.traverse((n,i)=>{i.states.forEach(r=>{let o=r;o.material?t(o.material):o.materials&&o.materials.forEach(a=>{t(a)})})})}function tye(e){e.scene.publish.withBackground=!0}function nye(e){e.scene.publish.settings.web={compress:!0,preload:!0,preset:1,logo:!0,hint:!1}}function iye(e){e.scene.objects.traverse((t,n)=>{let i=n.cloner;i&&(i.radial.scale=i.radial.scale.map(r=>r+1),i.linear.scale=i.linear.scale.map(r=>r+1))})}function rye(e){e.scene.objects.traverse((t,n)=>{let i=n.geometry;i&&(i.type==="DodecahedronGeometry"||i.type==="IcosahedronGeometry")&&(i.detail=Math.round(i.detail))})}function oye(e){e.scene.objects.traverse((t,n)=>{let i=e.scene.objects.unproxy().parent(t);if(i){let r=Vi(e.scene.objects.data(i));r&&r.type==="Mesh"&&r.geometry.type==="BooleanGeometry"&&n.type==="Mesh"&&(n.visible=Vi(n).booleanExclude!==!0)}})}function aye(e){e.scene.objects.traverse((t,n)=>{if(n.type==="Mesh"){let i=n;n.geometry.type==="NonParametricGeometry"?i.material!==void 0&&delete i.material:i.materials!==void 0&&delete i.materials}})}function sye(e){function t(i){Object.setPrototypeOf(i,tr.prototype),i.texture&&Object.setPrototypeOf(i.texture,tr.prototype)}function n(i){Object.setPrototypeOf(i,tr.prototype);for(let r in i)t(i[r])}e.scene.objects.traverse((i,r)=>{r.states.forEach(o=>{let a=o;if(a.material){let s=Vi(a.material).layers;n(s),a.material.layers=s}if(a.materials)for(let s=0;s<a.materials.length;s++){let l=a.materials[s],c=Vi(l).layers;n(c),l.layers=c}})})}function B7(e){e.layers===void 0&&Object.assign(e,_o.defaultTwoLayerData("lambert"))}function bE(e){!e.layers||e.layers.forEach(t=>{if(t.type==="depth"&&t.colors.length===10){let n=[...t.colors];n.push(t.colors[9]);let i=[...t.steps];i.push(t.steps[9]);let r=se(B({},Vi(t)),{colors:n,steps:i});Object.assign(t,r)}})}function lye(e){e.scene.objects.traverse((t,n)=>{n.type==="Mesh"&&(n.geometry.type==="BooleanGeometry"||n.geometry.type==="SubdivGeometry")&&(n.geometry.phongAngle=35)})}function V7(e){e.scene.objects.traverse((t,n)=>{"materials"in n?n.materials.forEach(i=>{typeof i!="string"&&bE(i)}):"material"in n&&typeof n.material!="string"&&bE(n.material)}),Object.values(e.shared.materials).forEach(t=>bE(t))}function cye(e){e.scene.environment.ambientLight.softShadows=!1,e.scene.environment.ambientLight.softShadowQuality="low",e.scene.objects.traverse((t,n)=>{(n.type==="DirectionalLight"||n.type==="SpotLight")&&(n.shadowResolution=1024,n.shadowRadius=1,n.depth=1e5)}),e.shared.penumbraSize=new Array(5).fill(.5)}function dye(e){e.shared.audios=Yl({},Ft.prototype)}function uye(e){e.shared.videos=Yl({},Ft.prototype)}function hye(e){let t=e.shared.materials;Object.entries(t).forEach(([n,i])=>{if(!i.layers){let r={name:"Untitled Material",layers:[{fi:0,data:{type:"light",category:"phong",alpha:.6,visible:!0,mode:0,specular:{r:.2,g:.2,b:.2},shininess:5},id:"layer1"},{fi:1,data:{type:"color",alpha:1,visible:!0,mode:0,color:{r:.2823529411764706,g:.2823529411764706,b:.30196078431372547}},id:"layer2"}]};Object.assign(t,{[n]:r})}})}function pye(e){Object.entries(Vi(e.shared.images)).filter(t=>t[1].asset===!1).map(t=>t[0]).forEach(t=>{delete e.shared.images[t]}),Object.entries(Vi(e.shared.audios)).filter(t=>t[1].asset===!1).map(t=>t[0]).forEach(t=>{delete e.shared.audios[t]})}function mye(e){e.scene.publish.settings.web.preload=!1}function U7(e){e.layers&&e.layers.forEach(t=>{t.type==="depth"&&t.num!==void 0&&(t.colors=t.colors.slice(0,t.num),t.steps=t.steps.slice(0,t.num),delete t.num)})}function j7(e){e.layers&&e.layers.forEach(t=>{Zve(t)&&t.isMask===void 0&&(t.isMask=!1),(t.type==="texture"||t.type==="video")&&t.blending===void 0&&(t.blending=0),(t.type==="noise"||t.type==="displace"&&t.displacementType==="noise")&&(t.voronoiStyle===void 0&&(t.voronoiStyle=0),t.highCut===void 0&&(t.highCut=1),t.lowCut===void 0&&(t.lowCut=0),t.smoothness===void 0&&(t.smoothness=.3),t.seed===void 0&&(t.seed=0),t.quality===void 0&&(t.quality=1))})}function fye(e){e.shared.fonts=Yl({},Ft.prototype)}function gye(e){return e.replace(".typeface","").replace(/optimer/gi,"open sans").replace("space_mono","space mono").replace(/alma_mono/gi,"varela round").replace(/droid_sans_mono/gi,"noto sans mono").replace(/droid_sans|gentilis|gnomon_(simple|foreground)|helvetiker/gi,"roboto").replace(/droid_serif/gi,"roboto slab").replace("_sans"," sans").replace("crimson_text","crimson text").replace("medium_medium","medium").replace("fatface_fatface","fatface").replace("100hairline","thin").replace("200thin","extralight").replace("300light","light").replace("500medium","medium").replace("600semi","semibold").replace("800heavy","extrabold").replace("900black","black").replace(/bodoni_(11|16|24|36|48|72|96)([^_])/gi,"bodoni_$1_$2").replace(/bodoni_(11|16|24|36|48|72|96)/gi,"bodoni moda").replace(/(thin|hairline)(_regular)?/gi,"100").replace(/(extra|ultra)light(_regular)?/gi,"200").replace(/light(_regular)?/gi,"300").replace(/_book|_normal|_roman/gi,"_regular").replace(/medium(_regular)?/gi,"500").replace(/(semi|demi)bold(_regular)?/gi,"600").replace(/(extra|ultra)bold(_regular)?/gi,"800").replace(/bold(_regular)?/gi,"700").replace(/(black|heavy|fatface)(_regular)?/gi,"900").replace(/([1-9]00)_italic/gi,"$1italic").replace(/regularitalic/gi,"italic").replace(/regularitalic/gi,"italic").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function vye(e){let t=[];e.scene.objects.traverse((n,i)=>{let r=i;if(r.type==="TextFrame"){let o=_o.defaultTwoLayerData("phong"),a=typeof r.color=="string"?e.shared.colors[r.color]:r.color;o.layers[1].data.color={r:a.r,g:a.g,b:a.b},o.layers[1].data.alpha=r.alpha;let s=gye(r.font);e.shared.fonts[s]===void 0&&(e.shared.fonts[s]={name:s});let l=se(B(B({name:r.name},$r.defaultData),wf.defaultData),{flatShading:!1,wireframe:!1,geometry:se(B({},Mf.defaultData("TextGeometry")),{width:r.width,height:r.height,font:s,depth:0,horizontalAlign:r.horizontalAlign,verticalAlign:r.verticalAlign,fontSize:r.fontSize*1.40625,lineHeight:r.lineHeight/1.40625,letterSpacing:r.letterSpacing-1,text:r.text,textTransform:r.textTransform,extrudeBevelSize:0,extrudeBevelSegments:1}),material:o,states:Vi(r.states),events:Vi(r.events),visible:r.visible,raycastLock:r.raycastLock,position:r.position,rotation:r.rotation,scale:r.scale,hiddenMatrix:r.hiddenMatrix}),c=Vi(e.scene.objects).parent(n);e.scene.objects.insertAfter(c??null,n,[{id:n+"new",data:l,children:[]}]),t.push(n)}}),t.forEach(n=>{e.scene.objects.delete(n)})}function yye(e){let t={0:"MouseDown",1:"MouseUp",2:"MouseHover",5:"KeyDown",6:"KeyUp",7:"Start",9:"LookAt",10:"Follow",11:"Scroll",12:"Audio",13:"GameControl"};e.scene.objects.traverse((n,i)=>{i.events.forEach(r=>{if(t[Number(r.type)])if(Object.assign(r,{type:t[Number(r.type)]}),r.type==="Audio"&&"audioEvent"in r&&(Object.assign(r,{playAudio:r.audioEvent}),delete r.audioEvent),r.type==="GameControl")Object.assign(r,{gameActions:{idle:new yt,move:new yt,jump:new yt}});else{let o=new yt;Object.assign(r,{actions:o}),(r.type==="MouseDown"||r.type==="MouseUp"||r.type==="KeyDown"||r.type==="KeyUp")&&"url"in r&&o.push({fi:0,id:et.generateUUID(),data:{type:"Link",url:r.url,delay:0}}),"targets"in r&&(r.targets.forEach((a,s,l)=>{let c={state:void 0,repeat:0,delay:0,delayDirection:void 0,direction:"normal",duration:0,easing:4},d={easing:a.easing,duration:a.duration};a.easing===6?Object.assign(d,Zc(a,"mass","stiffness","damping","velocity")):a.easing===5&&Object.assign(d,{control1:B({},a.control1),control2:B({},a.control2)});let u={repeat:a.repeat?-1:0,delay:a.delay,delayDirection:a.delayDirection,direction:a.cycle&&a.rewind?"pingpong-rewind":a.cycle?"pingpong":"normal"},h=B(B({state:a.state},u),d),p={allowSlerp:!0,type:"Transition",object:a.object,repeat:0,delay:0,delayDirection:void 0,direction:"normal",tweens:new yt({fi:0,id:et.generateUUID(),data:c},{fi:1,id:et.generateUUID(),data:h})};o.push({fi:l,id:s,data:p})}),delete r.targets)}})})}function bye(e){e.scene.objects.traverse((t,n)=>{function i(r,o){let a=new yt,s=[];if(n.events.forEach((l,c,d)=>{if(l.type==="Audio"&&l.trigger===o){let u;s.push(c),l.interaction==="play"?u=se(B({},Zc(l,"interaction","audio","delay","volume","loop")),{triggerAfter:"after"in l?l.after:void 0,toggle:"after"in l?l.toggle:void 0,type:"Audio"}):(l.interaction==="pause"||l.interaction==="stop")&&(u=se(B({},Zc(l,"interaction","delay","object","playAudio")),{type:"Audio"})),u&&a.push({fi:d,id:c,data:u})}}),s.forEach(l=>n.events.delete(l)),a.length){let l=n.events.find(c=>c.type===r)?.data;l?"actions"in l&&l.actions.insertBefore(null,a):n.events.insertBefore(null,[{id:et.generateUUID(),data:{type:r,actions:a}}])}}i("Start","start"),i("MouseDown","mouseDown"),i("MouseUp","mouseUp"),i("KeyDown","keyDown"),i("KeyUp","keyUp")})}function H7(e){let t=e.layers.find(n=>n.type==="light")?.data;if(t?.category==="basic"){let n=Sr.defaultData("light","phong"),i=t;Object.assign(i,n),i.visible=!1}}function G7(e){Yd(e,H7),Xd(e,H7)}function _ye(e){e.scene.objects.traverse((t,n)=>{n.type==="Mesh"&&n.geometry.type==="SubdivGeometry"&&(n.geometry.scaleBaked||(n.geometry.scaleBaked=[1,1,1]))})}function Cye(e){e.scene.objects.traverse((t,n)=>{(n.type==="Empty"||n.type==="Mesh")&&n.cloner&&!n.cloner.randomnessObject&&!n.cloner.toObject&&!n.cloner.randomness&&(n.cloner=se(B({},n.cloner),{toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}}))})}function Mye(e){e.scene.objects.traverse((t,n)=>{n.type==="Mesh"&&n.geometry.type==="NonParametricGeometry"&&!("material"in n)&&!("materials"in n)&&(n.material=_o.defaultTwoLayerData("phong"))})}function wye(e){e.scene.publish.orbitControls.autoZoom===void 0&&(e.scene.publish.orbitControls.autoZoom=!1),e.scene.objects.traverse((t,n)=>{(n.type==="OrthographicCamera"||n.type==="PerspectiveCamera")&&(n.orthographic.autoZoom===void 0&&(n.orthographic.autoZoom=!1),n.orthographic.autoZoomFrustumSize===void 0&&(n.orthographic.autoZoomFrustumSize=790))})}function xye(e){e.scene.objects.traverse((t,n)=>{n.pathSnapping===void 0&&(n.pathSnapping={pathId:null,slide:0,offset:0,orientation:"tangential"}),n.pathSnapping.offset===void 0&&(n.pathSnapping.offset=0)})}function Pye(e){e.scene.publish.mouseEventTarget===void 0&&(e.scene.publish.mouseEventTarget="canvas"),e.scene.publish.settings.web.hint===void 0&&(e.scene.publish.settings.web.hint=!1)}function Oye(e){let{video:t}=e.scene.publish.settings;t.format==="gif"&&t.fps>48&&(t.fps=15)}function Sye(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{i.type==="GameControl"&&(i.resetYPosition=Math.abs(i.resetYPosition-n.position[1]))})})}function Eye(e){let t=e.scene.environment.usePhysics;e.scene.objects.traverse((n,i)=>{t&&i.physics===null?i.collision=!1:i.collision="visibility"})}function Dye(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{i.type==="GameControl"&&(i.navmesh=zM.defaultDataThirdPerson.navmesh)})})}function Aye(e){e.scene.styles||(e.scene.styles=zh.defaultData())}function W7(e){e.layers.forEach(t=>{t.type==="light"&&t.category!=="toon"&&t.occlusion===void 0&&(t.occlusion=!0)})}function Tye(e){e.scene.environment.ambientLight.occlusion===void 0&&(e.scene.environment.ambientLight.occlusion=!1),e.scene.environment.ambientLight.aoFullRes===void 0&&(e.scene.environment.ambientLight.aoFullRes=!1),e.scene.environment.ambientLight.radius===void 0&&(e.scene.environment.ambientLight.radius=256),e.scene.environment.ambientLight.bias===void 0&&(e.scene.environment.ambientLight.bias=.5),e.scene.environment.ambientLight.aoColor===void 0&&(e.scene.environment.ambientLight.aoColor={r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}),Xd(e,W7),Yd(e,W7)}function Iye(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{i.type==="GameControl"&&Object.assign(i.gameActions,{run:new yt})})})}function Rye(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{i.type==="GameControl"&&(i.keyAssignments=[...i.keyAssignments,["run","\u21E7"],["none","Ctrl"]])})})}function q7(e){e.layers&&e.layers.forEach(t=>{t.type==="light"&&t.bumpMapIntensity===void 0&&(t.bumpMapIntensity=5)})}function Lye(e,t){if(t<1&&(Xd(e,z7),Yd(e,z7),e.schema=1),t<2&&(Kve(e),e.schema=2),t<3&&(eye(e),e.schema=3),t<4&&(tye(e),e.schema=4),t<5&&(nye(e),e.schema=5),t<6&&(iye(e),e.schema=6),t<7&&(rye(e),e.schema=7),t<8&&(e.schema=8),t<9&&(V7(e),e.schema=9),t<10&&(lye(e),e.schema=10),t<11&&(cye(e),e.schema=11),t<12&&(V7(e),e.schema=12),t<13&&(dye(e),e.schema=13),t<14&&(hye(e),e.schema=14),t<15&&(pye(e),e.schema=15),t<16&&(mye(e),e.schema=16),t<17&&(Xd(e,U7),Yd(e,U7),e.schema=17),t<18&&(Xd(e,B7),Yd(e,B7),e.schema=18),t<19&&(Jve(e),e.schema=19),t<20&&(fye(e),vye(e),e.schema=20),t<21&&(yye(e),bye(e),e.schema=21),t<22&&(G7(e),e.schema=22),t<23&&(_ye(e),e.schema=23),t<24&&(Cye(e),e.schema=24),(t<25||e.shared.videos===void 0)&&(uye(e),t<25&&(e.schema=25)),t<26&&(oye(e),e.schema=26),t<27&&(aye(e),e.schema=27),t<28&&(G7(e),e.schema=28),t<29&&(sye(e),e.schema=29),t<30&&(Mye(e),e.schema=30),t<31&&(wye(e),e.schema=31),t<33&&(xye(e),e.schema=33),t<34&&(Pye(e),e.schema=34),t<35&&(Oye(e),e.schema=35),t<36&&(Sye(e),e.schema=36),t<37&&(Eye(e),e.schema=37),t<38&&(Xd(e,j7),Yd(e,j7),e.schema=38),t<39&&(Dye(e),e.schema=39),t<40&&(Aye(e),e.schema=40),t<41&&(Tye(e),e.schema=41),t<42&&(Iye(e),e.schema=42),t<43&&(Rye(e),e.schema=43),t<99){Xd(e,q7),Yd(e,q7),e.scene.publish.playCamera===null&&(e.scene.publish.playCamera=sg);let n=Vi(e.scene.objects),i=e.scene.objects;e.scene.publish.playPage=Bv,i.insertBefore(null,null,[{id:Bv,data:se(B({},Wf.defaultData),{backgroundColor:e.scene.backgroundColor,fog:e.scene.fog,postprocessing:e.scene.postprocessing,ao:Zc(e.scene.environment.ambientLight,"occlusion","aoFullRes","radius","bias","aoColor"),publish:{playCamera:e.scene.publish.playCamera,gameControlObject:e.scene.publish.gameControlObject},shadow:Zc(e.scene.environment.ambientLight,"softShadowQuality"),globalPhysics:B(B({},Hf.defaultData),Zc(e.scene.environment,"usePhysics","gravity")),camera:Vi(e.scene.ownerCamera)??Wf.defaultData.camera,name:"Scene"}),children:[]}]);for(let a of n)a.id!==Bh.TRASH_CAN_ID&&i.move(Bv,a.fi,a.id);let r=0,o=0;e.shared.penumbraSize&&e.scene.objects.traverse((a,s)=>{s.type==="DirectionalLight"?(s.penumbraSize=e.shared.penumbraSize[Math.min(r,2)],r+=1):s.type==="SpotLight"&&(s.penumbraSize=e.shared.penumbraSize[3+Math.min(o,1)],o+=1),(s.physics===void 0||s.physics===null)&&s.type!=="Instance"&&(s.physics={},Object.assign(s.physics,jf.defaultData)),s.physics!==void 0&&s.physics!==null&&(s.physics.enabled=s.collision??"visibility",delete s.collision)}),e.schema=99}}function Y7(e){e.layers&&e.layers.forEach(t=>{t.type==="light"&&t.alphaOverride===void 0&&(t.alphaOverride=1)})}function kye(e){e.scene.objects.traverse((t,n)=>{let i=n.geometry;i&&i.type==="PathGeometry"&&(i.extrusion.capType="flat",i.extrusion.bevel=50,i.extrusion.bevelSides=6,i.extrusion.shape.type==="Custom"&&(i.extrusion.shape.shapeQuality="low"))})}function Fye(e){Array.isArray(Vi(e.events))&&e.events?.forEach(t=>{"disabled"in t||(t.disabled=!1),(t.type==="MouseDown"||t.type==="MouseUp"||t.type==="MousePress")&&(t.mode=t.mode||"Object")})}var lf=180/Math.PI;function X7(e){e.rotation=e.rotation.slice(0,3).map(t=>t*lf)}function QU(e){X7(e),e.type==="Page"&&X7(e.camera),e.states?.forEach(n=>{n.rotation===void 0||n.rotation===null||(n.rotation=n.rotation.slice(0,3).map(i=>i*lf))});let t=e.geometry;t&&t.type==="SphereGeometry"&&(t.thetaLength=(t.thetaLength??180)*lf),t&&t.type==="TorusGeometry"&&(t.arc=t.arc*lf),t&&t.type==="PathGeometry"&&(t.extrusion.angle*=lf,t.extrusion.twist*=lf),e.type==="Mesh"&&e.geometry.type==="TextGeometry"&&(e.geometry.text={textValue:e.geometry.text}),Array.isArray(Vi(e.events))&&e.events?.forEach(n=>{(n.type==="MouseDown"||n.type==="MouseUp"||n.type==="MousePress"||n.type==="KeyDown"||n.type==="KeyUp"||n.type==="KeyPress"||n.type==="Collision"||n.type==="Trigger")&&(n.runMode=n.toggle?"Toggle":"Repeat")})}function Nye(e){e.shared.variables=Yl({},Ft.prototype)}function zye(e){let t=Vi(e.shared.variables);e.shared.variables=Yl(Object.entries(t??{}).map(([n,i],r)=>({fi:r,id:n,data:i})),yt.prototype)}var zc=113;function ZU(e,t){t(e.data);for(let n of e.children)ZU(n,t)}function Bye(e){let t=e.schema??104;t!==zc&&t<105&&(ZU(e.asset,QU),e.schema=105)}function Vye(e){e.shared.particles=Yl({},Ft.prototype),e.shared.lib&&(e.shared.lib.particles=ip.defaultData().particles)}function Uye(e){e.scene.objects.traverse((t,n)=>{n.type==="Particle"&&typeof n.renderMaterial.size=="number"&&Object.assign(n.renderMaterial,{size:[n.renderMaterial.size,n.renderMaterial.size]})})}function jye(e){e.scene.objects.traverse((t,n)=>{n.type==="Page"&&(n.postprocessing.depthOfField.focusDistance=100,n.postprocessing.depthOfField.focalLength=20,n.postprocessing.depthOfField.bokehScale=5)})}function Hye(e){e.scene.objects.traverse((t,n)=>{Array.isArray(Vi(n.events))!==!1&&n.events?.forEach(i=>{let r=i.runMode;i.type==="MouseDown"||i.type==="MouseUp"||i.type==="KeyDown"||i.type==="KeyUp"||i.type==="Collision"||i.type==="Trigger"?i.actions?.forEach(o=>{o.type==="Transition"&&(o.runMode=r??"Repeat"),(o.type==="Animation"||o.type==="SwitchCamera")&&(o.runMode=r==="Toggle"?"Toggle":"Normal")}):i.type==="MouseHover"||i.type==="MousePress"||i.type==="KeyPress"?i.actions?.forEach(o=>{(o.type==="Transition"||o.type==="Animation"||o.type==="SwitchCamera")&&(o.runMode="Toggle")}):i.type==="GameControl"?(delete i.actions,Object.keys(i.gameActions).forEach(o=>{i.gameActions[o]?.forEach(a=>{a.type==="Transition"&&(a.runMode="Repeat"),a.type==="Animation"&&(a.runMode="Normal")})})):i.type==="DragDrop"?(delete i.actions,i.dragDropActions?.drag?.forEach(o=>{(o.type==="Transition"||o.type==="Animation"||o.type==="SwitchCamera")&&(o.runMode="Toggle")}),i.dragDropActions?.drop?.forEach(o=>{(o.type==="Transition"||o.type==="Animation"||o.type==="SwitchCamera")&&(o.runMode="Toggle")})):i.type==="Resize"?(delete i.actions,i.breakpoints?.forEach(o=>{o.actions?.forEach(a=>{(a.type==="Transition"||a.type==="Animation"||a.type==="SwitchCamera")&&(a.runMode="Toggle")})})):i.type==="Start"?i.actions?.forEach(o=>{o.type==="Transition"&&(o.runMode="Once"),(o.type==="Animation"||o.type==="SwitchCamera")&&(o.runMode="Normal")}):i.type==="VariableChange"||i.type==="Scroll"?i.actions?.forEach(o=>{o.type==="Transition"&&(o.runMode="Repeat"),(o.type==="Animation"||o.type==="SwitchCamera")&&(o.runMode="Normal")}):i.type==="Conditional"&&(delete i.actions,i.inActions?.forEach(o=>{o.type==="Transition"&&(o.runMode="Repeat"),(o.type==="Animation"||o.type==="SwitchCamera")&&(o.runMode="Normal")}),i.outActions?.forEach(o=>{o.type==="Transition"&&(o.runMode="Repeat"),(o.type==="Animation"||o.type==="SwitchCamera")&&(o.runMode="Normal")}))})})}function $U(e){let t=e.schema??0;if(t!==zc){console.warn("updating from ",t,"to ",zc),Lye(e,t),t<100&&(e.scene.publish.joystickSizeAndXYOffset===void 0&&(e.scene.publish.joystickSizeAndXYOffset=tu.defaultData.joystickSizeAndXYOffset),e.schema=100),t<101&&(Xd(e,Y7),Yd(e,Y7),e.schema=101),t<102&&(kye(e),e.schema=102),t<104&&(e.shared.catelogs=new Ft,e.shared.lib=ip.defaultData(),e.schema=104),t<105&&(Nye(e),e.scene.objects.traverse((n,i)=>{QU(i)}),e.schema=105);for(let n of Object.values(e.shared.lib.components))Bye(n);t<106&&(zye(e),e.schema=106),t<107&&(e.shared.lib.variables=ip.defaultData().variables,e.schema=107),t<109&&(Vye(e),e.schema=109),t<110&&(Uye(e),e.schema=110),t<111&&(e.scene.objects.traverse((n,i)=>{Fye(i)}),e.schema=111),t<112&&(jye(e),e.schema=112),t<113&&(Hye(e),e.schema=113)}}var BM;(e=>{e.defaultData={schema:zc,scene:Bh.defaultData,frames:new Ft().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",Vv.defaultData),shared:se(B({},ps.emptyData()),{colors:ps.defaultColors()})},e.emptyDataForImports=function(){let r=Bh.emptyDataWithPage();return{schema:zc,scene:r,frames:new Ft().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",Vv.defaultData),shared:se(B({},ps.emptyData()),{colors:ps.defaultColors(),images:ps.defaultImages()})}},e.emptyData=function(){return{schema:zc,scene:Bh.emptyDataWithPage(),frames:new Ft().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",Vv.defaultData),shared:ps.emptyData()}},e.clipboard2dData=function(){return{schema:zc,scene:Bh.emptyData(),frames:new Ft,shared:ps.emptyData()}},e.collabHelper=se(B({},$3),{updateSchema(r){return(r.schema??0)<zc?ry(r,$U):(r.schema??0)-zc}});function t(r){let o=e.collabHelper.updateSchema(r);return typeof o=="number"?o===0?r:null:o.data}e.updateSchemaDirectly=t;function n(r){return se(B({},r),{shared:se(B({},r.shared),{lib:ip.defaultData()})})}e.withoutLib=n;function i(r,o){let a=r.scene.objects.get(o);if(a&&a.data.type==="Component")return a;{let s=r.shared.lib.components[o];if(s)return s.asset}}e.getComponentData=i})(BM||(BM={}));var ID;(e=>e.emptyImage={data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=",name:"empty"})(ID||(ID={}));var Q7;(e=>{function t(n){return!0}e.is=t})(Q7||(Q7={}));var VM;(e=>{e.defaultData={position:[0,0],scale:[1,1],rotation:0,shear:[0,0]};function t(i,r){return{position:r?.position??i.position,rotation:r?.rotation??i.rotation,scale:r?.scale??i.scale,shear:r?.shear??i.shear}}e.merge=t;function n(i,r){return dU({position:Yc.isEqual(i.position,r.position)?void 0:r.position,rotation:i.rotation===r.rotation?void 0:r.rotation,scale:Yc.isEqual(i.scale,r.scale)?void 0:r.scale,shear:i.shear&&r.shear&&Yc.isEqual(i.shear,r.shear)?void 0:r.shear})}e.diff=n})(VM||(VM={}));var RD;(e=>e.defaultData={horizontalConstraint:0,verticalConstraint:0})(RD||(RD={}));var UM;(e=>e.defaultData={opacity:1,fill:{color:$n.fromHexAndA(Ba,1),enabled:!0},stroke:{color:$n.from0to1([0,0,0,1]),thickness:1,enabled:!1,mode:"inside"},layerBlur:{radius:2,enabled:!1},backgroundBlur:{radius:2,enabled:!1},dropShadow:{offset:[10,10],blurRadius:10,color:$n.from0to1([0,0,0,1]),enabled:!1,spread:0},innerShadow:{offset:[10,10],blurRadius:10,color:$n.from0to1([0,0,0,1]),enabled:!1,spread:0}})(UM||(UM={}));var Vh;(e=>{function t(a,s){return{name:s}}e.newEmpty=t;function n(a,s){if(s===void 0)return a;let l=B({},a),c=["width","height","cornerRadius"];for(let d of c)d in l&&d in s&&s[d]!==void 0&&Object.assign(l,{[d]:s[d]});return l}function i(a,s){if(s===void 0)return a;let l=B({},a);return"fill"in l&&"fill"in s&&s.fill!==void 0&&Object.assign(l,{fill:B(B({},l.fill),s.fill)}),"stroke"in l&&"stroke"in s&&s.stroke!==void 0&&Object.assign(l,{stroke:B(B({},l.stroke),s.stroke)}),"layerBlur"in l&&"layerBlur"in s&&s.layerBlur!==void 0&&Object.assign(l,{layerBlur:B(B({},l.layerBlur),s.layerBlur)}),"backgroundBlur"in l&&"backgroundBlur"in s&&s.backgroundBlur!==void 0&&Object.assign(l,{backgroundBlur:B(B({},l.backgroundBlur),s.backgroundBlur)}),"dropShadow"in l&&"dropShadow"in s&&s.dropShadow!==void 0&&Object.assign(l,{dropShadow:B(B({},l.dropShadow),s.dropShadow)}),"innerShadow"in l&&"innerShadow"in s&&s.innerShadow!==void 0&&Object.assign(l,{innerShadow:B(B({},l.innerShadow),s.innerShadow)}),l}function r(a,s){if(s===void 0)return a;let l=B({},a);return Object.assign(l,VM.merge(l,s)),l=n(l,s),l=i(l,s),l}e.patch=r;function o(a,s){let l,c=[];for(let[d,u]of Object.entries(s))d!=="name"&&(l===void 0&&(l={path:[],props:{},type:0},c.push(l)),l.props[d]=u);return c}e.toOps=o})(Vh||(Vh={}));var sy;(e=>e.defaultData=se(B(B({},VM.defaultData),RD.defaultData),{states:new yt,events:new yt,visible:!0,raycastLock:!1}))(sy||(sy={}));var qf;(e=>e.defaultData=B(B({},sy.defaultData),UM.defaultData))(qf||(qf={}));var jM;(e=>e.defaultData={cornerRadius:[0,0,0,0]})(jM||(jM={}));var LD;(e=>e.defaultData=se(B({},qf.defaultData),{type:"ellipse2d",width:100,height:100,name:"Ellipse"}))(LD||(LD={}));var ly;(e=>e.defaultData=se(B(B({},qf.defaultData),jM.defaultData),{type:"rectangle2d",width:100,height:100,name:"Rectangle"}))(ly||(ly={}));var kD;(e=>e.defaultData=se(B({},qf.defaultData),{type:"text2d",width:100,height:100,fontSize:12,lineHeight:1.2,letterSpacing:0,text:{textValue:"Hello world"},horizontalAlign:1,verticalAlign:1,textTransform:1,font:"Roboto_regular",name:"Text"}))(kD||(kD={}));var FD;(e=>e.defaultData=se(B({},qf.defaultData),{type:"path2d",path:"",name:"Path"}))(FD||(FD={}));var Z7;(e=>{function t(n){return n.type==="ellipse2d"||n.type==="rectangle2d"||n.type==="text2d"||n.type==="vector2d"||n.type==="path2d"}e.is=t})(Z7||(Z7={}));var HM;(e=>e.defaultData=se(B({},sy.defaultData),{name:"Group",type:"group2d"}))(HM||(HM={}));var ND;(e=>e.defaultData=()=>se(B(B(B({},sy.defaultData),jM.defaultData),UM.defaultData),{name:"Frame",type:"frame2d",clipped:!0,width:200,height:200,fill:{color:$n.fromHexAndA(4737101,1),enabled:!0},stroke:{color:$n.fromHexAndA(0,1),thickness:1,enabled:!1,mode:"inside"},backgroundBlur:{radius:2,enabled:!1},layerBlur:{radius:2,enabled:!1}}))(ND||(ND={}));var Qh;(e=>{function t(o){switch(o){case"rectangle2d":return B({},ly.defaultData);case"ellipse2d":return B({},LD.defaultData);case"text2d":return B({},kD.defaultData);case"vector2d":return B({},ly.defaultData);case"path2d":return B({},FD.defaultData);case"frame2d":return B({},ND.defaultData());case"group2d":return B({},HM.defaultData)}}e.defaultData=t;function n(o){return"width"in o&&"height"in o?[typeof o.width=="number"?o.width*.5:0,typeof o.height=="number"?o.height*.5:0]:[0,0]}e.getPivot=n;function i(o){return o.type==="rectangle2d"||o.type==="ellipse2d"||o.type==="text2d"||o.type==="frame2d"}e.isResizeable=i;function r(o){return o.type==="rectangle2d"||o.type==="frame2d"}e.hasCorners=r})(Qh||(Qh={}));var zD;(e=>(e.defaultData={name:"UI",type:"scene2d",objects:new Zr},e.emptyData=function(){return{type:"scene2d",objects:new Zr}}))(zD||(zD={}));function Uh(e,t=!1){let n=e[0].index!==null,i=new Set(Object.keys(e[0].attributes)),r=new Set(Object.keys(e[0].morphAttributes)),o={},a={},s=e[0].morphTargetsRelative,l=new pt,c=0;for(let d=0;d<e.length;++d){let u=e[d],h=0;if(n!==(u.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let p in u.attributes){if(!i.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+p+'" attribute exists among all geometries, or in none of them.'),null;o[p]===void 0&&(o[p]=[]),o[p].push(u.attributes[p]),h++}if(h!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(s!==u.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let p in u.morphAttributes){if(!r.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;a[p]===void 0&&(a[p]=[]),a[p].push(u.morphAttributes[p])}if(t){let p;if(n)p=u.index.count;else if(u.attributes.position!==void 0)p=u.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;l.addGroup(c,p,d),c+=p}}if(n){let d=0,u=[];for(let h=0;h<e.length;++h){let p=e[h].index;for(let m=0;m<p.count;++m)u.push(p.getX(m)+d);d+=e[h].attributes.position.count}l.setIndex(u)}for(let d in o){let u=$7(o[d]);if(!u)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+d+" attribute."),null;l.setAttribute(d,u)}for(let d in a){let u=a[d][0].length;if(u===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[d]=[];for(let h=0;h<u;++h){let p=[];for(let g=0;g<a[d].length;++g)p.push(a[d][g][h]);let m=$7(p);if(!m)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+d+" morphAttribute."),null;l.morphAttributes[d].push(m)}}return l}function $7(e){let t,n,i,r=0;for(let s=0;s<e.length;++s){let l=e[s];if(l.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(t===void 0&&(t=l.array.constructor),t!==l.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(n===void 0&&(n=l.itemSize),n!==l.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(i===void 0&&(i=l.normalized),i!==l.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;r+=l.array.length}let o=new t(r),a=0;for(let s=0;s<e.length;++s)o.set(e[s].array,a),a+=e[s].array.length;return new St(o,n,i)}var Gye=Math.pow(2,-24),K_=class{constructor(){}};function Bl(e,t,n){return n.min.x=t[e],n.min.y=t[e+1],n.min.z=t[e+2],n.max.x=t[e+3],n.max.y=t[e+4],n.max.z=t[e+5],n}function K7(e){let t=-1,n=-1/0;for(let i=0;i<3;i++){let r=e[i+3]-e[i];r>n&&(n=r,t=i)}return t}function J7(e,t){t.set(e)}function ez(e,t,n){let i,r;for(let o=0;o<3;o++){let a=o+3;i=e[o],r=t[o],n[o]=i<r?i:r,i=e[a],r=t[a],n[a]=i>r?i:r}}function J_(e,t,n){for(let i=0;i<3;i++){let r=t[e+2*i],o=t[e+2*i+1],a=r-o,s=r+o;a<n[i]&&(n[i]=a),s>n[i+3]&&(n[i+3]=s)}}function ov(e){let t=e[3]-e[0],n=e[4]-e[1],i=e[5]-e[2];return 2*(t*n+n*i+i*t)}function Wye(e,t){if(!e.index){let n=e.attributes.position.count,i=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,r;n>65535?r=new Uint32Array(new i(4*n)):r=new Uint16Array(new i(2*n)),e.setIndex(new St(r,1));for(let o=0;o<n;o++)r[o]=o}}function qye(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];let t=[],n=new Set;for(let r of e.groups)n.add(r.start),n.add(r.start+r.count);let i=Array.from(n.values()).sort((r,o)=>r-o);for(let r=0;r<i.length-1;r++){let o=i[r],a=i[r+1];t.push({offset:o/3,count:(a-o)/3})}return t}function _E(e,t,n,i,r=null){let o=1/0,a=1/0,s=1/0,l=-1/0,c=-1/0,d=-1/0,u=1/0,h=1/0,p=1/0,m=-1/0,g=-1/0,v=-1/0,b=r!==null;for(let _=t*6,C=(t+n)*6;_<C;_+=6){let M=e[_+0],P=e[_+1],x=M-P,E=M+P;x<o&&(o=x),E>l&&(l=E),b&&M<u&&(u=M),b&&M>m&&(m=M);let O=e[_+2],S=e[_+3],D=O-S,I=O+S;D<a&&(a=D),I>c&&(c=I),b&&O<h&&(h=O),b&&O>g&&(g=O);let T=e[_+4],R=e[_+5],k=T-R,z=T+R;k<s&&(s=k),z>d&&(d=z),b&&T<p&&(p=T),b&&T>v&&(v=T)}i[0]=o,i[1]=a,i[2]=s,i[3]=l,i[4]=c,i[5]=d,b&&(r[0]=u,r[1]=h,r[2]=p,r[3]=m,r[4]=g,r[5]=v)}function Yye(e,t,n,i){let r=1/0,o=1/0,a=1/0,s=-1/0,l=-1/0,c=-1/0;for(let d=t*6,u=(t+n)*6;d<u;d+=6){let h=e[d+0];h<r&&(r=h),h>s&&(s=h);let p=e[d+2];p<o&&(o=p),p>l&&(l=p);let m=e[d+4];m<a&&(a=m),m>c&&(c=m)}i[0]=r,i[1]=o,i[2]=a,i[3]=s,i[4]=l,i[5]=c}function Xye(e,t,n,i,r){let o=n,a=n+i-1,s=r.pos,l=r.axis*2;for(;;){for(;o<=a&&t[o*6+l]<s;)o++;for(;o<=a&&t[a*6+l]>=s;)a--;if(o<a){for(let c=0;c<3;c++){let d=e[o*3+c];e[o*3+c]=e[a*3+c],e[a*3+c]=d;let u=t[o*6+c*2+0];t[o*6+c*2+0]=t[a*6+c*2+0],t[a*6+c*2+0]=u;let h=t[o*6+c*2+1];t[o*6+c*2+1]=t[a*6+c*2+1],t[a*6+c*2+1]=h}o++,a--}else return o}}var Rc=32,Qye=(e,t)=>e.candidate-t.candidate,Fd=new Array(Rc).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),eC=new Float32Array(6);function Zye(e,t,n,i,r,o){let a=-1,s=0;if(o===0)a=K7(t),a!==-1&&(s=(t[a]+t[a+3])/2);else if(o===1)a=K7(e),a!==-1&&(s=$ye(n,i,r,a));else if(o===2){let l=ov(e),c=1.25*r,d=i*6,u=(i+r)*6;for(let h=0;h<3;h++){let p=t[h],m=(t[h+3]-p)/Rc;if(r<Rc/4){let g=[...Fd];g.length=r;let v=0;for(let _=d;_<u;_+=6,v++){let C=g[v];C.candidate=n[_+2*h],C.count=0;let{bounds:M,leftCacheBounds:P,rightCacheBounds:x}=C;for(let E=0;E<3;E++)x[E]=1/0,x[E+3]=-1/0,P[E]=1/0,P[E+3]=-1/0,M[E]=1/0,M[E+3]=-1/0;J_(_,n,M)}g.sort(Qye);let b=r;for(let _=0;_<b;_++){let C=g[_];for(;_+1<b&&g[_+1].candidate===C.candidate;)g.splice(_+1,1),b--}for(let _=d;_<u;_+=6){let C=n[_+2*h];for(let M=0;M<b;M++){let P=g[M];C>=P.candidate?J_(_,n,P.rightCacheBounds):(J_(_,n,P.leftCacheBounds),P.count++)}}for(let _=0;_<b;_++){let C=g[_],M=C.count,P=r-C.count,x=C.leftCacheBounds,E=C.rightCacheBounds,O=0;M!==0&&(O=ov(x)/l);let S=0;P!==0&&(S=ov(E)/l);let D=1+1.25*(O*M+S*P);D<c&&(a=h,c=D,s=C.candidate)}}else{for(let b=0;b<Rc;b++){let _=Fd[b];_.count=0,_.candidate=p+m+b*m;let C=_.bounds;for(let M=0;M<3;M++)C[M]=1/0,C[M+3]=-1/0}for(let b=d;b<u;b+=6){let _=~~((n[b+2*h]-p)/m);_>=Rc&&(_=Rc-1);let C=Fd[_];C.count++,J_(b,n,C.bounds)}let g=Fd[Rc-1];J7(g.bounds,g.rightCacheBounds);for(let b=Rc-2;b>=0;b--){let _=Fd[b],C=Fd[b+1];ez(_.bounds,C.rightCacheBounds,_.rightCacheBounds)}let v=0;for(let b=0;b<Rc-1;b++){let _=Fd[b],C=_.count,M=_.bounds,P=Fd[b+1].rightCacheBounds;C!==0&&(v===0?J7(M,eC):ez(M,eC,eC)),v+=C;let x=0,E=0;v!==0&&(x=ov(eC)/l);let O=r-v;O!==0&&(E=ov(P)/l);let S=1+1.25*(x*v+E*O);S<c&&(a=h,c=S,s=_.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${o} used.`);return{axis:a,pos:s}}function $ye(e,t,n,i){let r=0;for(let o=t,a=t+n;o<a;o++)r+=e[o*6+i*2];return r/n}function Kye(e,t){let n=e.attributes.position,i=e.index.array,r=i.length/3,o=new Float32Array(r*6),a=n.normalized,s=n.array,l=n.offset||0,c=3;n.isInterleavedBufferAttribute&&(c=n.data.stride);let d=["getX","getY","getZ"];for(let u=0;u<r;u++){let h=u*3,p=u*6,m,g,v;a?(m=i[h+0],g=i[h+1],v=i[h+2]):(m=i[h+0]*c+l,g=i[h+1]*c+l,v=i[h+2]*c+l);for(let b=0;b<3;b++){let _,C,M;a?(_=n[d[b]](m),C=n[d[b]](g),M=n[d[b]](v)):(_=s[m+b],C=s[g+b],M=s[v+b]);let P=_;C<P&&(P=C),M<P&&(P=M);let x=_;C>x&&(x=C),M>x&&(x=M);let E=(x-P)/2,O=b*2;o[p+O+0]=P+E,o[p+O+1]=E+(Math.abs(P)+E)*Gye,P<t[b]&&(t[b]=P),x>t[b+3]&&(t[b+3]=x)}}return o}function Jye(e,t){function n(b){h&&h(b/p)}function i(b,_,C,M=null,P=0){if(!m&&P>=l&&(m=!0,c&&(console.warn(`MeshBVH: Max depth of ${l} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),C<=d||P>=l)return n(_+C),b.offset=_,b.count=C,b;let x=Zye(b.boundingData,M,a,_,C,u);if(x.axis===-1)return n(_+C),b.offset=_,b.count=C,b;let E=Xye(s,a,_,C,x);if(E===_||E===_+C)n(_+C),b.offset=_,b.count=C;else{b.splitAxis=x.axis;let O=new K_,S=_,D=E-_;b.left=O,O.boundingData=new Float32Array(6),_E(a,S,D,O.boundingData,o),i(O,S,D,o,P+1);let I=new K_,T=E,R=C-D;b.right=I,I.boundingData=new Float32Array(6),_E(a,T,R,I.boundingData,o),i(I,T,R,o,P+1)}return b}Wye(e,t);let r=new Float32Array(6),o=new Float32Array(6),a=Kye(e,r),s=e.index.array,l=t.maxDepth,c=t.verbose,d=t.maxLeafTris,u=t.strategy,h=t.onProgress,p=e.index.count/3,m=!1,g=[],v=qye(e);if(v.length===1){let b=v[0],_=new K_;_.boundingData=r,Yye(a,b.offset,b.count,o),i(_,b.offset,b.count,o),g.push(_)}else for(let b of v){let _=new K_;_.boundingData=new Float32Array(6),_E(a,b.offset,b.count,_.boundingData,o),i(_,b.offset,b.count,o),g.push(_)}return g}function e1e(e,t){let n=Jye(e,t),i,r,o,a=[],s=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let d=0;d<n.length;d++){let u=n[d],h=l(u),p=new s(32*h);i=new Float32Array(p),r=new Uint32Array(p),o=new Uint16Array(p),c(0,u),a.push(p)}return a;function l(d){return d.count?1:1+l(d.left)+l(d.right)}function c(d,u){let h=d/4,p=d/2,m=!!u.count,g=u.boundingData;for(let v=0;v<6;v++)i[h+v]=g[v];if(m){let v=u.offset,b=u.count;return r[h+6]=v,o[p+14]=b,o[p+15]=65535,d+32}else{let v=u.left,b=u.right,_=u.splitAxis,C;if(C=c(d+32,v),C/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return r[h+6]=C/4,C=c(C,b),r[h+7]=_,C}}}var Xl=class{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let n=1/0,i=-1/0;for(let r=0,o=e.length;r<o;r++){let a=e[r][t];n=a<n?a:n,i=a>i?a:i}this.min=n,this.max=i}setFromPoints(e,t){let n=1/0,i=-1/0;for(let r=0,o=t.length;r<o;r++){let a=t[r],s=e.dot(a);n=s<n?s:n,i=s>i?s:i}this.min=n,this.max=i}isSeparated(e){return this.min>e.max||e.min>this.max}};Xl.prototype.setFromBox=function(){let e=new L;return function(t,n){let i=n.min,r=n.max,o=1/0,a=-1/0;for(let s=0;s<=1;s++)for(let l=0;l<=1;l++)for(let c=0;c<=1;c++){e.x=i.x*s+r.x*(1-s),e.y=i.y*l+r.y*(1-l),e.z=i.z*c+r.z*(1-c);let d=t.dot(e);o=Math.min(d,o),a=Math.max(d,a)}this.min=o,this.max=a}}();var SLe=function(){let e=new Xl;return function(t,n){let i=t.points,r=t.satAxes,o=t.satBounds,a=n.points,s=n.satAxes,l=n.satBounds;for(let c=0;c<3;c++){let d=o[c],u=r[c];if(e.setFromPoints(u,a),d.isSeparated(e))return!1}for(let c=0;c<3;c++){let d=l[c],u=s[c];if(e.setFromPoints(u,i),d.isSeparated(e))return!1}}}(),t1e=function(){let e=new L,t=new L,n=new L;return function(i,r,o){let a=i.start,s=e,l=r.start,c=t;n.subVectors(a,l),e.subVectors(i.end,i.start),t.subVectors(r.end,r.start);let d=n.dot(c),u=c.dot(s),h=c.dot(c),p=n.dot(s),m=s.dot(s)*h-u*u,g,v;m!==0?g=(d*u-p*h)/m:g=0,v=(d+g*u)/h,o.x=g,o.y=v}}(),_T=function(){let e=new oe,t=new L,n=new L;return function(i,r,o,a){t1e(i,r,e);let s=e.x,l=e.y;if(s>=0&&s<=1&&l>=0&&l<=1){i.at(s,o),r.at(l,a);return}else if(s>=0&&s<=1){l<0?r.at(0,a):r.at(1,a),i.closestPointToPoint(a,!0,o);return}else if(l>=0&&l<=1){s<0?i.at(0,o):i.at(1,o),r.closestPointToPoint(o,!0,a);return}else{let c;s<0?c=i.start:c=i.end;let d;l<0?d=r.start:d=r.end;let u=t,h=n;if(i.closestPointToPoint(d,!0,t),r.closestPointToPoint(c,!0,n),u.distanceToSquared(d)<=h.distanceToSquared(c)){o.copy(u),a.copy(d);return}else{o.copy(c),a.copy(h);return}}}}(),n1e=function(){let e=new L,t=new L,n=new Fa,i=new vs;return function(r,o){let{radius:a,center:s}=r,{a:l,b:c,c:d}=o;if(i.start=l,i.end=c,i.closestPointToPoint(s,!0,e).distanceTo(s)<=a||(i.start=l,i.end=d,i.closestPointToPoint(s,!0,e).distanceTo(s)<=a)||(i.start=c,i.end=d,i.closestPointToPoint(s,!0,e).distanceTo(s)<=a))return!0;let u=o.getPlane(n);if(Math.abs(u.distanceToPoint(s))<=a){let h=u.projectPoint(s,t);if(o.containsPoint(h))return!0}return!1}}(),i1e=1e-15;function Um(e){return Math.abs(e)<i1e}var ed=class extends Xr{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new L),this.satBounds=new Array(4).fill().map(()=>new Xl),this.points=[this.a,this.b,this.c],this.sphere=new ua,this.plane=new Fa,this.needsUpdate=!0}intersectsSphere(e){return n1e(e,this)}update(){let e=this.a,t=this.b,n=this.c,i=this.points,r=this.satAxes,o=this.satBounds,a=r[0],s=o[0];this.getNormal(a),s.setFromPoints(a,i);let l=r[1],c=o[1];l.subVectors(e,t),c.setFromPoints(l,i);let d=r[2],u=o[2];d.subVectors(t,n),u.setFromPoints(d,i);let h=r[3],p=o[3];h.subVectors(n,e),p.setFromPoints(h,i),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(a,e),this.needsUpdate=!1}};ed.prototype.closestPointToSegment=function(){let e=new L,t=new L,n=new vs;return function(i,r=null,o=null){let{start:a,end:s}=i,l=this.points,c,d=1/0;for(let u=0;u<3;u++){let h=(u+1)%3;n.start.copy(l[u]),n.end.copy(l[h]),_T(n,i,e,t),c=e.distanceToSquared(t),c<d&&(d=c,r&&r.copy(e),o&&o.copy(t))}return this.closestPointToPoint(a,e),c=a.distanceToSquared(e),c<d&&(d=c,r&&r.copy(e),o&&o.copy(a)),this.closestPointToPoint(s,e),c=s.distanceToSquared(e),c<d&&(d=c,r&&r.copy(e),o&&o.copy(s)),Math.sqrt(d)}}();ed.prototype.intersectsTriangle=function(){let e=new ed,t=new Array(3),n=new Array(3),i=new Xl,r=new Xl,o=new L,a=new L,s=new L,l=new L,c=new vs,d=new vs,u=new vs;return function(h,p=null,m=!1){this.needsUpdate&&this.update(),h.isExtendedTriangle?h.needsUpdate&&h.update():(e.copy(h),e.update(),h=e);let g=this.plane,v=h.plane;if(Math.abs(g.normal.dot(v.normal))>1-1e-10){let b=this.satBounds,_=this.satAxes;n[0]=h.a,n[1]=h.b,n[2]=h.c;for(let P=0;P<4;P++){let x=b[P],E=_[P];if(i.setFromPoints(E,n),x.isSeparated(i))return!1}let C=h.satBounds,M=h.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let P=0;P<4;P++){let x=C[P],E=M[P];if(i.setFromPoints(E,t),x.isSeparated(i))return!1}for(let P=0;P<4;P++){let x=_[P];for(let E=0;E<4;E++){let O=M[E];if(o.crossVectors(x,O),i.setFromPoints(o,t),r.setFromPoints(o,n),i.isSeparated(r))return!1}}return p&&(m||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),p.start.set(0,0,0),p.end.set(0,0,0)),!0}else{let b=this.points,_=!1,C=0;for(let R=0;R<3;R++){let k=b[R],z=b[(R+1)%3];c.start.copy(k),c.end.copy(z),c.delta(a);let W=_?d.start:d.end,N=Um(v.distanceToPoint(k));if(Um(v.normal.dot(a))&&N){d.copy(c),C=2;break}if((v.intersectLine(c,W)||N)&&!Um(W.distanceTo(z))){if(C++,_)break;_=!0}}if(C===1&&h.containsPoint(d.end))return p&&(p.start.copy(d.end),p.end.copy(d.end)),!0;if(C!==2)return!1;let M=h.points,P=!1,x=0;for(let R=0;R<3;R++){let k=M[R],z=M[(R+1)%3];c.start.copy(k),c.end.copy(z),c.delta(s);let W=P?u.start:u.end,N=Um(g.distanceToPoint(k));if(Um(g.normal.dot(s))&&N){u.copy(c),x=2;break}if((g.intersectLine(c,W)||N)&&!Um(W.distanceTo(z))){if(x++,P)break;P=!0}}if(x===1&&this.containsPoint(u.end))return p&&(p.start.copy(u.end),p.end.copy(u.end)),!0;if(x!==2)return!1;if(d.delta(a),u.delta(s),a.dot(s)<0){let R=u.start;u.start=u.end,u.end=R}let E=d.start.dot(a),O=d.end.dot(a),S=u.start.dot(a),D=u.end.dot(a),I=O<S,T=E<D;return E!==D&&S!==O&&I===T?!1:(p&&(l.subVectors(d.start,u.start),l.dot(a)>0?p.start.copy(d.start):p.start.copy(u.start),l.subVectors(d.end,u.end),l.dot(a)<0?p.end.copy(d.end):p.end.copy(u.end)),!0)}}}();ed.prototype.distanceToPoint=function(){let e=new L;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}();ed.prototype.distanceToTriangle=function(){let e=new L,t=new L,n=["a","b","c"],i=new vs,r=new vs;return function(o,a=null,s=null){let l=a||s?i:null;if(this.intersectsTriangle(o,l))return(a||s)&&(a&&l.getCenter(a),s&&l.getCenter(s)),0;let c=1/0;for(let d=0;d<3;d++){let u,h=n[d],p=o[h];this.closestPointToPoint(p,e),u=p.distanceToSquared(e),u<c&&(c=u,a&&a.copy(e),s&&s.copy(p));let m=this[h];o.closestPointToPoint(m,e),u=m.distanceToSquared(e),u<c&&(c=u,a&&a.copy(m),s&&s.copy(e))}for(let d=0;d<3;d++){let u=n[d],h=n[(d+1)%3];i.set(this[u],this[h]);for(let p=0;p<3;p++){let m=n[p],g=n[(p+1)%3];r.set(o[m],o[g]),_T(i,r,e,t);let v=e.distanceToSquared(t);v<c&&(c=v,a&&a.copy(e),s&&s.copy(t))}}return Math.sqrt(c)}}();var Ql=class{constructor(e,t,n){this.isOrientedBox=!0,this.min=new L,this.max=new L,this.matrix=new Be,this.invMatrix=new Be,this.points=new Array(8).fill().map(()=>new L),this.satAxes=new Array(3).fill().map(()=>new L),this.satBounds=new Array(3).fill().map(()=>new Xl),this.alignedSatBounds=new Array(3).fill().map(()=>new Xl),this.needsUpdate=!1,e&&this.min.copy(e),t&&this.max.copy(t),n&&this.matrix.copy(n)}set(e,t,n){this.min.copy(e),this.max.copy(t),this.matrix.copy(n),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}};Ql.prototype.update=function(){return function(){let e=this.matrix,t=this.min,n=this.max,i=this.points;for(let l=0;l<=1;l++)for(let c=0;c<=1;c++)for(let d=0;d<=1;d++){let u=1*l|2*c|4*d,h=i[u];h.x=l?n.x:t.x,h.y=c?n.y:t.y,h.z=d?n.z:t.z,h.applyMatrix4(e)}let r=this.satBounds,o=this.satAxes,a=i[0];for(let l=0;l<3;l++){let c=o[l],d=r[l],u=1<<l,h=i[u];c.subVectors(a,h),d.setFromPoints(c,i)}let s=this.alignedSatBounds;s[0].setFromPointsField(i,"x"),s[1].setFromPointsField(i,"y"),s[2].setFromPointsField(i,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}();Ql.prototype.intersectsBox=function(){let e=new Xl;return function(t){this.needsUpdate&&this.update();let n=t.min,i=t.max,r=this.satBounds,o=this.satAxes,a=this.alignedSatBounds;if(e.min=n.x,e.max=i.x,a[0].isSeparated(e)||(e.min=n.y,e.max=i.y,a[1].isSeparated(e))||(e.min=n.z,e.max=i.z,a[2].isSeparated(e)))return!1;for(let s=0;s<3;s++){let l=o[s],c=r[s];if(e.setFromBox(l,t),c.isSeparated(e))return!1}return!0}}();Ql.prototype.intersectsTriangle=function(){let e=new ed,t=new Array(3),n=new Xl,i=new Xl,r=new L;return function(o){this.needsUpdate&&this.update(),o.isExtendedTriangle?o.needsUpdate&&o.update():(e.copy(o),e.update(),o=e);let a=this.satBounds,s=this.satAxes;t[0]=o.a,t[1]=o.b,t[2]=o.c;for(let u=0;u<3;u++){let h=a[u],p=s[u];if(n.setFromPoints(p,t),h.isSeparated(n))return!1}let l=o.satBounds,c=o.satAxes,d=this.points;for(let u=0;u<3;u++){let h=l[u],p=c[u];if(n.setFromPoints(p,d),h.isSeparated(n))return!1}for(let u=0;u<3;u++){let h=s[u];for(let p=0;p<4;p++){let m=c[p];if(r.crossVectors(h,m),n.setFromPoints(r,t),i.setFromPoints(r,d),n.isSeparated(i))return!1}}return!0}}();Ql.prototype.closestPointToPoint=function(){return function(e,t){return this.needsUpdate&&this.update(),t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t}}();Ql.prototype.distanceToPoint=function(){let e=new L;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}();Ql.prototype.distanceToBox=function(){let e=["x","y","z"],t=new Array(12).fill().map(()=>new vs),n=new Array(12).fill().map(()=>new vs),i=new L,r=new L;return function(o,a=0,s=null,l=null){if(this.needsUpdate&&this.update(),this.intersectsBox(o))return(s||l)&&(o.getCenter(r),this.closestPointToPoint(r,i),o.closestPointToPoint(i,r),s&&s.copy(i),l&&l.copy(r)),0;let c=a*a,d=o.min,u=o.max,h=this.points,p=1/0;for(let g=0;g<8;g++){let v=h[g];r.copy(v).clamp(d,u);let b=v.distanceToSquared(r);if(b<p&&(p=b,s&&s.copy(v),l&&l.copy(r),b<c))return Math.sqrt(b)}let m=0;for(let g=0;g<3;g++)for(let v=0;v<=1;v++)for(let b=0;b<=1;b++){let _=(g+1)%3,C=(g+2)%3,M=v<<_|b<<C,P=1<<g|v<<_|b<<C,x=h[M],E=h[P];t[m].set(x,E);let O=e[g],S=e[_],D=e[C],I=n[m],T=I.start,R=I.end;T[O]=d[O],T[S]=v?d[S]:u[S],T[D]=b?d[D]:u[S],R[O]=u[O],R[S]=v?d[S]:u[S],R[D]=b?d[D]:u[S],m++}for(let g=0;g<=1;g++)for(let v=0;v<=1;v++)for(let b=0;b<=1;b++){r.x=g?u.x:d.x,r.y=v?u.y:d.y,r.z=b?u.z:d.z,this.closestPointToPoint(r,i);let _=r.distanceToSquared(i);if(_<p&&(p=_,s&&s.copy(i),l&&l.copy(r),_<c))return Math.sqrt(_)}for(let g=0;g<12;g++){let v=t[g];for(let b=0;b<12;b++){let _=n[b];_T(v,_,i,r);let C=i.distanceToSquared(r);if(C<p&&(p=C,s&&s.copy(i),l&&l.copy(r),C<c))return Math.sqrt(C)}}return Math.sqrt(p)}}();var jm=new L,Hm=new L,Gm=new L,tC=new oe,nC=new oe,iC=new oe,tz=new L,nz=new L,iz=new L,rC=new L;function r1e(e,t,n,i,r,o){let a;return o===Ir?a=e.intersectTriangle(i,n,t,!0,r):a=e.intersectTriangle(t,n,i,o!==la,r),a===null?null:{distance:e.origin.distanceTo(r),point:r.clone()}}function o1e(e,t,n,i,r,o,a,s,l){jm.fromBufferAttribute(t,o),Hm.fromBufferAttribute(t,a),Gm.fromBufferAttribute(t,s);let c=r1e(e,jm,Hm,Gm,rC,l);if(c){i&&(tC.fromBufferAttribute(i,o),nC.fromBufferAttribute(i,a),iC.fromBufferAttribute(i,s),c.uv=Xr.getInterpolation(rC,jm,Hm,Gm,tC,nC,iC,new oe)),r&&(tC.fromBufferAttribute(r,o),nC.fromBufferAttribute(r,a),iC.fromBufferAttribute(r,s),c.uv1=Xr.getInterpolation(rC,jm,Hm,Gm,tC,nC,iC,new oe)),n&&(tz.fromBufferAttribute(n,o),nz.fromBufferAttribute(n,a),iz.fromBufferAttribute(n,s),c.normal=Xr.getInterpolation(rC,jm,Hm,Gm,tz,nz,iz,new L),c.normal.dot(e.direction)>0&&c.normal.multiplyScalar(-1));let d={a:o,b:a,c:s,normal:new L,materialIndex:0};Xr.getNormal(jm,Hm,Gm,d.normal),c.face=d,c.faceIndex=o}return c}function KU(e,t,n,i,r){let o=i*3,a=e.index.getX(o),s=e.index.getX(o+1),l=e.index.getX(o+2),{position:c,normal:d,uv:u,uv1:h}=e.attributes,p=o1e(n,c,d,u,h,a,s,l,t);return p?(p.faceIndex=i,r&&r.push(p),p):null}function a1e(e,t,n,i,r,o){for(let a=i,s=i+r;a<s;a++)KU(e,t,n,a,o)}function s1e(e,t,n,i,r){let o=1/0,a=null;for(let s=i,l=i+r;s<l;s++){let c=KU(e,t,n,s);c&&c.distance<o&&(a=c,o=c.distance)}return a}function Fl(e,t,n,i){let r=e.a,o=e.b,a=e.c,s=t,l=t+1,c=t+2;n&&(s=n.getX(t),l=n.getX(t+1),c=n.getX(t+2)),r.x=i.getX(s),r.y=i.getY(s),r.z=i.getZ(s),o.x=i.getX(l),o.y=i.getY(l),o.z=i.getZ(l),a.x=i.getX(c),a.y=i.getY(c),a.z=i.getZ(c)}function rz(e,t,n,i,r,o,a){let s=n.index,l=n.attributes.position;for(let c=e,d=t+e;c<d;c++)if(Fl(a,c*3,s,l),a.needsUpdate=!0,i(a,c,r,o))return!0;return!1}var JU=class{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){let e=this._primitives;return e.length===0?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}};function Qd(e,t){return t[e+15]===65535}function xf(e,t){return t[e+6]}function cy(e,t){return t[e+14]}function dy(e){return e+8}function uy(e,t){return t[e+6]}function l1e(e,t){return t[e+7]}var gf=new ji,GM=new L,c1e=["x","y","z"];function BD(e,t,n,i,r){let o=e*2,a=lg,s=lu,l=cu;if(Qd(o,s)){let c=xf(e,l),d=cy(o,s);a1e(t,n,i,c,d,r)}else{let c=dy(e);WM(c,a,i,GM)&&BD(c,t,n,i,r);let d=uy(e,l);WM(d,a,i,GM)&&BD(d,t,n,i,r)}}function VD(e,t,n,i){let r=e*2,o=lg,a=lu,s=cu;if(Qd(r,a)){let l=xf(e,s),c=cy(r,a);return s1e(t,n,i,l,c)}else{let l=l1e(e,s),c=c1e[l],d=i.direction[c]>=0,u,h;d?(u=dy(e),h=uy(e,s)):(u=uy(e,s),h=dy(e));let p=WM(u,o,i,GM)?VD(u,t,n,i):null;if(p){let g=p.point[c];if(d?g<=o[h+l]:g>=o[h+l+3])return p}let m=WM(h,o,i,GM)?VD(h,t,n,i):null;return p&&m?p.distance<=m.distance?p:m:p||m||null}}var d1e=function(){let e,t,n=[],i=new JU(()=>new ji);return function(...o){e=i.getPrimitive(),t=i.getPrimitive(),n.push(e,t);let a=r(...o);i.releasePrimitive(e),i.releasePrimitive(t),n.pop(),n.pop();let s=n.length;return s>0&&(t=n[s-1],e=n[s-2]),a};function r(o,a,s,l,c=null,d=0,u=0){function h(_){let C=_*2,M=lu,P=cu;for(;!Qd(C,M);)_=dy(_),C=_*2;return xf(_,P)}function p(_){let C=_*2,M=lu,P=cu;for(;!Qd(C,M);)_=uy(_,P),C=_*2;return xf(_,P)+cy(C,M)}let m=o*2,g=lg,v=lu,b=cu;if(Qd(m,v)){let _=xf(o,b),C=cy(m,v);return Bl(o,g,e),l(_,C,!1,u,d+o,e)}else{let _=dy(o),C=uy(o,b),M=_,P=C,x,E,O,S;if(c&&(O=e,S=t,Bl(M,g,O),Bl(P,g,S),x=c(O),E=c(S),E<x)){M=C,P=_;let W=x;x=E,E=W,O=S}O||(O=e,Bl(M,g,O));let D=Qd(M*2,v),I=s(O,D,x,u+1,d+M),T;if(I===2){let W=h(M),N=p(M)-W;T=l(W,N,!0,u+1,d+M,O)}else T=I&&r(M,a,s,l,c,d,u+1);if(T)return!0;S=t,Bl(P,g,S);let R=Qd(P*2,v),k=s(S,R,E,u+1,d+P),z;if(k===2){let W=h(P),N=p(P)-W;z=l(W,N,!0,u+1,d+P,S)}else z=k&&r(P,a,s,l,c,d,u+1);return!!z}}}(),u1e=function(){let e=new ed,t=new ed,n=new Be,i=new Ql,r=new Ql;return function o(a,s,l,c,d=null){let u=a*2,h=lg,p=lu,m=cu;if(d===null&&(l.boundingBox||l.computeBoundingBox(),i.set(l.boundingBox.min,l.boundingBox.max,c),d=i),Qd(u,p)){let g=s,v=g.index,b=g.attributes.position,_=l.index,C=l.attributes.position,M=xf(a,m),P=cy(u,p);if(n.copy(c).invert(),l.boundsTree)return Bl(a,h,r),r.matrix.copy(n),r.needsUpdate=!0,l.boundsTree.shapecast({intersectsBounds:x=>r.intersectsBox(x),intersectsTriangle:x=>{x.a.applyMatrix4(c),x.b.applyMatrix4(c),x.c.applyMatrix4(c),x.needsUpdate=!0;for(let E=M*3,O=(P+M)*3;E<O;E+=3)if(Fl(t,E,v,b),t.needsUpdate=!0,x.intersectsTriangle(t))return!0;return!1}});for(let x=M*3,E=P+M*3;x<E;x+=3){Fl(e,x,v,b),e.a.applyMatrix4(n),e.b.applyMatrix4(n),e.c.applyMatrix4(n),e.needsUpdate=!0;for(let O=0,S=_.count;O<S;O+=3)if(Fl(t,O,_,C),t.needsUpdate=!0,e.intersectsTriangle(t))return!0}}else{let g=a+8,v=m[a+6];return Bl(g,h,gf),!!(d.intersectsBox(gf)&&o(g,s,l,c,d)||(Bl(v,h,gf),d.intersectsBox(gf)&&o(v,s,l,c,d)))}}}();function WM(e,t,n,i){return Bl(e,t,gf),n.intersectBox(gf,i)}var UD=[],qC,lg,lu,cu;function Sv(e){qC&&UD.push(qC),qC=e,lg=new Float32Array(e),lu=new Uint16Array(e),cu=new Uint32Array(e)}function oC(){qC=null,lg=null,lu=null,cu=null,UD.length&&Sv(UD.pop())}var CE=Symbol("skip tree generation"),ME=new ji,wE=new ji,Wm=new Be,wh=new Ql,av=new Ql,sv=new L,aC=new L,h1e=new L,p1e=new L,m1e=new L,oz=new ji,wl=new JU(()=>new ed),Uv=class{static serialize(e,t={}){if(t.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),Uv.serialize(arguments[0],{cloneBuffers:arguments[2]===void 0?!0:arguments[2]});t=B({cloneBuffers:!0},t);let n=e.geometry,i=e._roots,r=n.getIndex(),o;return t.cloneBuffers?o={roots:i.map(a=>a.slice()),index:r.array.slice()}:o={roots:i,index:r.array},o}static deserialize(e,t,n={}){if(typeof n=="boolean")return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),Uv.deserialize(arguments[0],arguments[1],{setIndex:arguments[2]===void 0?!0:arguments[2]});n=B({setIndex:!0},n);let{index:i,roots:r}=e,o=new Uv(t,se(B({},n),{[CE]:!0}));if(o._roots=r,n.setIndex){let a=t.getIndex();if(a===null){let s=new St(e.index,1,!1);t.setIndex(s)}else a.array!==i&&(a.array.set(i),a.needsUpdate=!0)}return o}constructor(e,t={}){if(e.isBufferGeometry){if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(t=Object.assign({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[CE]:!1},t),t.useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,t[CE]||(this._roots=e1e(e,t),!e.boundingBox&&t.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new ji))),this.geometry=e}refit(e=null){e&&Array.isArray(e)&&(e=new Set(e));let t=this.geometry,n=t.index.array,i=t.attributes.position,r,o,a,s,l=0,c=this._roots;for(let u=0,h=c.length;u<h;u++)r=c[u],o=new Uint32Array(r),a=new Uint16Array(r),s=new Float32Array(r),d(0,l),l+=r.byteLength;function d(u,h,p=!1){let m=u*2;if(a[m+15]===65535){let g=o[u+6],v=a[m+14],b=1/0,_=1/0,C=1/0,M=-1/0,P=-1/0,x=-1/0;for(let E=3*g,O=3*(g+v);E<O;E++){let S=n[E],D=i.getX(S),I=i.getY(S),T=i.getZ(S);D<b&&(b=D),D>M&&(M=D),I<_&&(_=I),I>P&&(P=I),T<C&&(C=T),T>x&&(x=T)}return s[u+0]!==b||s[u+1]!==_||s[u+2]!==C||s[u+3]!==M||s[u+4]!==P||s[u+5]!==x?(s[u+0]=b,s[u+1]=_,s[u+2]=C,s[u+3]=M,s[u+4]=P,s[u+5]=x,!0):!1}else{let g=u+8,v=o[u+6],b=g+h,_=v+h,C=p,M=!1,P=!1;e?C||(M=e.has(b),P=e.has(_),C=!M&&!P):(M=!0,P=!0);let x=C||M,E=C||P,O=!1;x&&(O=d(g,h,C));let S=!1;E&&(S=d(v,h,C));let D=O||S;if(D)for(let I=0;I<3;I++){let T=g+I,R=v+I,k=s[T],z=s[T+3],W=s[R],N=s[R+3];s[u+I]=k<W?k:W,s[u+I+3]=z>N?z:N}return D}}}traverse(e,t=0){let n=this._roots[t],i=new Uint32Array(n),r=new Uint16Array(n);o(0);function o(a,s=0){let l=a*2,c=r[l+15]===65535;if(c){let d=i[a+6],u=r[l+14];e(s,c,new Float32Array(n,a*4,6),d,u)}else{let d=a+8,u=i[a+6],h=i[a+7];e(s,c,new Float32Array(n,a*4,6),h)||(o(d,s+1),o(u,s+1))}}}raycast(e,t=Ys){let n=this._roots,i=this.geometry,r=[],o=t.isMaterial,a=Array.isArray(t),s=i.groups,l=o?t.side:t;for(let c=0,d=n.length;c<d;c++){let u=a?t[s[c].materialIndex].side:l,h=r.length;if(Sv(n[c]),BD(0,i,u,e,r),oC(),a){let p=s[c].materialIndex;for(let m=h,g=r.length;m<g;m++)r[m].face.materialIndex=p}}return r}raycastFirst(e,t=Ys){let n=this._roots,i=this.geometry,r=t.isMaterial,o=Array.isArray(t),a=null,s=i.groups,l=r?t.side:t;for(let c=0,d=n.length;c<d;c++){let u=o?t[s[c].materialIndex].side:l;Sv(n[c]);let h=VD(0,i,u,e);oC(),h!=null&&(a==null||h.distance<a.distance)&&(a=h,o&&(h.face.materialIndex=s[c].materialIndex))}return a}intersectsGeometry(e,t){let n=this.geometry,i=!1;for(let r of this._roots)if(Sv(r),i=u1e(0,n,e,t),oC(),i)break;return i}shapecast(e,t,n){let i=this.geometry;if(e instanceof Function){if(t){let u=t;t=(h,p,m,g)=>{let v=p*3;return u(h,v,v+1,v+2,m,g)}}e={boundsTraverseOrder:n,intersectsBounds:e,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}let r=wl.getPrimitive(),{boundsTraverseOrder:o,intersectsBounds:a,intersectsRange:s,intersectsTriangle:l}=e;if(s&&l){let u=s;s=(h,p,m,g,v)=>u(h,p,m,g,v)?!0:rz(h,p,i,l,m,g,r)}else s||(l?s=(u,h,p,m)=>rz(u,h,i,l,p,m,r):s=(u,h,p)=>p);let c=!1,d=0;for(let u of this._roots){if(Sv(u),c=d1e(0,i,a,s,o,d),oC(),c)break;d+=u.byteLength}return wl.releasePrimitive(r),c}bvhcast(e,t,n){let{intersectsRanges:i,intersectsTriangles:r}=n,o=this.geometry.index,a=this.geometry.attributes.position,s=e.geometry.index,l=e.geometry.attributes.position;Wm.copy(t).invert();let c=wl.getPrimitive(),d=wl.getPrimitive();if(r){let h=function(p,m,g,v,b,_,C,M){for(let P=g,x=g+v;P<x;P++){Fl(d,P*3,s,l),d.a.applyMatrix4(t),d.b.applyMatrix4(t),d.c.applyMatrix4(t),d.needsUpdate=!0;for(let E=p,O=p+m;E<O;E++)if(Fl(c,E*3,o,a),c.needsUpdate=!0,r(c,d,E,P,b,_,C,M))return!0}return!1};if(i){let p=i;i=function(m,g,v,b,_,C,M,P){return p(m,g,v,b,_,C,M,P)?!0:h(m,g,v,b,_,C,M,P)}}else i=h}e.getBoundingBox(wE),wE.applyMatrix4(t);let u=this.shapecast({intersectsBounds:h=>wE.intersectsBox(h),intersectsRange:(h,p,m,g,v,b)=>(ME.copy(b),ME.applyMatrix4(Wm),e.shapecast({intersectsBounds:_=>ME.intersectsBox(_),intersectsRange:(_,C,M,P,x)=>i(h,p,_,C,g,v,P,x)}))});return wl.releasePrimitive(c),wl.releasePrimitive(d),u}intersectsBox(e,t){return wh.set(e.min,e.max,t),wh.needsUpdate=!0,this.shapecast({intersectsBounds:n=>wh.intersectsBox(n),intersectsTriangle:n=>wh.intersectsTriangle(n)})}intersectsSphere(e){return this.shapecast({intersectsBounds:t=>e.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(e)})}closestPointToGeometry(e,t,n={},i={},r=0,o=1/0){e.boundingBox||e.computeBoundingBox(),wh.set(e.boundingBox.min,e.boundingBox.max,t),wh.needsUpdate=!0;let a=this.geometry,s=a.attributes.position,l=a.index,c=e.attributes.position,d=e.index,u=wl.getPrimitive(),h=wl.getPrimitive(),p=aC,m=h1e,g=null,v=null;i&&(g=p1e,v=m1e);let b=1/0,_=null,C=null;return Wm.copy(t).invert(),av.matrix.copy(Wm),this.shapecast({boundsTraverseOrder:M=>wh.distanceToBox(M),intersectsBounds:(M,P,x)=>x<b&&x<o?(P&&(av.min.copy(M.min),av.max.copy(M.max),av.needsUpdate=!0),!0):!1,intersectsRange:(M,P)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:x=>av.distanceToBox(x),intersectsBounds:(x,E,O)=>O<b&&O<o,intersectsRange:(x,E)=>{for(let O=x*3,S=(x+E)*3;O<S;O+=3){Fl(h,O,d,c),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let D=M*3,I=(M+P)*3;D<I;D+=3){Fl(u,D,l,s),u.needsUpdate=!0;let T=u.distanceToTriangle(h,p,g);if(T<b&&(m.copy(p),v&&v.copy(g),b=T,_=D/3,C=O/3),T<r)return!0}}}});{let x=d?d.count:c.count;for(let E=0,O=x;E<O;E+=3){Fl(h,E,d,c),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let S=M*3,D=(M+P)*3;S<D;S+=3){Fl(u,S,l,s),u.needsUpdate=!0;let I=u.distanceToTriangle(h,p,g);if(I<b&&(m.copy(p),v&&v.copy(g),b=I,_=S/3,C=E/3),I<r)return!0}}}}}),wl.releasePrimitive(u),wl.releasePrimitive(h),b===1/0?null:(n.point?n.point.copy(m):n.point=m.clone(),n.distance=b,n.faceIndex=_,i&&(i.point?i.point.copy(v):i.point=v.clone(),i.point.applyMatrix4(Wm),m.applyMatrix4(Wm),i.distance=m.sub(i.point).length(),i.faceIndex=C),n)}closestPointToPoint(e,t={},n=0,i=1/0){let r=n*n,o=i*i,a=1/0,s=null;if(this.shapecast({boundsTraverseOrder:c=>(sv.copy(e).clamp(c.min,c.max),sv.distanceToSquared(e)),intersectsBounds:(c,d,u)=>u<a&&u<o,intersectsTriangle:(c,d)=>{c.closestPointToPoint(e,sv);let u=e.distanceToSquared(sv);return u<a&&(aC.copy(sv),a=u,s=d),u<r}}),a===1/0)return null;let l=Math.sqrt(a);return t.point?t.point.copy(aC):t.point=aC.clone(),t.distance=l,t.faceIndex=s,t}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(t=>{Bl(0,new Float32Array(t),oz),e.union(oz)}),e}},lv=id(fne()),f1e=.5*(Math.sqrt(3)-1),cv=(3-Math.sqrt(3))/6,g1e=1/3,xl=1/6,ELe=(Math.sqrt(5)-1)/4,DLe=(5-Math.sqrt(5))/20,jv=e=>Math.floor(e)|0,az=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),xE=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function PE(e=Math.random){let t=ej(e),n=new Float64Array(t).map(r=>az[r%12*2]),i=new Float64Array(t).map(r=>az[r%12*2+1]);return function(r,o){let a=0,s=0,l=0,c=(r+o)*f1e,d=jv(r+c),u=jv(o+c),h=(d+u)*cv,p=d-h,m=u-h,g=r-p,v=o-m,b,_;g>v?(b=1,_=0):(b=0,_=1);let C=g-b+cv,M=v-_+cv,P=g-1+2*cv,x=v-1+2*cv,E=d&255,O=u&255,S=.5-g*g-v*v;if(S>=0){let T=E+t[O],R=n[T],k=i[T];S*=S,a=S*S*(R*g+k*v)}let D=.5-C*C-M*M;if(D>=0){let T=E+b+t[O+_],R=n[T],k=i[T];D*=D,s=D*D*(R*C+k*M)}let I=.5-P*P-x*x;if(I>=0){let T=E+1+t[O+1],R=n[T],k=i[T];I*=I,l=I*I*(R*P+k*x)}return 70*(a+s+l)}}function v1e(e=Math.random){let t=ej(e),n=new Float64Array(t).map(o=>xE[o%12*3]),i=new Float64Array(t).map(o=>xE[o%12*3+1]),r=new Float64Array(t).map(o=>xE[o%12*3+2]);return function(o,a,s){let l,c,d,u,h=(o+a+s)*g1e,p=jv(o+h),m=jv(a+h),g=jv(s+h),v=(p+m+g)*xl,b=p-v,_=m-v,C=g-v,M=o-b,P=a-_,x=s-C,E,O,S,D,I,T;M>=P?P>=x?(E=1,O=0,S=0,D=1,I=1,T=0):M>=x?(E=1,O=0,S=0,D=1,I=0,T=1):(E=0,O=0,S=1,D=1,I=0,T=1):P<x?(E=0,O=0,S=1,D=0,I=1,T=1):M<x?(E=0,O=1,S=0,D=0,I=1,T=1):(E=0,O=1,S=0,D=1,I=1,T=0);let R=M-E+xl,k=P-O+xl,z=x-S+xl,W=M-D+2*xl,N=P-I+2*xl,F=x-T+2*xl,X=M-1+3*xl,V=P-1+3*xl,G=x-1+3*xl,Y=p&255,ie=m&255,te=g&255,ne=.6-M*M-P*P-x*x;if(ne<0)l=0;else{let Me=Y+t[ie+t[te]];ne*=ne,l=ne*ne*(n[Me]*M+i[Me]*P+r[Me]*x)}let re=.6-R*R-k*k-z*z;if(re<0)c=0;else{let Me=Y+E+t[ie+O+t[te+S]];re*=re,c=re*re*(n[Me]*R+i[Me]*k+r[Me]*z)}let ye=.6-W*W-N*N-F*F;if(ye<0)d=0;else{let Me=Y+D+t[ie+I+t[te+T]];ye*=ye,d=ye*ye*(n[Me]*W+i[Me]*N+r[Me]*F)}let he=.6-X*X-V*V-G*G;if(he<0)u=0;else{let Me=Y+1+t[ie+1+t[te+1]];he*=he,u=he*he*(n[Me]*X+i[Me]*V+r[Me]*G)}return 32*(l+c+d+u)}}function ej(e){let t=new Uint8Array(512);for(let n=0;n<512/2;n++)t[n]=n;for(let n=0;n<512/2-1;n++){let i=n+~~(e()*(256-n)),r=t[n];t[n]=t[i],t[i]=r}for(let n=256;n<512;n++)t[n]=t[n-256];return t}var Rs=new Xr,y1e=class{constructor(e){this.weightAttribute=null;let t=e.geometry;if(!t.isBufferGeometry||t.attributes.position.itemSize!==3)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.distribution=null}build(){let e=this.positionAttribute,t=new Float32Array(e.count/3);for(let i=0;i<e.count;i+=3){let r=1;Rs.a.fromBufferAttribute(e,i),Rs.b.fromBufferAttribute(e,i+1),Rs.c.fromBufferAttribute(e,i+2),r*=Rs.getArea(),t[i/3]=r}this.distribution=new Float32Array(e.count/3);let n=0;for(let i=0;i<t.length;i++)n+=t[i],this.distribution[i]=n;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t){if(this.distribution){let n=this.distribution[this.distribution.length-1],i=this.binarySearch(this.randomFunction()*n);return this.sampleFace(i,e,t)}}binarySearch(e){if(!this.distribution)return 0;let t=this.distribution,n=0,i=t.length-1,r=-1;for(;n<=i;){let o=Math.ceil((n+i)/2);if(o===0||t[o-1]<=e&&t[o]>e){r=o;break}else e<t[o]?i=o-1:n=o+1}return r}sampleFace(e,t,n){let i=this.randomFunction(),r=this.randomFunction();return i+r>1&&(i=1-i,r=1-r),Rs.a.fromBufferAttribute(this.positionAttribute,e*3),Rs.b.fromBufferAttribute(this.positionAttribute,e*3+1),Rs.c.fromBufferAttribute(this.positionAttribute,e*3+2),t.set(0,0,0).addScaledVector(Rs.a,i).addScaledVector(Rs.b,r).addScaledVector(Rs.c,1-(i+r)),Rs.getNormal(n),this}},b1e=id(L9()),_1e=new Be,C1e=new Be,M1e=new Be,hy;(e=>{function t(n){return n&&n.__isSPEObject}e.is=t})(hy||(hy={}));var CT=e=>class extends e{constructor(){super(...arguments),this.previousModelViewMatrix=new Be,this.copyPreviousMatrix=!0,this.hiddenMatrix=new Be,this.matrixWorldRigid=new Be,this.shearScale=new Be,this.shearScaleInv=new Be}get __isSPEObject(){return!0}isDescendantOf(t){t instanceof qn&&(t=t.uuid);let n=this;for(;n.parent;){if(n.parent.uuid===t)return!0;n=n.parent}return!1}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);for(let n of this.children)n.updateMatrixWorld(t)}updateWorldMatrix(t,n){let i=this.parent;if(t&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),n)for(let r of this.children)r.updateWorldMatrix(!1,!0)}traverseChildren(t,n=0){for(let i of this.children)hy.is(i)&&i.traverseObject(t,n+1)}traverseObject(t,n=0){if(t(this,n)!==!0)for(let i of this.children)hy.is(i)&&i.traverseObject(t,n+1)}updateMatrixWorldSVD(){let t=this.matrixWorld.elements,n=[[t[0],t[4],t[8]],[t[1],t[5],t[9]],[t[2],t[6],t[10]]],{u:i,v:r,q:o}=(0,b1e.SVD)(n),a=_1e.set(i[0][0],i[0][1],i[0][2],0,i[1][0],i[1][1],i[1][2],0,i[2][0],i[2][1],i[2][2],0,0,0,0,1),s=C1e.set(r[0][0],r[0][1],r[0][2],0,r[1][0],r[1][1],r[1][2],0,r[2][0],r[2][1],r[2][2],0,0,0,0,1),l=M1e.copy(s).transpose();this.shearScale.makeScale(o[0],o[1],o[2]).multiply(l).premultiply(s),this.shearScaleInv.copy(this.shearScale).invert(),this.matrixWorldRigid.multiplyMatrices(a,l).copyPosition(this.matrixWorld),o.every(c=>Math.abs(o[0]-c)<.01)?this.hasNonUniformScale=!1:this.hasNonUniformScale=!0}attach(t,n){this.updateWorldMatrix(!0,!1);let i=new Be().copy(this.matrixWorld).invert();return t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),i.multiply(t.parent.matrixWorld)),"hiddenMatrix"in t&&t.hiddenMatrix instanceof Be?t.hiddenMatrix.premultiply(i):t.applyMatrix4(i),t.updateWorldMatrix(!1,!1),this.add(t),n!==void 0&&(this.children.pop(),this.children.splice(n,0,t)),this}copy(t,n=!1){return super.copy(t,n),this.hasNonUniformScale=t.hasNonUniformScale,this}onAfterRender(t,n,i,r,o,a){this.copyPreviousMatrix&&this.previousModelViewMatrix.copy(this.modelViewMatrix)}},w1e=class extends CT(qn){},x1e=e=>e.type==="Mesh",yo=class extends w1e{constructor(e){super(),this.object=e,this.matrixAutoUpdate=!1,this.hasNonUniformScale=e.hasNonUniformScale}raycast(e,t){}expand(){let e=0,t=this.object.entityChildren(e);for(;t;){let n=this.children[e];n?.object!==t&&(n&&this.remove(n),n=new yo(t),this.add(n),this.children.splice(e,0,this.children.pop()),n.matrixWorldNeedsUpdate=!0,n.matrixAutoUpdate=!1,n.matrix=t.matrix,n.hiddenMatrix=t.hiddenMatrix),n.expand(),e+=1,t=this.object.entityChildren(e)}for(;this.children.length>e;)this.remove(this.children[e])}get visible(){return this.playModeVisible!==void 0?this.playModeVisible:this.object.visible||this.object.dataPatched.visible&&this.object.dataPatched.cloner?.hideBase===!0}set visible(e){}get castShadow(){return this.object.castShadow}set castShadow(e){}get receiveShadow(){return this.object.receiveShadow}set receiveShadow(e){}get isMesh(){return x1e(this.object)}get isLight(){return this.object.isLight}get layers(){return this.object.layers}set layers(e){}get isCamera(){return!1}get geometry(){if(this.object.geometry)return this.object.geometry}get material(){if(this.object.material)return this.object.material}},Th=new L,Ih=new L,Pf=new Be,tj=[new L(-1,1,1),new L(-1,-1,1),new L(1,-1,1),new L(1,1,1),new L(-1,1,-1),new L(-1,-1,-1),new L(1,-1,-1),new L(1,1,-1)],P1e=[[0,3],[1,2],[5,6],[4,7],[0,1],[3,2],[7,6],[4,5],[0,4],[1,5],[2,6],[3,7]],O1e=[[0,2],[7,5],[4,1],[3,6],[4,3],[1,6]],sz=(e,t,n)=>{e.updateEntityBoxSize(Th,Ih),Pf.copy(t).multiply(e.matrixWorld),Ih.x===0&&Ih.y===0&&Ih.z===0?n.push(new L(Th.x,Th.y,Th.z).applyMatrix4(Pf)):tj.forEach(i=>{n.push(i.clone().multiply(Ih).add(Th).applyMatrix4(Pf))})},lz=class extends ji{constructor(){super(...arguments),this.matrix=new Be,this.vertices=[],this.faces=[],this.edges=[],this.centerEdges=[]}copy(e){return super.copy(e),this.matrix.copy(e.matrix),this.vertices=e.vertices.map(t=>t.clone()),this.faces=e.faces.map(t=>t.clone()),this.edges=e.edges.map(t=>t.clone()),this.centerEdges=e.centerEdges.map(t=>t.clone()),this}setFromObjectSize(e,t=!1){e.updateWorldMatrix(!1,t),this.makeEmpty(),this.matrix.copy(e.matrixWorld);let n=new Be().copy(e.matrixWorld).invert();return this.expandByObjectSize(e,n,t)}expandByObjectSize(e,t,n=!1){let i=[];return n===!0?e.traverseEntity(r=>{if(r.visible||r.cloner&&r.data.visible){if(!("geometry"in r)){i.push(new L);return}sz(r,t,i)}}):sz(e,t,i),this.setFromPoints(i)}getCenter(e){return e=super.getCenter(e),e.applyMatrix4(this.matrix),e}getPositionToCenter(e){return e=super.getCenter(e),e.applyMatrix4(Pf.copy(this.matrix).setPosition(0,0,0)),e}computeVertices(){this.getSize(Ih).multiplyScalar(.5),this.getCenter(Th),Pf.copy(this.matrix).setPosition(Th),this.vertices=tj.map(e=>e.clone().multiply(Ih).applyMatrix4(Pf))}computeEdges(){this.vertices.length>0&&this.computeVertices(),this.edges=P1e.map(([e,t])=>new vs(this.vertices[e],this.vertices[t])),this.centerEdges=this.edges.map(e=>e.getCenter(new L))}computeFaces(){this.vertices.length>0&&this.computeVertices(),this.faces=O1e.map(([e,t])=>this.vertices[e].clone().add(this.vertices[t]).multiplyScalar(.5))}},nu={Cloner:()=>{},changeEntityProptotype:()=>{},createEntity:()=>{}},S1e=class extends cV{constructor(){super()}getPoints(e=12){let t=[],n,i=this.getCurveLengths(),r=i[i.length-1]/i.length;for(let o=0,a=this.curves;o<a.length;o++){let s=a[o],l=o===0?i[o]:i[o]-i[o-1],c=Math.ceil(e*l/r),d=s.getPoints(c);for(let u=0;u<d.length;u++){let h=d[u];n&&n.equals(h)||(t.push(h),n=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}},jD=.001;function HD(e,t,n){return t.clone().sub(e).cross(t.clone().sub(n)).length()<=jD}function OE(e,t){let n=new L(...e.position),i=new L(...e.controlNext.position),r=new L(...t.controlPrevious.position),o=new L(...t.position);return HD(n,i,o)&&HD(n,r,o)}function nj(e){let t=e.points.map(d=>new L(...d.data.position)),n=[e.points[0]],i=new L(...n[0].data.position);for(let d=0;d<e.points.length-1;d++)HD(i,t[d],t[d+1])||(n.push(e.points[d]),i=t[d]);n.push(e.points[e.points.length-1]);let r=e.isClosed,o=n.length-(r?0:1),a=n.length,s=[];for(let d=0;d<a;d++){let u=n[d].data,h=new L(...u.position),p=new L(...u.controlPrevious.position),m=new L(...u.controlNext.position),g={position:h,baseRoundness:u.roundness,controlPrevious:p,controlNext:m};if(u.roundness===0||!e.isClosed&&(d===0||d===a-1)){s[d]=se(B({},g),{removedLength:0});continue}let v=r&&d==0?a-1:d-1,b=r&&d==a-1?0:d+1,_=n[v].data,C=n[b].data,M=new L(..._.position),P=new L(...C.position),x=M.clone().sub(h).normalize(),E=P.clone().sub(h).normalize();Object.assign(g,{prevDir:x,nextDir:E});let O=OE(_,u),S=OE(u,C);if(!O||!S)s[d]=se(B({},g),{removedLength:0});else{let D=x.clone().add(E).normalize(),I=D.clone().cross(x).length()/x.dot(D);s[d]=se(B({},g),{tan:I,removedLength:u.roundness/I})}}for(let d=0;d<o;d++){let u=d,h=r&&d===a-1?0:d+1,p=s[u],m=s[h];if(p.removedLength!==0||m.removedLength!==0){let g=p.position.distanceTo(m.position);p.removedLength=Math.min(p.removedLength,g/2),m.removedLength=Math.min(m.removedLength,g/2)}}let l=[];for(let d=0;d<o;d++){let u=d,h=r&&d===a-1?0:d+1,p=s[u],m=s[h],g=null;if(!OE(n[u].data,n[h].data))p.position.distanceTo(m.position)>jD&&(g=new UC(p.position,p.controlNext,m.controlPrevious,m.position));else{let v=p.position.clone(),b=m.position.clone();(p.removedLength!==0||m.removedLength!==0)&&(p.nextDir&&v.add(p.nextDir.clone().setLength(p.removedLength)),m.prevDir&&b.add(m.prevDir.clone().setLength(m.removedLength))),v.distanceTo(b)>jD&&(g=new UC(v,v.clone().lerp(b,.3),b.clone().lerp(v,.3),b))}l[2*d+1]=g}for(let d=0;d<a;d++){let u=s[d];if(u.removedLength===0){l[2*d]=null;continue}let h=u.position,p=u.prevDir.clone().multiplyScalar(u.removedLength).add(h),m=u.nextDir.clone().multiplyScalar(u.removedLength).add(h),g=u.tan*u.removedLength,v=u.prevDir.clone().add(u.nextDir).normalize(),b=p.clone().lerp(m,.5),_=p.distanceTo(m)/2,C=v.clone().multiplyScalar(Math.sqrt(Math.pow(g,2)-Math.pow(_,2))).add(b),M=v.clone().multiplyScalar(-g).add(C),P=h.distanceTo(M)/h.distanceTo(b),x=u.prevDir.clone().multiplyScalar(P*h.distanceTo(p)).add(h),E=x.clone().lerp(M,2),O=p.clone().lerp(x,4/3),S=m.clone().lerp(E,4/3);l[2*d]=new UC(p,O,S,m)}let c=new S1e;return l.forEach(d=>{d&&c.add(d)}),c}var yn;(e=>{function t(n){return n&&n.__isEntity}e.is=t})(yn||(yn={}));var Bc=e=>yn.is(e),E1e={type:"completeState",isfromEntity:!0},D1e=["x","y","z"],SE=new L,A1e=new L().set(0,1,0),MT=e=>class extends CT(e){constructor(){super(...arguments),this.raycastLock=!1,this.scaleLock=!1,this.disposed=!1,this.stateSelection=null,this.destroyedInAction=!1,this.instances=[],this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this._singleBBox=new lz,this._recursiveBBox=new lz,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this._needApplyPathSnapping=!0,this.attachedPaths=new Set}get __isEntity(){return!0}entityChildren(t){let n=this.children[t];if(yn.is(n))return n}entityChildrenCount(){let t=this.children.length;for(;t--;)if(yn.is(this.children[t]))return t+1;return 0}get isConcreteEntity(){return typeof this.identity=="string"}get isVirtualEntity(){return typeof this.identity!="string"}get isInstanceRoot(){return this.isConcreteEntity&&this.data.type==="Instance"}nearestInstanceSelfOrParent(){let t=this;for(;t.data.type!=="Instance";){let n=t.parent;if(yn.is(n))t=n;else return}return t}forInstancesRec(t){this.instances.forEach(n=>{n.disposed||t(n),n.forInstancesRec(t)})}super_Entity(t,n){typeof t=="string"&&(this.uuid=t),this.identity=t,this.data=n,this.matrixAutoUpdate=!1,this.dataPatched=this.data}changeSelectedState(t,n,i=!1){if(!(this.data.states.length===0&&!i)){for(let r of this.data.states)Nh.toOps(this.data,r.data).forEach(o=>{let a=xM.replaceProps(o,this.data);this.dataPatched=this.data,this.updateByPatchedOp(a,this.data,n)});if(t!==null){let r=this.data.states.data(t);r&&(this.dataPatched=Nh.patch(this.data,r),Nh.toOps(this.data,r).forEach(o=>{this.updateByPatchedOp(o,this.dataPatched,n)}))}i&&this.updateTransformState(this.dataPatched,n),this.stateSelection=t,this.updatePathSnapping(this.dataPatched.pathSnapping)}}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges(),this._singleBBox.computeFaces()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges(),this._recursiveBBox.computeFaces()),this._recursiveBBox}updateEntityBoxSize(t,n){t.setScalar(0),n.setScalar(0)}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors(t=>{Bc(t)&&t.resetBBoxNeedsUpdateSelf()}),this.traverseEntity(t=>{t.resetBBoxNeedsUpdateSelf()})}find(t){let n;return this.traverseEntity(i=>{i.uuid===t&&(n=i)}),n}traverseSortNextHelper(){let t=this.parent;if(t){let n=t.children,i=n.indexOf(this)+1;if(yn.is(n[i]))return n[i];if(yn.is(t))return t.traverseSortNextHelper()}}sortNext(){let t=this.children;return this.children.length>0&&yn.is(this.children[0])?t[0]:this.traverseSortNextHelper()}goUp(t){let n=this;for(;t>0&&n!==null;)n=n.parent,t-=1;return n}hasAnccestorOrSelf(t){return this===t||this.hasAnccestor(t)}hasAnccestor(t){let n=this.parent;for(;n;){if(t===n)return!0;n=n.parent}return!1}countToAccestor(t){let n=0,i=this;for(;i!==t;){if(i===null)return-1;i=i.parent,n+=1}return n}forEachEntity(t){for(let n of this.children)Bc(n)&&t(n)}traverseEntityAncestors(t){this.traverseAncestors(n=>{yn.is(n)&&t(n)})}traverseConcreteEntity(t,n=0){if(t(this,n)!==!0)for(let i of this.children)Bc(i)&&i.isConcreteEntity&&i.traverseEntity(t,n+1)}traverseEntity(t,n=0){if(t(this,n)!==!0)for(let i of this.children)Bc(i)&&i.traverseEntity(t,n+1)}traverseVisibleEntity(t){t(this);for(let n of this.children)Bc(n)&&n.visible&&n.traverseVisibleEntity(t)}updateMatrix(){super.updateMatrix(),this.cloner&&this.cloner.onObjUpdateMatrix(),this.dispatchEvent({type:"updateMatrix"})}updateMatrixWorld(t){super.updateMatrixWorld(t),this.dispatchEvent({type:"updateMatrixWorld"})}copy(t,n=!1){return super.copy(t,n),this.dataPatched=t.dataPatched,this.raycastLock=t.raycastLock,this.scaleLock=t.scaleLock,this.hiddenMatrix.copy(t.hiddenMatrix),this}hasEntityChild(){return this.children.some(t=>Bc(t))}isAncestorOf(t){if(this.uuid===t)return!1;let n=!1;return this.traverseEntity(i=>{i.uuid===t&&(n=!0)}),n}toObjectTransformState(t=[]){this.updateWorldMatrix(!0,!1);let n={position:this.position.toArray(),rotation:[this.rotation.x*et.RAD2DEG,this.rotation.y*et.RAD2DEG,this.rotation.z*et.RAD2DEG],scale:this.scale.toArray(),hiddenMatrix:this.hiddenMatrix.toArray()};return Z3(n,t)}getTransformValues(t,n,i){return n[t].map((r,o)=>i?.shared.getVariable(r,[this.uuid,t,D1e[o]])??r)}updateTransformState(t,n){let i=!1;return t.position&&(this.position.fromArray(this.getTransformValues("position",t,n)),i=!0),t.rotation&&(SE.fromArray(this.getTransformValues("rotation",t,n)).multiplyScalar(et.DEG2RAD),this.rotation.setFromVector3(SE),i=!0),t.scale&&(this.scale.fromArray(this.getTransformValues("scale",t,n)),i=!0),t.hiddenMatrix!==void 0&&(i=!0,this.hiddenMatrix.fromArray(t.hiddenMatrix??Vf.identity)),i&&(this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(r=>{r.invalidateClonerTransform(this)})),t.position&&t.rotation&&t.scale&&t.hiddenMatrix!==void 0&&this.updateWorldMatrix(!1,!0),i}onVariableUpdate(t=!1){if(t){this.resetBBoxNeedsUpdate();return}this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(n=>{n.invalidateClonerTransform(this)})}dispose(){this.disposed=!0,this.cloner&&(this.cloner.removeFromParent(),this.cloner=void 0)}disposeChildrenRecursively(){for(let t of this.children)yn.is(t)&&t.disposeRecursively()}disposeRecursively(){this.dispose(),this.children.forEach(t=>{yn.is(t)&&t.disposeRecursively()})}toState(t=[]){let n=B({name:this.name,visible:this.visible,raycastLock:this.raycastLock},this.toObjectTransformState(t));return Z3(n,t)}updateByObjUpdateOp(t,n){t!==void 0&&this.updateByOp({type:0,props:t,path:[]},B(B({},this.data),t),n,!1)}updateByOp(t,n,i,r){let o=this.data;this.data=n;let a=t,s=ii(t.path,["states","*"]);if(s!==null){if(t.type===0){let[d]=s;if(this?.stateSelection===d){let u=B({},t.props);if(delete u.name,Object.values(t.props).some(h=>h===void 0)){let h=this.data;if(h!==void 0){let p=Qr.zoom(h,t.path.slice(2));if(p)for(let m in t.props)t.props[m]===void 0&&m in p&&(u[m]=p[m])}}a=se(B({},t),{props:u,path:t.path.slice(2)})}}}else if(t.type===0){let d=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(d!==void 0){if(t.props.name!==void 0&&d.name){let l=d,{name:h}=l;d=wu(l,["name"])}if(t.props.material!==void 0&&"material"in d){let c=d,{material:h}=c;d=wu(c,["material"])}let u=Qr.removeOverridden(t.path,t.props,d);a=se(B({},t),{props:u})}}if(this.updateByPatchedOpBase(a,Nh.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),i),ii(t.path,["overrides"])){let d=[],u=[...t.path];for(d.push(u[1]),u.splice(0,2);u.length>0&&u[0]==="descendants";)d.push(u[1]),u.splice(0,2);if(d[d.length-1]===void 0){if(t.type===0)for(let h of Object.keys(t.props)){d[d.length-1]=h;let p=i.scene.findInstance([this.uuid,...d]);p&&(p.overrideData=t.props[h],p.updateState(au.apply(p.component.data,p.overrideData),i))}}else{let h=i.scene.findInstance([this.uuid,...d]);if(h){let p=Qr.zoom(h.component.data,u);if(t=se(B({},t),{path:u}),t.type===0){let m=t.props;if(p)for(let[g,v]of Object.entries(t.props))v===void 0&&(m===t.props&&(m=B({},t.props)),m[g]=p[g]);t=se(B({},t),{props:m})}h.overrideData=kM.resolve(n.overrides,d),h.updateByOp(t,Tr.applySimple(h.data,t),i,!1)}}}else if(this.instances.length>0){let d;if(t.path.length===0&&t.type===0){let u;for(let h of eu.rootOverrideProps)h in t.props&&(u===void 0&&(u={}),u[h]=t.props[h]);u&&(d=se(B({},t),{props:u}))}else for(let u of eu.rootOverrideProps)if(ii(t.path,[u])){d=t;break}d!==void 0&&this.instances.forEach(u=>{if(u.isInstanceRoot){let h=au.filterOp(u.overrideData,d);h&&u.updateByOp(h,Tr.applySimple(u.data,h),i,!0)}}),this.instances.forEach(u=>{if(!u.isInstanceRoot){let h=au.filterOp(u.overrideData,t);if(h){let p;o===u.data&&t===h?p=n:p=Tr.applySimple(u.data,h),u.updateByOp(h,p,i,!0)}}})}}updateByPatchedOpBase(t,n,i){if(this.dataPatched=n,t.path.length===0&&t.type===0)t.props.type!==void 0&&!np.is(t.props.type)&&nu.changeEntityProptotype(this,n,i);else if(t.path.length===1&&t.path[0]==="geometry"&&t.type===0&&"type"in t.props){nu.changeEntityProptotype(this,n,i);for(let r of this.children)yn.is(r)&&r.updateVisible(i.scene)}this.updateByPatchedOp(t,n,i)}updateByPatchedOp(t,n,i){if(t.path.length===0&&t.type===0&&this.updateState(t.props,i),ii(t.path,["pathSnapping"])!==null&&this.updatePathSnapping(n.pathSnapping),ii(t.path,["cloner"])!==null){let r=Tr.drop(t,1);r.path.length===0&&r.type===0&&r.props.disabled===!0?this.setFromClonerState(null,i):this.cloner?this.cloner.updateState(n.cloner,i.scene):(this.setFromClonerState(n.cloner,i),this.expandCloner(i.scene)),this.updateVisible(i.scene)}}updatePathSnapping(t=this.dataPatched.pathSnapping){this._updatedPathSnapping=t,this._needApplyPathSnapping=!0}get updatedPathSnapping(){return this._updatedPathSnapping}applyPathSnapping(t){let n=this._updatedPathSnapping?.pathId??this.dataPatched.pathSnapping.pathId,i=this._updatedPathSnapping?.slide??this.dataPatched.pathSnapping.slide??0,r=this._updatedPathSnapping?.offset??this.dataPatched.pathSnapping.offset??0,o=this._updatedPathSnapping?.orientation??this.dataPatched.pathSnapping.orientation;if(n===null)return;let a=t.find(n);if(!a||this._needApplyPathSnapping===!1)return;this._needApplyPathSnapping=!1;let s=a.data;if(s.geometry.path.points.length<=1)return;let l=nj(s.geometry.path),c=(i+r)%1;i+r===1&&c===0&&(c=1);let d=l.getPointAt(c);if(d===null)return;let u=this.parent?this.parent?.matrixWorld:new Be;a.updateMatrixWorld();let h=new Be().multiplyMatrices(u.clone().invert(),a.matrixWorld);d.applyMatrix4(h);let p={position:d.toArray(),rotation:s.rotation};if(o==="tangential"){let m=new Be().extractRotation(a.matrixWorld),g=l.getTangentAt(c).applyMatrix4(m).add(d),v=new Be().lookAt(d,g,A1e),b=SE.setFromEuler(new mr().setFromRotationMatrix(v)).multiplyScalar(et.RAD2DEG);p=se(B({},p),{rotation:b.toArray()})}this.updateTransformState(p),this.traverseEntity(m=>{m._cameraType&&m.dispatchEvent(E1e)})}updateVisible(t){if(this.visible=this.dataPatched.visible&&(!this.dataPatched.cloner||(this.dataPatched.cloner.disabled??!1)||this.dataPatched.cloner?.hideBase!==!0),!t)return;let n=!1;this.traverseEntity(i=>{if(i.data.type==="Splat")return n=!0,!0}),n&&t.reloadSplats()}updateState_Entity(t,n){t.name!==void 0&&(this.name=t.name),t.raycastLock!==void 0&&(this.raycastLock=t.raycastLock),t.visible!==void 0&&(this.updateVisible(n?.scene),this.resetBBoxNeedsUpdate()),n&&"cloner"in t&&t.cloner!==void 0&&(this.setFromClonerState(t.cloner,n),this.updateVisible(n.scene)),this.updateTransformState(t,n)}get attachedSurfaceCloners(){return this.children.filter(t=>t instanceof nu.Cloner&&t.parameters.type==="toObject")}setFromClonerState(t,n){this.disposed||(t===null||t.disabled?(this.cloner&&this.cloner.removeFromParent(),this.cloner=void 0):this.cloner===void 0?(this.cloner=new nu.Cloner(this,t),n.scene.addPendingExpandCloner(this)):this.cloner.updateState(t,n.scene))}expandCloner(t){!this.disposed&&this.cloner&&this.cloner.expandClones(t)}invalidateClonerTransform(t){this.cloner&&this.cloner.invalidateTransform(t)}requestRender(){this.dispatchEvent({type:"requestRender"})}},ij=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:64,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadius:8,cornerSegments:8,hollow:0},e.parameters);n.thetaLength=et.clamp(n.thetaLength,0,360);let i=n.width/2,r=n.radiusTop??i,o=n.radiusBottom??i;return r===o?(r=i,o=i):r>o?(r=i,o=o*i/r):(r=r*i/o,o=i),{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width),radiusTop:r,radiusBottom:o})}}static build(e){let{width:t,depth:n,height:i,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l,radiusTop:c,radiusBottom:d,cornerRadius:u,cornerSegments:h,hollow:p}=e.parameters,m;return l===0?(m=new pt,m.setAttribute("position",new Je([],3))):u||p?m=new rj(c,d,i,r,o,a,s,l*Math.PI/180,u,u,h,p):m=new VA(c,d,i,r,o,a,s,l*Math.PI/180),m.scale(1,1,n/t),Object.assign(m,{userData:se(B({},e),{type:"CylinderGeometry"})})}};function Nd(e,t,n){n.x=e.x*t.x,n.y=e.y,n.z=e.x*t.y}function cz(e){return new oe(e.y,-e.x)}var rj=class extends pt{constructor(e,t,n,i,r,o,a,s,l,c,d,u,h=!1){super(),this.type="RoundedCylinderBufferGeometry",e=e!==void 0?e:1,t=t!==void 0?t:1,n=n||1,i=Math.floor(i)||8,r=Math.floor(r)||1,o=o!==void 0?o:!1,a=a!==void 0?a:0,s=s!==void 0?s:Math.PI*2,o&&(l=0,c=0);let p=[],m=[],g=[],v=[],b=0,_=n/2,C=new L,M=new L;h&&e==0&&(e=l),h&&t==0&&(t=c);let P=new oe(e,_),x=new oe(t,-_),E=null,O=null,S=null,D=null,I=P.clone().sub(x),T=0,R=0,k=0;u>0&&(T=Math.min(e,t)*(1-u),R=e-T,k=t-T);let z=P.clone();z.x-=T;let W=Math.PI-I.angle(),N=I.angle(),F=Math.tan(N/2),X=Math.tan(W/2),V=F+X,G=u?V:X,Y=u?V:F;if(l=Math.min(l,(e-R)/G,I.length()/V),c=Math.min(c,(t-k)/Y,I.length()/V),l>0){let he=l/F;E=P.clone().sub(new oe(he,l)),u&&(S=E.clone(),S.x-=T-V*l),P.sub(I.clone().setLength(he))}if(c>0){let he=c/X;O=x.clone().sub(new oe(he,-c)),x.add(I.clone().setLength(he)),u&&(D=O.clone(),D.x-=T-V*c,z.sub(I.clone().setLength(he)))}I=P.clone().sub(x);let ie=I.length()<.5,te=[];for(let he=0;he<=i;he++){let Me=[],pe=he/i,Ae=pe*s+a,xe=new oe(Math.sin(Ae),Math.cos(Ae));D&&O?(ne(Me,pe,xe,W,c,D,-1,!0),ne(Me,pe,xe,N,c,O,-1,!1)):O?(re(Me,xe,O.x,0,-1),ne(Me,pe,xe,N,c,O,-1,!1)):o||re(Me,xe,t,k,-1);let be=cz(I).normalize();if(Nd(be,xe,C),!ie)for(let Ve=0;Ve<=r;Ve++){let He=Ve/r,Ge=I.clone().multiplyScalar(He).add(x);Nd(Ge,xe,M),m.push(M.x,M.y,M.z),g.push(C.x,C.y,C.z),v.push(pe,.5+M.y/n),Me.push(b++)}if(S&&E?(ne(Me,pe,xe,W,l,E,1,!1),ne(Me,pe,xe,N,l,S,1,!0)):E?(ne(Me,pe,xe,W,l,E,1,!1),re(Me,xe,E.x,0,1)):o||re(Me,xe,e,R,1),u&&!ie){let Ve=cz(I).multiplyScalar(-1).normalize();Nd(Ve,xe,C);for(let He=0;He<=r;He++){let Ge=He/r,de=I.clone().multiplyScalar(-Ge).add(z);Nd(de,xe,M),m.push(M.x,M.y,M.z),g.push(C.x,C.y,C.z),v.push(pe,.5+M.y/n),Me.push(b++)}}u&&!o&&Me.push(Me[0]),te.push(Me)}for(let he=0;he<te.length-1;he++)for(let Me=0;Me<te[0].length-1;Me++){if(o&&u&&Me==r)continue;let pe=te[he][Me],Ae=te[he+1][Me],xe=te[he+1][Me+1],be=te[he][Me+1],Ve=m[xe*3+0],He=m[xe*3+2];p.push(pe,Ae,be),(Ve!=0||He!=0)&&p.push(Ae,xe,be)}s<Math.PI*2&&(ye(-1,te[0],a),ye(1,te[te.length-1],a+s)),this.setIndex(p),this.setAttribute("position",new Je(m,3)),this.setAttribute("normal",new Je(g,3)),this.setAttribute("uv",new Je(v,2));function ne(he,Me,pe,Ae,xe,be,Ve,He){for(let Ge=0;Ge<d+1;Ge++){let de=Ge/d,Ue=Ve<0?de:1-de;He&&(Ue-=1),Ue*=Ae;let fe=new oe(Math.sin(Ue),Math.cos(Ue)*Ve),ce=fe.clone().multiplyScalar(xe).add(be);Nd(ce,pe,M),m.push(M.x,M.y,M.z),Nd(fe,pe,C),g.push(C.x,C.y,C.z),v.push(Me,.5+M.y/n),he.push(b++)}}function re(he,Me,pe,Ae,xe){let be=new L,Ve=new oe,He=[pe,Ae];xe<0&&He.reverse();for(let Ge of He)Ve.set(Ge,_*xe),Nd(Ve,Me,be),m.push(be.x,be.y,be.z),g.push(0,xe,0),v.push(.5,.5),he.push(b++)}function ye(he,Me,pe){let Ae=new oe(Math.sin(pe),Math.cos(pe)),xe=new oe(-Math.cos(pe),Math.sin(pe)),be=new L,Ve=he<0?(de,Ue,fe)=>p.push(de,Ue,fe):(de,Ue,fe)=>p.push(de,fe,Ue),He=new oe((e+t+R+k)/4,0);Nd(He,Ae,be),m.push(be.x,be.y,be.z),g.push(xe.x,0,xe.y),v.push(.5,.5);let Ge=b++;for(let de of Me){let Ue=m.slice(de*3,de*3+3);m.push(...Ue),g.push(xe.x,0,xe.y);let fe=v.slice(de*2,de*2+2);v.push(...fe),b++}for(let de=Ge+1;de<b-1;de++)Ve(Ge,de,de+1);Ve(Ge,b-1,Ge+1)}}},T1e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:32,heightSegments:8,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadiusTop:8,cornerRadiusBottom:8,cornerSegments:8},e.parameters);return n.thetaLength=et.clamp(n.thetaLength,0,360),{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,depth:n,height:i,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l,cornerRadiusTop:c,cornerRadiusBottom:d,cornerSegments:u}=e.parameters,h;return l===0?(h=new pt,h.setAttribute("position",new Je([],3))):c>0||d>0||l<360?h=new rj(0,t/2,i,r,o,a,s,l*Math.PI/180,c,d,u,0,!0):h=new UA(t/2,i,r,o,a),h.scale(1,1,n/t),Object.assign(h,{userData:se(B({},e),{type:"ConeGeometry"})})}},I1e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,widthSegments:1,heightSegments:1,depthSegments:1,cornerRadius:8,cornerSegments:8},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,widthSegments:r,heightSegments:o,depthSegments:a,cornerRadius:s,cornerSegments:l}=e.parameters,c;return s===0?c=new Qs(t,n,i,r,o,a):c=new R1e(t,n,i,r,o,a,s,l),Object.assign(c,{userData:se(B({},e),{type:"CubeGeometry"})})}},EE=Math.PI/2,R1e=class extends pt{constructor(e=1,t=1,n=1,i=1,r=1,o=1,a=0,s=4){super(),this.type="BoxGeometry",i=Math.floor(i),r=Math.floor(r),o=Math.floor(o),s=Math.floor(s),a=Math.min(a,e/2,t/2,n/2);let l=[],c=[],d=[],u=[],h=0;p("z","y","x",-1,-1,n,t,e,o,r),p("z","y","x",1,-1,n,t,-e,o,r),p("x","z","y",1,1,e,n,t,i,o),p("x","z","y",1,-1,e,n,-t,i,o),p("x","y","z",1,-1,e,t,n,i,r),p("x","y","z",-1,-1,e,t,-n,i,r),a>0&&(m("z","y","x",-1,-1,1,n,t,e,o),m("z","y","x",1,-1,-1,n,t,e,o),m("z","y","x",-1,1,-1,n,t,e,o),m("z","y","x",1,1,1,n,t,e,o),m("x","y","z",-1,-1,-1,e,t,n,i),m("x","y","z",1,-1,1,e,t,n,i),m("x","y","z",-1,1,1,e,t,n,i),m("x","y","z",1,1,-1,e,t,n,i),m("y","x","z",-1,-1,1,t,e,n,r),m("y","x","z",1,-1,-1,t,e,n,r),m("y","x","z",1,1,1,t,e,n,r),m("y","x","z",-1,1,-1,t,e,n,r),g(1,1,1),g(-1,1,1),g(1,-1,1),g(-1,-1,1),g(1,1,-1),g(-1,1,-1),g(1,-1,-1),g(-1,-1,-1)),this.setIndex(l),this.setAttribute("position",new Je(c,3)),this.setAttribute("normal",new Je(d,3)),this.setAttribute("uv",new Je(u,2));function p(v,b,_,C,M,P,x,E,O,S){let D=(P-2*a)/O,I=(x-2*a)/S,T=P/2-a,R=x/2-a,k=E/2,z=O+1,W=S+1,N=0,F=new L;for(let X=0;X<W;X++){let V=X*I-R;for(let G=0;G<z;G++){let Y=G*D-T;F[v]=Y*C,F[b]=V*M,F[_]=k,c.push(F.x,F.y,F.z),F[v]=0,F[b]=0,F[_]=E>0?1:-1,d.push(F.x,F.y,F.z),u.push(G/O),u.push(1-X/S),N+=1}}for(let X=0;X<S;X++)for(let V=0;V<O;V++){let G=h+V+z*X,Y=h+V+z*(X+1),ie=h+(V+1)+z*(X+1),te=h+(V+1)+z*X;l.push(G,Y,te),l.push(Y,ie,te)}h+=N}function m(v,b,_,C,M,P,x,E,O,S){let D=(x-2*a)/S,I=x/2-a,T=E/2-a,R=O/2,k=S+1,z=0,W=new L,N=new L;for(let F=0;F<s+1;F++){let X=F/s*EE,V=Math.sin(X)*a,G=(1-Math.cos(X))*a,Y=Math.sin(X),ie=Math.cos(X);W[b]=(T+V)*M,W[_]=(R-G)*P,N[v]=0,N[b]=Y*Math.sign(W[b]),N[_]=ie*Math.sign(W[_]);for(let te=0;te<k;te++){let ne=te*D-I;W[v]=ne*C,c.push(W.x,W.y,W.z),d.push(N.x,N.y,N.z),u.push(te/S),u.push(0),z+=1}}for(let F=0;F<s;F++)for(let X=0;X<S;X++){let V=h+X+k*F,G=h+X+k*(F+1),Y=h+(X+1)+k*(F+1),ie=h+(X+1)+k*F;l.push(V,G,ie),l.push(G,Y,ie)}h+=z}function g(v,b,_){let C=new L,M=new L(e/2,t/2,n/2);M.subScalar(a);let P=[],x=v*b*_>0?(O,S,D)=>l.push(O,S,D):(O,S,D)=>l.push(O,D,S);for(let O=0;O<=s;O++){let S=[],D=EE*(1-O/s),I=Math.cos(D),T=Math.sin(D),R=0;for(let k=0;k<=O;k++){let z=Math.cos(R),W=Math.sin(R);C.x=I*z,C.y=T,C.z=I*W;let N=M.clone().addScaledVector(C,a);c.push(v*N.x,b*N.y,_*N.z),d.push(v*C.x,b*C.y,_*C.z),u.push(0,0),S.push(h++),R+=EE/O}P.push(S)}let E=P.length-1;for(let O=0;O<E;O++){let S=P[O],D=P[O+1],I=S.length-1;x(S[0],D[1],D[0]);for(let T=1;T<=I;T++)x(S[T-1],S[T],D[T]),x(S[T],D[T+1],D[T])}}}},wT=class extends pt{constructor(e=[],t=[],n="",i=1,r=.2,o=4){super(),this.type="PolyhedronGeometryRound";let a=[],s=[],l=[];c(),d(),this.setAttribute("position",new Je(a,3)),this.setAttribute("normal",new Je(l,3)),this.setAttribute("uv",new Je(s,2));return;function c(){r=Math.min(1-1e-5,r),r==0&&(o=0);let u={IcosahedronGeometry:5,DodecahedronGeometry:3,HexahedronGeometry:3,OctahedronGeometry:4,TetrahedronGeometry:3}[n],h=new L,p=h.clone(),m=new Xr,g=r*i,v=i-g,b=o+1,_=new L,C=(N,F)=>_.subVectors(N,F).normalize(),M=(N,F)=>Array(N).fill(void 0).map(F),P=M(e.length/3,(N,F)=>new L().fromArray(e,F*3).setLength(i)),x=[],E=1e6;for(let N=0;N<P.length;N++){let F=P[N],X=[],V,G,Y,ie=1e10,te=-1;for(;(te=t.indexOf(N,te+1))!=-1;){let he=te-te%3;V=t[he+(te+1)%3],G=t[he+(te+2)%3],Y=F.distanceToSquared(P[V]),ie=Math.min(ie,Y),X.push([V,G,Y])}ie+=1e-6;let ne=[],re=0,ye=X.length;for(let he=0;he<ye;he++){[V,G,Y]=X[re];let Me=x[V]?.includes(N)==!0;Y<=ie&&ne.push(V+ +Me*E),re=X.findIndex(pe=>pe[0]==G)}x.push(ne)}let O=[];{let N=0,F=0,X,V,G=u==3;for(let Y=0;Y<=o;Y++){X=Y*(Y+1)/2,V=(Y+1)*(Y+2)/2;for(let ie=0;ie<o-Y;ie++)[N,F]=[X+ie+Y+2,V+ie+Y+3],O.push(X,V,...G?[F,X]:[N,V],F,N),[X,V]=[N,F];O.push(X,V,X+o+2)}}let S=h.clone(),D=h.clone(),I=h.clone(),T=h.clone(),R=h.clone(),k=[],z=M(P.length,()=>M(u,()=>h.clone()));for(let N=0;N<P.length;N++){h.copy(P[N]).normalize(),S.copy(h).multiplyScalar(v);let F=x[N];for(let ne=0;ne<F.length;ne++){let re=F[ne],ye=F[(ne+1)%u];m.setFromPointsAndIndices(P,N,re%E,ye%E),m.b.sub(m.a).setLength(1e10).add(m.a),m.c.sub(m.a).setLength(1e10).add(m.a),m.closestPointToPoint(S,z[N][ne])}let X=[],V=[],G=[],Y=new L;o==0&&[...z[N]].reduce((ne,re)=>ne.add(re),Y).multiplyScalar(1/u);for(let ne=0;ne<u;ne++){let re=[],ye=(ne-1+u)%u,he=z[N][ye],Me=z[N][ne];h.copy(he).sub(S),p.copy(Me).sub(S);let pe=S.angleTo(h),Ae=h.angleTo(p),xe=Math.cos(pe)*g;o==0?D.copy(Y):D.copy(S).setLength(v+xe),V.push(xe);let be=[D,he,Me];for(let Ve=0;Ve<2;Ve++){let He=be[Ve],Ge=be[Ve+1];T.subVectors(He,S),R.subVectors(Ge,S),I.crossVectors(T,R).normalize();for(let de=0;de<b;de++){let Ue=[pe,Ae][Ve]*de/b;h.copy(T).applyAxisAngle(I,Ue).add(S),X.push(h.clone()),Ve&&(C(h,S),re.push([de==0?He:h.clone(),_.clone()]))}Ve&&(C(Ge,S),re.push([Ge,_.clone()]))}G.push(re)}k.push(G);let ie=2*b,te=2;for(let ne=0;ne<u;ne++){let re=ie*ne,ye=ie*((ne+1)%u),he=[X[re]];for(let pe=1;pe<b;pe++){T=X[re+pe],R=X[ye+pe],he.push(T);for(let Ae=1,xe=pe-te+1;Ae<=xe;Ae++)h.lerpVectors(T,R,Ae/(xe+1)),h.sub(S).setLength(V[ne]).add(S),he.push(h.clone());he.push(R)}for(let pe=0;pe<b;pe++)he.push(X[pe+b+re]);he.push(X[ye+b]);let Me=O.map(pe=>he[pe]);a.push(...Me.map(pe=>[pe.x,pe.y,pe.z]).flat()),l.push(...Me.map(pe=>(C(pe,S),[_.x,_.y,_.z])).flat())}}let W=[];for(let N=0;N<x.length;N++)for(let F=0;F<u;F++){let X=x[N][F];if(X<E){let V=x[X].findIndex(ie=>ie%E==N),G=k[N][F],Y=k[X][V];for(let ie=0;ie<b;ie++){let te=G[ie],ne=Y[b-ie],re=G[ie+1],ye=Y[b-(ie+1)];[te,ne,re,re,ne,ye].forEach(he=>{a.push(he[0].x,he[0].y,he[0].z),l.push(he[1].x,he[1].y,he[1].z)})}W.push(G[0][0],Y[b][0],G[b][0],Y[0][0])}}for(;W.length;){let N,F,X,V;[N,F]=W.splice(0,2);let G=[N];for(;N!=F;)G.push(F),X=W.indexOf(F),V=X%2,F=W.splice(X-V,2)[1-V];_.subVectors(G[0],G[1]).cross(h.subVectors(G[0],G[2])).normalize();let Y=_.dot(G[0])<0;Y&&_.negate();for(let ie=1;ie<=G.length-2;ie++)[G[ie+ +Y],G[ie+1-+Y],G[0]].forEach(te=>{a.push(te.x,te.y,te.z),l.push(_.x,_.y,_.z)})}}function d(){let u=new L;for(let x=0;x<a.length;x+=3){u.x=a[x+0],u.y=a[x+1],u.z=a[x+2];let E=M(u)/2/Math.PI+.5,O=P(u)/Math.PI+.5;s.push(E,1-O)}let h=new L,p=new L,m=new L,g=new L,v=new oe,b=new oe,_=new oe,C=(x,E,O,S)=>{S<0&&x.x===1&&(s[E]=x.x-1),O.x===0&&O.z===0&&(s[E]=S/2/Math.PI+.5)};for(let x=0,E=0;x<a.length;x+=9,E+=6){h.set(a[x+0],a[x+1],a[x+2]),p.set(a[x+3],a[x+4],a[x+5]),m.set(a[x+6],a[x+7],a[x+8]),v.set(s[E+0],s[E+1]),b.set(s[E+2],s[E+3]),_.set(s[E+4],s[E+5]),g.copy(h).add(p).add(m).divideScalar(3);let O=M(g);C(v,E+0,h,O),C(b,E+2,p,O),C(_,E+4,m,O)}for(let x=0;x<s.length;x+=6){let E=s[x+0],O=s[x+2],S=s[x+4],D=Math.max(E,O,S),I=Math.min(E,O,S);D>.9&&I<.1&&(E<.2&&(s[x+0]+=1),O<.2&&(s[x+2]+=1),S<.2&&(s[x+4]+=1))}function M(x){return Math.atan2(x.z,-x.x)}function P(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}}static fromJSON(e){return new wT(e.vertices,e.indices,e.radius,e.corner,e.cornerSides)}},L1e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,detail:r,corner:o,cornerSides:a}=e.parameters,s=r===0&&o!==0?new oj(t*.5,o,a):new uV(t*.5,r);return s.scale(1,n/t,i/t),Object.assign(s,{userData:se(B({},e),{type:"DodecahedronGeometry"})})}},oj=class extends wT{constructor(e=1,t=.2,n=4){let i=(1+Math.sqrt(5))/2,r=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],s="DodecahedronGeometry";super(o,a,s,e,t,n),this.type=s}static fromJSON(e){return new oj(e.radius,e.corner,e.cornerSides)}},dv=1e-12,xT=class{constructor(e){this.position=new oe,this.startPosition=new oe,this.uuid=et.generateUUID(),this.position=e.clone()}start(){this.reset()}reset(){this.startPosition.copy(this.position)}applyOffset(e){this.position.copy(this.startPosition).add(e)}copy(e){return this.position.copy(e.position),this.startPosition.copy(e.startPosition),this}clone(){return new xT(this.position).copy(this)}toJSON(){return[this.position.x,this.position.y]}},GD=class extends xT{constructor(e){super(e.position),this.parent=e}copy(e){return super.copy(e),this}clone(){return new GD(this.parent).copy(this)}},Of=class extends xT{constructor(e,t){super(t),this.controls=[],this.roundness=0,this.areControlsDirectionsMirrored=!0,this.uuid=e,this.controls.push(new GD(this),new GD(this))}static create(e,t){let n=new Of(e,new oe(...t.position));return n.controls[0].position.set(...t.controlPrevious.position),n.controls[1].position.set(...t.controlNext.position),n.roundness=t.roundness,n.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored,n}getOppositeControl(e){let t=this.controls.indexOf(e);return t===0?this.controls[1]:t===1?this.controls[0]:null}applyOffsetToControls(e,t=1){for(let n=0,i=this.controls.length;n<i;n++){let r=this.controls[n];this.position.distanceTo(r.position)<=t?r.position.copy(this.position):r.applyOffset(e)}}controlsMoved(){return!(this.position.equals(this.controls[0].position)&&this.position.equals(this.controls[1].position))}copy(e){return super.copy(e),this.controls[0].copy(e.controls[0]),this.controls[1].copy(e.controls[1]),this.roundness=e.roundness,this.uuid=e.uuid,this}clone(){return new Of(this.uuid,this.position).copy(this)}toJSON(){return super.toJSON().concat(this.controls[0].toJSON(),this.controls[1].toJSON(),[this.roundness])}computeTangents(){let e=this.curveBefore?.getTangentAt(1),t=this.curveAfter?.getTangentAt(0);return[e,t]}computeNormals(e=new oe,t=new oe){let[n,i]=this.computeTangents();return n&&i&&(dz(n,e),dz(i,t)),[e,t]}computeTangent(e=new oe){let[t,n]=this.computeTangents();return t&&n&&e.copy(t).add(n).normalize(),e}computeNormal(e=new oe){let[t,n]=this.computeNormals();return e.copy(t).add(n).normalize(),e}};function dz(e,t=new oe){let n=e.length();return t.set(-e.y/n,e.x/n)}var PT=e=>e,cg=new oe,Cw=new oe,k1e=new oe,F1e=new oe,N1e=new oe,z1e=new oe,aj=new L,sj=new L;function B1e(e){let t=new oe;t.addVectors(e.v0,cg.subVectors(e.v1,e.v0).multiplyScalar(2/3));let n=new oe;return n.addVectors(e.v2,Cw.subVectors(e.v1,e.v2).multiplyScalar(2/3)),new js(e.v0,t,n,e.v2)}function Ev(e,t,n=Number.EPSILON){return Math.abs(e-t)<n}function V1e(e,t,n=Number.EPSILON){return e.distanceTo(t)<n}function U1e(e,t,n=Number.EPSILON){return e.distanceTo(t)<n}function lj(e,t,n){let i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),r=Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)),o=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));return Math.acos((r*r+i*i-o*o)/(2*r*i))}function j1e(e,t,n){return hz(e,t)&&hz(t,n)&&WD(e.position,t.position,n.position)}function WD(e,t,n){return cg.copy(t).sub(e).cross(Cw.copy(n).sub(e))===0}function H1e(e,t,n,i,r){let o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),a=(e.y+t.y)/2,s=(e.x+t.x)/2,l=Math.sqrt(Math.pow(n,2)-Math.pow(o/2,2))*(e.y-t.y)/o,c=Math.sqrt(Math.pow(n,2)-Math.pow(o/2,2))*(t.x-e.x)/o;return i.set(s+l,a+c),r.set(s-l,a-c),[i,r]}function G1e(e,t,n){let i=e.distanceTo(n),r=t.distanceTo(n);return i<r?t:e}function W1e(e,t,n,i,r,o){let a=t.x-e.x,s=t.y-e.y,l=n.x-e.x,c=n.y-e.y,d=Math.sqrt((a+l)*(a+l)+(s+c)*(s+c)),u;return lj(t,e,n)>Math.PI&&(d*=-1),Ev(c,s)?u=(s+c)*(i/d-.5)*8/3/(a-l):u=(a+l)*(i/d-.5)*8/3/(c-s),r.set(t.x-u*s,t.y+u*a),o.set(n.x+u*c,n.y-u*l),[r,o]}function uz(e,t){return e.position.equals(e.controls[1].position)&&t.position.equals(t.controls[0].position)}function hz(e,t){return WD(e.position,e.controls[1].position,t.position)&&WD(e.position,t.controls[0].position,t.position)}function q1e(e,t,n,i,r=.5){let o=cg.subVectors(t,e).multiplyScalar(r).add(e),a=Cw.subVectors(n,t).multiplyScalar(r).add(t),s=k1e.subVectors(i,n).multiplyScalar(r).add(n),l=o,c=F1e.subVectors(a,o).multiplyScalar(r).add(o),d=N1e.subVectors(s,a).multiplyScalar(r).add(a),u=s,h=z1e.subVectors(d,c).multiplyScalar(r).add(c);return[e.x,e.y,l.x,l.y,c.x,c.y,h.x,h.y,d.x,d.y,u.x,u.y,i.x,i.y]}function Y1e(e,t,n=12,i=!0){let r=sj.set(0,0,0),o,a=0,s=[];for(let l=0;l<t.length;l++){let c=PT(t[l]),d=cg,u=Zh(c,n);s.push(u);for(let h=0;h<=u;h++)if(c instanceof js||c instanceof du||c instanceof qs){if(c.getPoint(h/u,d),r.set(d.x,d.y,0),o!==void 0&&U1e(o,r))continue;o===void 0&&(o=aj),o.copy(r),e.setXYZ(a,r.x,r.y,r.z),a++}}return i&&a>1&&!(e.getX(a-1)===e.getX(0)&&e.getY(a-1)===e.getY(0)&&e.getZ(a-1)===e.getZ(0))&&(e.setXYZ(a,e.getX(0),e.getY(0),e.getZ(0)),a++),e}function X1e(e,t,n,i=12,r=!0){let o=sj.set(0,0,0),a=0,s=[];for(let l=0;l<t.length;l++){if(n[l]===!1)continue;let c,d=PT(t[l]),u=cg,h=Zh(d,i);s.push(h);for(let p=0;p<=h;p++)if(d instanceof js||d instanceof du||d instanceof qs){if(d.getPoint(p/h,u),o.set(u.x,u.y,0),c?.equals(o))continue;c===void 0?c=aj:(e.setXYZ(a,c.x,c.y,c.z),a++,e.setXYZ(a,o.x,o.y,o.z),a++),c.copy(o)}}return r&&a>1&&!(e.getX(a-1)===e.getX(0)&&e.getY(a-1)===e.getY(0)&&e.getZ(a-1)===e.getZ(0))&&(e.setXYZ(a,e.getX(0),e.getY(0),e.getZ(0)),a++),s}function pz(e,t=12,n=!1){let i=[];for(let r=0,o=e.length;r<o;r++){let a=e[r],s=0;if(n&&a.roundedCurveCorner!==void 0){let l=Zh(a.roundedCurveCorner,t)*.5;r>0&&(i[r-1]+=l),s+=l}a.curveAfter!==void 0&&(s+=Zh(a.curveAfter,t)),i.push(s)}return e.length>0&&n&&e[0].roundedCurveCorner!==void 0&&(i[e.length-1]+=Zh(e[0].roundedCurveCorner,t)*.5),i}function Zh(e,t=12){return e&&e instanceof ow?t*2:e&&(e instanceof qs||e instanceof lV)?1:e&&e instanceof BA?t*e.points.length:t}function Q1e(e,t,n=12,i=!0){let r,o=0;for(let a=0;a<t.length;a++){let s=PT(t[a]),l=Zh(s,n),c=cg;for(let d=0;d<=l;d++)if(s instanceof js||s instanceof du||s instanceof qs){if(s.getPoint(d/l,c),r!==void 0&&V1e(r,c,dv))continue;r===void 0&&(r=Cw),r.copy(c),e.push(c.x,c.y),o++}}return Ev(e[0],e[e.length-2],dv)&&Ev(e[1],e[e.length-1],dv)&&(e.pop(),e.pop()),i&&o>1&&!(Ev(e[o-1],e[1],dv)&&Ev(e[o-2],e[0],dv))&&(e.push(e[0],e[1]),o++),e}var DE=new oe,Z1e=new oe,$1e=new oe,K1e=new oe,J1e=new oe,ebe=new oe,Ri=class extends cM{constructor(e=100,t=100){super(),this.points=[],this.shapeHoles=[],this.plane=new Fa(new L(0,0,-1)),this.subdivision=0,this.controlSnapDistance=4,this.pointIDs=0,this.isMesh2D=!1,this.isText=!1,this._roundness=0,this.isClosed=!1,this.useCubicForRoundedCorners=!0,this.uuid=et.generateUUID(),this.needsUpdate=!1,this.roundedCurves=[],this._width=e,this._height=t}static createFromState(e,t,n){let i=new Ri;return i.isClosed=e.isClosed,i.points=e.points.map(r=>Of.create(r.id,r.data)),typeof e.roundness=="number"&&(i.roundness=e.roundness),i.shapeHoles=e.shapeHoles.map(r=>Ri.createFromState(r)),t!==void 0&&n!==void 0&&i.applySize(t,n),i.update(),i}get width(){return this._width}get height(){return this._height}get roundness(){return this._roundness}set roundness(e){if(this._roundness!==e){this._roundness=e;for(let t=0,n=this.points.length;t<n;t++)this.points[t].roundness=e;this.needsUpdate=!0}}getPointsIndexesByIds(e){return e.map(t=>this.getPointIndexById(t)).filter(t=>t>=0)}getPointIndexById(e){let t=this.points.length,n=this.points.findIndex(i=>i.uuid===e);if(n<0){let i=t;for(let r=0,o=this.shapeHoles.length;r<o;r++){let a=this.shapeHoles[r],s=a.points.length,l=a.getPointIndexById(e);if(l<0)i+=s;else return l+i}}return n}getLineIndexById(e){return this.getPointIndexById(e)}getBezierPoint(e){if(e<=this.points.length-1)return this.points[e];if(this.shapeHoles.length>0){let t=this.points.length;for(let n=0,i=this.shapeHoles.length;n<i;n++){let r=this.shapeHoles[n],o=e-t;if(o<=r.points.length-1)return r.points[o];t+=r.points.length}}throw new Error("This shape does not have a point for this index: "+e)}getBezierPointIndex(e){let t=this.points.indexOf(e);if(t>=0)return t;if(t=this.points.length,this.shapeHoles.length>0)for(let n=0,i=this.shapeHoles.length;n<i;n++){let r=this.shapeHoles[n],o=r.points.indexOf(e);if(o>=0)return t+o;t+=r.points.length}return-1}getAllPoints(){let e=[].concat(...this.shapeHoles.map(t=>t.points));return[...this.points,...e]}applySize(e,t){e===0&&(e=.001),t===0&&(t=.001),this._width=e,this._height=t}applyScale(e,t){let n=DE.set(e,t);for(let i=0,r=this.points.length;i<r;i++){let o=this.points[i];o.position.multiply(n),o.controls[0].position.multiply(n),o.controls[1].position.multiply(n)}for(let i=0,r=this.shapeHoles.length;i<r;i++)this.shapeHoles[i].applyScale(e,t);this._update()}createPoint(e,t=0,n=et.generateUUID()){let i;e instanceof oe?i=e:i=new oe(e,t);let r=new Of(n,i);return r.roundness=this.roundness,r}addPoint(e){this.points.push(e),this.needsUpdate=!0}addPointAt(e,t){this.points.splice(t,0,e),this.needsUpdate=!0}getPointByUuid(e){for(let t=0,n=this.points.length;t<n;t++){let i=this.points[t];if(i.uuid===e)return i}for(let t=0,n=this.shapeHoles.length;t<n;t++){let i=this.shapeHoles[t].getPointByUuid(e);if(i)return i}}getFirstPoint(){return this.points[0]}getLastPoint(){return this.points[this.points.length-1]}removePoint(e){let t=this.points.indexOf(e);t>=0&&this.points.splice(t,1),this.needsUpdate=!0}removePointById(e){let t=this.points.find(n=>n.uuid===e);t&&this.removePoint(t)}update(){for(let e=0,t=this.shapeHoles.length;e<t;e++)this.shapeHoles[e].update();this._update()}extractShapePointsToBuffer(e,t=12,n=!1){this.subdivision=t,this.curveDivisions===void 0&&this.computeCurveDivisions(t);let i=n?this.roundedCurveDivisions:this.curveDivisions;return Y1e(e,n?this.roundedCurves:this.curves,t,this.autoClose),i.reduce((r,o)=>r+o,0)+1}computeCurveDivisions(e=12){return this.curveDivisions=pz(this.points,e,!1),this.roundedCurveDivisions=pz(this.points,e,!0),this.curveDivisions}extractFilteredShapePointsToBuffer(e,t,n=12){return X1e(e,this.curves,t,n,this.autoClose).reduce((i,r)=>i+r,0)*2}extractShapePointsToFlatArray(e,t=12){return this.subdivision=t,this.curveDivisions===void 0&&this.computeCurveDivisions(t),Q1e(e,this.roundedCurves,t,this.autoClose)}getCurveIndexFromVertexId(e,t=!1){let n=0;this.curveDivisions===void 0&&this.computeCurveDivisions(this.subdivision);let i=t?this.roundedCurveDivisions:this.curveDivisions,r=0;t&&this.points[0].roundedCurveCorner!==void 0&&(r=Zh(this.points[0].roundedCurveCorner,this.subdivision)*.5);let o=e-r;o<0&&(o+=i.reduce((a,s)=>a+s,0));for(let a=0,s=i.length;a<s;a++){let l=i[a];if(o<n+l)return[a,(o-n+1)/l];n+=l}return[0,1]}getCurveT(e,t,n){let i=this.points[e],r=this.points[e>=this.points.length-1?0:e+1],o=this.curveDivisions,a=o[e];if(uz(i,r)){let l=i.position.distanceTo(r.position);return i.position.distanceTo(DE.set(n.x,n.y))/l}let s=0;for(let l=0;l<e;l++)s+=o[l];return(t-s)/a}dispose(){}_applyCurveForPoint(e,t){uz(t,e)?this.lineTo(e.position.x,e.position.y):this.bezierCurveTo(t.controls[1].position.x,t.controls[1].position.y,e.controls[0].position.x,e.controls[0].position.y,e.position.x,e.position.y);let n=this.curves[this.curves.length-1];e.curveBefore=n,t.curveAfter=n;let i=n.clone();e.roundedCurveBefore=i,t.roundedCurveAfter=i,e.roundedCurveCorner=void 0,this.roundedCurves.push(i)}_update(){if(this.curves=[],this.roundedCurves=[],!this.points.length)return;for(let t=0,n=this.points.length;t<n;t++){let i=this.points[t];if(t===0)this.moveTo(i.position.x,i.position.y);else{let r=this.points[t-1];this._applyCurveForPoint(i,r)}}let e=this.getLastPoint();if(e?.curveAfter&&(e.curveAfter=void 0),this.isClosed){let t=this.points[0],n=this.points[this.points.length-1];this._applyCurveForPoint(t,n)}if(this.points.length>2){let t=0;for(let n=0,i=this.points.length;n<i;n++){let r=this.points[n],o=this.points[n-1]??this.points[this.points.length-1],a=this.points[n+1]??this.points[0],s=r.roundness,l=o&&a&&j1e(o,r,a);if(!r.controlsMoved()&&s>0&&!l){let c=r.curveBefore,d=r.curveAfter;if(c===void 0||d===void 0)continue;let u=r.roundedCurveBefore,h=r.roundedCurveAfter,p=c.getLength(),m=d.getLength(),g=Math.min(s,p*.499),v=Math.min(s,m*.499),b=Math.min(g,v),_=1-b/p,C=b/m,M=c.getPointAt(_,DE),P=d.getPointAt(C,Z1e);this._subSplitCurve(c,u,_,M,void 0),this._subSplitCurve(d,h,C,void 0,P);let x;if(this.useCubicForRoundedCorners){let E=lj(M,r.position,P)/2,O=Math.tan(E)*M.distanceTo(r.position),[S,D]=H1e(M,P,O,$1e,K1e),I=G1e(S,D,r.position),[T,R]=W1e(I,M,P,O,J1e,ebe);x=new js(M.clone(),T.clone(),R.clone(),P.clone())}else x=new du(M.clone(),r.position.clone(),P.clone());r.roundedCurveCorner=x,this.roundedCurves.splice(n+t,0,x),t++}}}}_subSplitCurve(e,t,n,i,r){if(e instanceof qs)i!==void 0&&t.v2.copy(i),r!==void 0&&t.v1.copy(r);else{let o=e,a=t,s=o.getUtoTmapping(n,0),l=q1e(o.v0,o.v1,o.v2,o.v3,s);return i!==void 0&&(a.v0.set(l[0],l[1]),a.v1.set(l[2],l[3]),a.v2.set(l[4],l[5]),a.v3.set(l[6],l[7])),r!==void 0&&(a.v0.set(l[6],l[7]),a.v1.set(l[8],l[9]),a.v2.set(l[10],l[11]),a.v3.set(l[12],l[13])),a}return t}clone(){let e=new Ri(this._width,this._height);return e.points=this.points.map(t=>t.clone()),e.isClosed=this.isClosed,e.roundness=this.roundness,e.isMesh2D=this.isMesh2D,e.shapeHoles=this.shapeHoles.map(t=>t.clone()),e}toJSON(){return{points:this.points.reduce((e,t)=>e.concat(t.toJSON()),[]),shapeHoles:this.shapeHoles.map(e=>e.toJSON()),isClosed:this.isClosed,roundness:this.roundness}}fromJSON(e){this.points=[],this.pointIDs=0;let t=e.points.length/7;for(let n=0;n<t;n++){let i=n*7,r=e.points[i+0],o=e.points[i+1],a=e.points[i+2],s=e.points[i+3],l=e.points[i+4],c=e.points[i+5],d=e.points[i+6],u=new Of(et.generateUUID(),new oe(r,o));u.controls[0].position.set(a,s),u.controls[1].position.set(l,c),u.roundness=d,this.points.push(u)}return this.shapeHoles=e.shapeHoles?.length?e.shapeHoles.map(n=>{let i=new Ri;return i.fromJSON(n),i}):[],this.isClosed=e.isClosed,this._roundness=e.roundness,this._update(),this}fromShape(e,t=!1){this.isText=t;let n=(r,o)=>{o instanceof js&&o.v3.equals(r.position)&&r.controls[0].position.copy(o.v2)},i=r=>{let o=[],a,s;for(a=0,s=r.length;a<s;a++)r[a]instanceof du&&(r[a]=B1e(r[a]));for(a=0,s=r.length;a<s;a++){let d=r[a],u=a>0?r[a-1]:null,h;d instanceof js?(h=this.createPoint(d.v0),h.controls[1].position.copy(d.v1)):d instanceof qs&&(h=this.createPoint(d.v1)),h!==void 0&&(u!==null&&n(h,u),o.push(h))}let l=r[r.length-1],c=!1;return l instanceof js?l.v3.equals(o[0].position)&&(o[0].controls[0].position.copy(l.v2),c=!0):l instanceof qs&&l.v2.equals(o[0].position)&&(c=!0),this.isClosed=c,o};return this.points=i(e.curves),e instanceof cM&&(this.shapeHoles=e.holes.map(r=>{let o=new Ri;return o.fromShape(r),o})),this.update(),this}updatePoint(e,t){let n=this.getPointByUuid(e);n&&(t.position!==void 0&&n.position.fromArray(t.position),t.roundness!==void 0&&(n.roundness=t.roundness),t.areControlsDirectionsMirrored!==void 0&&(n.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored),this.needsUpdate=!0)}updatePreviousControl(e,t){let n=this.getPointByUuid(e)?.controls[0];n&&(t.position&&n.position.fromArray(t.position),this.needsUpdate=!0)}updateNextControl(e,t){let n=this.getPointByUuid(e)?.controls[1];n&&(t.position&&n.position.fromArray(t.position),this.needsUpdate=!0)}},qD=Math.PI*2;function AE({x:e,y:t},n,i,r,o){return{x:e*n+r,y:t*i+o}}function tbe(e,t){let n=t===1.5707963267948966?.551915024494:t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),i=Math.cos(e),r=Math.sin(e),o=Math.cos(e+t),a=Math.sin(e+t);return[{x:i-r*n,y:r+i*n},{x:o+a*n,y:a-o*n},{x:o,y:a}]}function mz(e,t,n,i){let r=e*i-t*n<0?-1:1,o=Math.min(1,Math.max(-1,e*n+t*i));return r*Math.acos(o)}function nbe(e,t,n,i,r,o,a,s,l,c){let d=Math.pow(r,2),u=Math.pow(o,2),h=Math.pow(a,2),p=Math.pow(s,2),m=d*u-d*p-u*h;m<0&&(m=0),m/=d*p+u*h,m=Math.sqrt(m)*(l===c?-1:1);let g=m*r/o*s,v=m*-o/r*a,b=g+(e+n)/2,_=v+(t+i)/2,C=(a-g)/r,M=(s-v)/o,P=(-a-g)/r,x=(-s-v)/o,E=mz(1,0,C,M),O=mz(C,M,P,x);return!c&&O>0&&(O-=qD),c&&O<0&&(O+=qD),{centerx:b,centery:_,ang1:E,ang2:O}}function ibe({px:e,py:t,cx:n,cy:i,rx:r,ry:o,largeArcFlag:a,sweepFlag:s}){let l=[];if(r===0||o===0)return[];let c=(e-n)/2,d=(t-i)/2;if(c===0&&d===0)return[];r=Math.abs(r),o=Math.abs(o);let u=Math.pow(c,2)/Math.pow(r,2)+Math.pow(d,2)/Math.pow(o,2);u>1&&(r*=Math.sqrt(u),o*=Math.sqrt(u));let h=nbe(e,t,n,i,r,o,c,d,a,s),{ang1:p,ang2:m}=h,{centerx:g,centery:v}=h,b=Math.abs(m)/(qD/4);Math.abs(1-b)<1e-7&&(b=1);let _=Math.max(Math.ceil(b),1);m/=_;for(let C=0;C<_;C++)l.push(tbe(p,m)),p+=m;return l.map(C=>{let{x:M,y:P}=AE(C[0],r,o,g,v),{x,y:E}=AE(C[1],r,o,g,v),{x:O,y:S}=AE(C[2],r,o,g,v);return{x1:M,y1:P,x2:x,y2:E,x:O,y:S}})}var Zn;(function(e){e[e.ODD=0]="ODD",e[e.NONZERO=1]="NONZERO",e[e.POSITIVE=2]="POSITIVE",e[e.NEGATIVE=3]="NEGATIVE",e[e.ABS_GEQ_TWO=4]="ABS_GEQ_TWO"})(Zn||(Zn={}));var $i;(function(e){e[e.POLYGONS=0]="POLYGONS",e[e.CONNECTED_POLYGONS=1]="CONNECTED_POLYGONS",e[e.BOUNDARY_CONTOURS=2]="BOUNDARY_CONTOURS"})($i||($i={}));function Pt(e,t){if(!e)throw t||"Assertion Failed!"}var vt=function(){function e(){}return e.vertEq=function(t,n){return t.s===n.s&&t.t===n.t},e.vertLeq=function(t,n){return t.s<n.s||t.s===n.s&&t.t<=n.t},e.transLeq=function(t,n){return t.t<n.t||t.t===n.t&&t.s<=n.s},e.edgeGoesLeft=function(t){return e.vertLeq(t.Dst,t.Org)},e.edgeGoesRight=function(t){return e.vertLeq(t.Org,t.Dst)},e.vertL1dist=function(t,n){return Math.abs(t.s-n.s)+Math.abs(t.t-n.t)},e.edgeEval=function(t,n,i){Pt(e.vertLeq(t,n)&&e.vertLeq(n,i));var r=n.s-t.s,o=i.s-n.s;return r+o>0?r<o?n.t-t.t+(t.t-i.t)*(r/(r+o)):n.t-i.t+(i.t-t.t)*(o/(r+o)):0},e.edgeSign=function(t,n,i){Pt(e.vertLeq(t,n)&&e.vertLeq(n,i));var r=n.s-t.s,o=i.s-n.s;return r+o>0?(n.t-i.t)*r+(n.t-t.t)*o:0},e.transEval=function(t,n,i){Pt(e.transLeq(t,n)&&e.transLeq(n,i));var r=n.t-t.t,o=i.t-n.t;return r+o>0?r<o?n.s-t.s+(t.s-i.s)*(r/(r+o)):n.s-i.s+(i.s-t.s)*(o/(r+o)):0},e.transSign=function(t,n,i){Pt(e.transLeq(t,n)&&e.transLeq(n,i));var r=n.t-t.t,o=i.t-n.t;return r+o>0?(n.s-i.s)*r+(n.s-t.s)*o:0},e.vertCCW=function(t,n,i){return t.s*(n.t-i.t)+n.s*(i.t-t.t)+i.s*(t.t-n.t)>=0},e.interpolate=function(t,n,i,r){return t=t<0?0:t,i=i<0?0:i,t<=i?i===0?(n+r)/2:n+(r-n)*(t/(t+i)):r+(n-r)*(i/(t+i))},e.intersect=function(t,n,i,r,o){var a,s,l;e.vertLeq(t,n)||(l=t,t=n,n=l),e.vertLeq(i,r)||(l=i,i=r,r=l),e.vertLeq(t,i)||(l=t,t=i,i=l,l=n,n=r,r=l),e.vertLeq(i,n)?e.vertLeq(n,r)?(a=e.edgeEval(t,i,n),s=e.edgeEval(i,n,r),a+s<0&&(a=-a,s=-s),o.s=e.interpolate(a,i.s,s,n.s)):(a=e.edgeSign(t,i,n),s=-e.edgeSign(t,r,n),a+s<0&&(a=-a,s=-s),o.s=e.interpolate(a,i.s,s,r.s)):o.s=(i.s+n.s)/2,e.transLeq(t,n)||(l=t,t=n,n=l),e.transLeq(i,r)||(l=i,i=r,r=l),e.transLeq(t,i)||(l=t,t=i,i=l,l=n,n=r,r=l),e.transLeq(i,n)?e.transLeq(n,r)?(a=e.transEval(t,i,n),s=e.transEval(i,n,r),a+s<0&&(a=-a,s=-s),o.t=e.interpolate(a,i.t,s,n.t)):(a=e.transSign(t,i,n),s=-e.transSign(t,r,n),a+s<0&&(a=-a,s=-s),o.t=e.interpolate(a,i.t,s,r.t)):o.t=(i.t+n.t)/2},e}(),uv=function(){function e(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1}return e}(),sC=function(){function e(t){this.side=t,this.next=null,this.Org=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Lface=null,this.activeRegion=null,this.winding=0}return Object.defineProperty(e.prototype,"Rface",{get:function(){return this.Sym.Lface},set:function(t){this.Sym.Lface=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dst",{get:function(){return this.Sym.Org},set:function(t){this.Sym.Org=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Oprev",{get:function(){return this.Sym.Lnext},set:function(t){this.Sym.Lnext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Lprev",{get:function(){return this.Onext.Sym},set:function(t){this.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dprev",{get:function(){return this.Lnext.Sym},set:function(t){this.Lnext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rprev",{get:function(){return this.Sym.Onext},set:function(t){this.Sym.Onext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dnext",{get:function(){return this.Sym.Onext.Sym},set:function(t){this.Sym.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rnext",{get:function(){return this.Sym.Lnext.Sym},set:function(t){this.Sym.Lnext.Sym=t},enumerable:!0,configurable:!0}),e}(),cf=function(){function e(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0}return e}(),fz=function(){function e(){var t=new cf,n=new uv,i=new sC(0),r=new sC(1);t.next=t.prev=t,t.anEdge=null,n.next=n.prev=n,i.next=i,i.Sym=r,r.next=r,r.Sym=i,this.vHead=t,this.fHead=n,this.eHead=i,this.eHeadSym=r}return e.prototype.makeEdge_=function(t){var n=new sC(0),i=new sC(1);t.Sym.side<t.side&&(t=t.Sym);var r=t.Sym.next;return i.next=r,r.Sym.next=n,n.next=t,t.Sym.next=i,n.Sym=i,n.Onext=n,n.Lnext=i,n.Org=null,n.Lface=null,n.winding=0,n.activeRegion=null,i.Sym=n,i.Onext=i,i.Lnext=n,i.Org=null,i.Lface=null,i.winding=0,i.activeRegion=null,n},e.prototype.splice_=function(t,n){var i=t.Onext,r=n.Onext;i.Sym.Lnext=n,r.Sym.Lnext=t,t.Onext=r,n.Onext=i},e.prototype.makeVertex_=function(t,n,i){var r=t;Pt(r,"Vertex can't be null!");var o=i.prev;r.prev=o,o.next=r,r.next=i,i.prev=r,r.anEdge=n;var a=n;do a.Org=r,a=a.Onext;while(a!==n)},e.prototype.makeFace_=function(t,n,i){var r=t;Pt(r,"Face can't be null");var o=i.prev;r.prev=o,o.next=r,r.next=i,i.prev=r,r.anEdge=n,r.trail=null,r.marked=!1,r.inside=i.inside;var a=n;do a.Lface=r,a=a.Lnext;while(a!==n)},e.prototype.killEdge_=function(t){t.Sym.side<t.side&&(t=t.Sym);var n=t.next,i=t.Sym.next;n.Sym.next=i,i.Sym.next=n},e.prototype.killVertex_=function(t,n){var i=t.anEdge,r=i;do r.Org=n,r=r.Onext;while(r!==i);var o=t.prev,a=t.next;a.prev=o,o.next=a},e.prototype.killFace_=function(t,n){var i=t.anEdge,r=i;do r.Lface=n,r=r.Lnext;while(r!==i);var o=t.prev,a=t.next;a.prev=o,o.next=a},e.prototype.makeEdge=function(){var t=new cf,n=new cf,i=new uv,r=this.makeEdge_(this.eHead);return this.makeVertex_(t,r,this.vHead),this.makeVertex_(n,r.Sym,this.vHead),this.makeFace_(i,r,this.fHead),r},e.prototype.splice=function(t,n){var i=!1,r=!1;if(t!==n){if(n.Org!==t.Org&&(r=!0,this.killVertex_(n.Org,t.Org)),n.Lface!==t.Lface&&(i=!0,this.killFace_(n.Lface,t.Lface)),this.splice_(n,t),!r){var o=new cf;this.makeVertex_(o,n,t.Org),t.Org.anEdge=t}if(!i){var a=new uv;this.makeFace_(a,n,t.Lface),t.Lface.anEdge=t}}},e.prototype.delete=function(t){var n=t.Sym,i=!1;if(t.Lface!==t.Rface&&(i=!0,this.killFace_(t.Lface,t.Rface)),t.Onext===t)this.killVertex_(t.Org,null);else if(t.Rface.anEdge=t.Oprev,t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev),!i){var r=new uv;this.makeFace_(r,t,t.Lface)}n.Onext===n?(this.killVertex_(n.Org,null),this.killFace_(n.Lface,null)):(t.Lface.anEdge=n.Oprev,n.Org.anEdge=n.Onext,this.splice_(n,n.Oprev)),this.killEdge_(t)},e.prototype.addEdgeVertex=function(t){var n=this.makeEdge_(t),i=n.Sym;this.splice_(n,t.Lnext),n.Org=t.Dst;var r=new cf;return this.makeVertex_(r,i,n.Org),n.Lface=i.Lface=t.Lface,n},e.prototype.splitEdge=function(t){var n=this.addEdgeVertex(t),i=n.Sym;return this.splice_(t.Sym,t.Sym.Oprev),this.splice_(t.Sym,i),t.Dst=i.Org,i.Dst.anEdge=i.Sym,i.Rface=t.Rface,i.winding=t.winding,i.Sym.winding=t.Sym.winding,i.idx=t.idx,i.Sym.idx=t.Sym.idx,i},e.prototype.connect=function(t,n){var i=!1,r=this.makeEdge_(t),o=r.Sym;if(n.Lface!==t.Lface&&(i=!0,this.killFace_(n.Lface,t.Lface)),this.splice_(r,t.Lnext),this.splice_(o,n),r.Org=t.Dst,o.Org=n.Org,r.Lface=o.Lface=t.Lface,t.Lface.anEdge=o,!i){var a=new uv;this.makeFace_(a,r,t.Lface)}return r},e.prototype.zapFace=function(t){var n=t.anEdge,i,r,o,a,s;r=n.Lnext;do i=r,r=i.Lnext,i.Lface=null,i.Rface===null&&(i.Onext===i?this.killVertex_(i.Org,null):(i.Org.anEdge=i.Onext,this.splice_(i,i.Oprev)),o=i.Sym,o.Onext===o?this.killVertex_(o.Org,null):(o.Org.anEdge=o.Onext,this.splice_(o,o.Oprev)),this.killEdge_(i));while(i!=n);a=t.prev,s=t.next,s.prev=a,a.next=s},e.prototype.countFaceVerts_=function(t){var n=t.anEdge,i=0;do i++,n=n.Lnext;while(n!==t.anEdge);return i},e.prototype.mergeConvexFaces=function(t){var n,i,r,o,a,s,l;for(n=this.fHead.next;n!==this.fHead;n=n.next)if(n.inside)for(i=n.anEdge,a=i.Org;r=i.Lnext,o=i.Sym,o&&o.Lface&&o.Lface.inside&&(s=this.countFaceVerts_(n),l=this.countFaceVerts_(o.Lface),s+l-2<=t&&vt.vertCCW(i.Lprev.Org,i.Org,o.Lnext.Lnext.Org)&&vt.vertCCW(o.Lprev.Org,o.Org,i.Lnext.Lnext.Org)&&(r=o.Lnext,this.delete(o),i=null,o=null)),!(i&&i.Lnext.Org===a);)i=r;return!0},e.prototype.check=function(){var t=this.fHead,n=this.vHead,i=this.eHead,r,o,a,s,l,c;for(o=t,o=t;(r=o.next)!==t;o=r){Pt(r.prev===o),l=r.anEdge;do Pt(l.Sym!==l),Pt(l.Sym.Sym===l),Pt(l.Lnext.Onext.Sym===l),Pt(l.Onext.Sym.Lnext===l),Pt(l.Lface===r),l=l.Lnext;while(l!==r.anEdge)}for(Pt(r.prev===o&&r.anEdge===null),s=n,s=n;(a=s.next)!==n;s=a){Pt(a.prev===s),l=a.anEdge;do Pt(l.Sym!==l),Pt(l.Sym.Sym===l),Pt(l.Lnext.Onext.Sym===l),Pt(l.Onext.Sym.Lnext===l),Pt(l.Org===a),l=l.Onext;while(l!==a.anEdge)}for(Pt(a.prev===s&&a.anEdge===null),c=i,c=i;(l=c.next)!==i;c=l)Pt(l.Sym.next===c.Sym),Pt(l.Sym!==l),Pt(l.Sym.Sym===l),Pt(l.Org!==null),Pt(l.Dst!==null),Pt(l.Lnext.Onext.Sym===l),Pt(l.Onext.Sym.Lnext===l);Pt(l.Sym.next===c.Sym&&l.Sym===this.eHeadSym&&l.Sym.Sym===l&&l.Org===null&&l.Dst===null&&l.Lface===null&&l.Rface===null)},e}(),gz=function(){function e(){this.handle=null}return e}(),vz=function(){function e(){this.key=null,this.node=0}return e}(),rbe=function(){function e(t,n){this.leq=n,this.max=0,this.nodes=[],this.handles=[],this.initialized=!1,this.freeList=0,this.size=0,this.max=t,this.nodes=[],this.handles=[];for(var i=0;i<t+1;i++)this.nodes[i]=new gz,this.handles[i]=new vz;this.initialized=!1,this.nodes[1].handle=1,this.handles[1].key=null}return e.prototype.floatDown_=function(t){var n=this.nodes,i=this.handles,r,o,a;for(r=n[t].handle;;){if(a=t<<1,a<this.size&&this.leq(i[n[a+1].handle].key,i[n[a].handle].key)&&++a,Pt(a<=this.max),o=n[a].handle,a>this.size||this.leq(i[r].key,i[o].key)){n[t].handle=r,i[r].node=t;break}n[t].handle=o,i[o].node=t,t=a}},e.prototype.floatUp_=function(t){var n=this.nodes,i=this.handles,r,o,a;for(r=n[t].handle;;){if(a=t>>1,o=n[a].handle,a===0||this.leq(i[o].key,i[r].key)){n[t].handle=r,i[r].node=t;break}n[t].handle=o,i[o].node=t,t=a}},e.prototype.init=function(){for(var t=this.size;t>=1;--t)this.floatDown_(t);this.initialized=!0},e.prototype.min=function(){return this.handles[this.nodes[1].handle].key},e.prototype.insert=function(t){var n,i;if(n=++this.size,n*2>this.max){this.max*=2;var r,o;for(o=this.nodes.length,this.nodes.length=this.max+1,r=o;r<this.nodes.length;r++)this.nodes[r]=new gz;for(o=this.handles.length,this.handles.length=this.max+1,r=o;r<this.handles.length;r++)this.handles[r]=new vz}return this.freeList===0?i=n:(i=this.freeList,this.freeList=this.handles[i].node),this.nodes[n].handle=i,this.handles[i].node=n,this.handles[i].key=t,this.initialized&&this.floatUp_(n),i},e.prototype.extractMin=function(){var t=this.nodes,n=this.handles,i=t[1].handle,r=n[i].key;return this.size>0&&(t[1].handle=t[this.size].handle,n[t[1].handle].node=1,n[i].key=null,n[i].node=this.freeList,this.freeList=i,--this.size,this.size>0&&this.floatDown_(1)),r},e.prototype.delete=function(t){var n=this.nodes,i=this.handles,r;Pt(t>=1&&t<=this.max&&i[t].key!==null),r=i[t].node,n[r].handle=n[this.size].handle,i[n[r].handle].node=r,--this.size,r<=this.size&&(r<=1||this.leq(i[n[r>>1].handle].key,i[n[r].handle].key)?this.floatDown_(r):this.floatUp_(r)),i[t].key=null,i[t].node=this.freeList,this.freeList=t},e}(),TE=function(){function e(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1}return e}(),yz=function(){function e(){this.key=null,this.next=null,this.prev=null}return e}(),obe=function(){function e(t,n){this.frame=t,this.leq=n,this.head=new yz,this.head.next=this.head,this.head.prev=this.head}return e.prototype.min=function(){return this.head.next},e.prototype.max=function(){return this.head.prev},e.prototype.insert=function(t){return this.insertBefore(this.head,t)},e.prototype.search=function(t){var n=this.head;do n=n.next;while(n.key!==null&&!this.leq(this.frame,t,n.key));return n},e.prototype.insertBefore=function(t,n){do t=t.prev;while(t.key!==null&&!this.leq(this.frame,t.key,n));var i=new yz;return i.key=n,i.next=t.next,t.next.prev=i,i.prev=t,t.next=i,i},e.prototype.delete=function(t){t.next.prev=t.prev,t.prev.next=t.next},e}(),abe=function(){function e(){}return e.regionBelow=function(t){return t.nodeUp.prev.key},e.regionAbove=function(t){return t.nodeUp.next.key},e.debugEvent=function(t){},e.addWinding=function(t,n){t.winding+=n.winding,t.Sym.winding+=n.Sym.winding},e.edgeLeq=function(t,n,i){var r=t.event,o=n.eUp,a=i.eUp;if(o.Dst===r)return a.Dst===r?vt.vertLeq(o.Org,a.Org)?vt.edgeSign(a.Dst,o.Org,a.Org)<=0:vt.edgeSign(o.Dst,a.Org,o.Org)>=0:vt.edgeSign(a.Dst,r,a.Org)<=0;if(a.Dst===r)return vt.edgeSign(o.Dst,r,o.Org)>=0;var s=vt.edgeEval(o.Dst,r,o.Org),l=vt.edgeEval(a.Dst,r,a.Org);return s>=l},e.deleteRegion=function(t,n){n.fixUpperEdge&&Pt(n.eUp.winding===0),n.eUp.activeRegion=null,t.dict.delete(n.nodeUp)},e.fixUpperEdge=function(t,n,i){Pt(n.fixUpperEdge),t.mesh.delete(n.eUp),n.fixUpperEdge=!1,n.eUp=i,i.activeRegion=n},e.topLeftRegion=function(t,n){var i=n.eUp.Org,r;do n=e.regionAbove(n);while(n.eUp.Org===i);if(n.fixUpperEdge){if(r=t.mesh.connect(e.regionBelow(n).eUp.Sym,n.eUp.Lnext),r===null)return null;e.fixUpperEdge(t,n,r),n=e.regionAbove(n)}return n},e.topRightRegion=function(t){var n=t.eUp.Dst;do t=e.regionAbove(t);while(t.eUp.Dst===n);return t},e.addRegionBelow=function(t,n,i){var r=new TE;return r.eUp=i,r.nodeUp=t.dict.insertBefore(n.nodeUp,r),r.fixUpperEdge=!1,r.sentinel=!1,r.dirty=!1,i.activeRegion=r,r},e.isWindingInside=function(t,n){switch(t.windingRule){case Zn.ODD:return(n&1)!==0;case Zn.NONZERO:return n!==0;case Zn.POSITIVE:return n>0;case Zn.NEGATIVE:return n<0;case Zn.ABS_GEQ_TWO:return n>=2||n<=-2}throw new Error("Invalid winding rulle")},e.computeWinding=function(t,n){n.windingNumber=e.regionAbove(n).windingNumber+n.eUp.winding,n.inside=e.isWindingInside(t,n.windingNumber)},e.finishRegion=function(t,n){var i=n.eUp,r=i.Lface;r.inside=n.inside,r.anEdge=i,e.deleteRegion(t,n)},e.finishLeftRegions=function(t,n,i){for(var r,o=null,a=n,s=n.eUp;a!==i;){if(a.fixUpperEdge=!1,o=e.regionBelow(a),r=o.eUp,r.Org!=s.Org){if(!o.fixUpperEdge){e.finishRegion(t,a);break}r=t.mesh.connect(s.Lprev,r.Sym),e.fixUpperEdge(t,o,r)}s.Onext!==r&&(t.mesh.splice(r.Oprev,r),t.mesh.splice(s,r)),e.finishRegion(t,a),s=o.eUp,a=o}return s},e.addRightEdges=function(t,n,i,r,o,a){var s,l,c,d,u=!0;c=i;do Pt(vt.vertLeq(c.Org,c.Dst)),e.addRegionBelow(t,n,c.Sym),c=c.Onext;while(c!==r);for(o===null&&(o=e.regionBelow(n).eUp.Rprev),l=n,d=o;s=e.regionBelow(l),c=s.eUp.Sym,c.Org===d.Org;)c.Onext!==d&&(t.mesh.splice(c.Oprev,c),t.mesh.splice(d.Oprev,c)),s.windingNumber=l.windingNumber-c.winding,s.inside=e.isWindingInside(t,s.windingNumber),l.dirty=!0,!u&&e.checkForRightSplice(t,l)&&(e.addWinding(c,d),e.deleteRegion(t,l),t.mesh.delete(d)),u=!1,l=s,d=c;l.dirty=!0,Pt(l.windingNumber-c.winding===s.windingNumber),a&&e.walkDirtyRegions(t,l)},e.spliceMergeVertices=function(t,n,i){t.mesh.splice(n,i)},e.vertexWeights=function(t,n,i){var r=vt.vertL1dist(n,t),o=vt.vertL1dist(i,t),a=.5*o/(r+o),s=.5*r/(r+o);t.coords[0]+=a*n.coords[0]+s*i.coords[0],t.coords[1]+=a*n.coords[1]+s*i.coords[1],t.coords[2]+=a*n.coords[2]+s*i.coords[2]},e.getIntersectData=function(t,n,i,r,o,a){n.coords[0]=n.coords[1]=n.coords[2]=0,n.idx=-1,e.vertexWeights(n,i,r),e.vertexWeights(n,o,a)},e.checkForRightSplice=function(t,n){var i=e.regionBelow(n),r=n.eUp,o=i.eUp;if(vt.vertLeq(r.Org,o.Org)){if(vt.edgeSign(o.Dst,r.Org,o.Org)>0)return!1;vt.vertEq(r.Org,o.Org)?r.Org!==o.Org&&(t.pq.delete(r.Org.pqHandle),e.spliceMergeVertices(t,o.Oprev,r)):(t.mesh.splitEdge(o.Sym),t.mesh.splice(r,o.Oprev),n.dirty=i.dirty=!0)}else{if(vt.edgeSign(r.Dst,o.Org,r.Org)<0)return!1;e.regionAbove(n).dirty=n.dirty=!0,t.mesh.splitEdge(r.Sym),t.mesh.splice(o.Oprev,r)}return!0},e.checkForLeftSplice=function(t,n){var i=e.regionBelow(n),r=n.eUp,o=i.eUp,a;if(Pt(!vt.vertEq(r.Dst,o.Dst)),vt.vertLeq(r.Dst,o.Dst)){if(vt.edgeSign(r.Dst,o.Dst,r.Org)<0)return!1;e.regionAbove(n).dirty=n.dirty=!0,a=t.mesh.splitEdge(r),t.mesh.splice(o.Sym,a),a.Lface.inside=n.inside}else{if(vt.edgeSign(o.Dst,r.Dst,o.Org)>0)return!1;n.dirty=i.dirty=!0,a=t.mesh.splitEdge(o),t.mesh.splice(r.Lnext,o.Sym),a.Rface.inside=n.inside}return!0},e.checkForIntersect=function(t,n){var i=e.regionBelow(n),r=n.eUp,o=i.eUp,a=r.Org,s=o.Org,l=r.Dst,c=o.Dst,d,u,h=new cf,p,m;if(Pt(!vt.vertEq(c,l)),Pt(vt.edgeSign(l,t.event,a)<=0),Pt(vt.edgeSign(c,t.event,s)>=0),Pt(a!==t.event&&s!==t.event),Pt(!n.fixUpperEdge&&!i.fixUpperEdge),a===s||(d=Math.min(a.t,l.t),u=Math.max(s.t,c.t),d>u))return!1;if(vt.vertLeq(a,s)){if(vt.edgeSign(c,a,s)>0)return!1}else if(vt.edgeSign(l,s,a)<0)return!1;return e.debugEvent(t),vt.intersect(l,a,c,s,h),Pt(Math.min(a.t,l.t)<=h.t),Pt(h.t<=Math.max(s.t,c.t)),Pt(Math.min(c.s,l.s)<=h.s),Pt(h.s<=Math.max(s.s,a.s)),vt.vertLeq(h,t.event)&&(h.s=t.event.s,h.t=t.event.t),p=vt.vertLeq(a,s)?a:s,vt.vertLeq(p,h)&&(h.s=p.s,h.t=p.t),vt.vertEq(h,a)||vt.vertEq(h,s)?(e.checkForRightSplice(t,n),!1):!vt.vertEq(l,t.event)&&vt.edgeSign(l,t.event,h)>=0||!vt.vertEq(c,t.event)&&vt.edgeSign(c,t.event,h)<=0?c===t.event?(t.mesh.splitEdge(r.Sym),t.mesh.splice(o.Sym,r),n=e.topLeftRegion(t,n),r=e.regionBelow(n).eUp,e.finishLeftRegions(t,e.regionBelow(n),i),e.addRightEdges(t,n,r.Oprev,r,r,!0),!0):l===t.event?(t.mesh.splitEdge(o.Sym),t.mesh.splice(r.Lnext,o.Oprev),i=n,n=e.topRightRegion(n),m=e.regionBelow(n).eUp.Rprev,i.eUp=o.Oprev,o=e.finishLeftRegions(t,i,null),e.addRightEdges(t,n,o.Onext,r.Rprev,m,!0),!0):(vt.edgeSign(l,t.event,h)>=0&&(e.regionAbove(n).dirty=n.dirty=!0,t.mesh.splitEdge(r.Sym),r.Org.s=t.event.s,r.Org.t=t.event.t),vt.edgeSign(c,t.event,h)<=0&&(n.dirty=i.dirty=!0,t.mesh.splitEdge(o.Sym),o.Org.s=t.event.s,o.Org.t=t.event.t),!1):(t.mesh.splitEdge(r.Sym),t.mesh.splitEdge(o.Sym),t.mesh.splice(o.Oprev,r),r.Org.s=h.s,r.Org.t=h.t,r.Org.pqHandle=t.pq.insert(r.Org),e.getIntersectData(t,r.Org,a,l,s,c),e.regionAbove(n).dirty=n.dirty=i.dirty=!0,!1)},e.walkDirtyRegions=function(t,n){for(var i=e.regionBelow(n),r,o;;){for(;i.dirty;)n=i,i=e.regionBelow(i);if(!n.dirty&&(i=n,n=e.regionAbove(n),n===null||!n.dirty))return;if(n.dirty=!1,r=n.eUp,o=i.eUp,r.Dst!==o.Dst&&e.checkForLeftSplice(t,n)&&(i.fixUpperEdge?(e.deleteRegion(t,i),t.mesh.delete(o),i=e.regionBelow(n),o=i.eUp):n.fixUpperEdge&&(e.deleteRegion(t,n),t.mesh.delete(r),n=e.regionAbove(i),r=n.eUp)),r.Org!==o.Org)if(r.Dst!==o.Dst&&!n.fixUpperEdge&&!i.fixUpperEdge&&(r.Dst===t.event||o.Dst===t.event)){if(e.checkForIntersect(t,n))return}else e.checkForRightSplice(t,n);r.Org===o.Org&&r.Dst===o.Dst&&(e.addWinding(o,r),e.deleteRegion(t,n),t.mesh.delete(r),n=e.regionAbove(i))}},e.connectRightVertex=function(t,n,i){var r,o=i.Onext,a=e.regionBelow(n),s=n.eUp,l=a.eUp,c=!1;if(s.Dst!==l.Dst&&e.checkForIntersect(t,n),vt.vertEq(s.Org,t.event)&&(t.mesh.splice(o.Oprev,s),n=e.topLeftRegion(t,n),o=e.regionBelow(n).eUp,e.finishLeftRegions(t,e.regionBelow(n),a),c=!0),vt.vertEq(l.Org,t.event)&&(t.mesh.splice(i,l.Oprev),i=e.finishLeftRegions(t,a,null),c=!0),c){e.addRightEdges(t,n,i.Onext,o,o,!0);return}vt.vertLeq(l.Org,s.Org)?r=l.Oprev:r=s,r=t.mesh.connect(i.Lprev,r),e.addRightEdges(t,n,r,r.Onext,r.Onext,!1),r.Sym.activeRegion.fixUpperEdge=!0,e.walkDirtyRegions(t,n)},e.connectLeftDegenerate=function(t,n,i){var r,o,a,s,l;if(r=n.eUp,vt.vertEq(r.Org,i)){Pt(!1),e.spliceMergeVertices(t,r,i.anEdge);return}if(!vt.vertEq(r.Dst,i)){t.mesh.splitEdge(r.Sym),n.fixUpperEdge&&(t.mesh.delete(r.Onext),n.fixUpperEdge=!1),t.mesh.splice(i.anEdge,r),e.sweepEvent(t,i);return}Pt(!1),n=e.topRightRegion(n),l=e.regionBelow(n),a=l.eUp.Sym,o=s=a.Onext,l.fixUpperEdge&&(Pt(o!==a),e.deleteRegion(t,l),t.mesh.delete(a),a=o.Oprev),t.mesh.splice(i.anEdge,a),vt.edgeGoesLeft(o)||(o=null),e.addRightEdges(t,n,a.Onext,s,o,!0)},e.connectLeftVertex=function(t,n){var i,r,o,a,s,l,c=new TE;if(c.eUp=n.anEdge.Sym,i=t.dict.search(c).key,r=e.regionBelow(i),!!r){if(a=i.eUp,s=r.eUp,vt.edgeSign(a.Dst,n,a.Org)===0){e.connectLeftDegenerate(t,i,n);return}if(o=vt.vertLeq(s.Dst,a.Dst)?i:r,i.inside||o.fixUpperEdge){if(o===i)l=t.mesh.connect(n.anEdge.Sym,a.Lnext);else{var d=t.mesh.connect(s.Dnext,n.anEdge);l=d.Sym}o.fixUpperEdge?e.fixUpperEdge(t,o,l):e.computeWinding(t,e.addRegionBelow(t,i,l)),e.sweepEvent(t,n)}else e.addRightEdges(t,i,n.anEdge,n.anEdge,null,!0)}},e.sweepEvent=function(t,n){t.event=n,e.debugEvent(t);for(var i=n.anEdge;i.activeRegion===null;)if(i=i.Onext,i===n.anEdge){e.connectLeftVertex(t,n);return}var r=e.topLeftRegion(t,i.activeRegion);Pt(r!==null);var o=e.regionBelow(r),a=o.eUp,s=e.finishLeftRegions(t,o,null);s.Onext===a?e.connectRightVertex(t,r,s):e.addRightEdges(t,r,s.Onext,a,a,!0)},e.addSentinel=function(t,n,i,r){var o=new TE,a=t.mesh.makeEdge();a.Org.s=i,a.Org.t=r,a.Dst.s=n,a.Dst.t=r,t.event=a.Dst,o.eUp=a,o.windingNumber=0,o.inside=!1,o.fixUpperEdge=!1,o.sentinel=!0,o.dirty=!1,o.nodeUp=t.dict.insert(o)},e.initEdgeDict=function(t){t.dict=new obe(t,e.edgeLeq);var n=t.bmax[0]-t.bmin[0],i=t.bmax[1]-t.bmin[1],r=t.bmin[0]-n,o=t.bmax[0]+n,a=t.bmin[1]-i,s=t.bmax[1]+i;e.addSentinel(t,r,o,a),e.addSentinel(t,r,o,s)},e.doneEdgeDict=function(t){for(var n,i=0;(n=t.dict.min().key)!==null;)n.sentinel||(Pt(n.fixUpperEdge),Pt(++i===1)),Pt(n.windingNumber===0),e.deleteRegion(t,n)},e.removeDegenerateEdges=function(t){var n,i,r,o=t.mesh.eHead;for(n=o.next;n!==o;n=i)i=n.next,r=n.Lnext,vt.vertEq(n.Org,n.Dst)&&n.Lnext.Lnext!==n&&(e.spliceMergeVertices(t,r,n),t.mesh.delete(n),n=r,r=n.Lnext),r.Lnext===n&&(r!==n&&((r===i||r===i.Sym)&&(i=i.next),t.mesh.delete(r)),(n===i||n===i.Sym)&&(i=i.next),t.mesh.delete(n))},e.initPriorityQ=function(t){var n,i,r,o=0;for(r=t.mesh.vHead,i=r.next;i!==r;i=i.next)o++;for(o+=8,n=t.pq=new rbe(o,vt.vertLeq),r=t.mesh.vHead,i=r.next;i!==r;i=i.next)i.pqHandle=n.insert(i);return i!==r?!1:(n.init(),!0)},e.donePriorityQ=function(t){t.pq=null},e.removeDegenerateFaces=function(t,n){var i,r,o;for(i=n.fHead.next;i!==n.fHead;i=r)r=i.next,o=i.anEdge,Pt(o.Lnext!==o),o.Lnext.Lnext===o&&(e.addWinding(o.Onext,o),t.mesh.delete(o));return!0},e.computeInterior=function(t,n){n===void 0&&(n=!0);var i,r;if(e.removeDegenerateEdges(t),!e.initPriorityQ(t))return!1;for(e.initEdgeDict(t);(i=t.pq.extractMin())!==null;){for(;r=t.pq.min(),!(r===null||!vt.vertEq(r,i));)r=t.pq.extractMin(),e.spliceMergeVertices(t,i.anEdge,r.anEdge);e.sweepEvent(t,i)}return t.event=t.dict.min().key.eUp.Org,e.debugEvent(t),e.doneEdgeDict(t),e.donePriorityQ(t),e.removeDegenerateFaces(t,t.mesh)?(n&&t.mesh.check(),!0):!1},e}(),sbe=function(){function e(){this.mesh=new fz,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=Zn.ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}return e.prototype.dot_=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},e.prototype.normalize_=function(t){var n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];if(!n)throw"Zero-size vector!";n=Math.sqrt(n),t[0]/=n,t[1]/=n,t[2]/=n},e.prototype.longAxis_=function(t){var n=0;return Math.abs(t[1])>Math.abs(t[0])&&(n=1),Math.abs(t[2])>Math.abs(t[n])&&(n=2),n},e.prototype.computeNormal_=function(t){var n,i,r,o,a,s,l=[0,0,0],c=[0,0,0],d=[0,0,0],u=[0,0,0],h=[0,0,0],p=[null,null,null],m=[null,null,null],g=this.mesh.vHead;n=g.next;for(var v=0;v<3;++v)o=n.coords[v],c[v]=o,m[v]=n,l[v]=o,p[v]=n;for(n=g.next;n!==g;n=n.next)for(var b=0;b<3;++b)o=n.coords[b],o<c[b]&&(c[b]=o,m[b]=n),o>l[b]&&(l[b]=o,p[b]=n);var _=0;if(l[1]-c[1]>l[0]-c[0]&&(_=1),l[2]-c[2]>l[_]-c[_]&&(_=2),c[_]>=l[_]){t[0]=0,t[1]=0,t[2]=1;return}for(s=0,i=m[_],r=p[_],d[0]=i.coords[0]-r.coords[0],d[1]=i.coords[1]-r.coords[1],d[2]=i.coords[2]-r.coords[2],n=g.next;n!==g;n=n.next)u[0]=n.coords[0]-r.coords[0],u[1]=n.coords[1]-r.coords[1],u[2]=n.coords[2]-r.coords[2],h[0]=d[1]*u[2]-d[2]*u[1],h[1]=d[2]*u[0]-d[0]*u[2],h[2]=d[0]*u[1]-d[1]*u[0],a=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],a>s&&(s=a,t[0]=h[0],t[1]=h[1],t[2]=h[2]);s<=0&&(t[0]=t[1]=t[2]=0,t[this.longAxis_(d)]=1)},e.prototype.checkOrientation_=function(){for(var t=this.mesh.fHead,n,i=this.mesh.vHead,r,o=0,a=t.next;a!==t;a=a.next)if(r=a.anEdge,!(r.winding<=0))do o+=(r.Org.s-r.Dst.s)*(r.Org.t+r.Dst.t),r=r.Lnext;while(r!==a.anEdge);if(o<0){for(n=i.next;n!==i;n=n.next)n.t=-n.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},e.prototype.projectPolygon_=function(){var t=this.mesh.vHead,n=[0,0,0],i,r,o=!1;n[0]=this.normal[0],n[1]=this.normal[1],n[2]=this.normal[2],!n[0]&&!n[1]&&!n[2]&&(this.computeNormal_(n),o=!0),i=this.sUnit,r=this.tUnit;var a=this.longAxis_(n);i[a]=0,i[(a+1)%3]=1,i[(a+2)%3]=0,r[a]=0,r[(a+1)%3]=0,r[(a+2)%3]=n[a]>0?1:-1;for(var s=t.next;s!==t;s=s.next)s.s=this.dot_(s.coords,i),s.t=this.dot_(s.coords,r);o&&this.checkOrientation_();for(var l=!0,c=t.next;c!==t;c=c.next)l?(this.bmin[0]=this.bmax[0]=c.s,this.bmin[1]=this.bmax[1]=c.t,l=!1):(c.s<this.bmin[0]&&(this.bmin[0]=c.s),c.s>this.bmax[0]&&(this.bmax[0]=c.s),c.t<this.bmin[1]&&(this.bmin[1]=c.t),c.t>this.bmax[1]&&(this.bmax[1]=c.t))},e.prototype.addWinding_=function(t,n){t.winding+=n.winding,t.Sym.winding+=n.Sym.winding},e.prototype.tessellateMonoRegion_=function(t,n){var i,r;if(i=n.anEdge,!(i.Lnext!==i&&i.Lnext.Lnext!==i))throw"Mono region invalid";for(;vt.vertLeq(i.Dst,i.Org);i=i.Lprev);for(;vt.vertLeq(i.Org,i.Dst);i=i.Lnext);r=i.Lprev;for(var o=void 0;i.Lnext!==r;)if(vt.vertLeq(i.Dst,r.Org)){for(;r.Lnext!==i&&(vt.edgeGoesLeft(r.Lnext)||vt.edgeSign(r.Org,r.Dst,r.Lnext.Dst)<=0);)o=t.connect(r.Lnext,r),r=o.Sym;r=r.Lprev}else{for(;r.Lnext!==i&&(vt.edgeGoesRight(i.Lprev)||vt.edgeSign(i.Dst,i.Org,i.Lprev.Org)>=0);)o=t.connect(i,i.Lprev),i=o.Sym;i=i.Lnext}if(r.Lnext===i)throw"Mono region invalid";for(;r.Lnext.Lnext!==i;)o=t.connect(r.Lnext,r),r=o.Sym;return!0},e.prototype.tessellateInterior_=function(t){for(var n,i=t.fHead.next;i!==t.fHead;i=n)if(n=i.next,i.inside&&!this.tessellateMonoRegion_(t,i))return!1;return!0},e.prototype.discardExterior_=function(t){for(var n,i=t.fHead.next;i!==t.fHead;i=n)n=i.next,i.inside||t.zapFace(i)},e.prototype.setWindingNumber_=function(t,n,i){for(var r,o=t.eHead.next;o!==t.eHead;o=r)r=o.next,o.Rface.inside!==o.Lface.inside?o.winding=o.Lface.inside?n:-n:i?t.delete(o):o.winding=0},e.prototype.getNeighbourFace_=function(t){return!t.Rface||!t.Rface.inside?-1:t.Rface.n},e.prototype.outputPolymesh_=function(t,n,i,r){var o,a=0,s=0,l;i>3&&t.mergeConvexFaces(i);for(var c=t.vHead.next;c!==t.vHead;c=c.next)c.n=-1;for(var d=t.fHead.next;d!==t.fHead;d=d.next)if(d.n=-1,!!d.inside){o=d.anEdge,l=0;do{var c=o.Org;c.n===-1&&(c.n=s,s++),l++,o=o.Lnext}while(o!==d.anEdge);if(l>i)throw"Face vertex greater that support polygon";d.n=a,++a}this.elementCount=a,n===$i.CONNECTED_POLYGONS&&(a*=2),this.elements=[],this.elements.length=a*i,this.vertexCount=s,this.vertices=[],this.vertices.length=s*r,this.vertexIndices=[],this.vertexIndices.length=s;for(var c=t.vHead.next;c!==t.vHead;c=c.next)if(c.n!==-1){var u=c.n*r;this.vertices[u+0]=c.coords[0],this.vertices[u+1]=c.coords[1],r>2&&(this.vertices[u+2]=c.coords[2]),this.vertexIndices[c.n]=c.idx}for(var h=0,d=t.fHead.next;d!==t.fHead;d=d.next)if(d.inside){o=d.anEdge,l=0;do{var c=o.Org;this.elements[h++]=c.n,l++,o=o.Lnext}while(o!==d.anEdge);for(var p=l;p<i;++p)this.elements[h++]=-1;if(n===$i.CONNECTED_POLYGONS){o=d.anEdge;do this.elements[h++]=this.getNeighbourFace_(o),o=o.Lnext;while(o!==d.anEdge);for(var m=l;m<i;++m)this.elements[h++]=-1}}},e.prototype.outputContours_=function(t,n){var i,r,o=0,a=0;this.vertexCount=0,this.elementCount=0;for(var s=t.fHead.next;s!==t.fHead;s=s.next)if(s.inside){r=i=s.anEdge;do this.vertexCount++,i=i.Lnext;while(i!==r);this.elementCount++}this.elements=[],this.elements.length=this.elementCount*2,this.vertices=[],this.vertices.length=this.vertexCount*n,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var l=0,c=0,d=0;o=0;for(var s=t.fHead.next;s!==t.fHead;s=s.next)if(s.inside){a=0,r=i=s.anEdge;do this.vertices[l++]=i.Org.coords[0],this.vertices[l++]=i.Org.coords[1],n>2&&(this.vertices[l++]=i.Org.coords[2]),this.vertexIndices[c++]=this.vertexIdCallback?this.vertexIdCallback(i):i.Org.idx,a++,i=i.Lnext;while(i!==r);this.elements[d++]=o,this.elements[d++]=a,o+=a}},e.prototype.addContour=function(t,n){this.mesh===null&&(this.mesh=new fz),t<2&&(t=2),t>3&&(t=3);for(var i=null,r=0;r<n.length;r+=t)i===null?(i=this.mesh.makeEdge(),this.mesh.splice(i,i.Sym)):(this.mesh.splitEdge(i),i=i.Lnext),i.Org.coords[0]=n[r+0],i.Org.coords[1]=n[r+1],t>2?i.Org.coords[2]=n[r+2]:i.Org.coords[2]=0,i.Org.idx=this.vertexIndexCounter++,this.edgeCreateCallback&&this.edgeCreateCallback(i),i.winding=1,i.Sym.winding=-1},e.prototype.tesselate=function(t,n,i,r,o,a){if(t===void 0&&(t=Zn.ODD),n===void 0&&(n=$i.POLYGONS),a===void 0&&(a=!0),this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,o&&(this.normal[0]=o[0],this.normal[1]=o[1],this.normal[2]=o[2]),this.windingRule=t,r<2&&(r=2),r>3&&(r=3),!this.mesh)return!1;this.projectPolygon_(),abe.computeInterior(this,a);var s=this.mesh;return n===$i.BOUNDARY_CONTOURS?this.setWindingNumber_(s,1,!0):this.tessellateInterior_(s),a&&s.check(),n===$i.BOUNDARY_CONTOURS?this.outputContours_(s,r):this.outputPolymesh_(s,n,i,r),!0},e}();function iu(e){var t=e.windingRule,n=t===void 0?Zn.ODD:t,i=e.elementType,r=i===void 0?$i.POLYGONS:i,o=e.polySize,a=o===void 0?3:o,s=e.vertexSize,l=s===void 0?2:s,c=e.normal,d=c===void 0?[0,0,1]:c,u=e.contours,h=u===void 0?[]:u,p=e.strict,m=p===void 0?!0:p,g=e.debug,v=g===void 0?!1:g;if(!h&&m)throw new Error("Contours can't be empty");if(h){var b=new sbe;e.edgeCreateCallback&&(b.edgeCreateCallback=e.edgeCreateCallback),e.vertexIdCallback&&(b.vertexIdCallback=e.vertexIdCallback);for(var _=0;_<h.length;_++)b.addContour(l||2,h[_]);return b.tesselate(n,r,a,l,d,m),{vertices:b.vertices,vertexIndices:b.vertexIndices,vertexCount:b.vertexCount,elements:b.elements,elementCount:b.elementCount,mesh:v?b.mesh:void 0}}}var ALe=Zn.ODD,TLe=Zn.NONZERO,ILe=Zn.POSITIVE,RLe=Zn.NEGATIVE,LLe=Zn.ABS_GEQ_TWO,kLe=$i.POLYGONS,FLe=$i.CONNECTED_POLYGONS,NLe=$i.BOUNDARY_CONTOURS,YD=class{constructor(e=256,t=!1){this.capacity=e,this.size=0,this.debug=t,this.debug&&console.log(`allocating with cap ${e}`);let n=e*YD.eSize;this.buffer=new ArrayBuffer(n);let i=Float32Array.BYTES_PER_ELEMENT,r=0;this.positions=new Float32Array(this.buffer,r*i,3*e),r+=3*e,this.normals=new Float32Array(this.buffer,r*i,3*e),r+=3*e,this.uvs=new Float32Array(this.buffer,r*i,2*e)}realloc(e,t=!1){if(e<this.size)throw Error("cannot shrink buffer");if(e<=this.capacity&&!t)return;this.debug&&console.log(`resizing from ${this.capacity} \u2192 ${e}`);let n=e*YD.eSize,i=new ArrayBuffer(n),r=Float32Array.BYTES_PER_ELEMENT,o=0,a=new Float32Array(i,o*r,3*e);o+=3*e;let s=new Float32Array(i,o*r,3*e);o+=3*e;let l=new Float32Array(i,o*r,2*e);t?(a.set(this.positions.subarray(0,this.size*3)),s.set(this.normals.subarray(0,this.size*3)),l.set(this.uvs.subarray(0,this.size*2))):(a.set(this.positions),s.set(this.normals),l.set(this.uvs)),this.buffer=i,this.positions=a,this.normals=s,this.uvs=l,this.capacity=e}get(e=1){let t=this.size+e;if(t>this.capacity){let i=this.capacity;for(;t>i;)i*=2;this.realloc(i)}let n=this.size;return this.size=t,n}reserve(e){let t=this.size+e;t>this.capacity&&this.realloc(t)}shrink(){this.debug&&console.log(`shrinking ${this.capacity} \u2192 ${this.size}`),this.realloc(this.size,!0)}},cj=YD;cj.eSize=8*Float32Array.BYTES_PER_ELEMENT;var lbe=id(vne()),OT={vertices:[160,160,-160,160,-160,-160,160,-160],vertexIndices:[1,0,3,2],vertexCount:4,elements:[0,4],elementCount:1,mesh:void 0},dj={vertices:[],vertexIndices:[],vertexCount:0,elements:[],elementCount:0,mesh:void 0},uj={vertices:[-160,160,160,-160,160,160,-160,-160],vertexIndices:[1,3,0,2],vertexCount:4,elements:[0,1,2,1,0,3],elementCount:2,mesh:void 0},IE=(e,t)=>([n,i])=>(i<n&&(i+=t),(e>=n?e:e+t)<=i),ST=class extends pt{constructor(e,t,n=0,i=12,r=3,o=Zn.ODD,a=!1){super(),this.forPathBevel=a,this.type="ShapeGeometry",this.vertexCache={},this._shape=e,this._depth=t,this._curveSegments=i,this._bevelSegmentsInput=r;let s=this._shape.extractShapePointsToFlatArray([],i),l=this._shape.shapeHoles.map(S=>{let D=S.extractShapePointsToFlatArray([],i),I=[];for(let T=D.length-1;T>=1;T-=2){let R=D[T-1],k=D[T-0];I.push(R,k)}return I}),c=[],d=[];for(let S=0;S<s.length;S+=2)d.push([s[S],s[S+1]]);c.push(d);for(let S=0;S<l.length;S++){let D=l[S],I=[];for(let T=0;T<D.length;T+=2)I.push([D[T],D[T+1]]);c.push(I)}let u;e.isText?u=new SV().setFromPoints(e.points.map(S=>S.position)).getSize(new oe).length()*.1:c[0].length===0?u=n:u=(0,lbe.default)(c).distance,n<=0?(this._bevel=0,this._bevelSegments=0):(this._bevel=Math.min(n,u,t/2),this._bevelSegments=Math.floor(r));let h;try{h=iu({windingRule:o,elementType:$i.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[s]})}catch{h=OT}let p;try{p=iu({windingRule:Zn.ODD,elementType:$i.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...l]})}catch{p=dj}if(!h)throw new Error("error generating geometry");let m=h.elementCount;if(p){h.elementCount+=p.elementCount;for(let S=0;S<p.elements.length;S++){let D=p.elements[S],I=S%2===0?h.vertexCount:0;h.elements.push(D+I)}for(let S=0;S<p.vertexIndices.length;S++){let D=p.vertexIndices[S],I=h.vertexCount;h.vertexIndices.push(D+I)}for(let S=0;S<p.vertices.length;S++){let D=p.vertices[S];h.vertices.push(D)}}let g=1/0,v=-1/0,b=1/0,_=-1/0;for(let S=0,D=h.vertexCount;S<D;S++){let I=S*2,T=h.vertices[I+0],R=h.vertices[I+1];T<g&&(g=T),T>v&&(v=T),R<b&&(b=R),R>_&&(_=R)}this._minX=g,this._minY=b,this._width=v-g,this._height=_-b,this._buffer=new cj(this._computeBufferEstimatedSize(h));let C=[],M=[];for(let S=h.elementCount-1;S>=0;S--){let D=S>=m,I=S*2,T=h.elements[I+0],R=h.elements[I+1],k=T+R,z={start:T,count:R,normals:[],continuous:[],concave:[]},W=T,N=k-1,F=T+1,X=this._shape.roundedCurves.length;do{let te=W-T,ne=h.vertices[N*2+0],re=h.vertices[N*2+1],ye=h.vertices[W*2+0],he=h.vertices[W*2+1],Me=h.vertices[F*2+0],pe=h.vertices[F*2+1],Ae=ye-ne,xe=he-re,be=Math.sqrt(Ae*Ae+xe*xe);Ae/=be,xe/=be;let Ve=ye-Me,He=he-pe,Ge=Math.sqrt(Ve*Ve+He*He);Ve/=Ge,He/=Ge,z.normals[te*2+0]=-He,z.normals[te*2+1]=Ve,z.concave[te]=Ae*He-xe*Ve>0;let de=h.vertexIndices[W];if(Array.isArray(de))z.continuous[te]=!1;else{let[Ue,fe]=this._shape.getCurveIndexFromVertexId(de-1,!0);if(fe>0&&fe<1)z.continuous[te]=!0;else{let ce=fe===1?Ue+1:Ue-1;ce=(ce+X)%X;let Pe=fe===1?0:1,Q=this._shape.roundedCurves[Ue].getTangent(fe),H=this._shape.roundedCurves[ce].getTangent(Pe);z.continuous[te]=Q.dot(H)>.95}}D&&(z.normals[te*2+0]*=-1,z.normals[te*2+1]*=-1),[N,W,F]=[W,F,F+1],F>=k&&(F-=R)}while(F!==T+1);let V=[];V.push({bevelI:0,angle:0,size:0,boundary:{vertices:h.vertices.slice(T*2,k*2),vertexCount:R,vertexIndices:new Array(R).fill(!0).map((te,ne)=>[ne,ne]),elements:[0,R],elementCount:1,mesh:null},reverseMap:[],insetPoints:h.vertices.slice(T*2,k*2)});let G=0;for(let te=1;te<=this._bevelSegments;te++){let ne=te/this._bevelSegments*Math.PI/2,re=(1-Math.cos(ne))*this._bevel,ye=[],he=[],Me=[],pe=[],Ae=0;for(let be=0;be<R;be++){let Ve=be*2,He=(be-1+R)%R*2,Ge=h.vertices[z.start*2+Ve+0],de=h.vertices[z.start*2+Ve+1],Ue=-z.normals[He+0]*re,fe=-z.normals[He+1]*re,ce=-z.normals[Ve+0]*re,Pe=-z.normals[Ve+1]*re;if(z.concave[be]||!z.concave[be]&&D){let Q=Math.atan2(fe,Ue),H=Math.atan2(Pe,ce);H>Q&&(H-=Math.PI*2);let ue=H-Q;if(z.continuous[be]||D){let Te=Q+ue/2,j=Math.cos(Te)*re,_e=Math.sin(Te)*re;ye[2*Ae+0]=Ge+j*(D?-1:1),ye[2*Ae+1]=de+_e*(D?-1:1),pe[Ae]=be,Ae++}else{let Te=Math.max(1,Math.floor(i/4*Math.abs(ue)/Math.PI));for(let j=0;j<=Te;j++){let _e=Q+ue*(j/Te),qe=Math.cos(_e)*re,Ne=Math.sin(_e)*re;ye[2*Ae+0]=Ge+qe,ye[2*Ae+1]=de+Ne,pe[Ae]=be,Ae++}}}else ye[2*Ae+0]=Ge+Ue,ye[2*Ae+1]=de+fe,pe[Ae]=be,he[be]=Ae,Ae++,ye[2*Ae+0]=Ge,ye[2*Ae+1]=de,pe[Ae]=be,Ae++,ye[2*Ae+0]=Ge+ce,ye[2*Ae+1]=de+Pe,pe[Ae]=be,Me[be]=Ae,Ae++}let xe=iu({windingRule:Zn.POSITIVE,elementType:$i.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[ye],edgeCreateCallback:be=>{let Ve=be.Org.idx,He=pe[Ve],Ge=pe[(Ve+1)%pe.length];be.idx=[He,Ge],be.Sym.idx=[Ge,He]},vertexIdCallback:be=>{let Ve=be.Lprev.idx;return[Ve?Ve[1]:0,be.idx?be.idx[0]:0]}});if(!xe)throw console.log("Error"),new Error(`error generating bevel geometry for ${te}'th loop`);if(!xe.vertexCount){let be=(te-1)/this._bevelSegments*Math.PI/2;G=(1-Math.sin(be))*this._bevel;break}for(let be=0;be<xe.vertexIndices.length;be++){let[Ve,He]=xe.vertexIndices[be];if(Ve===He)continue;let Ge=He;He<Ve&&(Ge+=R);for(let de=Ve;de<Ge;de++){let Ue=de%R,fe=(de+1)%R;if(!z.continuous[Ue]||!z.continuous[fe]){xe.vertexIndices[be]=[Ve,Ue],xe.vertexIndices.splice(be+1,0,[fe,He]),xe.vertices.splice((be+1)*2,0,xe.vertices[be*2],xe.vertices[be*2+1]);break}}}V.push({bevelI:te,angle:ne,size:re,boundary:xe,reverseMap:pe,insetPoints:ye})}let Y=(te,ne,re)=>{let ye=0,he=te.boundary.vertexIndices.length;for(;ye<he&&re(te.boundary.vertexIndices[ne]);)ne=(ne+1)%he,ye++;return ye},ie=C.length;for(let te=1;te<V.length;te++){let ne=V[te-1],re=V[te],ye=ne.boundary.vertexIndices.length,he=re.boundary.vertexIndices.length;if(!ye||!he)break;let Me=z.concave.length,pe=0,Ae=IE(pe,R);for(;!ne.boundary.vertexIndices.filter(Ae).length||!re.boundary.vertexIndices.filter(Ae).length;)pe++,Ae=IE(pe,R);let xe=ne.boundary.vertexIndices.findIndex(Ae),be=re.boundary.vertexIndices.findIndex(Ae);do xe=(xe+1)%ye;while(Ae(ne.boundary.vertexIndices[xe]));do be=(be+1)%he;while(Ae(re.boundary.vertexIndices[be]));pe=(pe+1)%R;let Ve=pe,He=0,Ge=this._buildBevelVert(z,ne,(xe-1+ye)%ye,void 0,He),de=this._buildBevelVert(z,re,(be-1+he)%he,void 0,He),Ue=Ge,fe=de,ce,Pe,Q=!1;do{He=(pe||Me)/Me,Ae=IE(pe,R);let H=Y(ne,xe,Ae),ue=Y(re,be,Ae),Te=Q;if(Q=!1,H&&!ue){for(let j=0;j<H;j++)ce=this._buildBevelVert(z,ne,(xe+j)%ye,j/(H-1),He),C.push(Ue.topN,ce.topP,fe.topN),a===!1&&C.push(ce.bottomP,Ue.bottomN,fe.bottomN),Ue=ce;Q=!0}else if(!H&&ue)for(let j=0;j<ue;j++)Pe=this._buildBevelVert(z,re,(be+j)%he,j/(ue-1),He),C.push(fe.topN,Ue.topP,Pe.topP),a===!1&&C.push(Ue.bottomP,fe.bottomN,Pe.bottomP),fe=Pe;else if(H&&ue)if(ce=this._buildBevelVert(z,ne,xe,0,He),Pe=this._buildBevelVert(z,re,be,0,He),Te?(C.push(Ue.topN,Pe.topP,fe.topN),C.push(Ue.topN,ce.topP,Pe.topP),a===!1&&(C.push(Pe.bottomP,Ue.bottomN,fe.bottomN),C.push(Pe.bottomP,ce.bottomP,Ue.bottomN))):(C.push(fe.topN,Ue.topN,ce.topP),C.push(fe.topN,ce.topP,Pe.topP),a===!1&&(C.push(ce.bottomP,Ue.bottomN,fe.bottomN),C.push(ce.bottomP,fe.bottomN,Pe.bottomP))),Ue=ce,fe=Pe,H===ue)for(let j=1;j<H;j++)ce=this._buildBevelVert(z,ne,(xe+j)%ye,j/(H-1),He),Pe=this._buildBevelVert(z,re,(be+j)%he,j/(ue-1),He),C.push(Ue.topN,ce.topP,fe.topN),C.push(fe.topN,ce.topP,Pe.topP),a===!1&&(C.push(ce.bottomP,Ue.bottomN,fe.bottomN),C.push(ce.bottomP,fe.bottomN,Pe.bottomP)),Ue=ce,fe=Pe;else if(H>ue){let j=H/ue,_e=0;for(let qe=1;qe<H;qe++)ce=this._buildBevelVert(z,ne,(xe+qe)%ye,qe/(H-1),He),C.push(Ue.topN,ce.topP,fe.topN),a===!1&&C.push(ce.bottomP,Ue.bottomN,fe.bottomN),Ue=ce,qe>(_e+1)*j&&(_e++,Pe=this._buildBevelVert(z,re,(be+_e)%he,_e/(ue-1),He),C.push(fe.topN,ce.topP,Pe.topP),a===!1&&C.push(ce.bottomP,fe.bottomN,Pe.bottomP),fe=Pe)}else{let j=ue/H,_e=0;for(let qe=1;qe<ue;qe++)Pe=this._buildBevelVert(z,re,(be+qe)%he,qe/(ue-1),He),C.push(fe.topN,ce.topP,Pe.topP),a===!1&&C.push(ce.bottomP,fe.bottomN,Pe.bottomP),fe=Pe,qe>(_e+1)*j&&(_e++,ce=this._buildBevelVert(z,ne,(xe+_e)%ye,_e/(H-1),He),C.push(Ue.topN,ce.topP,fe.topN),a===!1&&C.push(ce.bottomP,Ue.bottomN,fe.bottomN),Ue=ce)}xe=(xe+H)%ye,be=(be+ue)%he,pe=(pe+1)%Me}while(pe!==Ve)}if(a===!1&&this._depth>this._bevel*2&&this._buildWall(V,z,C),D){let te=[];for(let ne=C.length-1;ne>=ie+2;ne-=3){let re=C[ne-2],ye=C[ne-1],he=C[ne-0];te.push(he,ye,re)}C.splice(ie,C.length-ie,...te)}if(D){let te=[];for(let ne=V[V.length-1].boundary.vertices.length-1;ne>=1;ne-=2){let re=V[V.length-1].boundary.vertices[ne-1],ye=V[V.length-1].boundary.vertices[ne-0];te.push(re,ye)}M.push(te)}if(!D){let te=V[V.length-1],ne;try{ne=iu({windingRule:V.length>1?Zn.POSITIVE:Zn.ODD,elementType:$i.POLYGONS,vertexSize:2,strict:!0,contours:[te.insetPoints,...M]})}catch{ne=uj}if(!ne)throw new Error("Error generating geometry for surface");l.length===0&&this._bevel<u&&Object.assign(this,{useNgonForTopBottomFaceDuringBake:!0});for(let re=0;re<ne.elementCount*3;re+=3){let ye=this._buildSurfaceVert(ne,ne.elements[re+0],G),he=this._buildSurfaceVert(ne,ne.elements[re+1],G),Me=this._buildSurfaceVert(ne,ne.elements[re+2],G);C.push(ye.top,he.top,Me.top),a===!1&&C.push(Me.bottom,he.bottom,ye.bottom)}}this.vertexCache={}}this._buffer.shrink();let P=new St(Uint32Array.from(C),1),x=new St(this._buffer.positions,3),E=new St(this._buffer.normals,3),O=new St(this._buffer.uvs,2);x.needsUpdate=!0,E.needsUpdate=!0,O.needsUpdate=!0,P.needsUpdate=!0,this.setAttribute("position",x),this.setAttribute("normal",E),this.setAttribute("uv",O),this.setIndex(P)}_computeBufferEstimatedSize(e){return e.vertexCount*2*(2+this._bevelSegments)}_buildWall(e,t,n){let i=e[0];for(let r=0,o=i.boundary.vertexCount;r<o;r++){let a=this._buildBevelVert(t,i,r),s=this._buildBevelVert(t,i,(r+1)%o);n.push(s.topP,a.topN,a.bottomN),n.push(s.topP,a.bottomN,s.bottomP)}}_buildSurfaceVert(e,t,n){let i=t.toString();if(i in this.vertexCache)return this.vertexCache[i];let r=e.vertices[t*2+0],o=e.vertices[t*2+1],a=(r-this._minX)/this._width,s=(o-this._minY)/this._height;this.forPathBevel&&(s=1);let l=this._buffer.get(this.forPathBevel?1:2),c=l*3,d=l*2,u={top:l+0,bottom:l+1};return this._buffer.positions[c+0]=r,this._buffer.positions[c+1]=o,this._buffer.positions[c+2]=this.forPathBevel?this._bevel:this._depth-n,this._buffer.normals[c+0]=0,this._buffer.normals[c+1]=0,this._buffer.normals[c+2]=1,this._buffer.uvs[d+0]=a,this._buffer.uvs[d+1]=s,this.forPathBevel===!1&&(this._buffer.positions[c+3]=r,this._buffer.positions[c+4]=o,this._buffer.positions[c+5]=n,this._buffer.normals[c+3]=0,this._buffer.normals[c+4]=0,this._buffer.normals[c+5]=-1,this._buffer.uvs[d+2]=a,this._buffer.uvs[d+3]=s),this.vertexCache[i]=u,u}_buildBevelVert(e,t,n,i=1,r){let o=`${t.bevelI}:${n}`;if(o in this.vertexCache&&r!==0&&r!==1&&(!r||r===this.vertexCache[o].pathBevelUCoord))return this.vertexCache[o];let[a,s]=t.boundary.vertexIndices[n],l,c,d,u;a!==s?(c=a,l=s,u=!1,d=e.continuous[c]&&e.continuous[l]):(l=a,c=(l-1+e.count)%e.count,u=e.concave[l]&&t.bevelI>0,d=e.continuous[l]||u);let h=Math.cos(t.angle),p=Math.sin(t.angle),m=n*2,g=l*2,v=c*2,b=t.boundary.vertices[m+0],_=t.boundary.vertices[m+1],C=(1-p)*this._bevel,M=(b-this._minX)/this._width,P=(_-this._minY)/this._height;this.forPathBevel&&(r!==void 0&&(M=r),P=1);let x=e.normals[g+0],E=e.normals[g+1],O=e.normals[v+0],S=e.normals[v+1];if(u){let k=O-x,z=S-E;x=x+k*(1-i),E=E+z*(1-i);let W=Math.sqrt(x*x+E*E);x/=W,E/=W}let D=this.forPathBevel?this._buffer.get(d?1:2):this._buffer.get(d?2:4),I=D*3,T=D*2,R={i:n,fi:l,topP:D+0,topN:D+0,bottomP:D+1,bottomN:D+1,pathBevelUCoord:r};return this._buffer.positions[I+0]=b,this._buffer.positions[I+1]=_,this._buffer.positions[I+2]=(this.forPathBevel?this._bevel:this._depth)-C,this._buffer.normals[I+0]=x*h,this._buffer.normals[I+1]=E*h,this._buffer.normals[I+2]=p,this._buffer.uvs[T+0]=M,this._buffer.uvs[T+1]=P,this.forPathBevel===!1&&(this._buffer.positions[I+3]=b,this._buffer.positions[I+4]=_,this._buffer.positions[I+5]=C,this._buffer.normals[I+3]=x*h,this._buffer.normals[I+4]=E*h,this._buffer.normals[I+5]=-p,this._buffer.uvs[T+2]=P,this._buffer.uvs[T+3]=M),d||(this.forPathBevel?(D+=1,I+=3,T+=2):(D+=2,I+=6,T+=4),R.topP=D+0,R.bottomP=D+1,this._buffer.positions[I+0]=b,this._buffer.positions[I+1]=_,this._buffer.positions[I+2]=(this.forPathBevel?this._bevel:this._depth)-C,this._buffer.normals[I+0]=O*h,this._buffer.normals[I+1]=S*h,this._buffer.normals[I+2]=p,this._buffer.uvs[T+0]=M,this._buffer.uvs[T+1]=P,this.forPathBevel===!1&&(this._buffer.positions[I+3]=b,this._buffer.positions[I+4]=_,this._buffer.positions[I+5]=C,this._buffer.normals[I+3]=O*h,this._buffer.normals[I+4]=S*h,this._buffer.normals[I+5]=-p,this._buffer.uvs[T+2]=P,this._buffer.uvs[T+3]=M)),this.vertexCache[o]=R,R}clone(){let e=new ST(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=mw(this.userData),e}},hj=class extends pt{constructor(e,t=12,n={}){super(),this.type="ShapeGeometry",this.windingRule=Zn.ODD,this.elementType=$i.POLYGONS,this.polySize=3,this.vertexSize=2,this.strict=!0,this._shape=e,this._curveSegments=t,this._triangulationOptions=Object.assign({windingRule:Zn.ODD,elementType:$i.POLYGONS,polySize:3,vertexSize:2,strict:!0},n);let i=this._shape.extractShapePointsToFlatArray([],this._curveSegments),r=this._shape.shapeHoles.map(h=>h.extractShapePointsToFlatArray([],this._curveSegments)),o,a=!0,s=!0,l,c;for(let h=0,p=i.length/2;h<p;h++){let m=h*2,g=i[m+0],v=i[m+1];if(l!==void 0&&g!==l&&(a=!1),c!==void 0&&v!==c&&(s=!1),l=g,c=v,!a&&!s)break}if(!a&&!s)try{o=iu({contours:[i,...r],windingRule:this._triangulationOptions.windingRule,elementType:this._triangulationOptions.elementType,polySize:this._triangulationOptions.polySize,vertexSize:this._triangulationOptions.vertexSize,strict:this._triangulationOptions.strict})}catch{o=OT}let d=o?.vertexCount??1,u=o?.elementCount??1;if(this._positionAttribute=new St(new Float32Array(d*3),3),this._normalAttribute=new St(new Float32Array(d*3),3),this._uvAttribute=new St(new Float32Array(d*2),2),this._indexAttribute=new St(new Uint32Array(u*3),1),o){let h=1/0,p=-1/0,m=1/0,g=-1/0;for(let _=0,C=d;_<C;_++){let M=_*2,P=o.vertices[M+0],x=o.vertices[M+1];P<h&&(h=P),P>p&&(p=P),x<m&&(m=x),x>g&&(g=x)}let v=p-h,b=g-m;for(let _=0,C=d;_<C;_++){let M=_*2,P=o.vertices[M+0],x=o.vertices[M+1],E=(P-h)/v,O=(x-m)/b;this._positionAttribute.setXYZ(_,P,x,0),this._normalAttribute.setXYZ(_,0,0,1),this._uvAttribute.setXY(_,E,O)}for(let _=0,C=u;_<C;_++){let M=_*3,P=o.elements[M+0],x=o.elements[M+1],E=o.elements[M+2];this._indexAttribute.setX(M+0,P),this._indexAttribute.setX(M+1,x),this._indexAttribute.setX(M+2,E)}}this.setAttribute("position",this._positionAttribute),this.setAttribute("normal",this._normalAttribute),this.setAttribute("uv",this._uvAttribute),this.setIndex(this._indexAttribute),this.setDrawRange(0,(o?.elementCount??1)*3)}clone(){let e=new hj(this._shape,this._curveSegments);return e.userData=mw(this.userData),e}},pj=class extends ST{constructor(e,t,n=0,i=12,r=3,o=Zn.ODD){super(e,t,n,i,r,o),this.type="ShapeGeometry"}_computeBufferEstimatedSize(e){return e.vertexCount*2*(2+this._bevelSegments)}_buildWall(e,t,n){let i=e[0];for(let r=0,o=i.boundary.vertexCount;r<o;r++){let a=this._buildBevelVert(t,i,r),s=this._buildBevelVert(t,i,(r+1)%o);n.push(s.topP,a.topN,a.bottomN),n.push(s.topP,a.bottomN,s.bottomP)}}clone(){let e=new pj(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=mw(this.userData),e}},hp=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,subdivisions:40,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3,windingRule:Zn.ODD},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??n.width),o=Math.abs(n.depth??0),a=e.shape??t?.shape,s=a?.roundness??n.roundness;a!==void 0&&(a instanceof Ri?(a.width!==i||a.height!==r)&&a.applySize(i,r):a=new Ri(i,r).fromJSON(a),e.parameters?.roundness!==void 0&&e.parameters?.roundness>0&&a.update());let l=a??new Ri(i,r);return{parameters:Object.assign(n,{width:i,height:r,depth:o,roundness:s}),shape:l}}static build(e){let{depth:t,extrudeBevelSize:n,extrudeBevelSegments:i,subdivisions:r,roundness:o,windingRule:a}=e.parameters;e.shape.roundness=o;let s;return t<=0?s=new hj(e.shape,r,{windingRule:a}):s=new pj(e.shape,t,n,r,i,a),Object.assign(s,{userData:se(B({},e),{type:"VectorGeometry"})})}},mj=Math.PI*2,ET=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,spikes:64,angle:360,innerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return n.angle=et.clamp(n.angle,0,360),{shape:e.shape&&e.shape instanceof Ri?e.shape:new Ri,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n,spikes:i,angle:r,innerRadius:o,depth:a,extrudeBevelSize:s,extrudeBevelSegments:l}=e.parameters,c=e.shape,d=t*.5,u=n*.5,h=cbe(c,d,u,r*Math.PI/180,i,o);c.isClosed=!0,c.update();let p;return r===0?(p=new pt,p.setAttribute("position",new Je([],3))):p=hp.create({shape:c,parameters:{subdivisions:h,depth:a,extrudeBevelSize:s,extrudeBevelSegments:l}}),Object.assign(p,{userData:se(B({},e),{type:"EllipseGeometry"})})}};function cbe(e,t,n,i,r,o){if(i>=mj)return r>30||r%4===0?(ube(e,t,n,o),Math.round(r/4)):bz(e,i,r,t,n,o);i=Math.max(i,.001);let a={x:0,y:n},s=i+Math.PI*.5,l={x:Math.cos(s)*t,y:Math.sin(s)*n},c=ibe({px:a.x,py:a.y,cx:l.x,cy:l.y,rx:t,ry:n,largeArcFlag:i>Math.PI,sweepFlag:!0});return r>30||r%c.length===0?dbe(e,a.x,a.y,c,r,t,n,o):bz(e,i,r,t,n,o)}function dbe(e,t,n,i,r,o,a,s){let l=Math.round(r/i.length);e.addPoint(Sf(t,n));for(let c=0,d=i.length;c<d;c++){let u=i[c],h=e.points[c],p=Sf(u.x,u.y);h.controls[1].position.set(u.x1,u.y1),p.controls[0].position.set(u.x2,u.y2),e.addPoint(p)}return s>0?fj(e,o,a,s):e.addPoint(Sf(0,0)),l}function bz(e,t,n,i,r,o){let a=-t/n;for(let s=0;s<=n;s++){let l=a*s,c=Math.sin(l)*i,d=Math.cos(l)*r;e.addPoint(Sf(c,d))}return t<mj?o>0?fj(e,i,r,o):e.addPoint(Sf(0,0)):(e.removePoint(e.points[e.points.length-1]),o>0&&gj(e,i,r,o)),1}function ube(e,t,n,i=0,r=0,o=0){let a=.5522847498,s=t*a,l=n*a;e.addPoint(lC(r-t,o,r-t,o-l,r-t,o+l)),e.addPoint(lC(r,o+n,r-s,o+n,r+s,o+n)),e.addPoint(lC(r+t,o,r+t,o+l,r+t,o-l)),e.addPoint(lC(r,o-n,r+s,o-n,r-s,o-n)),i>0&&gj(e,t,n,i)}function Sf(e,t){return new Of(et.generateUUID(),new oe(e,t))}function lC(e,t,n,i,r,o){let a=Sf(e,t);return a.controls[0].position.set(n,i),a.controls[1].position.set(r,o),a}function fj(e,t,n,i){vj(e,t,n,i).forEach(r=>e.addPoint(r))}function gj(e,t,n,i){let r=vj(e,t,n,i),o=new Ri;r.forEach(a=>o.addPoint(a)),o.isClosed=!0,e.shapeHoles.push(o)}function vj(e,t,n,i){let r=i*t/100,o=r*(Math.abs(n)/Math.abs(t)),a=new oe(r/t,o/n),s=e.points.map(l=>{let c=l.clone();return c.uuid=et.generateUUID(),c}).reverse();return s.forEach(l=>{l.position.multiply(a);let c=l.controls[0].position.clone().multiply(a),d=l.controls[1].position.clone().multiply(a);l.controls[0].position.copy(d),l.controls[1].position.copy(c)}),s}var hbe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,revolutions:2,segments:40,pathRadius:10,pathType:0,pathSegments:30,cornerRadius:30,cornerSegments:4},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??i),o=Math.abs(n.depth??i),a=Math.abs(Math.min(i,o))/2;return{parameters:Object.assign(n,{width:i,height:r,depth:o,radius:a,segments:Math.round(n.segments),pathSegments:Math.round(n.pathSegments),cornerSegments:Math.round(n.cornerSegments)})}}static build(e){let{width:t,height:n,depth:i,radius:r,revolutions:o,segments:a,pathRadius:s,pathType:l,pathSegments:c,cornerRadius:d,cornerSegments:u}=e.parameters,h=new yj(!1,t,n,i,r,o,a,s,l,c,d,u);return Object.assign(h,{userData:se(B({},e),{type:"HelixGeometry"})})}},RE=new bf([0,0,0],1),yj=class extends pt{constructor(e=!0,t=1,n=1,i=1,r=1,o=1,a=1,s=1,l=1,c=1,d=1,u=1){if(super(),o===0)return;let h=e&&o===1;h&&(u=0),d>100&&(d=100),d===0&&(u=0);let p=()=>new L,m=new L,g=p(),v=p(),b=p(),_,C,M,P,x,E,O,S,D=p(),I=p(),T=p(),R=p(),k=p(),z=p(),W=p(),N=p(),F=n-2*s+.001,X=F/o,V=Math.ceil(a*o),G=V+1,Y=F/V,ie=-F/2,te=c+1,ne=2*Math.PI/c,re=Math.PI/2/u,ye=.01,he=Math.min((1-d/100)*s,s-ye),Me=s-he,pe=0,Ae=2,xe=u*Ae+Ae,be=te*xe/Ae,Ve=be+te*G,He=Math.max(0,te*(G+xe)),[Ge,de,Ue]=[3,3,2].map(je=>Array(He*je).fill(0)),fe=[],ce=r-s;function Pe(je,Re){let $e=Math.PI/2;E=Re*Y,S=2*Math.PI*(E%X)/X+$e,E+=ie,O=Math.sin(S)*ce,x=Math.cos(S)*ce,e?je.set(x,O,E):je.set(x,E,O)}Pe(m,-1e-10),Pe(g,0),D.copy(m),Pe(m,1);let Q=m.distanceTo(g),H=h?0:Me+he,ue=Q*V+2*H,Te=he,j=ue-H;for(let je=0;je<=V;je++){Pe(v,je),N.subVectors(v,D).normalize(),D.copy(v),z.copy(v).setComponent(+e+1,0).normalize(),W.crossVectors(N,z).normalize();let Re=je===0,$e=je===V,lt=Re?3*Math.PI/2:re,at=Re?Te:j,Bt=Re?te:Ve,Qt=Re?0:He-te,At=N.clone().multiplyScalar(Re?-Me:Me).add(v),ae=N.clone().multiplyScalar(Re?-1:1).normalize();for(let De=0;De<te;De++){let ke=De*ne;if(I.addVectors(m.copy(z).multiplyScalar(s*Math.cos(ke)),g.copy(W).multiplyScalar(s*Math.sin(ke))),T.copy(I).normalize(),Re||$e){h||(pe=Qt+De,[0,1,2].forEach(Fe=>{Ge[pe*3+Fe]=At.getComponent(Fe),de[pe*3+Fe]=ae.getComponent(Fe)}),Ue[pe*2]=+$e,Ue[pe*2+1]=De/c),g.copy(T).multiplyScalar(he),b.addVectors(v,g);for(let Fe=0;Fe<u;Fe++){let Qe=Fe*re+lt;R.addVectors(m.copy(N).multiplyScalar(Me*Math.sin(Qe)),g.copy(T).multiplyScalar(Me*Math.cos(Qe))),k.copy(R).normalize(),g.addVectors(b,R),R.normalize(),pe=Bt+Fe*te+De,[0,1,2].forEach(gn=>{Ge[pe*3+gn]=g.getComponent(gn),de[pe*3+gn]=k.getComponent(gn)});let st=+Re+Math.sin(Qe);Ue[pe*2]=(at+Me*st)/ue,Ue[pe*2+1]=De/c}}g.addVectors(v,I),pe=be+je*te+De,[0,1,2].forEach(Fe=>{Ge[pe*3+Fe]=g.getComponent(Fe),de[pe*3+Fe]=T.getComponent(Fe)}),Ue[pe*2]=(H+je*Q)/ue,Ue[pe*2+1]=De/c}}let _e=G+2*u+Ae,qe=1,[Ne,we]=[+h,_e-1];for(let je=Ne;je<=we-1;je++){let Re=h&&je===we-1;for(let $e=0;$e<te-1;$e++)_=je*te+$e,C=_+1,M=(Re?$e:_)+te,P=(Re?$e+1:C)+te,je===0?fe.push(C,P,M):je===_e-2?fe.push(_,C,M):fe.push(_,C,M,C,P,M)}this.setIndex(fe),this.setAttribute("position",new Je(Ge,3)),this.setAttribute("normal",new Je(de,3)),this.setAttribute("uv",new Je(Ue,2))}getClosedTorusIndicesForBooleanOrSubdiv(){let e=this.userData.parameters,t=Math.ceil(e.tubularSegments),n=e.radialSegments+1,i=Array.from(this.getIndex().array),r,o,a,s,l=6*(t-1)*e.radialSegments,c=t,d=c===t;for(let u=0;u<e.radialSegments;u++)r=c*n+u,o=r+1,a=(d?u:r)+n,s=(d?u+1:o)+n,i[l++]=r,i[l++]=o,i[l++]=a,i[l++]=o,i[l++]=s,i[l++]=a;return i.length=l,RE.array=i,RE.count=i.length,RE}},pbe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,detail:r,corner:o,cornerSides:a}=e.parameters,s=r===0&&o!==0?new bj(t*.5,o,a):new gV(t*.5,r);return s.scale(1,n/t,i/t),Object.assign(s,{userData:se(B({},e),{type:"IcosahedronGeometry"})})}},bj=class extends wT{constructor(e=1,t=.2,n=4){let i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a="IcosahedronGeometry";super(r,o,a,e,t,n),this.type=a}static fromJSON(e){return new bj(e.radius,e.corner,e.cornerSides)}},mbe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){(e.parameters?.points??[]).forEach(i=>{Array.isArray(i)&&(i.x=i[0],i.y=i[1])});let n=Object.assign({},t?.parameters??{width:100,segments:64,verticalSegments:64,points:[{x:0,y:-50,id:0},{x:50,y:-50,id:1},{x:50,y:50,id:2},{x:0,y:50,id:3}]},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{points:t,segments:n,verticalSegments:i}=e.parameters,r=new cM;r.moveTo(t[0].x,t[0].y),r.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y);let o=new dV(r.extractPoints(i).shape,n);return o.rotateZ(Math.PI),Object.assign(o,{userData:se(B({},e),{type:"LatheGeometry"})})}},Pl=new Be,LE=new qn,cC=new L,qM=class extends Jr{constructor(){super(),this.uuid=et.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}applyMatrix4(e){let t=new fr().getNormalMatrix(e);for(let n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(let o=0,a=r.vertexNormals.length;o<a;o++)r.vertexNormals[o].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this}rotateX(e){return Pl.makeRotationX(e),this.applyMatrix4(Pl),this}rotateY(e){return Pl.makeRotationY(e),this.applyMatrix4(Pl),this}rotateZ(e){return Pl.makeRotationZ(e),this.applyMatrix4(Pl),this}translate(e,t,n){return Pl.makeTranslation(e,t,n),this.applyMatrix4(Pl),this}scale(e,t,n){return Pl.makeScale(e,t,n),this.applyMatrix4(Pl),this}lookAt(e){return LE.lookAt(e),LE.updateMatrix(),this.applyMatrix4(LE.matrix),this}fromBufferGeometry(e){let t=this,n=e.index!==null?e.index:void 0,i=e.attributes;if(i.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;let r=i.position,o=i.normal,a=i.color,s=i.uv,l=i.uv2;l!==void 0&&(this.faceVertexUvs[1]=[]);for(let u=0;u<r.count;u++)t.vertices.push(new L().fromBufferAttribute(r,u)),a!==void 0&&t.colors.push(new _t().fromBufferAttribute(a,u));function c(u,h,p,m){let g=a===void 0?[]:[t.colors[u].clone(),t.colors[h].clone(),t.colors[p].clone()],v=o===void 0?[]:[new L().fromBufferAttribute(o,u),new L().fromBufferAttribute(o,h),new L().fromBufferAttribute(o,p)],b=new XD(u,h,p,v,g,m);t.faces.push(b),s!==void 0&&t.faceVertexUvs[0].push([new oe().fromBufferAttribute(s,u),new oe().fromBufferAttribute(s,h),new oe().fromBufferAttribute(s,p)]),l!==void 0&&t.faceVertexUvs[1].push([new oe().fromBufferAttribute(l,u),new oe().fromBufferAttribute(l,h),new oe().fromBufferAttribute(l,p)])}let d=e.groups;if(d.length>0)for(let u=0;u<d.length;u++){let h=d[u],p=h.start,m=h.count;for(let g=p,v=p+m;g<v;g+=3)n!==void 0?c(n.getX(g),n.getX(g+1),n.getX(g+2),h.materialIndex):c(g,g+1,g+2,h.materialIndex)}else if(n!==void 0)for(let u=0;u<n.count;u+=3)c(n.getX(u),n.getX(u+1),n.getX(u+2));else for(let u=0;u<r.count;u+=3)c(u,u+1,u+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(cC).negate(),this.translate(cC.x,cC.y,cC.z),this}normalize(){this.computeBoundingSphere();let e=this.boundingSphere.center,t=this.boundingSphere.radius,n=t===0?1:1/t,i=new Be;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this}computeFaceNormals(){let e=new L,t=new L;for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n],o=this.vertices[r.a],a=this.vertices[r.b],s=this.vertices[r.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),r.normal.copy(e)}}computeVertexNormals(e=!0){let t=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)t[n]=new L;if(e){let n=new L,i=new L;for(let r=0,o=this.faces.length;r<o;r++){let a=this.faces[r],s=this.vertices[a.a],l=this.vertices[a.b],c=this.vertices[a.c];n.subVectors(c,l),i.subVectors(s,l),n.cross(i),t[a.a].add(n),t[a.b].add(n),t[a.c].add(n)}}else{this.computeFaceNormals();for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n];t[r.a].add(r.normal),t[r.b].add(r.normal),t[r.c].add(r.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)t[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n],o=r.vertexNormals;o.length===3?(o[0].copy(t[r.a]),o[1].copy(t[r.b]),o[2].copy(t[r.c])):(o[0]=t[r.a].clone(),o[1]=t[r.b].clone(),o[2]=t[r.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeFlatVertexNormals(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){let n=this.faces[e],i=n.vertexNormals;i.length===3?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeMorphNormals(){for(let t=0,n=this.faces.length;t<n;t++){let i=this.faces[t];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let r=0,o=i.vertexNormals.length;r<o;r++)i.__originalVertexNormals[r]?i.__originalVertexNormals[r].copy(i.vertexNormals[r]):i.__originalVertexNormals[r]=i.vertexNormals[r].clone()}let e=new qM;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];let r=this.morphNormals[t].faceNormals,o=this.morphNormals[t].vertexNormals;for(let a=0,s=this.faces.length;a<s;a++){let l=new L,c={a:new L,b:new L,c:new L};r.push(l),o.push(c)}}let i=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let r=0,o=this.faces.length;r<o;r++){let a=this.faces[r],s=i.faceNormals[r],l=i.vertexNormals[r];s.copy(a.normal),l.a.copy(a.vertexNormals[0]),l.b.copy(a.vertexNormals[1]),l.c.copy(a.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){let i=this.faces[t];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ji),this.boundingBox.setFromPoints(this.vertices)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ua),this.boundingSphere.setFromPoints(this.vertices)}merge(e,t,n=0){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let i,r=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,l=e.faces,c=this.colors,d=e.colors;t!==void 0&&(i=new fr().getNormalMatrix(t));for(let u=0,h=a.length;u<h;u++){let p=a[u].clone();t!==void 0&&p.applyMatrix4(t),o.push(p)}for(let u=0,h=d.length;u<h;u++)c.push(d[u].clone());for(let u=0,h=l.length;u<h;u++){let p=l[u],m,g,v=p.vertexNormals,b=p.vertexColors,_=new XD(p.a+r,p.b+r,p.c+r);_.normal.copy(p.normal),i!==void 0&&_.normal.applyMatrix3(i).normalize();for(let C=0,M=v.length;C<M;C++)m=v[C].clone(),i!==void 0&&m.applyMatrix3(i).normalize(),_.vertexNormals.push(m);_.color.copy(p.color);for(let C=0,M=b.length;C<M;C++)g=b[C],_.vertexColors.push(g.clone());_.materialIndex=p.materialIndex+n,s.push(_)}for(let u=0,h=e.faceVertexUvs.length;u<h;u++){let p=e.faceVertexUvs[u];this.faceVertexUvs[u]===void 0&&(this.faceVertexUvs[u]=[]);for(let m=0,g=p.length;m<g;m++){let v=p[m],b=[];for(let _=0,C=v.length;_<C;_++)b.push(v[_].clone());this.faceVertexUvs[u].push(b)}}}mergeMesh(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)}mergeVertices(e=4){let t={},n=[],i=[],r=Math.pow(10,e);for(let s=0,l=this.vertices.length;s<l;s++){let c=this.vertices[s],d=Math.round(c.x*r)+"_"+Math.round(c.y*r)+"_"+Math.round(c.z*r);t[d]===void 0?(t[d]=s,n.push(this.vertices[s]),i[s]=n.length-1):i[s]=i[t[d]]}let o=[];for(let s=0,l=this.faces.length;s<l;s++){let c=this.faces[s];c.a=i[c.a],c.b=i[c.b],c.c=i[c.c];let d=[c.a,c.b,c.c];for(let u=0;u<3;u++)if(d[u]===d[(u+1)%3]){o.push(s);break}}for(let s=o.length-1;s>=0;s--){let l=o[s];this.faces.splice(l,1);for(let c=0,d=this.faceVertexUvs.length;c<d;c++)this.faceVertexUvs[c].splice(l,1)}let a=this.vertices.length-n.length;return this.vertices=n,a}setFromPoints(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){let i=e[t];this.vertices.push(new L(i.x,i.y,i.z||0))}return this}sortFacesByMaterialIndex(){let e=this.faces,t=e.length;for(let s=0;s<t;s++)e[s]._id=s;function n(s,l){return s.materialIndex-l.materialIndex}e.sort(n);let i=this.faceVertexUvs[0],r=this.faceVertexUvs[1],o,a;i&&i.length===t&&(o=[]),r&&r.length===t&&(a=[]);for(let s=0;s<t;s++){let l=e[s]._id;o&&o.push(i[l]),a&&a.push(r[l])}o&&(this.faceVertexUvs[0]=o),a&&(this.faceVertexUvs[1]=a)}toJSON(){let e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){let p=this.parameters;for(let m in p)p[m]!==void 0&&(e[m]=p[m]);return e}let t=[];for(let p=0;p<this.vertices.length;p++){let m=this.vertices[p];t.push(m.x,m.y,m.z)}let n=[],i=[],r={},o=[],a={},s=[],l={};for(let p=0;p<this.faces.length;p++){let m=this.faces[p],g=!0,v=!1,b=this.faceVertexUvs[0][p]!==void 0,_=m.normal.length()>0,C=m.vertexNormals.length>0,M=m.color.r!==1||m.color.g!==1||m.color.b!==1,P=m.vertexColors.length>0,x=0;if(x=c(x,0,0),x=c(x,1,g),x=c(x,2,v),x=c(x,3,b),x=c(x,4,_),x=c(x,5,C),x=c(x,6,M),x=c(x,7,P),n.push(x),n.push(m.a,m.b,m.c),n.push(m.materialIndex),b){let E=this.faceVertexUvs[0][p];n.push(h(E[0]),h(E[1]),h(E[2]))}if(_&&n.push(d(m.normal)),C){let E=m.vertexNormals;n.push(d(E[0]),d(E[1]),d(E[2]))}if(M&&n.push(u(m.color)),P){let E=m.vertexColors;n.push(u(E[0]),u(E[1]),u(E[2]))}}function c(p,m,g){return g?p|1<<m:p&~(1<<m)}function d(p){let m=p.x.toString()+p.y.toString()+p.z.toString();return r[m]!==void 0||(r[m]=i.length/3,i.push(p.x,p.y,p.z)),r[m]}function u(p){let m=p.r.toString()+p.g.toString()+p.b.toString();return a[m]!==void 0||(a[m]=o.length,o.push(p.getHex())),a[m]}function h(p){let m=p.x.toString()+p.y.toString();return l[m]!==void 0||(l[m]=s.length/2,s.push(p.x,p.y)),l[m]}return e.data={},e.data.vertices=t,e.data.normals=i,o.length>0&&(e.data.colors=o),s.length>0&&(e.data.uvs=[s]),e.data.faces=n,e}clone(){return new qM().copy(this)}copy(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;let t=e.vertices;for(let u=0,h=t.length;u<h;u++)this.vertices.push(t[u].clone());let n=e.colors;for(let u=0,h=n.length;u<h;u++)this.colors.push(n[u].clone());let i=e.faces;for(let u=0,h=i.length;u<h;u++)this.faces.push(i[u].clone());for(let u=0,h=e.faceVertexUvs.length;u<h;u++){let p=e.faceVertexUvs[u];this.faceVertexUvs[u]===void 0&&(this.faceVertexUvs[u]=[]);for(let m=0,g=p.length;m<g;m++){let v=p[m],b=[];for(let _=0,C=v.length;_<C;_++){let M=v[_];b.push(M.clone())}this.faceVertexUvs[u].push(b)}}let r=e.morphTargets;for(let u=0,h=r.length;u<h;u++){let p={};if(p.name=r[u].name,r[u].vertices!==void 0){p.vertices=[];for(let m=0,g=r[u].vertices.length;m<g;m++)p.vertices.push(r[u].vertices[m].clone())}if(r[u].normals!==void 0){p.normals=[];for(let m=0,g=r[u].normals.length;m<g;m++)p.normals.push(r[u].normals[m].clone())}this.morphTargets.push(p)}let o=e.morphNormals;for(let u=0,h=o.length;u<h;u++){let p={};if(o[u].vertexNormals!==void 0){p.vertexNormals=[];for(let m=0,g=o[u].vertexNormals.length;m<g;m++){let v=o[u].vertexNormals[m],b={};b.a=v.a.clone(),b.b=v.b.clone(),b.c=v.c.clone(),p.vertexNormals.push(b)}}if(o[u].faceNormals!==void 0){p.faceNormals=[];for(let m=0,g=o[u].faceNormals.length;m<g;m++)p.faceNormals.push(o[u].faceNormals[m].clone())}this.morphNormals.push(p)}let a=e.skinWeights;for(let u=0,h=a.length;u<h;u++)this.skinWeights.push(a[u].clone());let s=e.skinIndices;for(let u=0,h=s.length;u<h;u++)this.skinIndices.push(s[u].clone());let l=e.lineDistances;for(let u=0,h=l.length;u<h;u++)this.lineDistances.push(l[u]);let c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());let d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}toBufferGeometry(){let e=new fbe().fromGeometry(this),t=new pt,n=new Float32Array(e.vertices.length*3);if(t.setAttribute("position",dC.call(new St(n,3),e.vertices)),e.normals.length>0){let i=new Float32Array(e.normals.length*3);t.setAttribute("normal",dC.call(new St(i,3),e.normals))}if(e.colors.length>0){let i=new Float32Array(e.colors.length*3);t.setAttribute("color",_z.call(new St(i,3),e.colors))}if(e.uvs.length>0){let i=new Float32Array(e.uvs.length*2);t.setAttribute("uv",Cz.call(new St(i,2),e.uvs))}if(e.uvs2.length>0){let i=new Float32Array(e.uvs2.length*2);t.setAttribute("uv2",Cz.call(new St(i,2),e.uvs2))}t.groups=e.groups;for(let i in e.morphTargets){let r=[],o=e.morphTargets[i];for(let a=0,s=o.length;a<s;a++){let l=o[a],c=new Je(l.data.length*3,3);c.name=l.name,r.push(dC.call(c,l.data))}t.morphAttributes[i]=r}if(e.skinIndices.length>0){let i=new Je(e.skinIndices.length*4,4);t.setAttribute("skinIndex",Mz.call(i,e.skinIndices))}if(e.skinWeights.length>0){let i=new Je(e.skinWeights.length*4,4);t.setAttribute("skinWeight",Mz.call(i,e.skinWeights))}return e.boundingSphere!==null&&(t.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(t.boundingBox=e.boundingBox.clone()),t}computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")}computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}applyMatrix(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}dispose(){this.dispatchEvent({type:"dispose"})}static createBufferGeometryFromObject(e){let t=new pt,n=e.geometry;if(e.isPoints||e.isLine){let i=new Je(n.vertices.length*3,3),r=new Je(n.colors.length*3,3);if(t.setAttribute("position",dC.call(i,n.vertices)),t.setAttribute("color",_z.call(r,n.colors)),n.lineDistances&&n.lineDistances.length===n.vertices.length){let o=new Je(n.lineDistances.length,1);t.setAttribute("lineDistance",gbe.call(o,n.lineDistances))}n.boundingSphere!==null&&(t.boundingSphere=n.boundingSphere.clone()),n.boundingBox!==null&&(t.boundingBox=n.boundingBox.clone())}else e.isMesh&&(t=n.toBufferGeometry());return t}};qM.prototype.isGeometry=!0;var fbe=class{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){let t=[],n,i,r,o=e.faces;for(i=0;i<o.length;i++){let a=o[i];a.materialIndex!==r&&(r=a.materialIndex,n!==void 0&&(n.count=i*3-n.start,t.push(n)),n={start:i*3,materialIndex:r})}n!==void 0&&(n.count=i*3-n.start,t.push(n)),this.groups=t}fromGeometry(e){let t=e.faces,n=e.vertices,i=e.faceVertexUvs,r=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,a=e.morphTargets,s=a.length,l;if(s>0){l=[];for(let v=0;v<s;v++)l[v]={name:a[v].name,data:[]};this.morphTargets.position=l}let c=e.morphNormals,d=c.length,u;if(d>0){u=[];for(let v=0;v<d;v++)u[v]={name:c[v].name,data:[]};this.morphTargets.normal=u}let h=e.skinIndices,p=e.skinWeights,m=h.length===n.length,g=p.length===n.length;n.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let v=0;v<t.length;v++){let b=t[v];this.vertices.push(n[b.a],n[b.b],n[b.c]);let _=b.vertexNormals;if(_.length===3)this.normals.push(_[0],_[1],_[2]);else{let M=b.normal;this.normals.push(M,M,M)}let C=b.vertexColors;if(C.length===3)this.colors.push(C[0],C[1],C[2]);else{let M=b.color;this.colors.push(M,M,M)}if(r===!0){let M=i[0][v];M!==void 0?this.uvs.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",v),this.uvs.push(new oe,new oe,new oe))}if(o===!0){let M=i[1][v];M!==void 0?this.uvs2.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",v),this.uvs2.push(new oe,new oe,new oe))}for(let M=0;M<s;M++){let P=a[M].vertices;l[M].data.push(P[b.a],P[b.b],P[b.c])}for(let M=0;M<d;M++){let P=c[M].vertexNormals[v];u[M].data.push(P.a,P.b,P.c)}m&&this.skinIndices.push(h[b.a],h[b.b],h[b.c]),g&&this.skinWeights.push(p[b.a],p[b.b],p[b.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}},XD=class{constructor(e,t,n,i,r,o=0){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new L,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new _t,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=o}clone(){return new this.constructor().copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}};function gbe(e){return this.array.set(e),this}function _z(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new _t),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this}function Cz(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new oe),t[n++]=o.x,t[n++]=o.y}return this}function dC(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new L),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this}function Mz(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Et),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this}var vbe=["a","b","c"];function ybe(e,t){switch(t){case"c":return e.c;case"b":return e.b;case"a":default:return e.a}}function kE(e,t,n){let i=Math.min(e,t),r=Math.max(e,t),o=i+"_"+r;return n.get(o)}function FE(e,t,n,i,r,o){let a=Math.min(e,t),s=Math.max(e,t),l=a+"_"+s,c;if(i.has(l))c=i.get(l);else{let d=n[a],u=n[s];c={a:d,b:u,newEdge:null,faces:[]},i.set(l,c)}c.faces.push(r),o[e].edges.push(c),o[t].edges.push(c)}function bbe(e,t,n,i){let r,o,a;for(r=0,o=e.length;r<o;r++)n[r]={edges:[]};for(r=0,o=t.length;r<o;r++)a=t[r],FE(a.a,a.b,e,i,a,n),FE(a.b,a.c,e,i,a,n),FE(a.c,a.a,e,i,a,n)}function uC(e,t,n,i,r){e.push(new XD(t,n,i,void 0,void 0,r))}function qm(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function hC(e,t,n,i){e.push([t.clone(),n.clone(),i.clone()])}var _be=class{constructor(e=1){this.subdivisions=e}modify(e){e instanceof pt?e=new qM().fromBufferGeometry(e):e=e.clone(),e.mergeVertices();let t=this.subdivisions;for(;t-- >0;)this._smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),e}_smooth(e){let t=new L,n,i,r,o,a,s=e.vertices,l=e.faces,c=e.faceVertexUvs[0],d=c!==void 0&&c.length>0,u=[],h=new Map;bbe(s,l,u,h);let p=[],m,g,v,b,_,C,M;for(let ye of Array.from(h.keys())){for(g=h.get(ye),v=new L,_=3/8,C=1/8,M=g.faces.length,M!=2&&(_=.5,C=0,M!=1),v.addVectors(g.a,g.b).multiplyScalar(_),t.set(0,0,0),o=0;o<M;o++){for(b=g.faces[o],a=0;a<3&&(m=s[ybe(b,vbe[a])],!(m!==g.a&&m!==g.b));a++);m&&t.add(m)}t.multiplyScalar(C),v.add(t),g.newEdge=p.length,p.push(v)}let P,x,E,O,S,D,I,T=[];for(i=0,r=s.length;i<r;i++){for(D=s[i],S=u[i].edges,n=S.length,n==3?P=3/16:n>3&&(P=3/(8*n)),x=1-n*Number(P),E=P,n<=2&&(n==2?(x=3/4,E=1/8):n==1||n==0),I=D.clone().multiplyScalar(x),t.set(0,0,0),o=0;o<n;o++)O=S[o],m=O.a!==D?O.a:O.b,t.add(m);t.multiplyScalar(Number(E)),I.add(t),T.push(I)}let R=T.concat(p),k=T.length,z,W,N,F=[],X=[],V,G,Y,ie,te=new oe,ne=new oe,re=new oe;for(i=0,r=l.length;i<r;i++)b=l[i],z=Number(kE(b.a,b.b,h).newEdge)+k,W=Number(kE(b.b,b.c,h).newEdge)+k,N=Number(kE(b.c,b.a,h).newEdge)+k,uC(F,z,W,N,b.materialIndex),uC(F,b.a,z,N,b.materialIndex),uC(F,b.b,W,z,b.materialIndex),uC(F,b.c,N,W,b.materialIndex),d&&(V=c[i],G=V[0],Y=V[1],ie=V[2],te.set(qm(G.x,Y.x),qm(G.y,Y.y)),ne.set(qm(Y.x,ie.x),qm(Y.y,ie.y)),re.set(qm(G.x,ie.x),qm(G.y,ie.y)),hC(X,te,ne,re),hC(X,G,te,re),hC(X,Y,ne,te),hC(X,ie,re,ne));e.vertices=R,e.faces=F,d&&(e.faceVertexUvs[0]=X)}},dr=new L,Cbe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=e.geometry??t?.geometry??new pt().copy(new Qs(100,100,100)),i;t===void 0?(n.computeBoundingBox(),n.boundingBox.getSize(dr),i={width:dr.x,height:dr.y,depth:dr.z,subdivisions:0}):i=t.parameters;let r=B(B({},i),e.parameters);return{parameters:{width:Math.abs(r.width),height:Math.abs(r.height),depth:Math.abs(r.depth),subdivisions:Math.abs(r.subdivisions)},geometry:n}}static build(e){let{width:t,height:n,depth:i,subdivisions:r}=e.parameters,o=e.geometry??new pt().copy(new Qs(100,100,100)),a=o.userData.parameters;a===void 0?(o.computeBoundingBox(),o.boundingBox.getSize(dr)):dr.set(a.width,a.height,a.depth),(t!==dr.x||n!==dr.y||i!==dr.z)&&o.scale(dr.x===0?1:t/dr.x,dr.y===0?1:n/dr.y,dr.z===0?1:i/dr.z);let s=o.originalGeometry;try{r>0?(s===void 0||a?.subdivisions!==r)&&(s===void 0&&(s=o),o=new _be(r).modify(s).toBufferGeometry()):(s!==void 0&&(o=s),s=void 0,o.getAttribute("normal")===void 0&&o.computeVertexNormals())}catch{s!==void 0&&(o=s),s=void 0,o.getAttribute("normal")===void 0&&o.computeVertexNormals()}return s!==void 0&&Object.assign(o,{originalGeometry:s}),delete e.geometry,Object.assign(o,{userData:se(B({},e),{type:"NonParametricGeometry"})})}static loadFromUrl(e,t,n){new PV(n).load(e,i=>{let r=this.normalizeInputs({geometry:i});i.boundingBox.getSize(dr);let o=100/dr.x;Object.assign(r.parameters,{width:100,height:dr.y*o,depth:dr.z*o}),t(this.build(r))})}},_j=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters);return{shape:e.shape&&e.shape instanceof Ri?e.shape:new Ri,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n,spikes:i,cornerRadius:r,depth:o,extrudeBevelSize:a,extrudeBevelSegments:s}=e.parameters,l=e.shape,c=t*.5,d=n*.5,u=0,h=0,p=2*Math.PI/i;for(let g=0;g<i;g++){let v=p*g,b=u+Math.sin(v)*c,_=h+Math.cos(v)*d;l.addPoint(l.createPoint(b,_))}l.isClosed=!0;for(let g=0,v=l.points.length;g<v;g++)l.points[g].roundness=r;l.roundness=r,l.update();let m=hp.create({shape:l,parameters:{roundness:r,depth:o,extrudeBevelSize:a,extrudeBevelSegments:s}});return Object.assign(m,{userData:se(B({},e),{type:"PolygonGeometry"})})}},Mbe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:4,heightSegments:1,cornerRadius:0,cornerSegments:8,openEnded:!1},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,radialSegments:r,heightSegments:o,openEnded:a,cornerRadius:s,cornerSegments:l}=e.parameters,c=new xbe(t*.5,n,r,o,a,s,l);return c.scale(1,1,i/t),Object.assign(c,{userData:se(B({},e),{type:"PyramidGeometry"})})}};function hv(e,t,n){n.x=e.x*t.x,n.y=e.y,n.z=e.x*t.y}function NE(e,t,n,i,r,o){let a=t.clone().sub(e),s=n.clone().sub(e),l=a.angleTo(s);if(a.normalize(),s.normalize(),i===r){let c=a.add(s).normalize();o.copy(e).addScaledVector(c,i/Math.sin(l/2))}else{let c=a.angleTo(s);o.copy(e),o.addScaledVector(a,r/Math.sin(c)),o.addScaledVector(s,i/Math.sin(c))}}function wbe(e,t,n){let i=e.clone().sub(t),r=n.clone().sub(t);return i.projectOnVector(r),i.add(t)}var xbe=class extends pt{constructor(e=.5,t=1,n=4,i=1,r=!1,o=0,a=4){super(),n=Math.floor(Math.max(3,n)),i=Math.floor(i),a=Math.floor(a);let s=[],l=[],c=[],d=[],u=0,h=t/2,p=Math.PI/n,m=e*Math.cos(Math.PI/n),g=2*Math.PI/n,v=(n-2)*Math.PI/n,b=Math.PI-v,_=new L(0,-h,0),C=new L(0,h,0),M=new oe(e,-h),P=new oe(m,-h),x=new oe(0,C.y).sub(P),E=new oe(0,C.y).sub(M),O=new oe(x.y,-x.x).normalize(),S=new oe(E.y,-E.x).normalize(),D=e*Math.cos(Math.PI/n)*Math.tan((Math.PI-x.angle())/2)-1e-8;o=Math.min(o,D);let I;{let F=new L(O.x,O.y,0),X=new L(Math.cos(g)*F.x,F.y,Math.sin(g)*F.x);I=F.angleTo(X)}let T=o/Math.tan((Math.PI-x.angle())/2),R=o/Math.tan((Math.PI-I)/2),k=new L;if(!r){l.push(_.x,_.y,_.z),c.push(0,-1,0),d.push(0,0);let F=u++,X=[],V=M.clone(),G=T/Math.cos(Math.PI/n);V.x-=G;for(let Y=0;Y<n;Y++){let ie=Y/n*Math.PI*2+p,te=new oe(Math.sin(ie),Math.cos(ie));hv(V,te,k),l.push(k.x,k.y,k.z),c.push(0,-1,0),d.push(0,0),X.push(u++)}for(let Y=0;Y<X.length;Y++)s.push(X[Y],F,X[(Y+1)%X.length])}let z=[];{let F=new L,X=new L,V=new L,G=new L,Y=new L,ie=new L;for(let te=0;te<n;te++){let ne=te/n*Math.PI*2+p,re=(te+.5)/n*Math.PI*2+p,ye=(te+1)/n*Math.PI*2+p,he=new oe(Math.sin(ne),Math.cos(ne)),Me=new oe(Math.sin(re),Math.cos(re)),pe=new oe(Math.sin(ye),Math.cos(ye));hv(M,he,X),hv(M,pe,V),hv(O,Me,F),NE(C,X,V,R,R,G),l.push(G.x,G.y,G.z),NE(X,C,V,R,T,Y),l.push(Y.x,Y.y,Y.z),NE(V,X,C,T,R,ie),l.push(ie.x,ie.y,ie.z),c.push(F.x,F.y,F.z),c.push(F.x,F.y,F.z),c.push(F.x,F.y,F.z),d.push(0,0),d.push(0,0),d.push(0,0);let Ae=u++,xe=u++,be=u++;if(s.push(Ae,xe,be),o>0){{let Ge=X.clone().add(V).multiplyScalar(.5),de=C.clone().sub(Ge).normalize(),Ue=_.clone().sub(Ge).normalize().add(de).normalize().multiplyScalar(-1),fe=ie.clone().sub(Y);W(Ge,fe,Ue,x.angle())}let Ve,He;{let Ge=new L;hv(S,pe,Ge);let de=ie.clone().add(G).multiplyScalar(.5);de=wbe(de,V,C);let Ue=ie.clone().sub(G);[Ve,He]=W(de,Ue,Ge,I,G.y)}{let Ge=Ve,de=Ge.clone().setY(0).normalize(),Ue=new L(0,-1,0),fe=de.clone().cross(Ue);N(Ge,de,Ue,fe)}z.concat(He);{let Ge=x.angle(),de=Math.PI-Ge,Ue=C.clone();Ue.y-=o/Math.sin(Ge-Math.PI/2);let fe=new L,ce=[];for(let Q=0;Q<a;Q++){let H=[],ue=Math.PI/2-de*Q/a,Te=Math.cos(ue),j=Math.sin(ue),_e=re;for(let qe=0;qe<=Q;qe++){let Ne=Math.cos(_e),we=Math.sin(_e);F.x=Te*we,F.y=j,F.z=Te*Ne,fe.copy(Ue).addScaledVector(F,o),l.push(fe.x,fe.y,fe.z),c.push(F.x,F.y,F.z),d.push(0,0),H.push(u++),_e+=Math.PI*2/Q/n}ce.push(H)}He.reverse(),ce.push(He);let Pe=ce.length-1;for(let Q=0;Q<Pe;Q++){let H=ce[Q],ue=ce[Q+1],Te=H.length-1;s.push(ue[1],H[0],ue[0]);for(let j=1;j<=Te;j++)s.push(H[j],H[j-1],ue[j]),s.push(ue[j+1],H[j],ue[j])}}}}}this.setIndex(s),this.setAttribute("position",new Je(l,3)),this.setAttribute("normal",new Je(c,3)),this.setAttribute("uv",new Je(d,2));function W(F,X,V,G,Y){let ie=-G/2,te=(Math.PI-G)/2,ne=X.clone().normalize().cross(V);F.addScaledVector(V,-o/Math.sin(te));let re=new L,ye=new L,he=1,Me=u,pe=[];for(let Ae=0;Ae<=a;Ae++){let xe=ie+Ae/a*G;ye.set(0,0,0),ye.addScaledVector(ne,Math.sin(xe)),ye.addScaledVector(V,Math.cos(xe));for(let be=0;be<=he;be++){let Ve=be/he-.5;if(re.copy(F),re.addScaledVector(X,Ve),re.addScaledVector(ye,o),Y!=null){let He=Math.max(0,re.y-Y);re.addScaledVector(X,-He/X.y)}l.push(re.x,re.y,re.z),c.push(ye.x,ye.y,ye.z),d.push(0,0),be===0&&pe.push(u),u++}}for(let Ae=0;Ae<a;Ae++)for(let xe=0;xe<he;xe++){let be=Me+xe+(he+1)*Ae,Ve=be+(he+1),He=Ve+1,Ge=be+1;s.push(be,Ve,Ge),s.push(Ve,He,Ge)}return[F.clone().addScaledVector(X,.5),pe]}function N(F,X,V,G){let Y=Math.PI/2,ie=E.angle()-Y,te=[],ne=new L,re=new L;for(let he=0;he<=a;he++){let Me=[],pe=he/a;for(let Ae=0;Ae<=he;Ae++){let xe=((he?Ae/he:0)-.5)*b,be=Math.cos(xe),Ve=Math.sin(xe),He=Math.atan(Math.tan(ie)*be),Ge=(Y+He)*pe,de=Math.cos(Ge),Ue=Math.sin(Ge);ne.set(0,0,0),ne.addScaledVector(X,Ue*be),ne.addScaledVector(V,de),ne.addScaledVector(G,Ue*Ve),re.copy(F).addScaledVector(ne,o),l.push(re.x,re.y,re.z),c.push(ne.x,ne.y,ne.z),d.push(0,0),Me.push(u++)}te.push(Me)}let ye=te.length-1;for(let he=0;he<ye;he++){let Me=te[he],pe=te[he+1],Ae=Me.length-1;s.push(Me[0],pe[1],pe[0]);for(let xe=1;xe<=Ae;xe++)s.push(Me[xe-1],Me[xe],pe[xe]),s.push(Me[xe],pe[xe+1],pe[xe])}}}},DT=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,cornerRadius:[0,0,0,0],cornerType:1,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters),i=Object.assign(t?.ui??{enabledIndieCorners:!1},e.ui);return{shape:e.shape&&e.shape instanceof Ri?e.shape:new Ri,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)}),ui:i}}static build(e){let t=e.shape,{width:n,height:i,cornerRadius:r,cornerType:o,depth:a,extrudeBevelSize:s,extrudeBevelSegments:l}=e.parameters,c={x:n*.5,y:i*.5},d={x:-c.x,y:-c.y},u={x:c.x,y:c.y};function h(M,P,x){return P>n&&x>i?Math.min(M*n/P,M*i/x):P>n?M*n/P:x>i?M*i/x:M}let p=[];p[0]=r[0]===0?0:h(r[0],r[0]+r[3],r[0]+r[1]),p[1]=r[1]===0?0:h(r[1],r[1]+r[2],r[1]+r[0]),p[2]=r[2]===0?0:h(r[2],r[2]+r[1],r[2]+r[3]),p[3]=r[3]===0?0:h(r[3],r[3]+r[0],r[3]+r[2]);let m=d.x,g=u.x,v=u.y,b=d.y;t.addPoint(t.createPoint(m,v)),t.addPoint(t.createPoint(g,v)),t.addPoint(t.createPoint(g,b)),t.addPoint(t.createPoint(m,b)),t.isClosed=!0;let _=!0;for(let M=0,P=t.points.length;M<P;M++)t.points[M].roundness=p[M],M>0&&p[M]!==p[M-1]&&(_=!1);_&&(t.roundness=p[0]),t.useCubicForRoundedCorners=o!==1,t.update();let C=hp.create({shape:t,parameters:{depth:a,extrudeBevelSize:s,extrudeBevelSegments:l}});return Object.assign(C,{userData:se(B({},e),{type:"RectangleGeometry"})})}},Pbe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180},e.parameters);return n.thetaLength=et.clamp(n.thetaLength,0,180),{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t=100,height:n=t,depth:i=t,widthSegments:r=64,heightSegments:o=64,phiStart:a,phiLength:s,thetaStart:l,thetaLength:c}=e.parameters,d;return c===0?(d=new pt,d.setAttribute("position",new Je([],3))):d=new _f(.5*t,r,o,a,s,l,c*et.DEG2RAD),d.scale(1,n/t,i/t),Object.assign(d,{userData:se(B({},e),{type:"SphereGeometry"})})}},Obe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,widthSegments:8,heightSegments:8},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:0})}}static build(e){let{width:t=100,height:n=t,widthSegments:i=8,heightSegments:r=8}=e.parameters,o=new lp(t,n,i,r);return o.scale(1,1,1),Object.assign(o,{userData:se(B({},e),{type:"PlaneGeometry"})})}},Sbe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,angle:90,cornerRadius:24,cornerSegments:8},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,angle:r,cornerRadius:o,cornerSegments:a}=e.parameters,s=new Ebe(t,n,i,r,o,a);return Object.assign(s,{userData:se(B({},e),{type:"BackdropGeometry"})})}},Ebe=class extends pt{constructor(e=1,t=1,n=1,i=90,r=10,o=24){super(),this.type="BackdropGeometry";let a=[],s=[],l=[],c=.001;r==0&&(o=1),o=Math.max(1,Math.floor(o)),r=Math.min(r,100),i=Math.min(180-c,i),i*=Math.PI/180;let d=[],u=Math.PI/2,h=(ye=0,he=0,Me=0)=>new L(ye,he,Me),p=h(),m=h(),[g,v,b]=[t/2,e/2,n/2],_=-v,C=+v,[M,P,x]=[h(_,-g,+b),h(_,-g,-b),h(_,+g,-b)],E=(ye,he=!1)=>Math.sin(ye-Math.PI/(1+ +he)),O=(ye,he=!1)=>Math.cos(ye-Math.PI/(1+ +he));x.y=Math.sin(i)*t-g;let S=Math.cos(i)*t-b,D=M.z-c;i<=u?(x.z=Math.min(S,D),x.z==D&&(x.y-=(S-D)/Math.tan(u-i))):P.z=Math.min(P.z-S-b,M.z-c),p.subVectors(M,P),m.subVectors(x,P);let I=Math.min(p.length(),m.length())*r/100,T=I*Math.tan(i/2),R=I/Math.cos(i/2),k=p.clone().normalize().add(m.normalize()).setLength(R).add(P);p.set(0,E(i,!0),O(i,!0)),d.push([x,p.clone()]);let z=(Math.PI-i)/o;for(let ye=0;ye<=o;ye++){let he=u+i+ye*z;p.set(0,Math.sin(he)*T,Math.cos(he)*T),p.add(k),m.set(0,E(he),O(he)),d.push([p.clone(),m.clone()])}d.push([M,h(0,1,0)]);let W=Math.sin(z/2)*T*2,N=d.length-1,F=d[0][0].distanceTo(d[1][0]),X=d[N-1][0].distanceTo(d[N][0]),V=F+W*o+X;d[0].push(1);for(let ye=0;ye<=o;ye++)d[ye+1].push(1-(F+ye*W)/V);d[N].push(0);let[G,Y,ie]=d[0],te,ne,re;for(let ye=1;ye<d.length;ye++)[te,ne,re]=d[ye],a.push(_,G.y,G.z,_,te.y,te.z,C,G.y,G.z,C,G.y,G.z,_,te.y,te.z,C,te.y,te.z),s.push(0,Y.y,Y.z,0,ne.y,ne.z,0,Y.y,Y.z,0,Y.y,Y.z,0,ne.y,ne.z,0,ne.y,ne.z),l.push(0,ie,0,re,1,ie,1,ie,0,re,1,re),[G,Y,ie]=[te,ne,re];this.setAttribute("position",new Je(a,3)),this.setAttribute("normal",new Je(s,3)),this.setAttribute("uv",new Je(l,2))}},Cj=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,innerRadiusPercent:38.19,spikes:5,cornerRadius:0,angle:360,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return{shape:e.shape&&e.shape instanceof Ri?e.shape:new Ri,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n,innerRadiusPercent:i,spikes:r,cornerRadius:o,angle:a,depth:s,extrudeBevelSize:l,extrudeBevelSegments:c}=e.parameters,d=e.shape,u=t*.5,h=n*.5,p=0,m=0,g=a*Math.PI/360/r,v=Math.PI/2*3*-1,b=u*i/100,_=h*i/100;if(r===3&&i===50){g=2*Math.PI/r;for(let M=0;M<r;M++){let P=g*M,x=p+Math.sin(P)*u,E=m+Math.cos(P)*h;d.addPoint(d.createPoint(x,E))}}else for(let M=0;M<r;M++){let P=p+Math.cos(v)*u,x=m+Math.sin(v)*h;d.addPoint(d.createPoint(P,x)),v+=g,P=p+Math.cos(v)*b,x=m+Math.sin(v)*_,M<=r,d.addPoint(d.createPoint(P,x)),v+=g}d.isClosed=!0;for(let M=0,P=d.points.length;M<P;M++)d.points[M].roundness=o;d.roundness=o,d.update();let C=hp.create({shape:d,parameters:{roundness:o,depth:s,extrudeBevelSize:l,extrudeBevelSegments:c}});return Object.assign(C,{userData:se(B({},e),{type:"StarGeometry"})})}},Dbe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n}=e.parameters,i=new lp(t,n);return Object.assign(i,{userData:se(B({},e),{type:"TextFrameGeometry"})})}},Abe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:32,tubularSegments:64,arc:360,cornerRadius:30,cornerSegments:8},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??n.width),o=Math.round(Math.abs(n.depth??n.width*.25));return{parameters:Object.assign(n,{width:i,height:r,depth:o})}}static build(e){let{width:t,height:n,depth:i,radialSegments:r,tubularSegments:o,arc:a,cornerRadius:s,cornerSegments:l}=e.parameters,c=Tbe(t,n,i,t*.5,a,o,0,0,r,s,l);return c.scale(1,n/t,1),Object.assign(c,{userData:se(B({},e),{type:"TorusGeometry"})})}};function Tbe(e,t,n,i,r,o,a,s,l,c,d){[t,n]=[n,t],a=t/2;let u=et.clamp(r/360,0,1);if(u===0){let h=new pt;return h.setAttribute("position",new Je([],3)),h}return u===1&&(c=0),new yj(!0,e,t,n,i,u,o,a,s,l,c,d)}var Ibe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,tubularSegments:64,radialSegments:32,p:2,q:3},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width),tube:n.tube??n.width*.125})}}static build(e){let{width:t,tube:n,tubularSegments:i,radialSegments:r,p:o,q:a}=e.parameters,s=t*.5;s!==n&&(s-=n);let l=new yV(s,n,i,r,o,a);return Object.assign(l,{userData:se(B({},e),{type:"TorusKnotGeometry"})})}},Rbe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1,isRect:!1},e.parameters);return{shape:e.shape&&e.shape instanceof Ri?e.shape:new Ri,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width*(n.isRect?1:Math.sqrt(3)/2)),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t=100,height:n,cornerRadius:i,depth:r,extrudeBevelSize:o,extrudeBevelSegments:a,isRect:s}=e.parameters,l=e.shape,c=t*.5,d=n*.5;s?(l.addPoint(l.createPoint(-c,d)),l.addPoint(l.createPoint(c,-d)),l.addPoint(l.createPoint(-c,-d))):(l.addPoint(l.createPoint(0,d)),l.addPoint(l.createPoint(c,-d)),l.addPoint(l.createPoint(-c,-d))),l.isClosed=!0;for(let h=0,p=l.points.length;h<p;h++)l.points[h].roundness=i;l.roundness=i,l.update();let u=hp.create({shape:l,parameters:{roundness:i,depth:r,extrudeBevelSize:o,extrudeBevelSegments:a}});return Object.assign(u,{userData:se(B({},e),{type:"TriangleGeometry"})})}};function Lbe(e,t){let n=2*Math.PI;return(e%n+n)%n===(t%n+n)%n}var kbe=class{add(e,t,n){if(typeof arguments[0]!="string")for(let i in arguments[0])this.add(i,arguments[0][i],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(i){this[i]=this[i]||[],t&&this[i][n?"unshift":"push"](t)},this)}run(e,t){this[e]=this[e]||[],this[e].forEach(function(n){n.call(t&&t.context?t.context:t,t)})}},Fbe=class{constructor(e){this.jsep=e,this.registered={}}register(...e){e.forEach(t=>{if(typeof t!="object"||!t.name||!t.init)throw new Error("Invalid JSEP plugin format");this.registered[t.name]||(t.init(this.jsep),this.registered[t.name]=t)})}},Ie=class{static get version(){return"1.3.8"}static toString(){return"JavaScript Expression Parser (JSEP) v"+Ie.version}static addUnaryOp(e){return Ie.max_unop_len=Math.max(e.length,Ie.max_unop_len),Ie.unary_ops[e]=1,Ie}static addBinaryOp(e,t,n){return Ie.max_binop_len=Math.max(e.length,Ie.max_binop_len),Ie.binary_ops[e]=t,n?Ie.right_associative.add(e):Ie.right_associative.delete(e),Ie}static addIdentifierChar(e){return Ie.additional_identifier_chars.add(e),Ie}static addLiteral(e,t){return Ie.literals[e]=t,Ie}static removeUnaryOp(e){return delete Ie.unary_ops[e],e.length===Ie.max_unop_len&&(Ie.max_unop_len=Ie.getMaxKeyLen(Ie.unary_ops)),Ie}static removeAllUnaryOps(){return Ie.unary_ops={},Ie.max_unop_len=0,Ie}static removeIdentifierChar(e){return Ie.additional_identifier_chars.delete(e),Ie}static removeBinaryOp(e){return delete Ie.binary_ops[e],e.length===Ie.max_binop_len&&(Ie.max_binop_len=Ie.getMaxKeyLen(Ie.binary_ops)),Ie.right_associative.delete(e),Ie}static removeAllBinaryOps(){return Ie.binary_ops={},Ie.max_binop_len=0,Ie}static removeLiteral(e){return delete Ie.literals[e],Ie}static removeAllLiterals(){return Ie.literals={},Ie}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(e){this.expr=e,this.index=0}static parse(e){return new Ie(e).parse()}static getMaxKeyLen(e){return Math.max(0,...Object.keys(e).map(t=>t.length))}static isDecimalDigit(e){return e>=48&&e<=57}static binaryPrecedence(e){return Ie.binary_ops[e]||0}static isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||e>=128&&!Ie.binary_ops[String.fromCharCode(e)]||Ie.additional_identifier_chars.has(String.fromCharCode(e))}static isIdentifierPart(e){return Ie.isIdentifierStart(e)||Ie.isDecimalDigit(e)}throwError(e){let t=new Error(e+" at character "+this.index);throw t.index=this.index,t.description=e,t}runHook(e,t){if(Ie.hooks[e]){let n={context:this,node:t};return Ie.hooks.run(e,n),n.node}return t}searchHook(e){if(Ie.hooks[e]){let t={context:this};return Ie.hooks[e].find(function(n){return n.call(t.context,t),t.node}),t.node}}gobbleSpaces(){let e=this.code;for(;e===Ie.SPACE_CODE||e===Ie.TAB_CODE||e===Ie.LF_CODE||e===Ie.CR_CODE;)e=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");let e=this.gobbleExpressions(),t=e.length===1?e[0]:{type:Ie.COMPOUND,body:e};return this.runHook("after-all",t)}gobbleExpressions(e){let t=[],n,i;for(;this.index<this.expr.length;)if(n=this.code,n===Ie.SEMCOL_CODE||n===Ie.COMMA_CODE)this.index++;else if(i=this.gobbleExpression())t.push(i);else if(this.index<this.expr.length){if(n===e)break;this.throwError('Unexpected "'+this.char+'"')}return t}gobbleExpression(){let e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}gobbleBinaryOp(){this.gobbleSpaces();let e=this.expr.substr(this.index,Ie.max_binop_len),t=e.length;for(;t>0;){if(Ie.binary_ops.hasOwnProperty(e)&&(!Ie.isIdentifierStart(this.code)||this.index+e.length<this.expr.length&&!Ie.isIdentifierPart(this.expr.charCodeAt(this.index+e.length))))return this.index+=t,e;e=e.substr(0,--t)}return!1}gobbleBinaryExpression(){let e,t,n,i,r,o,a,s,l;if(o=this.gobbleToken(),!o||(t=this.gobbleBinaryOp(),!t))return o;for(r={value:t,prec:Ie.binaryPrecedence(t),right_a:Ie.right_associative.has(t)},a=this.gobbleToken(),a||this.throwError("Expected expression after "+t),i=[o,r,a];t=this.gobbleBinaryOp();){if(n=Ie.binaryPrecedence(t),n===0){this.index-=t.length;break}r={value:t,prec:n,right_a:Ie.right_associative.has(t)},l=t;let c=d=>r.right_a&&d.right_a?n>d.prec:n<=d.prec;for(;i.length>2&&c(i[i.length-2]);)a=i.pop(),t=i.pop().value,o=i.pop(),e={type:Ie.BINARY_EXP,operator:t,left:o,right:a},i.push(e);e=this.gobbleToken(),e||this.throwError("Expected expression after "+l),i.push(r,e)}for(s=i.length-1,e=i[s];s>1;)e={type:Ie.BINARY_EXP,operator:i[s-1].value,left:i[s-2],right:e},s-=2;return e}gobbleToken(){let e,t,n,i;if(this.gobbleSpaces(),i=this.searchHook("gobble-token"),i)return this.runHook("after-token",i);if(e=this.code,Ie.isDecimalDigit(e)||e===Ie.PERIOD_CODE)return this.gobbleNumericLiteral();if(e===Ie.SQUOTE_CODE||e===Ie.DQUOTE_CODE)i=this.gobbleStringLiteral();else if(e===Ie.OBRACK_CODE)i=this.gobbleArray();else{for(t=this.expr.substr(this.index,Ie.max_unop_len),n=t.length;n>0;){if(Ie.unary_ops.hasOwnProperty(t)&&(!Ie.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!Ie.isIdentifierPart(this.expr.charCodeAt(this.index+t.length)))){this.index+=n;let r=this.gobbleToken();return r||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:Ie.UNARY_EXP,operator:t,argument:r,prefix:!0})}t=t.substr(0,--n)}Ie.isIdentifierStart(e)?(i=this.gobbleIdentifier(),Ie.literals.hasOwnProperty(i.name)?i={type:Ie.LITERAL,value:Ie.literals[i.name],raw:i.name}:i.name===Ie.this_str&&(i={type:Ie.THIS_EXP})):e===Ie.OPAREN_CODE&&(i=this.gobbleGroup())}return i?(i=this.gobbleTokenProperty(i),this.runHook("after-token",i)):this.runHook("after-token",!1)}gobbleTokenProperty(e){this.gobbleSpaces();let t=this.code;for(;t===Ie.PERIOD_CODE||t===Ie.OBRACK_CODE||t===Ie.OPAREN_CODE||t===Ie.QUMARK_CODE;){let n;if(t===Ie.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==Ie.PERIOD_CODE)break;n=!0,this.index+=2,this.gobbleSpaces(),t=this.code}this.index++,t===Ie.OBRACK_CODE?(e={type:Ie.MEMBER_EXP,computed:!0,object:e,property:this.gobbleExpression()},this.gobbleSpaces(),t=this.code,t!==Ie.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):t===Ie.OPAREN_CODE?e={type:Ie.CALL_EXP,arguments:this.gobbleArguments(Ie.CPAREN_CODE),callee:e}:(t===Ie.PERIOD_CODE||n)&&(n&&this.index--,this.gobbleSpaces(),e={type:Ie.MEMBER_EXP,computed:!1,object:e,property:this.gobbleIdentifier()}),n&&(e.optional=!0),this.gobbleSpaces(),t=this.code}return e}gobbleNumericLiteral(){let e="",t,n;for(;Ie.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(this.code===Ie.PERIOD_CODE)for(e+=this.expr.charAt(this.index++);Ie.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(t=this.char,t==="e"||t==="E"){for(e+=this.expr.charAt(this.index++),t=this.char,(t==="+"||t==="-")&&(e+=this.expr.charAt(this.index++));Ie.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);Ie.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+e+this.char+")")}return n=this.code,Ie.isIdentifierStart(n)?this.throwError("Variable names cannot start with a number ("+e+this.char+")"):(n===Ie.PERIOD_CODE||e.length===1&&e.charCodeAt(0)===Ie.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:Ie.LITERAL,value:parseFloat(e),raw:e}}gobbleStringLiteral(){let e="",t=this.index,n=this.expr.charAt(this.index++),i=!1;for(;this.index<this.expr.length;){let r=this.expr.charAt(this.index++);if(r===n){i=!0;break}else if(r==="\\")switch(r=this.expr.charAt(this.index++),r){case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=r}else e+=r}return i||this.throwError('Unclosed quote after "'+e+'"'),{type:Ie.LITERAL,value:e,raw:this.expr.substring(t,this.index)}}gobbleIdentifier(){let e=this.code,t=this.index;for(Ie.isIdentifierStart(e)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(e=this.code,Ie.isIdentifierPart(e));)this.index++;return{type:Ie.IDENTIFIER,name:this.expr.slice(t,this.index)}}gobbleArguments(e){let t=[],n=!1,i=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let r=this.code;if(r===e){n=!0,this.index++,e===Ie.CPAREN_CODE&&i&&i>=t.length&&this.throwError("Unexpected token "+String.fromCharCode(e));break}else if(r===Ie.COMMA_CODE){if(this.index++,i++,i!==t.length){if(e===Ie.CPAREN_CODE)this.throwError("Unexpected token ,");else if(e===Ie.CBRACK_CODE)for(let o=t.length;o<i;o++)t.push(null)}}else if(t.length!==i&&i!==0)this.throwError("Expected comma");else{let o=this.gobbleExpression();(!o||o.type===Ie.COMPOUND)&&this.throwError("Expected comma"),t.push(o)}}return n||this.throwError("Expected "+String.fromCharCode(e)),t}gobbleGroup(){this.index++;let e=this.gobbleExpressions(Ie.CPAREN_CODE);if(this.code===Ie.CPAREN_CODE)return this.index++,e.length===1?e[0]:e.length?{type:Ie.SEQUENCE_EXP,expressions:e}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:Ie.ARRAY_EXP,elements:this.gobbleArguments(Ie.CBRACK_CODE)}}},Nbe=new kbe;Object.assign(Ie,{hooks:Nbe,plugins:new Fbe(Ie),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},right_associative:new Set,additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});Ie.max_unop_len=Ie.getMaxKeyLen(Ie.unary_ops);Ie.max_binop_len=Ie.getMaxKeyLen(Ie.binary_ops);var Yf=e=>new Ie(e).parse(),zbe=Object.getOwnPropertyNames(Ie);zbe.forEach(e=>{Yf[e]===void 0&&e!=="prototype"&&(Yf[e]=Ie[e])});Yf.Jsep=Ie;var Bbe="ConditionalExpression",Vbe={name:"ternary",init(e){e.hooks.add("after-expression",function(t){if(t.node&&this.code===e.QUMARK_CODE){this.index++;let n=t.node,i=this.gobbleExpression();if(i||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;let r=this.gobbleExpression();if(r||this.throwError("Expected expression"),t.node={type:Bbe,test:n,consequent:i,alternate:r},n.operator&&e.binary_ops[n.operator]<=.9){let o=n;for(;o.right.operator&&e.binary_ops[o.right.operator]<=.9;)o=o.right;t.node.test=o.right,o.right=t.node,t.node=n}}else this.throwError("Expected :")}})}};Yf.plugins.register(Vbe);var Ube=["+","-","*","/","(",")","==","!=",">","<",">=","<=","and","or","!","%","^",","],jbe=["0","1","2","3","4","5","6","7","8","9","."],Hbe=["sin","cos","tan","asin","acos","atan","atan2","sqrt","abs","log","exp","floor","ceil","round","min","max","random"];function Gbe(e){return typeof e!="string"?!1:!isNaN(e)&&!isNaN(parseFloat(e))}Yf.addBinaryOp("^",11,!0);function Mj(e,t,n="number"){let i="";for(let a=0;a<e.length;a++){let s=e[a];if("id"in s){let l=e[a-1];if(a>0&&"id"in l){console.error("Two variables in a row",e);return}let c=t.getVariable(s.id),d=za.getDisplayedValue(c);n==="number"&&za.isTextValue(c)&&Array.isArray(c.textValue)&&c.textValue.length===1?d=parseFloat(d).toString():n==="boolean"&&za.isBoolean(c)?d=c?"true":"false":n==="boolean"&&za.isTextValue(c)&&!Array.isArray(c.textValue)&&(d='"'+d+'"'),i+=d;continue}else if(n==="string"){s.name!=='"'&&s.name!=="+"&&(i+=s.name),s.name==="+"&&i[i.length-1]==="\\"&&(i=i.slice(0,-1)+s.name);continue}if(s.name==="and"){i+="&&";continue}if(s.name==="or"){i+="||";continue}if(s.name==="True"){i+="true";continue}if(s.name==="False"){i+="false";continue}if(n==="boolean"&&!Gbe(s.name)&&!jbe.includes(s.name)&&!Ube.includes(s.name)&&!Hbe.includes(s.name.replace(/\($/g,""))){i+='"'+s.name+'"';continue}i+=s.name}if(n==="string")return i;if(e.length===0){if(n==="number")return 0;if(n==="boolean")return!1}let r;try{r=Yf(i)}catch(a){console.error(i,a);return}let o;try{o=Tn(r)}catch(a){console.error(i,r,a)}return o}function Tn(e){switch(e.type){case"BinaryExpression":switch(e.operator){case"==":return+(Tn(e.left)===Tn(e.right));case"!=":return+(Tn(e.left)!==Tn(e.right));case">":return+(Tn(e.left)>Tn(e.right));case">=":return+(Tn(e.left)>=Tn(e.right));case"<":return+(Tn(e.left)<Tn(e.right));case"<=":return+(Tn(e.left)<=Tn(e.right));case"+":return Tn(e.left)+Tn(e.right);case"-":return Tn(e.left)-Tn(e.right);case"*":return Tn(e.left)*Tn(e.right);case"/":return Tn(e.left)/Tn(e.right);case"%":return Tn(e.left)%Tn(e.right);case"&&":return Tn(e.left)&&Tn(e.right);case"||":return Tn(e.left)||Tn(e.right);case"^":return Math.pow(Tn(e.left),Tn(e.right));default:throw new Error("Unknown operator: "+e.operator)}case"UnaryExpression":switch(e.operator){case"-":return-Tn(e.argument);case"!":return+!Tn(e.argument);default:throw new Error("Unknown operator: "+e.operator)}case"Identifier":throw new Error("Unknown identifier: "+e.name);case"Literal":return e.value;case"CallExpression":if(e.callee.type==="Identifier"){if(e.callee.name==="random"){let t=0,n=1;if(e.arguments.length>=1)try{t=Tn(e.arguments[0])}catch(i){console.warn(i)}if(e.arguments.length>=2)try{n=Tn(e.arguments[1])}catch(i){console.warn(i)}return t=Math.min(n,t),n=Math.max(n,t),t+Math.random()*(n-t)}return Math[e.callee.name].apply(null,e.arguments.map(Tn))}else throw new Error("Unknown node");default:throw new Error("Unknown node type: "+e.type)}}var Wbe=new Be,qbe=new Be;function Ybe(e,t,n){let i=[new L,new L,new L],r=[new L,new L,new L];return e.extractBasis(i[0],i[1],i[2]),t.extractBasis(r[0],r[1],r[2]),i.forEach((o,a)=>{let s=r[a],l=et.lerp(o.length(),s.length(),n);o.lerp(s,n).setLength(l)}),new Be().makeBasis(i[0],i[1],i[2])}var Xbe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,height:100,depth:1,subdivisions:12,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??n.width),o=Math.abs(n.depth??0),a=t?.shapeData??ET.create({parameters:qU}).userData.shape;return{path:e.path??IM.defaultData(),parameters:Object.assign(n,{width:i,height:r,depth:o,extrusion:B(B({},YU),n.extrusion)}),shapeData:a}}static build(e){if(e.path.points.length>=2){let t=new Qbe(e);return Object.assign(t,{userData:se(B({},e),{type:"PathGeometry"})})}else return Object.assign(new pt,{userData:se(B({},e),{type:"PathGeometry"})})}},Qbe=class extends pt{constructor(e){super(),this.type="PathExtrusionGeometry",this.inputs=e,this.build()}_isGeometryClosed(){return this.inputs.path.isClosed&&this.inputs.parameters.extrusion.depth===1}_isOpenEnded(){let e=this.inputs.parameters.extrusion;return!(this.inputs.path.isClosed&&e.depth===1)||!Lbe(e.twist,0)||e.startScale!==e.endScale}build(){let e=this._extractPathPoints();if(e.length<2)return;let t=this._computeBasisMatrices(e),{depth:n,offset:i}=this.inputs.parameters.extrusion;n=Math.max(0,Math.min(n,1)),i=Math.max(0,Math.min(i,1));let r=this.inputs.path.isClosed?e.length:e.length-1,o=Math.floor(i*r),a=this.inputs.path.isClosed?Math.ceil((n+i)*r):Math.ceil(Math.min(1,n+i)*r),s=Math.min(Math.max(2,a-o+1),r+2),l=[],c=[];for(let N=0;N<s;N++){let F=this.inputs.path.isClosed?(N+o)%e.length:Math.min(N+o,e.length-1);l.push(e[F].clone()),c.push(t[F].clone())}let d=(N,F,X)=>{l[N]=l[N].clone().lerp(l[F],X),c[N]=Ybe(c[N],c[F],X)},u=0,h=i*r%1;(!this.inputs.path.isClosed||n<=1)&&(h||i===0)&&(u=h,d(0,1,u));let p=0,m=(i+n)*r%1;if((this.inputs.path.isClosed&&n<=1||!this.inputs.path.isClosed&&i+n<1)&&m&&(p=m,d(l.length-1,l.length-2,1-p)),n===0){let N=l.length-1;l[N].copy(l[0]),c[N].copy(c[0])}this._applyPathModifiers(c,u,p);let{bevel:g,bevelSides:v}=this.inputs.parameters.extrusion,b=g>0?this.inputs.parameters.extrusion.capType:"flat",_=5;this.inputs.parameters.extrusion.shape.type==="Custom"&&(_=this.inputs.parameters.extrusion.shape.shapeQuality==="low"?5:12);let{regions:C,infos:M,vertices:P}=this._computeShapePoints(_),x=0,E;b==="round"&&(E=new ST(this.inputs.shapeData,2*g,g,_,v,void 0,!0),x=E.getAttribute("position").count);let O=0,S=0;M.sort((N,F)=>N.start-F.start),M.forEach(N=>{N.verticesStart=O,N.verticesCount=N.continuous.reduce((F,X,V)=>F+(V===0||!X?2:1),0),S+=N.verticesCount,O=S});let D=S*s,I,T=0;if(this._isOpenEnded()&&b==="flat"){try{I=iu({windingRule:Zn.ODD,elementType:$i.POLYGONS,polySize:3,vertexSize:2,strict:!0,contours:C})}catch{I=uj}T=I.vertexCount}let R=D+2*T+x*2,k=D+2*T,z={positions:new Float32Array(R*3),normals:new Float32Array(R*3),uvs:new Float32Array(R*2)},W=[];if(M.forEach(N=>{this._extrudeRegion(N,P,c,l,z,W,this._isGeometryClosed()&&!this._isOpenEnded())}),I&&(this._closeEnd(I,D,W,z,c[0],l[0],!1),this._closeEnd(I,D+T,W,z,c[c.length-1],l[l.length-1],!0)),E){z.positions.set(E.getAttribute("position").array,k*3),z.normals.set(E.getAttribute("normal").array,k*3),z.uvs.set(E.getAttribute("uv").array,k*2);for(let V=k;V<k+x;V++)z.uvs[V*2+1]=1e-4;let N=W.length;W.push(...E.getIndex().array.map(V=>V+k)),k+=x,z.positions.set(E.getAttribute("position").array,k*3),z.normals.set(E.getAttribute("normal").array,k*3),z.uvs.set(E.getAttribute("uv").array,k*2);let F=W.length;W.push(...E.getIndex().array.map(V=>V+k)),this.setAttribute("position",new St(z.positions,3)),this.setAttribute("normal",new St(z.normals,3)),this.setAttribute("uv",new St(z.uvs,2)),this.setIndex(W);let X=Wbe;X.copy(c[c.length-1]).setPosition(l[l.length-1]),this.applyMatrix4OnRange(X,k,R),X.copy(c[0]).setPosition(l[0]).multiply(qbe.makeScale(1,1,-1)),this.applyMatrix4OnRange(X,k-x,k),this.reverseIndicesOnRange(N,F)}else this.setAttribute("position",new St(z.positions,3)),this.setAttribute("normal",new St(z.normals,3)),this.setAttribute("uv",new St(z.uvs,2)),this.setIndex(W)}_extractPathPoints(){let e=nj(this.inputs.path).getPoints(this.inputs.path.subdivisions);if(e.length<2)return[];let t=[e[0]];return e.forEach(n=>{t[t.length-1].distanceToSquared(n)>.001&&t.push(n)}),this.inputs.path.isClosed&&t[t.length-1].distanceTo(t[0])<.001&&t.pop(),t}_computeBasisMatrices(e){let t=[],n=e.length,i=this.inputs.path.isClosed,r=new L,o=new L,a=new L,s=new L,l=new L(0,1,0);for(let m=0;m<n;m++){let g=e[m],v;m===0?v=i?e[e.length-2]:g.clone().multiplyScalar(2).sub(e[1]):v=e[m-1];let b;m===n-1?b=i?e[1]:g.clone().multiplyScalar(2).sub(e[m-1]):b=e[m+1];let _=g.clone().sub(v).normalize(),C=b.clone().sub(g).normalize(),M=_.clone().add(C).normalize();a.copy(M),m===0&&(M.equals(l)||M.clone().negate().equals(l))&&l.set(0,0,1);let P=l.clone().cross(M).normalize(),x=M.clone().cross(P).normalize();l.copy(x),s.copy(P),m===0&&(r.copy(x),o.copy(M));let E=new Be().makeBasis(P,x,M);t.push(E)}let c=i?o:a,d=i?r:new L(0,1,0),u=c.clone().cross(s).normalize(),h=Math.acos(d.dot(u));if(isNaN(h))return t;let p=d.clone().cross(u);c.dot(p)>0&&(h*=-1);for(let m=1;m<t.length;m++){let g=new Be().makeRotationZ(h*m/t.length);t[m].multiply(g)}return t}_applyPathModifiers(e,t,n){let i=e.length,{angle:r,twist:o,startScale:a,endScale:s}=this.inputs.parameters.extrusion,l=new Be,c=new Be;return e.forEach((d,u)=>{let h=u===0?0:u===i-1?1:(u-t)/(i-(n===0?0:1)-(t+(1-n)));l.makeRotationZ(et.lerp(r,r+o,h)*et.DEG2RAD);let p=et.lerp(a,s,h);c.makeScale(p,p,p),d.multiply(l).multiply(c)}),e}_computeShapePoints(e=12,t=Zn.ODD){let n=this.inputs.shapeData,i=n.extractShapePointsToFlatArray([],e),r=n.shapeHoles.map(p=>{let m=p.extractShapePointsToFlatArray([],e),g=[];for(let v=m.length-1;v>=1;v-=2){let b=m[v-1],_=m[v-0];g.push(b,_)}return g}),o;try{o=iu({windingRule:t,elementType:$i.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[i]})}catch{o=OT}let a;try{a=iu({windingRule:Zn.ODD,elementType:$i.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...r]})}catch{a=dj}if(!o)throw new Error("error generating geometry");let s=o.elementCount;if(a){o.elementCount+=a.elementCount;for(let p=0;p<a.elements.length;p++){let m=a.elements[p],g=p%2===0?o.vertexCount:0;o.elements.push(m+g)}for(let p=0;p<a.vertexIndices.length;p++){let m=a.vertexIndices[p],g=o.vertexCount;o.vertexIndices.push(m+g)}for(let p=0;p<a.vertices.length;p++){let m=a.vertices[p];o.vertices.push(m)}}let l=1/0,c=-1/0,d=1/0,u=-1/0;for(let p=0,m=o.vertexCount;p<m;p++){let g=p*2,v=o.vertices[g+0],b=o.vertices[g+1];v<l&&(l=v),v>c&&(c=v),b<d&&(d=b),b>u&&(u=b)}let h=[];for(let p=o.elementCount-1;p>=0;p--){let m=p>=s,g=p*2,v=o.elements[g+0],b=o.elements[g+1],_=v+b,C={start:v,count:b,normals:[],isHole:m,continuous:[],verticesStart:0,verticesCount:0};h.push(C);let M=v,P=_-1,x=v+1,E=n.roundedCurves.length;do{let O=M-v,S=o.vertices[P*2+0],D=o.vertices[P*2+1],I=o.vertices[M*2+0],T=o.vertices[M*2+1],R=o.vertices[x*2+0],k=o.vertices[x*2+1],z=I-S,W=T-D,N=Math.sqrt(z*z+W*W);z/=N,W/=N;let F=I-R,X=T-k,V=Math.sqrt(F*F+X*X);F/=V,X/=V,C.normals[O*2+0]=-X,C.normals[O*2+1]=F;let G=o.vertexIndices[M];if(Array.isArray(G))C.continuous[O]=!1;else{let[Y,ie]=n.getCurveIndexFromVertexId(G-1,!0);if(ie>0&&ie<1)C.continuous[O]=!0;else{let te=ie===1?Y+1:Y-1;te=(te+E)%E;let ne=ie===1?0:1,re=n.roundedCurves[Y].getTangent(ie),ye=n.roundedCurves[te].getTangent(ne);C.continuous[O]=re.dot(ye)>.95}}m&&(C.normals[O*2+0]*=-1,C.normals[O*2+1]*=-1),[P,M,x]=[M,x,x+1],x>=_&&(x-=b)}while(x!==v+1)}return{regions:[i,...r],infos:h,vertices:o.vertices}}_insertVertex(e,t,n,i,r){let o=t*2,a=t*3;e.positions[a+0]=n.x,e.positions[a+1]=n.y,e.positions[a+2]=n.z,e.normals[a+0]=i.x,e.normals[a+1]=i.y,e.normals[a+2]=i.z,e.uvs[o+0]=r.x,e.uvs[o+1]=r.y}_extrudeRegion(e,t,n,i,r,o,a){let s=new L,l=new L,c=new L,d=new L,u=new oe;n.forEach((p,m)=>{let g=i[m],v=e.verticesStart*n.length+e.verticesCount*m;for(let b=0;b<e.count;b++){let _=(e.start+b)*2;if(s.set(t[_+0],t[_+1],0),c.copy(s).applyMatrix4(p).add(g),e.continuous[b])d.set(e.normals[b*2+0],e.normals[b*2+1],0);else{let C=b===0?(e.start+e.count-1)*2:_-2;l.set(t[C+0],t[C+1],0),d.copy(s).sub(l),d.set(-d.y,d.x,0),e.isHole||d.negate()}if(d.applyMatrix4(p).normalize(),u.set(b===0?1:b/e.count,m/(n.length-1)),this._insertVertex(r,v,c,d,u),v++,!e.continuous[b]||b===0){if(b===0)d.set(e.normals[b*2+0],e.normals[b*2+1],0),u.set(0,m/(n.length-1));else{let C=b===e.count-1?e.start*2:_+2;l.set(t[C+0],t[C+1],0),d.copy(l).sub(s),d.set(-d.y,d.x,0),e.isHole||d.negate()}d.applyMatrix4(p).normalize(),this._insertVertex(r,v,c,d,u),v++}}});let h=n.length-1;for(let p=0;p<h;p++){let m=e.verticesStart*n.length+e.verticesCount*p,g=e.verticesStart*n.length+e.verticesCount*(p+1),v=0;for(let b=0;b<e.count;b++){(!e.continuous[b]||b===0)&&v++;let _=b===e.count-1?0:v+1,C=m+v,M=m+_,P=g+_,x=g+v;e.isHole?o.push(C,P,M,C,x,P):o.push(C,M,P,C,P,x),v++}}}_closeEnd(e,t,n,i,r,o,a){let s=e.vertexCount,l=new L(0,0,a?-1:1).applyMatrix4(r),c=new L,d=new oe;for(let h=0;h<s;h++){let p=2*h;c.set(e.vertices[p+0],e.vertices[p+1],0).applyMatrix4(r).add(o),this._insertVertex(i,t+h,c,l,d)}let u=e.elements;for(let h=0;h<e.elementCount;h++){let p=3*h,m=u[p+0]+t,g=u[p+(a?1:2)]+t,v=u[p+(a?2:1)]+t;n.push(m,g,v)}}applyMatrix4OnRange(e,t,n){let i=e.elements,r=new fr().getNormalMatrix(e).elements,o,a,s,l,c=this.attributes.position,d=this.attributes.normal;if(!c||!d)return;let u=c.array,h=d.array,p=c.itemSize;for(let m=t*p,g=n*p;m<g;m+=p){if(m===t)debugger;o=u[m+0],a=u[m+1],s=u[m+2],l=1/(i[3]*o+i[7]*a+i[11]*s+i[15]),u[m+0]=(i[0]*o+i[4]*a+i[8]*s+i[12])*l,u[m+1]=(i[1]*o+i[5]*a+i[9]*s+i[13])*l,u[m+2]=(i[2]*o+i[6]*a+i[10]*s+i[14])*l,o=h[m+0],a=h[m+1],s=h[m+2],h[m+0]=r[0]*o+r[3]*a+r[6]*s,h[m+1]=r[1]*o+r[4]*a+r[7]*s,h[m+2]=r[2]*o+r[5]*a+r[8]*s}c.needsUpdate=!0,d.needsUpdate=!0}reverseIndicesOnRange(e,t){let n=this.index;if(n){for(let i=e;i<t;i+=3){let r=n.getX(i),o=n.getX(i+1),a=n.getX(i+2);n.setXYZ(i,a,o,r)}n.needsUpdate=!0}}};function wj(){let e=new pt;return e.setAttribute("position",new St(new Float32Array([]),3)),e.setIndex(new St(new Uint16Array([]),1)),e}var Zbe=wj().attributes,$be=12,Kbe=1,xj=class extends pt{constructor(e,t){super(),this.charWidths=[],this.charCoords=[],this.wrappedText=[],this.isLowResolution=!1,this.vectorShapes=[],Object.assign(this.attributes,Zbe),this.userData={parameters:e,type:"TextGeometry"};let n=t.getFont(e.font);n?.isLoaded?(this.font=n,this.update(e)):this.updateFont(e.font,t).then(()=>{this.update(e),t?.requestRender()})}updateFont(e,t){return ri(this,null,function*(){let n=t.getFont(e);n&&(this.font=n,yield n.loadingPromise)})}update(e){let t=this.font;if(this.userData={parameters:e,type:"TextGeometry"},!t?.isLoaded){console.warn("Cannot update text because its font is not loaded");return}let{width:n,height:i,depth:r,extrudeBevelSize:o,extrudeBevelSegments:a,text:s,textTransform:l}=e,c=za.getDisplayedValue(s),d=l===2?c.toUpperCase():l===3?c.toLowerCase():c,u=Jbe(e,t,d),{shapes:h,charWidths:p,charCoords:m}=t.generateShapes(u,e),g=(typeof n=="number"?n:1)*.5,v=(typeof i=="number"?i:1)*.5,b=h.map(M=>new Ri().fromShape(M,!0));this.vectorShapes=b;let _=b.map(M=>hp.create({shape:M,parameters:{depth:r,extrudeBevelSegments:a,extrudeBevelSize:o,windingRule:r<=0?Zn.NONZERO:Zn.ODD,subdivisions:this.isLowResolution&&r>0?Kbe:$be}})),C=_.length?Uh(_):wj();C.translate(-g,v,0),this.dispose(),this.wrappedText=u,this.charCoords=m,this.charWidths=p,this.deleteAttribute("extrudeNormal"),Object.entries(C.attributes).forEach(([M,P])=>{this.setAttribute(M,P)}),this.setIndex(C.index),this.computeBoundingSphere()}clone(){let e=Yl(new pt,xj.prototype);return e.copy(this),console.log("CloneGeometry",this,e),e}copy(e){return Object.entries(e.attributes).forEach(([t,n])=>{this.setAttribute(t,n)}),this.setIndex(e.index),this.userData={parameters:B({},e.userData.parameters),type:"TextGeometry"},this}setText(e){return ri(this,null,function*(){this.font&&(yield this.font.loadingPromise),yield this.update(se(B({},this.userData.parameters),{text:e}))})}get text(){return this.userData.parameters.text??""}};function Jbe(e,t,n){let i=[""],r="";for(let o of n)r+=o,o===" "||o===`
`?(i[i.length-1]+=r,r="",o===`
`&&i.push("")):t.getTextWidth(i[i.length-1]+r,e)>e.width&&(i[i.length-1].length&&i.push(""),t.getTextWidth(i[i.length-1]+r,e)>e.width&&(r.length===1?(i[i.length-1]+=r,r=""):(i[i.length-1]+=r.slice(0,-1),r=r[r.length-1],i.push(""))));return i[i.length-1]+=r,i}var Pj,Oj=new Promise(e=>{Pj=e}),wz=!1,pC;function e_e(){if(wz)return;if(pC)return pC;function e(){return ri(this,null,function*(){let t="https://unpkg.com/@splinetool/modelling-wasm@1.1.7/build",n=import("./chunk-L4NCESTO.js"),[i,r]=yield Promise.all([n,fetch(`${t}/process.wasm`).then(s=>s.arrayBuffer())]),o=i.default,a=yield o({wasmBinary:r});Pj(a),wz=!0})}return pC=e(),pC}var t_e=["font"];function py(e,t,n,i){let r,o,a;e.type==="PathGeometry"?(o=JSON.parse(JSON.stringify(e)),a=[[],["extrusion"]]):(o=B({},e),a=[[]]);for(let c of a){let d=o;for(let u of c)d=d[u];for(r in d){let u=d[r];S7(u)&&!t_e.includes(r)&&(d[r]=t.getVariable(u,[i.uuid,"geometry",...c,r]),S7(d[r])&&(d[r]=1))}}let s={parameters:o,type:o.type};if(o.type==="PathGeometry")s.path=o.path;else if(o.type==="VectorGeometry"){let c=Ri.createFromState(o.shape,o.width,o.height);s.shape=c}else if(o.type==="NonParametricGeometry"){if(o.data.groups&&o.data.groups?.forEach(c=>c.materialIndex=Math.max(c.materialIndex??0,0)),s.geometry=new PV().parse(o),s.geometry.groups.length===0){let c=s.geometry;c.addGroup(0,Math.max(c.getIndex()?.count??0,c.getAttribute("position").count),0)}}else if(o.type==="SubdivGeometry"){let c=new zo(o,n);return c.data=e,c}else{if(o.type==="TextGeometry")return new xj(o,t);if(o.type==="UIGeometry")return DT.create({parameters:{width:o.width,height:o.height,cornerRadius:o.cornerRadius,cornerType:o.cornerType}})}let l;try{l=Ez(s)}catch(c){console.error(c)}if(!l){let c=Ri.createFromState(TM.defaultData(),100,100);s.shape=c,l=Ez(s)}return l}var n_e=new Be;function QD(e,t,n,i){let r=e.position.array,o=e.normal.array,a=n_e.makeScale(t,n,i).invert().elements,s,l,c;for(var d=0,u=r.length;d<u;d+=3)r[d]*=t,r[d+1]*=n,r[d+2]*=i,s=o[d],l=o[d+1],c=o[d+2],o[d]=a[0]*s+a[4]*l+a[8]*c,o[d+1]=a[1]*s+a[5]*l+a[9]*c,o[d+2]=a[2]*s+a[6]*l+a[10]*c;e.position.needsUpdate=!0,e.normal.needsUpdate=!0}var mC=new ji,Ym=new L,Ct;Oj.then(e=>{Ct=e});var xz=new Float32Array([10,10,0,-10,10,0,-10,-10,0,10,-10,0]),Pz=new Uint32Array([0,1,2,3]),Oz=new Uint8Array([4]),zo=class extends pt{constructor(e,t){super(),this.data=e,this.flatShading=t,this.subdivPointer=0,this.rebuild(),this.freeSubdivPointer()}mutateDirectlyScaleBaked(e,t){this.freeSubdivPointer();let n=this.data.scaleBaked,i=Xh.div(t,n);this.subdividedGeometry&&QD(this.subdividedGeometry.attributes,...i),this.originalGeometry&&QD(this.originalGeometry.attributes,...i),this.data=e;let r=this.userData.parameters;this.userData.parameters={width:r.width*i[0],height:r.height*i[1],depth:r.depth*i[2]},this.originalGeometry.boundingSphere.center.multiply(Ym.fromArray(i));let o=Ym.set(r.width,r.height,r.depth).length();this.originalGeometry.boundingSphere.radius=o/2}ensureSubdivPointer(){return this.subdivPointer===0&&this.rebuild(),this.subdivPointer}rebuild(){let e,t,n;try{({originalGeometry:e,subdividedGeometry:t,subdivPointer:n}=zo.build(this.data,void 0,!this.flatShading,void 0))}catch{e=new Qs(100,100,100),n=0}this.subdivPointer=n,this.originalGeometry=e,this.subdividedGeometry=t??void 0;let i=this.subdividedGeometry??this.originalGeometry;Object.assign(this,i),this.calcBoundingBox()}freeSubdivPointer(){this.subdivPointer&&(zo.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0)}dispose(){super.dispose(),this.freeSubdivPointer()}calcBoundingBox(){let e=this.originalGeometry;e.boundingSphere===null&&(e.boundingSphere=new ua,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let t=e.attributes.position,n=e.boundingSphere.center;mC.setFromBufferAttribute(t),mC.getCenter(n),e.boundingSphere.radius=n.distanceTo(mC.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),mC.getSize(Ym);let i={width:Ym.x,height:Ym.y,depth:Ym.z};return this.userData.parameters=i,i}static build(e,t,n,i){let r,o,a,s=e?.phongAngle??35;n===!1&&(s=-1),t&&(Ct.free_bvh(t),Ct.free_subdivision_surface(t));try{r=zo.allocate(e,i)}catch(l){console.error(l,e),r=zo.allocate({positionWASM:xz,indexWASM:Pz,verticesPerFaceWASM:Oz},i)}if(Ct.set_destination_refinement_level(r,0),o=zo.buildLevel(r,!0,s),e.subdivisions>0)try{Ct.set_destination_refinement_level(r,e.subdivisions),a=zo.buildLevel(r,!1,s)}catch{try{Ct.set_destination_refinement_level(r,e.subdivisions-1),a=zo.buildLevel(r,!1,s)}catch{a=null}}else a=null;return{subdivPointer:r,originalGeometry:o,subdividedGeometry:a}}static primitiveToQuads(e,t,n){e.widthSegments>16&&(e.widthSegments=16),e.heightSegments>16&&(e.heightSegments=16),e.depthSegments>16&&(e.depthSegments=16),e.radialSegments>16&&(e.radialSegments=16),e.type==="DodecahedronGeometry"&&(e.detail=0);let i=e.shape!==void 0||e.path!==void 0?t.geometry:py(e,n,!1),r;e.type==="TorusGeometry"&&e.arc===Math.PI*2?r=i.getClosedTorusIndicesForBooleanOrSubdiv():r=i.getIndex();let o,a,s,l;({positions:o,triIndices:l}=Mw(i.getAttribute("position"),r));let c;if(e.type==="CylinderGeometry"&&e.cornerRadius===0&&e.hollow===0&&e.openEnded===!1){let d=e.radialSegments*e.heightSegments*3*2,u=d+e.radialSegments*3;c=[d,u]}return{indices:a,verticesPerFace:s}=Sj(o,l,i,c),{positions:o,indices:a,verticesPerFace:s}}static allocate(e,t){let n,i,r,o=[],a=[];e.positionWASM&&e.positionWASM.length>0?(n=e.positionWASM,i=e.indexWASM,r=e.verticesPerFaceWASM):(n=xz,i=Pz,r=Oz);let s=n.length,l=i.length,c=r.length,d=n.length+o.length+a.length,u=i.length+r.length,h=d*Float32Array.BYTES_PER_ELEMENT+u*Uint32Array.BYTES_PER_ELEMENT,p=d*Float32Array.BYTES_PER_ELEMENT,m=u*Uint32Array.BYTES_PER_ELEMENT,g=Ct._malloc(h),v=new Float32Array(Ct.HEAPF32.buffer,g,d),b=new Uint32Array(Ct.HEAPU32.buffer,g+p,u);v.set(n,0),v.set(o,n.length),v.set(a,n.length+o.length),b.set(i,0),b.set(r,i.length);let _;e?.scaleBaked?.some(M=>M!==1)&&(_=new Be().makeScale(...e.scaleBaked)),t&&(_?_.premultiply(t):_=t);let C=_?Ct.alloc_subdivision_surface2(g,s,g+p,l,g+p+i.length*Uint32Array.BYTES_PER_ELEMENT,c,_.elements):Ct.alloc_subdivision_surface(g,s,g+p,l,g+p+i.length*Uint32Array.BYTES_PER_ELEMENT,c);return Ct._free(g),C}static buildLevel(e,t,n,i,r){let o=r?Ct.get_mesh_data2(e,t?Ct.Level.CONTROL:Ct.Level.REFINED,n,r.elements):Ct.get_mesh_data(e,t?Ct.Level.CONTROL:Ct.Level.REFINED,n),a=8,s=Ct.HEAPU32.subarray(o>>2,(o>>2)+a),l=s.subarray(4,8),c=0,d=Ct.HEAPU32[s[c]>>2],u=Ct.HEAPF32.subarray(d>>2,(d>>2)+l[c]);c++;let h=Ct.HEAPU32[s[c]>>2],p=Ct.HEAPF32.subarray(h>>2,(h>>2)+l[c]);c++;let m=Ct.HEAPU32[s[c]>>2],g=Ct.HEAPU32.subarray(m>>2,(m>>2)+l[c]);c++;let v=Ct.HEAPU32[s[c]>>2],b=Ct.HEAPU32.subarray(v>>2,(v>>2)+l[c]);if(c++,i===void 0){let _=new pt;if(_.setIndex(new bf(b,1)),_.setAttribute("position",new Je(u,3)),_.setAttribute("normal",new Je(p,3)),t){_.setAttribute("faceMap",new bf(g,1));let C=new Float32Array(p.length/3*4).fill(0);_.setAttribute("color",new St(C,4))}return Ct.free_mesh_data(o),_.userData.type="SubdivGeometry",_}i.getAttribute("position").copyArray(u),i.getAttribute("normal").copyArray(p),i.attributes.position.needsUpdate=!0,i.attributes.normal.needsUpdate=!0,Ct.free_mesh_data(o)}static freeSubdivPointer(e){Ct.free_bvh(e),Ct.free_subdivision_surface(e)}static buildControlCageWireframe(e,t,n){let i=Ct.get_wireframe_data_for_base_level(e),r=4,o=Ct.HEAPU32.subarray(i>>2,(i>>2)+r),a=o.subarray(2,4),s=0,l=Ct.HEAPU32[o[s]>>2],c=Ct.HEAPF32.subarray(l>>2,(l>>2)+a[s]);s++;let d=Ct.HEAPU32[o[s]>>2],u=Ct.HEAPU32.subarray(d>>2,(d>>2)+a[s]);if(t===void 0){let h=new pt;h.setAttribute("position",new Je(c,3));let p=new Float32Array(c.length);for(let m=0,g=c.length;m<g;)p[m++]=n.r,p[m++]=n.g,p[m++]=n.b;return h.setAttribute("color",new St(p,3)),h.setIndex(new bf(u,1)),Ct.free_wireframe_data_for_base_level(i),h}t.getAttribute("position").copyArray(c),t.attributes.position.needsUpdate=!0,Ct.free_wireframe_data_for_base_level(i)}static updateCollabMesh(e,t,n){let i=t===0;i||Ct.set_destination_refinement_level(e,t);let r=n?Ct.get_topological_data2(e,i?Ct.Level.CONTROL:Ct.Level.REFINED,n.elements):Ct.get_topological_data(e,i?Ct.Level.CONTROL:Ct.Level.REFINED),o=6,a=Ct.HEAPU32.subarray(r>>2,(r>>2)+o),s=a.subarray(3,6),l=0,c=Ct.HEAPU32[a[l]>>2],d=new Float32Array(Ct.HEAPF32.subarray(c>>2,(c>>2)+s[l]));l++;let u=Ct.HEAPU32[a[l]>>2],h=new Uint32Array(Ct.HEAPU32.subarray(u>>2,(u>>2)+s[l]));l++;let p=Ct.HEAPU32[a[l]>>2],m=new Uint8Array(Ct.HEAPU32.subarray(p>>2,(p>>2)+s[l]));return Ct.free_topological_data(r),{positions:d,indices:h,verticesPerFace:m}}},Sz=["getX","getY","getZ"];function Mw(e,t){let n={},i=t?t.count:e.count,r=0,o=[],a=[],s=1e4;for(let c=0;c<i;c++){let d=t?t.getX(c):c,u="";for(let h=0;h<3;h++)u+=`${~~(e[Sz[h]](d)*s)},`;if(u in n)o.push(n[u]);else{for(let h=0;h<3;h++)a.push(e[Sz[h]](d));n[u]=r,o.push(r),r++}}let l=[];for(let c=0;c<o.length;c+=3)o[c]===o[c+1]||o[c]===o[c+2]||o[c+1]===o[c+2]||l.push(o[c],o[c+1],o[c+2]);return{positions:a,triIndices:l}}var fC=new L,zE=new L,BE=new L,VE=new L;function Sj(e,t,n,i){let r=[],o=[];if(n.userData.shape!==void 0&&n.userData.parameters.depth===0&&n.userData.shape.shapeHoles.length===0){let l=n.userData.shape.extractShapePointsToFlatArray([]),c=n.userData.parameters.spikes;if(n.userData.type==="EllipseGeometry"&&c<=24&&c%4===0&&n.userData.parameters.angle>=360){let h=l.length/2/c;l=l.filter((p,m)=>Math.floor(m/2)%h===0)}let d=0;for(let h=0;h<l.length;h+=2)d+=(l[h]-l[(h===0?l.length:h)-2])*(l[h+1]+l[(h===0?l.length:h)-1]);e.length=0;let u=0;if(d<0)for(let h=0;h<l.length;h+=2)e.push(l[h],l[h+1],0),r.push(u++);else for(let h=l.length-2;h>=0;h-=2)e.push(l[h],l[h+1],0),r.push(u++);return o.push(u),{indices:r,verticesPerFace:o}}let a=new Float32Array([n.userData.parameters.depth])[0],s=0;for(;s<t.length;){if(n.useNgonForTopBottomFaceDuringBake){let l=0;if((e[t[s]*3+2]===a||e[t[s]*3+2]===0)&&l++,(e[t[s+1]*3+2]===a||e[t[s+1]*3+2]===0)&&l++,(e[t[s+2]*3+2]===a||e[t[s+2]*3+2]===0)&&l++,l===3)break}if(t[s+1]===t[s+3]&&t[s+2]===t[s+5]||t[s+0]===t[s+3]&&t[s+2]===t[s+4]){fC.set(e[t[s]*3],e[t[s]*3+1],e[t[s]*3+2]),zE.set(e[t[s+1]*3],e[t[s+1]*3+1],e[t[s+1]*3+2]),BE.set(e[t[s+4]*3],e[t[s+4]*3+1],e[t[s+4]*3+2]),VE.set(e[t[s+5]*3],e[t[s+5]*3+1],e[t[s+5]*3+2]),zE.sub(fC).normalize(),BE.sub(fC).normalize(),VE.sub(fC).normalize();let l=zE.cross(BE).dot(VE);Math.abs(l)>.005||i&&i.some((c,d)=>d%2===1?!1:s>=i[d]&&s<i[d+1])?(r.push(t[s],t[s+1],t[s+2]),o.push(3),s+=3):(r.push(t[s],t[s+1],t[s+4],t[s+5]),o.push(4),s+=6)}else r.push(t[s],t[s+1],t[s+2]),o.push(3),s+=3}if(n.useNgonForTopBottomFaceDuringBake){let l=[],c=[],d=0;for(let u=0,h=0;u<e.length;u+=3,h++)e[u+2]===0&&(l.push(h),d++),e[u+2]===a&&c.push(h);if(n.userData.parameters.extrudeBevelSize===0){let u=c[0];c[0]=c[1],c[1]=u}l.reverse(),r.push(...l,...c),o.push(d,d)}return{indices:r,verticesPerFace:o}}var Fc={};pne(Fc,{calcBoolean:()=>s_e,calcBooleanTopological:()=>a_e,freeMeshSet:()=>u_e,getMeshSet:()=>l_e,hasOpenEdges:()=>c_e,transformMeshSet:()=>d_e});var Ej,i_e=new Promise(e=>{Ej=e}),gC;function r_e(){if(gC)return gC;function e(){return ri(this,null,function*(){let t="https://unpkg.com/@splinetool/boolean-wasm@1.1.7/build",n=import("./chunk-7UVGGQOW.js"),[i,r]=yield Promise.all([n,fetch(`${t}/boolean.wasm`).then(s=>s.arrayBuffer())]),o=i.default,a=yield o({wasmBinary:r});Ej(a)})}return gC=e(),gC}var un,Ef;i_e.then(e=>un=e);function o_e(e,t,n){let i,r;e.userData.parameters.type==="TorusGeometry"&&e.userData.parameters.arc===Math.PI*2?r=e.getClosedTorusIndicesForBooleanOrSubdiv():r=e.getIndex();let{positions:o,triIndices:a}=Mw(e.getAttribute("position"),r),s;if(t&&n){let{indices:l,verticesPerFace:c}=Sj(o,a,e);s=c.length,i=[];for(let d=0,u=0;d<s;d++){i.push(c[d]);for(let h=0;h<c[d];h++)i.push(l[u++])}}else{let l=a.length;i=Array(l+l/3),s=0;for(let c=0,d=0;d<i.length;)i[d++]=3,s++,i[d++]=a[c++],i[d++]=a[c++],i[d++]=a[c++]}return{positions:o,faceIndices:i,nFaces:s}}function Dj(e){let t=e.length,n=t*Uint32Array.BYTES_PER_ELEMENT,i=t*Float32Array.BYTES_PER_ELEMENT,r=Number.isInteger(e[0])?n:i,o=un._malloc(r);return(Number.isInteger(e[0])?new Uint32Array(un.HEAPU32.buffer,o,t):new Float32Array(un.HEAPF32.buffer,o,t)).set(e,0),o}function Aj(e){switch(e){case 0:return un.OP.UNION;case 1:return un.OP.INTERSECTION;case 2:return un.OP.A_MINUS_B;case 3:return un.OP.B_MINUS_A;case 4:return un.OP.SYMMETRIC_DIFFERENCE;case 5:return un.OP.ALL;default:throw new Error("Unknown boolean operation "+e)}}function a_e(e,t){Ef===void 0&&(Ef=un.init_csg());let n=Dj(e),i=un.csg_calc_topological(Ef,n,e.length,Aj(t));un._free(n);let r=6,o=un.HEAPU32.subarray(i>>2,(i>>2)+r),a=o.subarray(3,6),s=0,l=un.HEAPU32[o[s]>>2],c=new Float32Array(un.HEAPF32.subarray(l>>2,(l>>2)+a[s]));s++;let d=un.HEAPU32[o[s]>>2],u=new Uint32Array(un.HEAPU32.subarray(d>>2,(d>>2)+a[s]));s++;let h=un.HEAPU32[o[s]>>2],p=new Uint8Array(un.HEAPU32.subarray(h>>2,(h>>2)+a[s]));return un.free_mesh_data(i),{positions:c,indices:u,verticesPerFace:p}}function s_e(e,t,n,i){Ef===void 0&&(Ef=un.init_csg());let r=Dj(e),o=un.csg_calc(Ef,r,e.length,i,Aj(t));un._free(r);let a=5,s=un.HEAPU32.subarray(o>>2,(o>>2)+a),l=s.subarray(2,5),c=0,d=un.HEAPU32[s[c]>>2],u=un.HEAPF32.subarray(d>>2,(d>>2)+l[c]);c++;let h=un.HEAPU32[s[c]>>2],p=un.HEAPF32.subarray(h>>2,(h>>2)+l[c]);c++;let m=l[c];n.setAttribute("position",new Je(u,3)),n.setAttribute("normal",new Je(p,3));let g=un.HEAPF32.subarray((o>>2)+5,(o>>2)+5+6);return n.boundingSphere===null&&(n.boundingSphere=new ua),n.boundingSphere.center.set(g[0],g[1],g[2]),n.boundingSphere.radius=(g[3]**2+g[4]**2+g[5]**2)**.5,n.userData.parameters={width:g[3]*2,height:g[4]*2,depth:g[5]*2},un.free_mesh_data(o),m}function l_e(e,t,n){if(un===void 0)return-1;let i,r,o;if(t&&e.userData.positions!==void 0){let b=e.userData;o=b.verticesPerFace.length,i=b.positions,r=Array(b.verticesPerFace.reduce((_,C)=>_+C,0)+o);for(let _=0,C=0,M=0;_<b.verticesPerFace.length;_++){r[M++]=b.verticesPerFace[_];for(let P=0;P<b.verticesPerFace[_];P++)r[M++]=b.indices[C++]}}else({positions:i,faceIndices:r,nFaces:o}=o_e(e,t,n));let a=i.length,s=r.length,l=i.length,c=r.length,d=l*Float32Array.BYTES_PER_ELEMENT+c*Uint32Array.BYTES_PER_ELEMENT,u=l*Float32Array.BYTES_PER_ELEMENT,h=c*Uint32Array.BYTES_PER_ELEMENT,p=un._malloc(d),m=new Float32Array(un.HEAPF32.buffer,p,l),g=new Uint32Array(un.HEAPU32.buffer,p+u,c);m.set(i,0),g.set(r,0);let v=un.get_csg_mesh(p,a,p+u,s,o);return un._free(p),v}function c_e(e){return un.has_open_edges(e)}function d_e(e,t){un.transform_csg_mesh(e,t.elements)}function u_e(e){un.free_csg_mesh(e)}var h_e={ConeGeometry:T1e,CubeGeometry:I1e,CylinderGeometry:ij,DodecahedronGeometry:L1e,EllipseGeometry:ET,HelixGeometry:hbe,IcosahedronGeometry:pbe,LatheGeometry:mbe,NonParametricGeometry:Cbe,PolygonGeometry:_j,PyramidGeometry:Mbe,RectangleGeometry:DT,SphereGeometry:Pbe,PlaneGeometry:Obe,BackdropGeometry:Sbe,StarGeometry:Cj,TextFrameGeometry:Dbe,TorusGeometry:Abe,TorusKnotGeometry:Ibe,TriangleGeometry:Rbe,PathGeometry:Xbe,VectorGeometry:hp},Ez=e=>h_e[e.type].create(e);function Xm(e){return e!==null&&"booleanOp"in e}var Tj=class extends MT(Ji){constructor(){super(...arguments),this.booleanMeshSetAddress=-1,this.booleanWasTransformed=!1,this.booleanMatrixInvOld=new Be}updateVisible(e){super.updateVisible(e),this.visible=!Xm(this.parent)&&this.visible,Xm(this.parent)&&this.parent.invalidateDownstreamBooleanData()}freeBooleanPointer(){this.booleanMeshSetAddress!==-1&&(Fc.freeMeshSet(this.booleanMeshSetAddress),this.booleanMeshSetAddress=-1)}invalidateDownstreamBooleanData(e=!1){return e?this.booleanWasTransformed=!0:this.freeBooleanPointer(),Xm(this.parent)?this.parent.invalidateDownstreamBooleanData():this}invalidateUpstreamBooleanData(){this.freeBooleanPointer();for(let e of this.children)e instanceof Tj&&(e.freeBooleanPointer(),Xm(e)&&e.invalidateUpstreamBooleanData())}updateTransformState(e,t){let n=super.updateTransformState(e,t);return n&&Xm(this.parent)&&this.invalidateDownstreamBooleanData(!0),n}onVariableUpdate(e=!1){super.onVariableUpdate(e),Xm(this.parent)&&this.invalidateDownstreamBooleanData(!0)}},vC=new ji;function AT(e,t=0,n=e.count,i,r){let o=1/0,a=1/0,s=1/0,l=-1/0,c=-1/0,d=-1/0;for(let u=t;u<n;u++){let h=e.getX(u),p=e.getY(u),m=e.getZ(u);h<o&&(o=h),p<a&&(a=p),m<s&&(s=m),h>l&&(l=h),p>c&&(c=p),m>d&&(d=m)}vC.min.set(o,a,s),vC.max.set(l,c,d),vC.getCenter(i),vC.getSize(r).multiplyScalar(.5)}var p_e=new pt,m_e=new ap,Ho=class extends Tj{constructor(e,t){super(p_e,m_e),this.super_Entity(e,t)}updateState(e,t){this.updateState_Entity(e,t)}updateEntityBoxSize(e,t){let n=this.geometry.getAttribute("position");n!==void 0?AT(n,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:n.count,e,t):super.updateEntityBoxSize(e,t)}},qd=class{constructor(e){if(this.hashProperties=void 0,this.isNode=!0,this.shortcuts={},qd.uuidContext===null)throw new Error("plz startContext");qd.uuidContext===qd.globalContext?this.uuid="_gid"+qd.uuidContext.nodeContextUuid++:this.uuid="_uid"+qd.uuidContext.nodeContextUuid++,this.type=e,this.name=""}static startContext(e){this.uuidContext===null||this.uuidContext===qd.globalContext?this.uuidContext=e:console.error("Can't start context twice")}static endContext(e){this.uuidContext!==e&&console.error("Can't end context twice"),this.uuidContext=null}analyze(e,t){t=t??{},e.analyzing=!0,this.build(e.addFlow(t.slot,t.cache,t.context),"v4"),e.clearVertexNodeCode(),e.clearFragmentNodeCode(),e.removeFlow(),e.analyzing=!1}analyzeAndFlow(e,t,n){return n=n??{},this.analyze(e,n),this.flow(e,t,n)}flow(e,t,n){n=n??{},e.addFlow(n.slot,n.cache,n.context);let i={result:this.build(e,t),code:e.clearNodeCode(),extra:e.context.extra};return e.removeFlow(),i}build(e,t,n){t=t??this.getType(e,t);let i=e.getNodeData(n??this);return e.analyzing&&this.appendDepsNode(e,i,t),e.nodes.indexOf(this)===-1&&e.nodes.push(this),this.updateFrame!==void 0&&e.updaters.indexOf(this)===-1&&e.updaters.push(this),this.generate(e,t,n)}updateFrame(e){}generateReadonly(e,t,n,i,r,o){return""}generate(e,t,n,i,r){return""}parse(e,t,n,i){}appendDepsNode(e,t,n){t.deps=(t.deps||0)+1;let i=e.getTypeLength(n);(i>(t.outputMax||0)||this.getType(e,n))&&(t.outputMax=i,t.output=n)}setName(e){this.name=e}getName(){return this.name}getType(e,t){return t==="sampler2D"||t==="samplerCube"?t:this.type}},pr=qd;pr.globalContext={nodeContextUuid:0},pr.uuidContext=qd.globalContext;var Dz=class{constructor(e){e=e??{},this.name=e.name,this.type=e.type,this.node=e.node,this.size=e.size,this.needsUpdate=e.needsUpdate}get value(){return this.node.value}set value(e){this.node.value=e}},f_e=class{constructor(){this.nodes={},this.keywords={}}add(e){this.nodes[e.name]=e}addKeyword(e,t,n){n=n!==void 0?n:!0,this.keywords[e]={callback:t,cache:n}}remove(e){delete this.nodes[e.name]}removeKeyword(e){delete this.keywords[e]}get(e){return this.nodes[e]}getKeyword(e,t){return this.keywords[e].callback(t)}getKeywordData(e){return this.keywords[e]}contains(e){return this.nodes[e]!==void 0}containsKeyword(e){return this.keywords[e]!==void 0}},sa=new f_e,Kn=class extends pr{constructor(e,t){super(e),this.scope="",t=t??{},this.shared=t.shared!==void 0?t.shared:!0,this.unique=t.unique!==void 0?t.unique:!1}build(e,t,n,i){if(t=t??this.getType(e),this.getShared(e,t)){let r=this.getUnique(e,t);r&&this.uuid===void 0&&(this.uuid=et.generateUUID()),n=e.getUUID(n??this.getUUID(),!r);let o=e.getNodeData(n),a=o.output||this.getType(e);if(e.analyzing)return(o.deps||0)>0||this.getLabel()?(this.appendDepsNode(e,o,t),this.generate(e,t,n)):super.build(e,t,n);if(r)return o.name=o.name||super.build(e,t,n),o.name;if(!this.getLabel()&&(!this.getShared(e,a)||e.context.ignoreCache||o.deps===1))return super.build(e,t,n);n=this.getUUID(!1);let s=this.getTemp(e,n);if(s)return e.format(s,a,t);{s=super.generate(e,t,n,o.output,i);let l=this.generate(e,a,n);return e.addNodeCode(s+" = "+l+";"),e.format(s,a,t)}}return super.build(e,t,n)}getShared(e,t){return t!=="sampler2D"&&t!=="samplerCube"&&this.shared}getUnique(e,t){return this.unique}setLabel(e){return this.label=e,this}getLabel(){return this.label}getUUID(e){let t=this.uuid;return typeof this.scope=="string"&&(t=this.scope+"-"+t),t}getTemp(e,t){t=t||this.uuid;let n=e.getVars()[t];return n?n.name:void 0}generate(e,t,n,i,r){return this.getShared(e,t)||console.error("TempNode is not shared"),n=n??this.uuid,e.getTempVar(n,i??this.getType(e),r,this.getLabel()).name}},ha=class extends Kn{constructor(e,t){t=t??{},t.shared=t.shared!==void 0?t.shared:!1,super(e,t),this.readonly=!1}setReadonly(e){return this.readonly=e,this.hashProperties=this.readonly?["value"]:void 0,this}getReadonly(){return this.readonly}generate(e,t,n,i,r,o){n=e.getUUID(n??this.getUUID()),i=i??this.getType(e);let a=e.getNodeData(n);return this.getReadonly()&&this.generateReadonly!==void 0?this.generateReadonly(e,t,n,i,r,o):e.isShader("vertex")?(a.vertex||(a.vertex=e.createVertexUniform(i,this,r,o,this.getLabel())),e.format(a.vertex.name,i,t)):(a.fragment||(a.fragment=e.createFragmentUniform(i,this,r,o,this.getLabel())),e.format(a.fragment.name,i,t))}},qr=class extends ha{constructor(e=0,t){super("v2"),this.nodeType="Vector2",this.value=e instanceof oe?e:new oe(e,t)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}generateReadonly(e,t,n,i,r,o){return e.format("vec2("+this.value.x+", "+this.value.y+")",i,t)}},ds=class extends ha{constructor(e=0,t,n){super("v3"),this.nodeType="Vector3",this.value=e instanceof L?e:new L(e,t,n)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}get z(){return this.value.z}set z(e){this.value.z=e}generateReadonly(e,t,n,i,r,o){return e.format("vec3("+this.value.x+", "+this.value.y+", "+this.value.z+")",i,t)}},Kr=class extends _t{constructor(e,t,n,i){super(e,t,n),this.isColorA=!0,this.a=i}setRGBA(e,t,n,i){super.setRGB(e,t,n),this.a=i}copy(e){return super.copy(e),this.a="a"in e?e.a:1,this}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}equals(e){return super.equals(e)&&this.a===e.a}setStyle(e,t="srgb"){let n;if(e==="transparent")return this.setRGBA(0,0,0,0),this;if(n=/^((?:rgb|hsl)a?)\(([^)]*)\)/.exec(e)){let i,r=n[1],o=n[2];switch(r){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.a=r==="rgba"?parseFloat(i[4]):1,super.setStyle(e,t);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.a=r==="hsla"?parseFloat(i[4]):1,super.setStyle(e,t);break}}return super.setStyle(e,t)}get x(){return this.r}get y(){return this.g}get z(){return this.b}get w(){return this.a}set x(e){this.r=e}set y(e){this.g=e}set z(e){this.b=e}set w(e){this.a=e}},Nc=class extends ha{constructor(e){super("v4"),this.nodeType="Vector4",this.value=e instanceof Kr?e:new Kr(e.r,e.g,e.b,e.a)}generateReadonly(e,t,n,i,r,o){return e.format("vec4("+this.value.r+", "+this.value.g+", "+this.value.b+", "+this.value.a+")",i,t)}},g_e=/^\s*([a-z_0-9]+)\s([a-z_0-9]+)\s*\((.*?)\)/i,Az=/[a-z_0-9]+/gi,Ze=class extends Kn{constructor(e,t,n,i,r){super(r),this.src="",this.nodeType="Function",this.useKeywords=!0,this.includes=[],this.extensions={},this.keywords={},this.isMethod=r===void 0,this.isInterface=!1,this.parse(e,t,n,i)}getShared(e,t){return!this.isMethod}getType(e){return e.getTypeByFormat(this.type)}getInputByName(e){if(this.inputs){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}}getIncludeByName(e){if(this.includes){let t=this.includes.length;for(;t--;)if(this.includes[t].name===e)return this.includes[t]}}generate(e,t,n,i,r){let o,a=0,s=this.src;if(this.includes)for(let c=0;c<this.includes.length;c++)e.include(this.includes[c],this);for(let c in this.extensions)e.extensions[c]=!0;let l=[];for(;o=Az.exec(this.src);)l.push(o);for(let c=0;c<l.length;c++){let d=l[c],u=d[0],h=this.isMethod?!this.getInputByName(u):!0,p=u;if(this.keywords[u]||this.useKeywords&&h&&sa.containsKeyword(u)){let m=this.keywords[u];if(!m){let g=sa.getKeywordData(u);g.cache&&(m=e.keywords[u]),m=m||sa.getKeyword(u,e),g.cache&&(e.keywords[u]=m)}p=m.build(e)}u!==p&&s[d.index+a-1]!=="."&&(s=s.substring(0,d.index+a)+p+s.substring(d.index+u.length+a),a+=p.length-u.length),this.getIncludeByName(p)===void 0&&sa.contains(p)&&e.include(sa.get(p))}return t==="source"?s:this.isMethod?(this.isInterface||e.include(this,void 0,s),this.name):e.format("( "+s+" )",this.getType(e),t)}parse(e,t,n,i){if(this.src=e||"",this.includes=t??[],this.extensions=n??{},this.keywords=i??{},this.isMethod){let r=g_e.exec(this.src);if(this.inputs=[],r&&r.length==4){this.type=r[1],this.name=r[2];let o=r[3].match(Az);if(o){let a=0;for(;a<o.length;){let s=o[a++],l;s==="in"||s==="out"||s==="inout"?l=o[a++]:(l=s,s="");let c=o[a++];this.inputs.push({name:c,type:l,qualifier:s})}}this.isInterface=this.src.indexOf("{")===-1}else this.type="",this.name=""}}},v_e=/^([a-z_0-9]+)\s([a-z_0-9]+)\s?\=?\s?(.*?)(\;|$)/i,Ij=class extends Kn{constructor(e="",t){super(),this.src="",this.useDefine=!1,this.nodeType="Const",this.parse(e||Ij.PI,void 0,void 0,void 0,t)}getType(e){return e.getTypeByFormat(this.type)}parse(e,t,n,i,r){this.src=e||"";let o,a,s="",l=v_e.exec(e);this.useDefine=r??this.src.charAt(0)==="#",l&&l.length>1?(a=l[1],o=l[2],s=l[3]):(o=this.src,a="f"),this.name=o,this.type=a,this.value=s}build(e,t){if(t==="source"){if(this.value)return this.useDefine?"#define "+this.name+" "+this.value:"const "+this.type+" "+this.name+" = "+this.value+";";if(this.useDefine)return this.src}return e.include(this),e.format(this.name,this.getType(e),t)}generate(e,t,n,i,r){return e.format(this.name,this.getType(e),t)}},Xn=Ij;Xn.PI="PI",Xn.PI2="PI2",Xn.RECIPROCAL_PI="RECIPROCAL_PI",Xn.RECIPROCAL_PI2="RECIPROCAL_PI2",Xn.LOG2="LOG2",Xn.EPSILON="EPSILON";var y_e=new RegExp(`^structs*([a-z_0-9]+)s*{s*((.|
)*?)}`,"gim"),b_e=new RegExp("s*(w*?)s*(w*?)(=|;)","gim"),Rj=class extends Kn{constructor(e=""){super(),this.inputs=[],this.src="",this.nodeType="Struct",this.parse(e)}getType(e){return e.getTypeByFormat(this.name)}getInputByName(e){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}generate(e,t,n,i,r){return t==="source"?this.src+";":e.format("( "+this.src+" )",this.getType(e),t)}parse(e=""){this.src=e,this.inputs=[];let t=y_e.exec(e);if(t){let n=t[2],i;for(;i=b_e.exec(n);)this.inputs.push({type:i[1],name:i[2]});this.name=t[1]}else this.name="";this.type=this.name}},TT=class extends Kn{constructor(e){super("v2",{shared:!1}),this.nodeType="UV",this.index=e??0}generate(e,t){e.requires.uv[this.index]=!0;let n=this.index>0?this.index+1:"",i=e.isShader("vertex")?"uv"+n:"vUv"+n;return e.format(i,this.getType(e),t)}};sa.addKeyword("uv",function(){return new TT});sa.addKeyword("uv2",function(){return new TT(1)});var df=class extends Kn{constructor(e,t){super("v4"),this.nodeType="ColorSpace",this.input=e,this.method=t??df.LINEAR_TO_LINEAR,this.hashProperties=["method"]}static getEncodingComponents(e){switch(e){case Xs:return["Linear"];case jt:return["sRGB"];default:return[]}}generate(e,t){let n=this.input.build(e,"v4"),i=this.getType(e),r=df.Nodes[this.method],o=e.include(r);if(o===df.LINEAR_TO_LINEAR)return e.format(n,i,t);if(r.inputs?.length===2){let a=this.factor.build(e,"f");return e.format(o+"( "+n+", "+a+" )",i,t)}else return e.format(o+"( "+n+" )",i,t)}fromEncoding(e){let t=df.getEncodingComponents(e);this.method="LinearTo"+t[0],this.factor=t[1]}fromDecoding(e){let t=df.getEncodingComponents(e);this.method=t[0]+"ToLinear",this.factor=t[1]}},Vl=df;Vl.Nodes={LinearToLinear:new Ze(["vec4 LinearToLinear( in vec4 value ) {","	return value;","}"].join(`
`)),sRGBToLinear:new Ze(["vec4 sRGBToLinear( in vec4 value ) {","	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );","}"].join(`
`)),LinearTosRGB:new Ze(["vec4 LinearTosRGB( in vec4 value ) {","	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );","}"].join(`
`))},Vl.LINEAR_TO_LINEAR="LinearToLinear",Vl.SRGB_TO_LINEAR="sRGBToLinear",Vl.LINEAR_TO_SRGB="LinearTosRGB";var di=class extends Ze{constructor(e="",t,n,i,r){super(e,r,i,n,t),this.nodeType="Expression"}},Hc=class extends ha{constructor(e=new wi,t,n,i){super("v4",{shared:!0}),this.nodeType="Texture",this.value=e,this.uv=t??new TT,this.bias=n,this.project=i!==void 0?i:!1}getTexture(e,t){return super.generate(e,t,this.value.uuid,"t")}generate(e,t){if(t==="sampler2D")return this.getTexture(e,t);let n=this.getTexture(e,t),i=this.uv.build(e,this.project?"v4":"v2"),r=this.bias?this.bias.build(e,"f"):void 0;r===void 0&&e.context.bias&&(r=e.context.bias.setTexture(this).build(e,"f"));let o,a;this.project?o="texture2DProj":o=r?"tex2DBias":"tex2D",r?a=o+"( "+n+", "+i+", "+r+" )":a=o+"( "+n+", "+i+" )";let s={include:e.isShader("vertex"),ignoreCache:!0},l=this.getType(e);return e.addContext(s),this.colorSpace=this.colorSpace??new Vl(new di("",l)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(a),a=this.colorSpace.build(e,l),e.removeContext(),e.format(a,l,t)}},it=class extends ha{constructor(e){super("f"),this.nodeType="Float",this.value=e??0}generateReadonly(e,t,n,i,r,o){return e.format(this.value+(this.value%1?"":".0"),i,t)}},Tz=class extends Kn{constructor(e,t){super(),this.inputs=[],this.nodeType="FunctionCall",this.value=e,this.inputs=t??[]}getFunction(){return this.value}getType(e){return this.value.getType(e)}generate(e,t,n,i,r){i=this.getType(e);let o=this.value,a=o.build(e,t)+"( ",s=[];if(o.inputs){for(let l=0;l<o.inputs.length;l++){let c=o.inputs[l],d=this.inputs[l]||this.inputs[c.name];s.push(d.build(e,e.getTypeByFormat(c.type)))}a+=s.join(", ")+" )"}return e.format(a,i,t)}},Lj=class extends Kn{constructor(e,t,n=Lj.ADD){super(),this.nodeType="Operator",this.type=e.type,this.a=e,this.b=t,this.op=n}getType(e){let t=this.a.getType(e),n=this.b.getType(e);return e.isTypeMatrix(t)?"v4":e.getTypeLength(n)>e.getTypeLength(t)?n:t}generate(e,t){let n=this.getType(e);this.type=n;let i=this.a.build(e,n),r=this.b.build(e,n);return e.format("( "+i+" "+this.op+" "+r+" )",n,t)}},ra=Lj;ra.ADD="+",ra.SUB="-",ra.MUL="*",ra.DIV="/";var Yn=class extends Kn{constructor(e,t=Yn.ABS,n,i){super(),this.nodeType="Math",this.a=e,typeof t!="string"?this.b=t:i=t,typeof n!="string"?this.c=n:i=n,this.method=i,this.hashProperties=["method"]}getNumInputs(e){switch(this.method){case Yn.MIX:case Yn.CLAMP:case Yn.REFRACT:case Yn.SMOOTHSTEP:case Yn.FACEFORWARD:return 3;case Yn.MIN:case Yn.MAX:case Yn.MOD:case Yn.STEP:case Yn.REFLECT:case Yn.DISTANCE:case Yn.DOT:case Yn.CROSS:case Yn.POW:return 2;default:return 1}}getInputType(e){let t=e.getTypeLength(this.a.getType(e)),n=this.b?e.getTypeLength(this.b.getType(e)):0,i=this.c?e.getTypeLength(this.c.getType(e)):0;return t>n&&t>i?this.a.getType(e):n>i?this.b.getType(e):this.c.getType(e)}getType(e){switch(this.method){case Yn.LENGTH:case Yn.DISTANCE:case Yn.DOT:return"f";case Yn.CROSS:return"v3"}return this.getInputType(e)}generate(e,t){let n,i,r,o=this.a?e.getTypeLength(this.a.getType(e)):0,a=this.b?e.getTypeLength(this.b.getType(e)):0,s=this.c?e.getTypeLength(this.c.getType(e)):0,l=this.getInputType(e),c=this.getType(e);switch(this.type=c,this.method){case Yn.NEGATE:return e.format("( -"+this.a.build(e,l)+" )",l,t);case Yn.INVERT:return e.format("( 1.0 - "+this.a.build(e,l)+" )",l,t);case Yn.CROSS:n=this.a.build(e,"v3"),i=this.b.build(e,"v3");break;case Yn.STEP:n=this.a.build(e,o===1?"f":l),i=this.b.build(e,l);break;case Yn.MIN:case Yn.MAX:case Yn.MOD:n=this.a.build(e,l),i=this.b.build(e,a===1?"f":l);break;case Yn.REFRACT:n=this.a.build(e,l),i=this.b.build(e,l),r=this.c.build(e,"f");break;case Yn.MIX:n=this.a.build(e,l),i=this.b.build(e,l),r=this.c.build(e,s===1?"f":l);break;default:n=this.a.build(e,l),this.b&&(i=this.b.build(e,l)),this.c&&(r=this.c.build(e,l));break}let d=[];d.push(n),i&&d.push(i),r&&d.push(r);let u=this.getNumInputs(e);if(d.length!==u)throw Error(`Arguments not match used in "${this.method}". Require ${u}, currently ${d.length}.`);return e.format(this.method+"( "+d.join(", ")+" )",c,t)}},zt=Yn;zt.RAD="radians",zt.DEG="degrees",zt.EXP="exp",zt.EXP2="exp2",zt.LOG="log",zt.LOG2="log2",zt.SQRT="sqrt",zt.INV_SQRT="inversesqrt",zt.FLOOR="floor",zt.CEIL="ceil",zt.NORMALIZE="normalize",zt.FRACT="fract",zt.SATURATE="saturate",zt.SIN="sin",zt.COS="cos",zt.TAN="tan",zt.ASIN="asin",zt.ACOS="acos",zt.ARCTAN="atan",zt.ABS="abs",zt.SIGN="sign",zt.LENGTH="length",zt.NEGATE="negate",zt.INVERT="invert",zt.MIN="min",zt.MAX="max",zt.MOD="mod",zt.STEP="step",zt.REFLECT="reflect",zt.DISTANCE="distance",zt.DOT="dot",zt.CROSS="cross",zt.POW="pow",zt.MIX="mix",zt.CLAMP="clamp",zt.REFRACT="refract",zt.SMOOTHSTEP="smoothstep",zt.FACEFORWARD="faceforward";var Dv=class extends Kn{constructor(e,t,n){super("v4"),this.nodeType="TextureCubeUV",this.value=e,this.uv=t,this.bias=n}bilinearCubeUV(e,t,n,i){let r=new Tz(Dv.Nodes.bilinearCubeUV,[t,n,i]);this.colorSpaceTL=this.colorSpaceTL??new Vl(new di("","v4")),this.colorSpaceTL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTL.input.parse(r.build(e)+".tl"),this.colorSpaceTR=this.colorSpaceTR??new Vl(new di("","v4")),this.colorSpaceTR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTR.input.parse(r.build(e)+".tr"),this.colorSpaceBL=this.colorSpaceBL??new Vl(new di("","v4")),this.colorSpaceBL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBL.input.parse(r.build(e)+".bl"),this.colorSpaceBR=this.colorSpaceBR??new Vl(new di("","v4")),this.colorSpaceBR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBR.input.parse(r.build(e)+".br");let o={include:e.isShader("vertex"),ignoreCache:!0};e.addContext(o),this.colorSpaceTLExp=new di(this.colorSpaceTL.build(e,"v4"),"v4"),this.colorSpaceTRExp=new di(this.colorSpaceTR.build(e,"v4"),"v4"),this.colorSpaceBLExp=new di(this.colorSpaceBL.build(e,"v4"),"v4"),this.colorSpaceBRExp=new di(this.colorSpaceBR.build(e,"v4"),"v4"),e.removeContext();let a=new di("mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )","v4");return a.keywords.cubeUV_TL=this.colorSpaceTLExp,a.keywords.cubeUV_TR=this.colorSpaceTRExp,a.keywords.cubeUV_BL=this.colorSpaceBLExp,a.keywords.cubeUV_BR=this.colorSpaceBRExp,a.keywords.cubeUV=r,a}generate(e,t){if(e.isShader("fragment")){let n=this.uv,i=this.bias||e.context.roughness,r=new Tz(Dv.Nodes.roughnessToMip,[i]),o=new zt(r,Dv.Nodes.m0,Dv.Nodes.cubeUV_maxMipLevel,zt.CLAMP),a=new zt(o,zt.FLOOR),s=new zt(o,zt.FRACT),l=this.bilinearCubeUV(e,this.value,n,a),c=this.bilinearCubeUV(e,this.value,n,new ra(a,new it(1).setReadonly(!0),ra.ADD)),d=new zt(l,c,s,zt.MIX);return e.format(d.build(e),"v4",t)}else return console.warn("TextureCubeUVNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t)}},ZD=Dv;ZD.Nodes=function(){let e=new Rj(`struct TextureCubeUVData {
			vec4 tl;
			vec4 tr;
			vec4 br;
			vec4 bl;
			vec2 f;
		}`),t=new Xn("float cubeUV_maxMipLevel 8.0",!0),n=new Xn("float cubeUV_minMipLevel 4.0",!0),i=new Xn("float cubeUV_maxTileSize 256.0",!0),r=new Xn("float cubeUV_minTileSize 16.0",!0),o=new Ze(`float getFace(vec3 direction) {
				vec3 absDirection = abs(direction);
				float face = -1.0;
				if (absDirection.x > absDirection.z) {
					if (absDirection.x > absDirection.y)
						face = direction.x > 0.0 ? 0.0 : 3.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				} else {
					if (absDirection.z > absDirection.y)
						face = direction.z > 0.0 ? 2.0 : 5.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				}
				return face;
		}`);o.useKeywords=!1;let a=new Ze(`vec2 getUV(vec3 direction, float face) {
				vec2 uv;
				if (face == 0.0) {
					uv = vec2(direction.z, direction.y) / abs(direction.x); // pos x
				} else if (face == 1.0) {
					uv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y
				} else if (face == 2.0) {
					uv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z
				} else if (face == 3.0) {
					uv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x
				} else if (face == 4.0) {
					uv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y
				} else {
					uv = vec2(direction.x, direction.y) / abs(direction.z); // neg z
				}
				return 0.5 * (uv + 1.0);
		}`);a.useKeywords=!1;let s=new Ze(`TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
			float face = getFace(direction);
			float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
			mipInt = max(mipInt, cubeUV_minMipLevel);
			float faceSize = exp2(mipInt);
			float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
			vec2 uv = getUV(direction, face) * (faceSize - 1.0);
			vec2 f = fract(uv);
			uv += 0.5 - f;
			if (face > 2.0) {
				uv.y += faceSize;
				face -= 3.0;
			}
			uv.x += face * faceSize;
			if(mipInt < cubeUV_maxMipLevel){
				uv.y += 2.0 * cubeUV_maxTileSize;
			}
			uv.y += filterInt * 2.0 * cubeUV_minTileSize;
			uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
			uv *= texelSize;
			vec4 tl = texture2D(envMap, uv);
			uv.x += texelSize;
			vec4 tr = texture2D(envMap, uv);
			uv.y += texelSize;
			vec4 br = texture2D(envMap, uv);
			uv.x -= texelSize;
			vec4 bl = texture2D(envMap, uv);
			return TextureCubeUVData( tl, tr, br, bl, f );
		}`,[e,o,a,t,n,i,r]);s.useKeywords=!1;let l=new Xn("float r0 1.0",!0),c=new Xn("float v0 0.339",!0),d=new Xn("float m0 -2.0",!0),u=new Xn("float r1 0.8",!0),h=new Xn("float v1 0.276",!0),p=new Xn("float m1 -1.0",!0),m=new Xn("float r4 0.4",!0),g=new Xn("float v4 0.046",!0),v=new Xn("float m4 2.0",!0),b=new Xn("float r5 0.305",!0),_=new Xn("float v5 0.016",!0),C=new Xn("float m5 3.0",!0),M=new Xn("float r6 0.21",!0),P=new Xn("float v6 0.0038",!0),x=new Xn("float m6 4.0",!0),E=[l,c,d,u,h,p,m,g,v,b,_,C,M,P,x],O=new Ze(`float roughnessToMip(float roughness) {
			float mip = 0.0;
			if (roughness >= r1) {
				mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
			} else if (roughness >= r4) {
				mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
			} else if (roughness >= r5) {
				mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
			} else if (roughness >= r6) {
				mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
			} else {
				mip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25
			}
			return mip;
		}`,E);return{bilinearCubeUV:s,roughnessToMip:O,m0:d,cubeUV_maxMipLevel:t}}();var uf=class extends Kn{constructor(e){super("v3"),this.nodeType="Normal",this.scope=e??uf.VIEW}getShared(){return this.scope===uf.WORLD}build(e,t,n,i){let r=e.context[this.scope+"Normal"];return r?r.build(e,t,n,i):super.build(e,t,n)}generate(e,t,n,i,r){let o;switch(this.scope){case uf.VIEW:e.isShader("vertex")?o="transformedNormal":o="geometryNormal";break;case uf.LOCAL:e.isShader("vertex")?o="objectNormal":(e.requires.normal=!0,o="vObjectNormal");break;case uf.WORLD:e.isShader("vertex")?o="inverseTransformDirection( transformedNormal, viewMatrix ).xyz":(e.requires.worldNormal=!0,o="vWNormal");break}return e.format(o,this.getType(e),t)}},ca=uf;ca.LOCAL="local",ca.WORLD="world",ca.VIEW="view",ca.NORMAL="normal";sa.addKeyword("viewNormal",function(){return new ca(ca.VIEW)});sa.addKeyword("localNormal",function(){return new ca(ca.NORMAL)});sa.addKeyword("worldNormal",function(){return new ca(ca.WORLD)});var Lc=class extends Kn{constructor(e){super("v3"),this.nodeType="Position",this.scope=e??Lc.LOCAL}getType(){switch(this.scope){case Lc.PROJECTION:return"v4"}return this.type}getShader(){switch(this.scope){case Lc.LOCAL:case Lc.WORLD:return!1}return!0}generate(e,t,n,i,r){let o;switch(this.scope){case Lc.LOCAL:e.isShader("vertex")?o="transformed":(e.requires.position=!0,o="vPosition");break;case Lc.WORLD:if(e.isShader("vertex"))return"( modelMatrix * vec4( transformed, 1.0 ) ).xyz";e.requires.worldPosition=!0,o="vWPosition";break;case Lc.VIEW:o=e.isShader("vertex")?"-mvPosition.xyz":"vViewPosition";break;case Lc.PROJECTION:o=e.isShader("vertex")?"( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )":"vec4( 0.0 )";break}return e.format(o,this.getType(),t)}},Hs=Lc;Hs.LOCAL="local",Hs.WORLD="world",Hs.VIEW="view",Hs.PROJECTION="projection";sa.addKeyword("position",function(){return new Hs});sa.addKeyword("worldPosition",function(){return new Hs(Hs.WORLD)});sa.addKeyword("viewPosition",function(){return new Hs(Hs.VIEW)});var Il=class extends Kn{constructor(e){super("v3"),this.nodeType="Reflect",this.scope=e??Il.CUBE}getUnique(e){return!e.context.viewNormal}getType(){switch(this.scope){case Il.SPHERE:return"v2"}return this.type}generate(e,t){let n=this.getUnique(e);if(e.isShader("fragment")){let i;switch(this.scope){case Il.VECTOR:{let r=new ca(ca.VIEW),o=e.context.roughness,a=r.build(e,"v3"),s=new Hs(Hs.VIEW).build(e,"v3"),l=o?o.build(e,"f"):void 0,c=`reflect( -normalize( ${s} ), ${a} )`;l&&(c=`normalize( mix( ${c}, ${a}, ${l} * ${l} ) )`);let d=`inverseTransformDirection( ${c}, viewMatrix )`;n?(e.addNodeCode(`vec3 reflectVec = ${d};`),i="reflectVec"):i=d;break}case Il.CUBE:{let r=new Il(Il.VECTOR).build(e,"v3"),o="vec3( -"+r+".x, "+r+".yz )";n?(e.addNodeCode(`vec3 reflectCubeVec = ${o};`),i="reflectCubeVec"):i=o;break}case Il.SPHERE:{let r="normalize( ( viewMatrix * vec4( "+new Il(Il.VECTOR).build(e,"v3")+", 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5";n?(e.addNodeCode(`vec2 reflectSphereVec = ${r};`),i="reflectSphereVec"):i=r;break}}return e.format(i,this.getType(),t)}else return console.warn("ReflectNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.type,t)}},Df=Il;Df.CUBE="cube",Df.SPHERE="sphere",Df.VECTOR="vector";var __e=class extends Kn{constructor(e=new Hc,t,n){super("v4"),this.nodeType="TextureCube",this.value=e,this.radianceNode=new ZD(this.value,t??new Df(Df.VECTOR),n),this.irradianceNode=new ZD(this.value,new ca(ca.WORLD),new it(1).setReadonly(!0))}generate(e,t){return e.isShader("fragment")?(e.require("irradiance"),e.context.bias&&e.context.bias.setTexture(this.value),(e.slot==="irradiance"?this.irradianceNode:this.radianceNode).build(e,t)):(console.warn("TextureCubeNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t))}},C_e=class extends ha{constructor(e=new RA,t,n){super("v4",{shared:!0}),this.nodeType="CubeTexture",this.value=e,this.uv=t??new Df,this.bias=n}getTexture(e,t){return super.generate(e,t,this.value.uuid,"tc")}generate(e,t){if(t==="samplerCube")return this.getTexture(e,t);let n=this.getTexture(e,t),i=this.uv?.build(e,"v3"),r=this.bias?this.bias.build(e,"f"):void 0;r===void 0&&e.context.bias&&(r=e.context.bias.setTexture(this).build(e,"f"));let o;r?o="texCubeBias( "+n+", "+i+", "+r+" )":o="texCube( "+n+", "+i+" )";let a={include:e.isShader("vertex"),ignoreCache:!0},s=this.getType(e);return e.addContext(a),this.colorSpace=this.colorSpace??new Vl(new di("",s)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(o),o=this.colorSpace.build(e,s),e.removeContext(),e.format(o,s,t)}},M_e=`
uniform int frameIndex;
uniform vec2 resolution;
uniform mat4 previousModelViewMatrix;
uniform mat4 previousProjectionMatrix;

varying vec4 vCurrentPosition;
varying vec4 vPreviousPosition;
`,w_e=`
layout(location = 1) out vec4 gVelocity;

uniform int frameIndex;
uniform vec2 resolution;

varying vec4 vCurrentPosition;
varying vec4 vPreviousPosition;

const vec2 haltonSequence[16] = vec2[16](
vec2( 0.000000,-0.333334),
vec2(-0.500000, 0.333334),
vec2( 0.500000,-0.777778),
vec2(-0.750000,-0.111112),
vec2( 0.250000, 0.555556),
vec2(-0.250000,-0.555556),
vec2( 0.750000, 0.111112),
vec2(-0.875000, 0.777778),
vec2(0.125000, -0.925926),
vec2(-0.375000, -0.259260),
vec2(0.625000, 0.407408),
vec2(-0.625000, -0.703704),
vec2(0.375000, -0.037038),
vec2(-0.125000, 0.629630),
vec2(0.875000, -0.481482),
vec2(-0.937500, 0.185186));

vec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {
  const float goldenAngle = 2.399963f; // radians
  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));
  float theta = float(sampleIndex) * goldenAngle + angle;
  float sine = sin(theta);
  float cosine = cos(theta);
  return vec2(cosine, sine) * r;
}

// Derived from the interleaved gradient function from Jimenez 2014 http:goo.gl/eomGso
float getNoiseInterleavedGradient(vec2 screenPos) {
    vec3 magic = vec3(0.06711056f, 0.00583715f, 52.9829189f);
    return fract(magic.z * fract(dot(screenPos, magic.xy)));
}

`,x_e=`
// TODO: This could be generated CPU side and passed to the shader every frame
const vec2 haltonSequence[16] = vec2[16](
vec2( 0.000000,-0.333334),
vec2(-0.500000, 0.333334),
vec2( 0.500000,-0.777778),
vec2(-0.750000,-0.111112),
vec2( 0.250000, 0.555556),
vec2(-0.250000,-0.555556),
vec2( 0.750000, 0.111112),
vec2(-0.875000, 0.777778),
vec2(0.125000, -0.925926),
vec2(-0.375000, -0.259260),
vec2(0.625000, 0.407408),
vec2(-0.625000, -0.703704),
vec2(0.375000, -0.037038),
vec2(-0.125000, 0.629630),
vec2(0.875000, -0.481482),
vec2(-0.937500, 0.185186));

// TODO: Pass correct view size
vec2 offset = haltonSequence[frameIndex];
offset.x /= resolution.x;
offset.y /= resolution.y;

vec4 currentPosition = gl_Position;
vec4 currentPositionJittered = currentPosition + (vec4(offset.x, offset.y, 0.0, 0.0) * currentPosition.w);

// We want to calculate the velocity with unjittered positions
// so that things that are not moving get a velocity = 0
vCurrentPosition = currentPosition;
vPreviousPosition = previousProjectionMatrix * previousModelViewMatrix * vec4(transformed, 1.0);
#ifdef OUTLINE_COMPENSATION
vPreviousPosition.xy += OUTLINE_COMPENSATION;
#endif
gl_Position = currentPositionJittered;

`,P_e=`
vec2 oldPos = vPreviousPosition.xy;
    oldPos /= vPreviousPosition.w;
    oldPos.xy = (oldPos.xy+1.)/2.0;

vec2 newPos = vCurrentPosition.xy;
    newPos /= vCurrentPosition.w;
    newPos.xy = (newPos.xy+1.)/2.0;

vec2 velocity = (newPos - oldPos);

// Discard fully transparent pixels 
if (gl_FragColor.a <= 0.0) discard;

gVelocity = vec4(velocity, 0.0, 1.0);
`,O_e=`
layout(location = 1) out vec4 gVelocity;
`,S_e=`
    // Discard fully transparent pixels 
    if (gl_FragColor.a <= 0.0) discard;

    gVelocity = vec4(0.0, 0.0, 0.0, 1.0);
`,Iz=["x","y","z","w"],E_e=["float","vec2","vec3","vec4"],D_e={float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat4:"v4",int:"i",bool:"b","float[]":"f[]","vec4[]":"v4[]"},A_e={t:"sampler2D",tc:"samplerCube",b:"bool",i:"int",f:"float",c:"vec3",v2:"vec2",v3:"vec3",v4:"vec4",m3:"mat3",m4:"mat4","f[]":"float[]","v4[]":"vec4[]"},kj=class{constructor(){this.includes={consts:{},functions:{},structs:{}},this.cache="",this.slot="",this.shader="",this.context={},this.needsJitter=!0,this.getIncludesCode=function(){function e(t,n){return t.deps.length-n.deps.length}return function(t,n){let i=this.getIncludes(t,n);if(!i)return"";let r="";i=i.sort(e);for(let o=0;o<i.length;o++)i[o].src&&(r+=i[o].src+`
`);return r}}(),this.slots=[],this.caches=[],this.contexts=[],this.keywords={},this.nodeData={},this.fragmentVariables={},this.fragmentParsVariables={},this.vertexParsVariables={},this.requires={uv:[],color:[],transparent:!1,irradiance:!1,position:!1,worldPosition:!1,normal:!1,worldNormal:!1,vWorldViewDir:!1,modelMatrix:!1,viewMatrix:!1,projectionMatrix:!1},this.includes={consts:[],functions:[],structs:[]},this.attributes={},this.prefixCode=["#ifdef TEXTURE_LOD_EXT","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)","#else","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCube(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2D(a, b, c)","#endif",`
			// NOTE: Include Spline's blending modes. This could be part of BlendNode
			#define SPE_BLENDING_NORMAL 0
			#define SPE_BLENDING_MULTIPLY 1
			#define SPE_BLENDING_SCREEN 2
			#define SPE_BLENDING_OVERLAY 3

			vec3 spe_normalBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, b, alpha );
			}

			vec3 spe_multiplyBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, a * b, alpha );
			}

			vec3 spe_screenBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = 1.0 - ( 1.0 - a ) * ( 1.0 - b );
				return mix( a, tmp, alpha );
			}

			vec3 spe_overlayBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = mix( 1. - 2. * (1. - a) * (1. - b), 2. * a * b, step( a, vec3(.5) ) );
				return clamp( mix( a, tmp, alpha ), 0.0, 1.0 );
			}

			vec3 spe_blend( vec3 a, vec3 b, float alpha, int mode ) {
				if ( mode == SPE_BLENDING_NORMAL ) return spe_normalBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_MULTIPLY ) return spe_multiplyBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_SCREEN ) return spe_screenBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_OVERLAY ) return spe_overlayBlend( a, b, alpha );
				return vec3( 1.0 );
			}
			`,"#include <packing>","#include <common>"].join(`
`),this.parsCode={vertex:["float neighbor_offset = 0.0001;",""].join(`
`),fragment:["float accumAlpha = 0.0;",`void accumulateAlpha(float alpha) {
					accumAlpha += (1.0 - accumAlpha) * alpha;
				}`,""].join(`
`)},this.code={vertex:"",fragment:""},this.nodeCode={vertex:"",fragment:""},this.resultCode={vertex:"",fragment:""},this.finalCode={vertex:"",fragment:""},this.inputs={uniforms:{list:[],vertex:[],fragment:[]},arrayUniforms:{list:[],vertex:[],fragment:[]},vars:{varying:[],vertex:[],fragment:[]}},this.defines={},this.uniforms={},this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.updaters=[],this.nodes=[],this.analyzing=!1}build(e,t){this.addVertexParsCode(M_e),this.addFragmentParsCode(w_e),this.buildShader("vertex",e),this.buildShader("fragment",t);for(let n=0;n<this.requires.uv.length;n++)if(this.requires.uv[n]){let i=n>0?n+1:"";this.addVaryCode("varying vec2 vUv"+i+";"),n>0&&this.addVertexParsCode("attribute vec2 uv"+i+";"),this.addVertexFinalCode("vUv"+i+" = uv"+i+";")}return this.requires.color[0]&&(this.addVaryCode("varying vec4 vColor;"),this.addVertexParsCode("attribute vec4 color;"),this.addVertexFinalCode("vColor = color;")),this.requires.color[1]&&(this.addVaryCode("varying vec4 vColor2;"),this.addVertexParsCode("attribute vec4 color2;"),this.addVertexFinalCode("vColor2 = color2;")),this.requires.position&&(this.addVaryCode("varying vec3 vPosition;"),this.addVertexFinalCode("vPosition = transformed;")),this.requires.worldPosition,this.requires.normal&&(this.addVaryCode("varying vec3 vObjectNormal;"),this.addVertexFinalCode("vObjectNormal = normal;")),this.requires.modelMatrix&&this.addFragmentParsCode("uniform mat4 modelMatrix;"),this.requires.viewMatrix&&this.addFragmentParsCode("uniform mat4 viewMatrix;"),this.requires.projectionMatrix&&this.addFragmentParsCode("uniform mat4 projectionMatrix;"),this.requires.worldNormal&&(this.addVaryCode("varying vec3 vWNormal;"),this.addVertexFinalCode("vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;")),this.requires.vWorldViewDir&&(this.addVaryCode("varying vec3 vWorldViewDir;"),this.addVertexFinalCode("vWorldViewDir = isPerspectiveMatrix( projectionMatrix ) ?  ( (modelMatrix * vec4(position, 1.0)).xyz - cameraPosition ) : vec3( -viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2] );")),this.needsJitter&&(this.addVertexFinalCode(x_e),this.addFragmentFinalCode(P_e)),this}buildShader(e,t){this.resultCode[e]=t.build(this.setShader(e),"v4")}setMaterial(e,t){return this.defines={},this}addFlow(e,t,n){return this.addSlot(e).addCache(t).addContext(n)}removeFlow(){return this.removeSlot().removeCache().removeContext()}addCache(e){return this.cache=e??"",this.caches.push(this.cache),this}removeCache(){return this.caches.pop(),this.cache=this.caches[this.caches.length-1]||"",this}addContext(e){return this.context=Object.assign({},this.context,e),this.context.extra=this.context.extra||{},this.contexts.push(this.context),this}removeContext(){return this.contexts.pop(),this.context=this.contexts[this.contexts.length-1]||{},this}addSlot(e){return this.slot=e||"",this.slots.push(this.slot),this}removeSlot(){return this.slots.pop(),this.slot=this.slots[this.slots.length-1]||"",this}addFragmentVariable(e,t){this.fragmentVariables[e]===void 0&&(this.addFragmentCode(`${t} ${e};`),this.fragmentVariables[e]="")}addFragmentParsVariable(e,t){this.fragmentParsVariables[e]===void 0&&(this.addFragmentParsCode(`${t} ${e};`),this.fragmentParsVariables[e]="")}addVertexParsVariable(e,t){this.vertexParsVariables[e]===void 0&&(this.addVertexParsCode(`${t} ${e};`),this.vertexParsVariables[e]="")}addVertexCode(e){this.addCode(e,"vertex")}addFragmentCode(e){this.addCode(e,"fragment")}addCode(e,t){this.code[t??this.shader]+=e+`
`}addVertexNodeCode(e){this.addNodeCode(e,"vertex")}addFragmentNodeCode(e){this.addNodeCode(e,"fragment")}addNodeCode(e,t){this.nodeCode[t??this.shader]+=e+`
`}clearNodeCode(e){e=e??this.shader;let t=this.nodeCode[e];return this.nodeCode[e]="",t}clearVertexNodeCode(){return this.clearNodeCode("vertex")}clearFragmentNodeCode(){return this.clearNodeCode("fragment")}addVertexFinalCode(e){this.addFinalCode(e,"vertex")}addFragmentFinalCode(e){this.addFinalCode(e,"fragment")}addFinalCode(e,t){this.finalCode[t??this.shader]+=e+`
`}addVertexParsCode(e){this.addParsCode(e,"vertex")}addFragmentParsCode(e){this.addParsCode(e,"fragment")}addParsCode(e,t){this.parsCode[t??this.shader]+=e+`
`}addVaryCode(e){this.addVertexParsCode(e),this.addFragmentParsCode(e)}isCache(e){return this.caches.indexOf(e)!==-1}isSlot(e){return this.slots.indexOf(e)!==-1}define(e,t){this.defines[e]=t===void 0?1:t}require(e){this.requires[e]=!0}isDefined(e){return this.defines[e]!==void 0}getVar(e,t,n,i="varying",r="V",o=""){let a=this.getVars(i),s=a[e];if(!s){let l=a.length;s={name:n||"node"+r+l+(o?"_"+o:""),type:t},a.push(s),a[e]=s}return s}getTempVar(e,t,n,i){return this.getVar(e,t,n,this.shader,"T",i)}getAttribute(e,t){if(!this.attributes[e]){let n=this.getVar(e,t);this.addVertexParsCode("attribute "+t+" "+e+";"),this.addVertexFinalCode(n.name+" = "+e+";"),this.attributes[e]={varying:n,name:e,type:t}}return this.attributes[e]}getCode(e){return[this.prefixCode,this.parsCode[e],this.getVarListCode(this.getVars("varying"),"varying"),this.getVarListCode(this.inputs.uniforms[e],"uniform"),this.getVarListCode(this.inputs.arrayUniforms[e],"uniform"),this.getIncludesCode("consts",e),this.getIncludesCode("structs",e),this.getIncludesCode("functions",e),"void main() {",this.getVarListCode(this.getVars(e)),this.code[e],this.resultCode[e],this.finalCode[e],"}"].join(`
`)}getVarListCode(e,t){t=t??"";let n="";for(let i=0,r=e.length;i<r;++i){let o=e[i],a=o.type,s=o.name,l=o.size,c=this.getFormatByType(a);if(c===void 0)throw new Error("Node pars "+c+" not found.");c.includes("[]")?n+=t+" "+c.substring(0,c.length-2)+" "+s+`[${l}];
`:n+=t+" "+c+" "+s+`;
`}return n}getVars(e){return this.inputs.vars[e??this.shader]}getNodeData(e){let t=e instanceof pr?e.uuid:e;return this.nodeData[t]=this.nodeData[t]||{}}createUniform(e,t,n,i,r,o){if(t.includes("[]")){let a=this.inputs.arrayUniforms,s=a.list.length,l=new Dz({type:t,size:n.size,name:i||"nodeUA"+s+(o?"_"+o:""),node:n,needsUpdate:r});return a.list.push(l),a[e].push(l),a[e][l.name]=l,this.uniforms[l.name]=l,l}else{let a=this.inputs.uniforms,s=a.list.length,l=new Dz({type:t,name:i||"nodeU"+s+(o?"_"+o:""),node:n,needsUpdate:r});return a.list.push(l),a[e].push(l),a[e][l.name]=l,this.uniforms[l.name]=l,l}}createVertexUniform(e,t,n,i,r){return this.createUniform("vertex",e,t,n,i,r)}createFragmentUniform(e,t,n,i,r){return this.createUniform("fragment",e,t,n,i,r)}include(e,t,n){let i;if(e=typeof e=="string"?sa.get(e):e,this.context.include===!1)return e.name;e instanceof Ze?i=this.includes.functions:e instanceof Xn?i=this.includes.consts:e instanceof Rj&&(i=this.includes.structs);let r=i[this.shader]=i[this.shader]||[];if(e){let o=r[e.name];if(o||(o=r[e.name]={node:e,deps:[]},r.push(o),o.src=e.build(this,"source")),e instanceof Ze&&t&&r[t.name]&&r[t.name].deps.indexOf(e)===-1&&(r[t.name].deps.push(e),e.includes?.length)){let a=0;do this.include(e.includes[a++],t);while(a<e.includes.length)}return n&&(o.src=n),e.name}else throw new Error("Include not found.")}colorToVectorProperties(e){return e.replace("r","x").replace("g","y").replace("b","z").replace("a","w")}colorToVector(e){return e.replace(/c/g,"v3")}getIncludes(e,t){return this.includes[e][t||this.shader]}getConstructorFromLength(e){return E_e[e-1]}isTypeMatrix(e){return/^m/.test(e)}getTypeLength(e){return e==="f"?1:parseInt(this.colorToVector(e).substr(1))}getTypeFromLength(e){return e===1?"f":"v"+e}findNode(...e){for(let t=0;t<arguments.length;t++){let n=e[t];if(n?.isNode)return n}}resolve(...e){for(let t=0;t<arguments.length;t++){let n=e[t];if(n!==void 0){if(n.isNode)return n;if(n.isTexture)switch(n.mapping){case $h:case Kh:return new C_e(n);case gy:return new __e(new Hc(n));default:return new Hc(n)}else{if(n.isVector2)return new qr(n);if(n.isVector3)return new ds(n);if(n.isVector4)return new Nc(n)}}}}format(e,t,n){switch(this.colorToVector(n+" <- "+t)){case"f <- v2":return e+".x";case"f <- v3":return e+".x";case"f <- v4":return e+".x";case"f <- i":case"f <- b":return"float( "+e+" )";case"v2 <- f":return"vec2( "+e+" )";case"v2 <- v3":return e+".xy";case"v2 <- v4":return e+".xy";case"v2 <- i":case"v2 <- b":return"vec2( float( "+e+" ) )";case"v3 <- f":return"vec3( "+e+" )";case"v3 <- v2":return"vec3( "+e+", 0.0 )";case"v3 <- v4":return e+".xyz";case"v3 <- i":case"v3 <- b":return"vec2( float( "+e+" ) )";case"v4 <- f":return"vec4( "+e+" )";case"v4 <- v2":return"vec4( "+e+", 0.0, 1.0 )";case"v4 <- v3":return"vec4( "+e+", 1.0 )";case"v4 <- i":case"v4 <- b":return"vec4( float( "+e+" ) )";case"i <- f":case"i <- b":return"int( "+e+" )";case"i <- v2":return"int( "+e+".x )";case"i <- v3":return"int( "+e+".x )";case"i <- v4":return"int( "+e+".x )";case"b <- f":return"( "+e+" != 0.0 )";case"b <- v2":return"( "+e+" != vec2( 0.0 ) )";case"b <- v3":return"( "+e+" != vec3( 0.0 ) )";case"b <- v4":return"( "+e+" != vec4( 0.0 ) )";case"b <- i":return"( "+e+" != 0 )"}return e}getTypeByFormat(e){return D_e[e]||e}getFormatByType(e){return A_e[e]||e}getUUID(e,t){return t=t!==void 0?t:!0,t&&this.cache&&(e=this.cache+"-"+e),e}getElementByIndex(e){return Iz[e]}getIndexByElement(e){return Iz.indexOf(e)}isShader(e){return this.shader===e}setShader(e){return this.shader=e,this}mergeDefines(e){for(let t in e)this.defines[t]=e[t];return this.defines}mergeUniform(e){for(let t in e)this.uniforms[t]=e[t];return this.uniforms}getTextureEncodingFromMap(e){let t;return e?e.isTexture&&(t=e.encoding):t=Xs,t===Xs&&this.context.gamma&&(t=jt),t}},Li=class extends ha{constructor(e=0,t,n,i){super("c"),this.nodeType="Color",this.value=e instanceof Kr?e:new Kr(e||0,t,n,i)}setRGBA(e){this.value.setRGBA(e.r,e.g,e.b,e.a)}generate(e,t,n,i,r,o){n=e.getUUID(n??this.getUUID()),i=i??this.getType(e);let a=e.getNodeData(n),s=this.getReadonly()&&this.generateReadonly!==void 0;if(this.alpha){let l=this.alpha.build(e,"f");e.addFragmentNodeCode(`accumAlpha += ( 1.0 - accumAlpha ) * ${l};`)}return s?this.generateReadonly(e,t,n,i,r,o):e.isShader("vertex")?(a.vertex||(a.vertex=e.createVertexUniform(i,this,r,o,this.getLabel())),e.format(a.vertex.name,i,t)):(a.fragment||(a.fragment=e.createFragmentUniform(i,this,r,o,this.getLabel())),e.format(a.fragment.name,i,t))}generateReadonly(e,t,n,i,r,o){return e.format("vec3("+this.value.r+", "+this.value.g+", "+this.value.b+")",i,t)}},ni=class extends ha{constructor(e){super("i"),this.nodeType="Int",this.value=Math.floor(e??0)}generateReadonly(e,t,n,i,r,o){return e.format(this.value.toString(),i,t)}},Bo=class extends ha{constructor(e){super("b"),this.nodeType="Bool",this.value=e??!1}generateReadonly(e,t,n,i){return e.format(this.value?"true":"false",i,t)}},Eh=class extends ha{constructor(e=1,t){super("f[]"),this.nodeType="FloatArray",this.size=e,this.value=Array.isArray(t)?t:typeof t=="number"?new Array(e).fill(t):new Array(e).fill(0)}},IT=class extends ha{},T_e=class extends IT{constructor(e){super("v3"),this.image=e,this._value=new L}get value(){return this._value.x=this.image.isVideo?this.image.img.videoWidth??0:this.image.img.width,this._value.y=this.image.isVideo?this.image.img.videoHeight??0:this.image.img.height,this._value}},$D=class extends IT{constructor(e,t,n=1008){super("t"),this.image=e,this.wrap=t,this.minFilter=n}get value(){return this.image.getTexture(this.wrap,this.minFilter)}},Fj=class extends ha{constructor(e){super("m3"),this.nodeType="Matrix3",this.value=e??new fr}generateReadonly(e,t,n,i,r,o){return e.format("mat3("+this.value.elements.join(", ")+")",i,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}},Zl=class extends ha{constructor(e){super("m4"),this.nodeType="Matrix4",this.value=e??new Be}generateReadonly(e,t,n,i,r,o){return e.format("mat4("+this.value.elements.join(", ")+")",i,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}};function Rz(e,t,n,i=0){e.setUvTransform(n[0],n[1],t[0],t[1],0,0,0).premultiply(new fr().makeRotation(i*et.DEG2RAD))}var I_e=class extends Fj{constructor(e,t,n=0){super(new fr),this.repeat=e,this.offset=t,this.rotation=n,Rz(this.value,e,t,n)}updateMatrix(){Rz(this.value,this.repeat,this.offset,this.rotation)}},Dh=class extends ha{constructor(e=1,t){super("v4[]"),this.nodeType="Vector4Array",this.size=e,this.value=Array.isArray(t)?t:t instanceof Et?new Array(e).fill(t):new Array(e).fill(new Et(0))}},Lz=class extends Kn{constructor(e,t,n,i){super("v3"),this.nodeType="Blend",this.a=e,this.b=t,this.alpha=n,this.mode=i}generate(e,t){if(e.isShader("fragment")){let n=[];return n.push(this.a.build(e,"c")),n.push(this.b.build(e,"c")),n.push(this.alpha.build(e,"f")),n.push(this.mode.build(e,"i")),e.format("spe_blend("+n.join(",")+")",this.getType(e),t)}else return console.warn("BlendNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Nj=class extends Kn{constructor(e,t){super("v3"),this.nodeType="CustomColor",this.color=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let n=e.include(Nj.Nodes.customColor);e.addFragmentVariable(this.calpha,"float");let i=[];return i.push(this.color.build(e,"v3")),i.push(this.mask?`luminance(${this.mask.build(e,"v3")})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("CustomColorNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},KD=Nj;KD.Nodes=function(){return{customColor:new Ze(`vec3 customColor(vec3 color, float mask, float alpha, out float calpha) {
				float lalpha = alpha * mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;

				return color;
			}`)}}();var zj=class extends Kn{constructor(e,t){super("v3"),this.nodeType="CustomNormal",this.cnormal=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let n=e.include(zj.Nodes.customNormal);e.addFragmentVariable(this.calpha,"float");let i=[];return i.push(this.cnormal.build(e,"v3")),i.push("normal"),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("CustomNormalNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Bj=zj;Bj.Nodes=function(){return{customNormal:new Ze(`vec3 customNormal(vec3 cnormal, vec3 norm, float mask, float alpha, out float calpha) {
				vec3 normal = packNormalToRGB( norm ).rgb;
				normal *= step( vec3(0.5), cnormal );

				float lalpha = alpha * mask;
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * lalpha;

				return normal;
			}`)}}();var Av=class extends Kn{constructor(e,t,n,i,r,o,a,s,l,c,d,u){super("v3"),this.nodeType="CustomTexture",this.texture=e,this.textureSize=t,this.crop=n,this.projection=i,this.axis=r,this.side=o,this.size=a,this.blending=s,this.mat=l,this.isMask=u,this.alpha=c,this.mode=d,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){e.require("position"),e.require("normal"),e.require("uv"),e.requires.uv=[!0],e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0;let n=`g${this.uuid.toString().replace(/-/g,"")}`,i;switch(this.projection.value){case 3:i=e.include(Av.Nodes.cylindrical);break;case 2:i=e.include(Av.Nodes.spherical);break;case 1:let o=["vec3(1.0, 0.0, 0.0)","vec3(0.0, 1.0, 0.0)","vec3(0.0, 0.0, 1.0)"][this.axis.value],a=["zy","xz","xy"][this.axis.value],s=new Ze(`
		vec3 ${n}_planarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
				vec2 projected = (1. + (position.${a})) / 2.;
				vec2 uvs = ( mat * vec3( (projected * 2. - 1.) / (size * .5), 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				${this.side.value===2?"":`lalpha *= step(0.0, ${this.side.value===1?"-1.0 * ":""}dot(vObjectNormal, ${o}));`}

				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				
				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}`);i=e.include(s);break;case 4:i=e.include(Av.Nodes.triplanar);break;default:i=e.include(Av.Nodes.uv);break}e.addFragmentVariable(this.calpha,"float");let r=[];if(r.push("normal"),r.push(this.texture.generate(e,"t")),r.push(this.textureSize.build(e,"v2")),r.push(this.crop.build(e,"f")),r.push(this.mat.build(e,"mat3")),r.push(this.size.build(e,"v2")),r.push(this.blending.build(e,"f")),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),r.push(this.calpha),this.projection.value===4){let o=`${n}_writeUvs`,a=o+"0",s=o+"1",l=o+"2",c=`${n}_triplanarWeights`;e.addFragmentVariable(a,"vec2"),e.addFragmentVariable(s,"vec2"),e.addFragmentVariable(l,"vec2"),e.addFragmentVariable(c,"vec3"),r.push(a),r.push(s),r.push(l),r.push(c)}else{let o=`${n}_writeUvs`;e.addFragmentVariable(o,"vec2"),r.push(o)}return e.format(i+"("+r.join(",")+")",this.getType(e),t)}},RT=Av;RT.Nodes=function(){let e=new Ze(`
vec3 cylindricalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
                vec3 posN = normalize(position);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float scaledHeight = position.y / (size.y * 0.5);
                float v =  (scaledHeight / 2.) + .5;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;

				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;
				
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}
`),t=new Ze(`
vec3 sphericalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
                vec3 posN = normalize(vPosition);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float v = 0.5 + asin(posN.y) / 3.1415;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;
				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}
`),n=new Ze(`vec3 uvTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
				vec2 uvs = ( mat * vec3( vUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;

				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				
				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}`),i=new Ze(`vec3 triplanarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUvs0, out vec2 writeUvs1, out vec2 writeUvs2, out vec3 writeWeights) {
				vec3 p = position;
				vec2 uv0 = (1.0 + p.xy) / 2.0;     
				vec2 uv1 = (1.0 + p.zy) / 2.0;		
				vec2 uv2 = (1.0 + p.xz) / 2.0;		
	
				uv0 = (mat * vec3((uv0 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;
				uv1 = (mat * vec3((uv1 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;
				uv2 = (mat * vec3((uv2 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;

				// Range from 3 to 128 seems to be good
				float exponent = (1.0 - blending) * 125.0 + 3.0;

				vec3 n = vObjectNormal;
				vec3 weights = abs(normalize(n));
				weights = pow(weights, vec3(exponent));
				weights /= dot(weights, vec3(1.0));

				// Write out all sets of UVs that we generated
				writeUvs0 = uv0;
				writeUvs1 = uv1;
				writeUvs2 = uv2;
				writeWeights = weights;

				// Derivatives for LOD
				vec2 df0 = fwidth(uv0);
				vec2 df1 = fwidth(uv1);
				vec2 df2 = fwidth(uv2);
				if (df0.x > 0.5) df0.x = 0.0;
				if (df1.x > 0.5) df1.x = 0.0;
				if (df2.x > 0.5) df2.x = 0.0;

				#ifdef GL_EXT_shader_texture_lod
                	vec4 tmp = 
						texture2DLodEXT(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + 
						texture2DLodEXT(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + 
						texture2DLodEXT(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;
				#else
                	vec4 tmp = 
						textureLod(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + 
						textureLod(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + 
						textureLod(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;

				// Apply cropping across all 3 planes
				if ( crop > 0.5 ) {
					if ( uv0.x < 0.0 || uv0.x > 1.0 || uv0.y < 0.0 || uv0.y > 1.0 )  {
						lalpha = 0.0;
					}
					if ( uv1.x < 0.0 || uv1.x > 1.0 || uv1.y < 0.0 || uv1.y > 1.0 )  {
						lalpha = 0.0;
					}
					if ( uv2.x < 0.0 || uv2.x > 1.0 || uv2.y < 0.0 || uv2.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;//n * 0.5 + 0.5;
			}			
			`);return{cylindrical:e,spherical:t,uv:n,triplanar:i}}();var Tv=class extends Kn{constructor(e,t,n,i,r,o,a,s,l,c,d,u){super("v3"),this.nodeType="Depth",this.gradientType=e,this.smooth=t,this.near=n,this.far=i,this.isVector=r,this.isWorldSpace=o,this.origin=a,this.direction=s,this.colors=l,this.steps=c,this.isMask=u,this.alpha=d,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let n=`g${this.uuid.toString().replace(/-/g,"")}`,i=new Ze(`vec3 ${n}_sdepth(float near, float far, vec3 origin, vec3 direction, vec4 colors[${n}_MAX_COLORS], float steps[${n}_MAX_COLORS], bool isMask, float mask, float alpha, out float calpha) {
               vec4 color = colors[0];
               #ifdef ${n}_IS_VECTOR
                   #ifdef ${n}_LINEAR
                       #ifdef ${n}_WORLDSPACE
                       float depth = vectorLinearWorldSpaceDepth(direction, origin, near, far);
                       #else
                       float depth = vectorLinearObjectSpaceDepth(direction, origin, near, far);
                       #endif
                   #else
                       #ifdef ${n}_WORLDSPACE
                           float depth = vectorSphericalWorldSpaceDepth(origin, near, far);
                       #else
                           float depth = vectorSphericalObjectSpaceDepth(origin, near, far);
                       #endif
                   #endif
               #else
                   float dist = length(vWPosition - cameraPosition);
			       float depth = ( dist - near ) / ( far - near );
               #endif


              float p;
              #ifdef ${n}_SMOOTH
				for ( int i = 1; i < ${n}_MAX_COLORS; i++ ) {
						p = clamp( ( depth - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}
              #else
                for ( int i = 1; i < ${n}_MAX_COLORS; i++ ) {
                   p = clamp(( depth - steps[i - 1] ) / ( steps[i] - steps[i - 1] ), 0.0, 1.0);
                   color = mix(color, colors[i], p);
                 }
              #endif

               float lalpha = alpha * color.a * mask;
               calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
			   accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
			   
               return color.rgb;
			}`,[Tv.Nodes.vectorLinearWorldSpaceDepth,Tv.Nodes.vectorLinearObjectSpaceDepth,Tv.Nodes.vectorSphericalObjectSpaceDepth,Tv.Nodes.vectorSphericalWorldSpaceDepth]);if(e.isShader("fragment")){e.define(`${n}_MAX_COLORS`,this.colors.value.length),this.smooth.value&&e.define(`${n}_SMOOTH`),this.isVector.value>.5&&e.define(`${n}_IS_VECTOR`),this.gradientType.value===0&&e.define(`${n}_LINEAR`),this.isWorldSpace.value>.5&&e.define(`${n}_WORLDSPACE`),e.require("worldPosition"),e.addFragmentVariable(this.calpha,"float");let r=e.include(i),o=[];return o.push(this.near.build(e,"f")),o.push(this.far.build(e,"f")),o.push(this.origin.build(e,"v3")),o.push(this.direction.build(e,"v3")),o.push(this.colors.build(e,"v4[]")),o.push(this.steps.build(e,"f[]")),o.push(this.isMask.build(e,"b")),o.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),o.push(this.alpha.build(e,"f")),o.push(this.calpha),e.format(r+"("+o.join(",")+")",this.getType(e),t)}else return console.warn("DepthNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Vj=Tv;Vj.Nodes=function(){let e=new Ze(`float vectorLinearWorldSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(vWPosition.x - origin.x) + n.y*(vWPosition.y - origin.y) + n.z*(vWPosition.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),t=new Ze(`float vectorLinearObjectSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(position.x - origin.x) + n.y*(position.y - origin.y) + n.z*(position.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),n=new Ze(`float vectorSphericalWorldSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(vWPosition - origin);
               return ( dist - near ) / ( far - near );
            }`),i=new Ze(`float vectorSphericalObjectSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(position - origin);
               return ( dist - near ) / ( far - near );
            }`);return{vectorLinearWorldSpaceDepth:e,vectorLinearObjectSpaceDepth:t,vectorSphericalWorldSpaceDepth:n,vectorSphericalObjectSpaceDepth:i}}();var R_e=class extends Kn{constructor(e,t,n,i,r,o,a,s){super("v3"),this.nodeType="Fresnel",this.color=e,this.bias=t,this.scale=n,this.intensity=i,this.factor=r,this.isMask=s,this.alpha=o,this.mode=a,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let n=new Ze(`vec3 fresnel(vec3 color, float bias, float scale, float intensity, float factor, bool isMask, float mask, float alpha, int mode, out float calpha) {
					float fresnel = bias + scale * pow( abs( factor + dot( normalize( vWorldViewDir ), normalize( vWNormal ) ) ), intensity );

					float lalpha = clamp(fresnel, 0.0, 1.0) * alpha * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

					return color;
				}`),i=e.include(n),r=[];return r.push(this.color.build(e,"c")),r.push(this.bias.build(e,"f")),r.push(this.scale.build(e,"f")),r.push(this.intensity.build(e,"f")),r.push(this.factor.build(e,"f")),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),r.push(this.calpha),e.format(i+"("+r.join(",")+")",this.getType(e),t)}else return console.warn("FresnelNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Uj=class extends Kn{constructor(e,t,n,i,r,o,a,s,l){super("v3"),this.nodeType="Gradient",this.gradientType=e,this.smooth=t,this.colors=n,this.steps=i,this.offset=r,this.morph=o,this.angle=a,this.isMask=l,this.alpha=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.define("GRAD_MAX",10),e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let n=e.include(Uj.Nodes.gradient),i=[];return i.push(this.gradientType.build(e,"i")),i.push(this.smooth.build(e,"b")),i.push(this.colors.build(e,"v4[]")),i.push(this.steps.build(e,"f[]")),i.push(this.offset.build(e,"v2")),i.push(this.morph.build(e,"v2")),i.push(this.angle.build(e,"f")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("GradientNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},jj=Uj;jj.Nodes=function(){return{gradient:new Ze(`vec3 gradient(int gradientType, bool smoothed, vec4 colors[GRAD_MAX], float steps[GRAD_MAX], vec2 offset, vec2 morph, float angle, bool isMask, float mask, float alpha, out float calpha) {
				vec4 color = colors[0];
				vec2 m = morph / vUv.xy;
				vec2 rot = vec2( 0.5 + m.x, m.y );
				vec2 dt = vec2(
					cos( angle ) * rot.x - sin( angle ) * rot.y,
					sin( angle ) * rot.x + cos( angle ) * rot.y
				);
				vec2 pt = ( vUv - 0.5 + offset ) / 2.0 + dt / 2.0;
				float t = dot( pt, dt ) / dot( dt, dt );
				if ( gradientType == 1 ) {
					t = distance (
						( vUv + morph ) * 3.0,
						( vUv + offset ) + 1.0
					) + angle;
				} else if ( gradientType == 2 ) {
					float polar = atan(
						vUv.x + morph.x - 0.5 + offset.x,
						vUv.y + morph.y - 0.5 + offset.y
					) * -1.0;
					t = fract( ( angle / PI / -2.0 ) + 0.5 * ( polar / PI ) );
				}

				float p;
				if (smoothed) {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}

				} else {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], p);
					}
				}

				float lalpha = alpha * color.a * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
				
				return color.xyz;
			}`)}}();var Hj=class extends Kn{constructor(e,t,n,i,r){super("v3"),this.nodeType="Matcap",this.texture=e,this.isMask=i,this.alpha=t,this.mode=n,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`,this.rotation=r}generate(e,t){if(e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let n=e.include(Hj.Nodes.matcap);e.require("normal"),e.requires.normal=!0;let i=[];return i.push(this.texture.generate(e,"t")),i.push("normal"),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.mode.build(e,"i")),i.push(this.calpha),i.push(this.rotation.build(e,"f")),e.format(n+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("MatcapNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Gj=Hj;Gj.Nodes=function(){return{matcap:new Ze(`vec3 matcap(sampler2D matcapTex, vec3 normal, bool isMask, float mask, float alpha, int mode, out float calpha, float rotation) {
					vec3 viewDir = normalize( vViewPosition );
					vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
					vec3 y = cross( viewDir, x );
					vec2 uv = vec2( dot( x, normal ), dot( y, normal ) );
					uv = mat2( cos(rotation), sin(rotation), -sin(rotation), cos(rotation) ) * uv;
					uv = uv * 0.495 + 0.5;
					vec4 matcapColor = texture2D( matcapTex, uv );

					float lalpha = alpha * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
					
					return matcapColor.rgb;
            	}`)}}();var LT=(e=>(e.SIMPLEX="simplex3d",e.SIMPLEX_FRACTAL="simplex3dFractal",e.ASHIMA="simplexAshima",e.FBM="fbm",e.PERLIN="perlin",e.VORONOI="voronoi",e))(LT||{}),oa=function(){let e=new Ze(`vec3 random3(vec3 c) {
			float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));
			vec3 r;
			r.z = fract(512.0*j);
			j *= .125;
			r.x = fract(512.0*j);
			j *= .125;
			r.y = fract(512.0*j);
			return r-0.5;
		}`),t=new Ze(`float simplex3d(vec3 p) {
			 vec3 s = floor(p + dot(p, vec3(F3)));
			 vec3 x = p - s + dot(s, vec3(G3));
			 
			 vec3 e = step(vec3(0.0), x - x.yzx);
			 vec3 i1 = e*(1.0 - e.zxy);
			 vec3 i2 = 1.0 - e.zxy*(1.0 - e);
				
			 vec3 x1 = x - i1 + G3;
			 vec3 x2 = x - i2 + 2.0*G3;
			 vec3 x3 = x - 1.0 + 3.0*G3;
			 
			 vec4 w, d;
			 
			 w.x = dot(x, x);
			 w.y = dot(x1, x1);
			 w.z = dot(x2, x2);
			 w.w = dot(x3, x3);
			 
			 w = max(0.6 - w, 0.0);
			 
			 d.x = dot(random3(s), x);
			 d.y = dot(random3(s + i1), x1);
			 d.z = dot(random3(s + i2), x2);
			 d.w = dot(random3(s + 1.0), x3);
			 
			 w *= w;
			 w *= w;
			 d *= w;
			 
			 return dot(d, vec4(52.0));
		}`,[e]);t.keywords.F3=new Xn("float F3 0.3333333"),t.keywords.G3=new Xn("float G3 0.1666667");let n=new Ze(`float simplex3dFractal(vec3 m) {
			mat3 rot1 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);
			mat3 rot2 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);
			mat3 rot3 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);
			return 0.5333333 * simplex3d(m * rot1)
				 + 0.2666667 * simplex3d(2.0 * m * rot2)
				 + 0.1333333 * simplex3d(4.0 * m * rot3)
				 + 0.0666667 * simplex3d(8.0 * m);
		}`,[t]),i=new Ze("vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}"),r=new Ze("vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}"),o=new Ze(`float simplexAshima(vec3 v) {
		  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
		  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);
		  vec3 i  = floor(v + dot(v, C.yyy) );
		  vec3 x0 =   v - i + dot(i, C.xxx) ;
		  vec3 g = step(x0.yzx, x0.xyz);
		  vec3 l = 1.0 - g;
		  vec3 i1 = min( g.xyz, l.zxy );
		  vec3 i2 = max( g.xyz, l.zxy );
		  vec3 x1 = x0 - i1 + 1.0 * C.xxx;
		  vec3 x2 = x0 - i2 + 2.0 * C.xxx;
		  vec3 x3 = x0 - 1. + 3.0 * C.xxx;
		  i = mod(i, 289.0 ); 
		  vec4 p = permute( permute( permute( 
					 i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
				   + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) 
				   + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));
		  float n_ = 1.0/7.0; // N=7
		  vec3  ns = n_ * D.wyz - D.xzx;
		  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)
		  vec4 x_ = floor(j * ns.z);
		  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)
		  vec4 x = x_ *ns.x + ns.yyyy;
		  vec4 y = y_ *ns.x + ns.yyyy;
		  vec4 h = 1.0 - abs(x) - abs(y);
		  vec4 b0 = vec4( x.xy, y.xy );
		  vec4 b1 = vec4( x.zw, y.zw );
		  vec4 s0 = floor(b0)*2.0 + 1.0;
		  vec4 s1 = floor(b1)*2.0 + 1.0;
		  vec4 sh = -step(h, vec4(0.0));
		  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
		  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;
		  vec3 p0 = vec3(a0.xy,h.x);
		  vec3 p1 = vec3(a0.zw,h.y);
		  vec3 p2 = vec3(a1.xy,h.z);
		  vec3 p3 = vec3(a1.zw,h.w);
		  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
		  p0 *= norm.x;
		  p1 *= norm.y;
		  p2 *= norm.z;
		  p3 *= norm.w;
		  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
		  m = m * m;
		  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), 
										dot(p2,x2), dot(p3,x3) ) );
		}`,[i,r]),a=new Ze("vec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}"),s=new Ze("vec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}",[a]),l=new Ze(`float noise(vec3 p){
			vec3 a = floor(p);
			vec3 d = p - a;
			d = d * d * (3.0 - 2.0 * d);
			vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);
			vec4 k1 = perm(b.xyxy);
			vec4 k2 = perm(k1.xyxy + b.zzww);
			vec4 c = k2 + a.zzzz;
			vec4 k3 = perm(c);
			vec4 k4 = perm(c + 1.0);
			vec4 o1 = fract(k3 * (1.0 / 41.0));
			vec4 o2 = fract(k4 * (1.0 / 41.0));
			vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);
			vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);
			return o4.y * d.y + o4.x * (1.0 - d.y);
		}`,[s]),c=new Ze(`float fbm(vec3 x) {
			float v = 0.0;
			float a = 0.5;
			vec3 shift = vec3(100);
			for (int i = 0; i < NUM_OCTAVES; ++i) {
				v += a * noise(x);
				x = x * 2.0 + shift;
				a *= 0.5;
			}
			return v;
		}`,[l]);c.keywords.NUM_OCTAVES=new Xn("int NUM_OCTAVES 5");let d=new Ze("vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}"),u=new Ze(`float perlin(vec3 P){
		  vec3 Pi0 = floor(P);
		  vec3 Pi1 = Pi0 + vec3(1.0);
		  Pi0 = mod(Pi0, 289.0);
		  Pi1 = mod(Pi1, 289.0);
		  vec3 Pf0 = fract(P);
		  vec3 Pf1 = Pf0 - vec3(1.0);
		  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
		  vec4 iy = vec4(Pi0.yy, Pi1.yy);
		  vec4 iz0 = Pi0.zzzz;
		  vec4 iz1 = Pi1.zzzz;
		  vec4 ixy = permute(permute(ix) + iy);
		  vec4 ixy0 = permute(ixy + iz0);
		  vec4 ixy1 = permute(ixy + iz1);
		  vec4 gx0 = ixy0 / 7.0;
		  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
		  gx0 = fract(gx0);
		  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
		  vec4 sz0 = step(gz0, vec4(0.0));
		  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
		  gy0 -= sz0 * (step(0.0, gy0) - 0.5);
		  vec4 gx1 = ixy1 / 7.0;
		  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
		  gx1 = fract(gx1);
		  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
		  vec4 sz1 = step(gz1, vec4(0.0));
		  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
		  gy1 -= sz1 * (step(0.0, gy1) - 0.5);
		  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
		  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
		  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
		  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
		  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
		  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
		  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
		  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);
		  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
		  g000 *= norm0.x;
		  g010 *= norm0.y;
		  g100 *= norm0.z;
		  g110 *= norm0.w;
		  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
		  g001 *= norm1.x;
		  g011 *= norm1.y;
		  g101 *= norm1.z;
		  g111 *= norm1.w;
		  float n000 = dot(g000, Pf0);
		  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
		  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
		  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
		  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
		  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
		  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
		  float n111 = dot(g111, Pf1);
		  vec3 fade_xyz = fade(Pf0);
		  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
		  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
		  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
		  return 2.2 * n_xyz;
		}`,[i,r,d]),h=new Ze(`float hashwithoutsine13(vec3 p3)
		{
			p3  = fract(p3 * .1031);
			p3 += dot(p3, p3.yzx + 33.33);
			return fract((p3.x + p3.y) * p3.z);
		}`),p=new Ze(`vec3 hashwithoutsine33(vec3 p3)
		{
			p3 = fract(p3 * vec3(.1031, .1030, .0973));
			p3 += dot(p3, p3.yxz+33.33);
			return fract((p3.xxy + p3.yxx)*p3.zyx);
		}`),m=new Ze(`float metric(in vec3 p)
		{
			// L2 
			return length(p);

			// Chebyshev 
			// vec3 a = abs(p);
			// return max(a.x, max(a.y, a.z));
		}`),g=new Ze(`float smin( float a, float b, float k )
		{
			float h = smoothstep(0.0, 1.0, 0.5 + 0.5 * (b - a) / k);
			float correction = k * h * (1.0 - h);
			return mix(b, a, h) - correction;
		}`),v=new Ze(`float smax( float a, float b, float k )
		{
			float h = smoothstep(1.0, 0.0, 0.5 + 0.5 * (a - b) / k);
			float correction = k * h * (1.0 - h);
			return mix(a, b, h) + correction;
		}`),b=new Ze(`float remap(float value, float input_min, float input_max, float output_min, float output_max) {
			// Compute width of each interval
			float input_width = input_max - input_min;
			float output_width = output_max - output_min;
		
			// Convert input range into a 0-1 range 
			float scaled = (value - input_min) / input_width;
		
			// Convert the 0-1 range into a value in output range
			return output_min + (scaled * output_width);
		}`),_=new Ze(`float voronoi(in vec3 x, in int style, in float smoothness, in float seed, in int quality) 
		{
			// Integer and fractional parts of this point's coordinates
			ivec3 p = ivec3(floor(x));
			vec3 f = fract(x);

			// Different variables that we will use to construct noise:
			//
			// f1: distance to the closest feature point
			// f2: distance to the second closest feature point
			// e: distance to the closest edge (cell boundary)
			//
			// We also compute "smooth" versions of all of the above quantites, essentially
			// replacing "hard" minimums with "smooth" minimums (described by IQ)
			float f1_smooth = 8.0;
			float f1 = 8.0;
			float f2_smooth = 8.0;
			float f2 = 8.0;
			float e_smooth = 8.0;
			float e = 8.0;

			// Variables stored from closest cell
			ivec3 mb;
			vec3 mr; 

			int steps = quality;
			
			for (int x = -steps; x <= steps; x++) 
			for (int y = -steps; y <= steps; y++)
			for (int z = -steps; z <= steps; z++)
			{
				ivec3 b = ivec3(x, y, z);
				vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
				float d = length(r);
				
				f1_smooth = smin(d, f1_smooth, smoothness);

				// Store un-smoothed distances too 
				if (d < f1) 
				{
					f2 = f1;
					f1 = d;

					mb = ivec3(x, y, z);
					mr = r;
				} 
				else if (d < f2) 
				{
					f2 = d;
				}
			}	
			
			float id = hashwithoutsine13(vec3(p + mb) + seed);

			// Second pass for edge distance  
			for (int x = -steps; x <= steps; x++) 
			for (int y = -steps; y <= steps; y++)
			for (int z = -steps; z <= steps; z++)
			{
				// Start search at the cell that contains the closest point to "x" (found in 1st pass)
				ivec3 b = mb + ivec3(x, y, z);
				vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
				float d1 = dot(0.5 * (mr + r), (r - mr)); 				// IQ normalizes "r - mr" but that breaks things for the smooth version?
				float d2 = dot(0.5 * (mr + r), normalize(r - mr));

				e_smooth = smin(d1, e_smooth, smoothness);

				e = min(e, d2);

				// Also compute a smooth version of F2 in this pass
				{
					ivec3 b = ivec3(x, y, z);
					if (b != mb) 
					{
						vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
						float d = length(r);

						f2_smooth = smin(d, f2_smooth, smoothness);
					}
				}
			}

			// Different visualization modes 
			if (style == 0) 
			{
				return f1_smooth;
			}
			if (style == 1) 
			{
				return f2_smooth;
			}
			if (style == 2) 
			{
				return f2_smooth - f1_smooth;
				
				// "Pebbles" also cool
				//return step(0.2, f2_smooth - f1_smooth);
			}
			if (style == 3) 
			{
				// This one is really good for rock / stone effects
				float a = f1; 
				float b = f2;
				float k = 3.0;
				float h = max(k - abs(a - b), 0.0) / k;
				float final = min(a, b) - h * h * k * (1.0 / 4.0);
				return final;
			}
			if (style == 4) 
			{
				// Some random adjustments to make this style stand out more 
				return exp(5.0 * e_smooth);
			}
			if (style == 5) 
			{
				return pow(f1_smooth, 3.0);
			}
			if (style == 6) 
			{				
				const float eps = 0.0125;

				// Thicker lines as the user increases the smoothness slider
				float thickness = smoothness * 0.25 + eps;

				// Blurrier lines as the user increases the smoothness slider
				float blur = pow(smoothness, 3.0) * 0.25 + eps;

				return smoothstep(
					thickness - thickness * blur, 
					thickness + thickness * blur, 
					e
				);
			}
			if (style == 7) 
			{
				return hashwithoutsine13(vec3(p + mb) + seed);
			}
		}
	`,[h,p,m,g,v,b]);return{simplex:t,simplexFractal:n,simplexAshima:o,fbm:c,perlin:u,voronoi:_}}(),Wj=class extends Kn{constructor(e,t,n,i,r,o,a,s,l,c,d,u,h,p,m,g,v,b,_){super("v3"),this.nodeType="Noise",this.scale=e,this.size=t,this.move=n,this.fA=i,this.fB=r,this.distortion=o,this.colorA=a,this.colorB=s,this.colorC=l,this.colorD=c,this.noiseType=u,this.voronoiStyle=p,this.highCut=m,this.lowCut=g,this.smoothness=v,this.seed=b,this.quality=_,this.isMask=h,this.alpha=d,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t,n,i,r){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let o=Object.values(LT)[this.noiseType.value],a=o=="voronoi"?`
		float v = ${o}(st + move, voronoiStyle, smoothness, seed, quality);

		// Apply clipping to colors
		v = remap(v, lowCut, highCut, 0.0, 1.0);
		v = smax(v, 0.0, smoothness * 0.25);
		v = smin(v, 1.0, smoothness * 0.25);

		// Note that the voronoi mode only uses colors "A" and "C" from the UI 
		vec4 color = mix(colorA, colorC, v); 
		`:`
		vec3 q = vec3(${o}(st),
					   ${o}(st + vec3(1.0)),
					   ${o}(st + vec3(1.0)));
		vec3 r = vec3(${o}(st + vec3(distortion, 1.0) * q + vec3(fA, 1.0) + move),
					  ${o}(st + vec3(distortion, 1.0) * q + vec3(fB, 1.0) + move), 
					  ${o}(st * q));
		float f = ${o}(st + r);
		vec4 color;
		color = mix(colorA, colorB, clamp((f * f) * 4.0, 0.0, 1.0));
		color = mix(color, colorC, clamp(length(q), 0.0, 1.0));
		color = mix(color, colorD, clamp(length(r.x), 0.0, 1.0));
		`,s=new Ze(`vec3 ${o}customNoise(float scale, vec3 size, float move, vec2 fA, vec2 fB, vec2 distortion, vec4 colorA, vec4 colorB, vec4 colorC, vec4 colorD, int voronoiStyle, float highCut, float lowCut, float smoothness, float seed, int quality, bool isMask, float mask, float alpha, out float calpha) 
			{
                // Prevent scale of zero 
				scale = max(abs(scale), 0.001);

				vec3 st = position / size;
				st /= scale;

				${a}

				float lalpha = alpha * color.a * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return clamp(color, 0.0, 1.0).rgb;
			}`,[oa.simplex,oa.simplexFractal,oa.simplexAshima,oa.fbm,oa.perlin,oa.voronoi]),l=e.include(s),c=[];return c.push(this.scale.build(e,"f")),c.push(this.size.build(e,"v3")),c.push(this.move.build(e,"f")),c.push(this.fA.build(e,"v2")),c.push(this.fB.build(e,"v2")),c.push(this.distortion.build(e,"v2")),c.push(this.colorA.build(e,"v4")),c.push(this.colorB.build(e,"v4")),c.push(this.colorC.build(e,"v4")),c.push(this.colorD.build(e,"v4")),c.push(this.voronoiStyle.build(e,"i")),c.push(this.highCut.build(e,"f")),c.push(this.lowCut.build(e,"f")),c.push(this.smoothness.build(e,"f")),c.push(this.seed.build(e,"f")),c.push(this.quality.build(e,"i")),c.push(this.isMask.build(e,"b")),c.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),c.push(this.alpha.build(e,"f")),c.push(this.calpha),e.format(l+"("+c.join(",")+")",this.getType(e),t)}};Wj.numOctaves=5;var qj=class extends Kn{constructor(e,t,n,i,r,o,a,s,l,c,d,u,h,p,m,g){super("v3"),this.nodeType="Outline",this.firstTime=!0,this.outlineColor=e,this.contourColor=t,this.outlineWidth=n,this.contourWidth=i,this.contourThreshold=r,this.outlineThreshold=o,this.contourFrequency=a,this.outlineSmoothing=s,this.contourDirection=l,this.positionalLines=c,this.compensation=d,this.resolution=u,this.normalMap=h,this.depthMap=p,this.pixelRatio=m,this.alpha=g,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let n=`g${this.uuid.toString().replace(/-/g,"")}`;if(e.require("vWorldViewDir"),e.require("worldNormal"),e.extensions.derivatives=!0,this.compensation.value&&e.define("OUTLINE_COMPENSATION",`${n}_offset`),this.firstTime){let i=this.outlineWidth.build(e,"f"),r=this.resolution.build(e,"v2"),o=this.compensation.build(e,"b"),a=this.pixelRatio.build(e,"f");e.addVertexParsVariable("randomColor","attribute vec3"),e.addVertexParsVariable("extrudeNormal","attribute vec3"),e.addVertexParsVariable(i,"uniform float"),e.addVertexParsVariable(r,"uniform vec2"),e.addVertexParsVariable(o,"uniform bool"),e.addVertexParsVariable(a,"uniform float"),e.addVertexParsVariable("vID","flat out float"),e.addFragmentParsVariable("vID","flat in float"),e.addVertexFinalCode(`
                vID = randomColor.r;
                vec2 ${n}_offset = vec2(0.0);
                if (${o}) {
                    vec4 ${n}_clipPosition = projectionMatrix * (modelViewMatrix * vec4(transformed, 1.0));
                    // NOTE: For certain shapes, like spheres, we get incorrect extrusion when the
                    // normals face the camera directly. So we hackily fix this by offsetting the normal
                    // by a tiny amount.
                    vec3 ${n}_clipNormal = mat3(projectionMatrix) * (mat3(modelViewMatrix) * extrudeNormal) + 0.0000001;
                    ${n}_offset = normalize(${n}_clipNormal.xy) / ${r} * (${i} / 2.0) * ${n}_clipPosition.w * 2.0 * ${a};
                    ${n}_clipPosition.xy += ${n}_offset;
                    // TODO(MAX): To handle multiple outline layers, we only want to extrude
                    // if this offset is the biggest of all the potential offsets
                    gl_Position = ${n}_clipPosition;
                }
            `)}if(e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let i=e.include(qj.Nodes.outline),r=[];return r.push(this.outlineColor.build(e,"c")),r.push(this.contourColor.build(e,"c")),r.push(this.outlineWidth.build(e,"f")),r.push(this.contourWidth.build(e,"f")),r.push(this.contourThreshold.build(e,"f")),r.push(this.outlineThreshold.build(e,"f")),r.push(this.contourFrequency.build(e,"f")),r.push(this.outlineSmoothing.build(e,"f")),r.push(this.contourDirection.build(e,"v3")),r.push(this.positionalLines.build(e,"b")),r.push(this.resolution.build(e,"v2")),r.push(this.normalMap.getTexture(e,"t")),r.push(this.depthMap.getTexture(e,"t")),r.push(this.pixelRatio.build(e,"f")),r.push(this.compensation.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),this.firstTime=!this.firstTime,e.format(i+"("+r.join(",")+")",this.getType(e),t)}else return console.warn("OutlineNode is not compatible with "+e.shader+" shader."),""}},Yj=qj;Yj.Nodes=function(){let e=new Ze(`
float sobelSample(sampler2D t, sampler2D d, vec2 uv, vec2 resolution, float outlineWidth, float pixelRatio)
{
    vec2 halton = haltonSequence[frameIndex];
    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
    float temporalAngle  = temporalOffset * PI2;

    vec2 texelSize = (vec2(1.0) / resolution);
    vec2 offsetSize = texelSize * outlineWidth * pixelRatio;

    vec2 uvSamples[9];
    vec4 normalSamples[9];

	uvSamples[0] = uv + vec2( -offsetSize.x, -offsetSize.y) + (vogelDiskSample(0, 9, temporalAngle) * texelSize);
	uvSamples[1] = uv + vec2(0.0, -offsetSize.y) + (vogelDiskSample(1, 9, temporalAngle) * texelSize);
	uvSamples[2] = uv + vec2(  offsetSize.x, -offsetSize.y) + (vogelDiskSample(2, 9, temporalAngle) * texelSize);
	uvSamples[3] = uv + vec2( -offsetSize.x, 0.0) + (vogelDiskSample(3, 9, temporalAngle) * texelSize);
	uvSamples[4] = uv;
	uvSamples[5] = uv + vec2(  offsetSize.x, 0.0) + (vogelDiskSample(5, 9, temporalAngle) * texelSize);
	uvSamples[6] = uv + vec2( -offsetSize.x, offsetSize.y) + (vogelDiskSample(6, 9, temporalAngle) * texelSize);
	uvSamples[7] = uv + vec2(0.0, offsetSize.y) + (vogelDiskSample(7, 9, temporalAngle) * texelSize);
	uvSamples[8] = uv + vec2(  offsetSize.x, offsetSize.y) + (vogelDiskSample(8, 9, temporalAngle) * texelSize);


    normalSamples[0] = texture2D(t, uvSamples[0]);
    normalSamples[1] = texture2D(t, uvSamples[1]);
    normalSamples[2] = texture2D(t, uvSamples[2]);
    normalSamples[3] = texture2D(t, uvSamples[3]);
    normalSamples[4] = texture2D(t, uvSamples[4]);
    normalSamples[5] = texture2D(t, uvSamples[5]);
    normalSamples[6] = texture2D(t, uvSamples[6]);
    normalSamples[7] = texture2D(t, uvSamples[7]);
    normalSamples[8] = texture2D(t, uvSamples[8]);

    float depthBias = 0.0001;
    // TODO(MAX): Can we somehow reduce the number of conditionals here with MATH?!
    if (normalSamples[0].a != vID && normalSamples[0].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[0]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[1].a != vID && normalSamples[1].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[1]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[2].a != vID && normalSamples[2].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[2]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[3].a != vID && normalSamples[3].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[3]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }


    if (normalSamples[4].a != vID && normalSamples[4].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[4]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[5].a != vID && normalSamples[5].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[5]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[6].a != vID && normalSamples[6].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[6]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[7].a != vID && normalSamples[7].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[7]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[8].a != vID && normalSamples[8].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[8]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    vec3 sobel_edge_h = normalSamples[2].rgb + (2.0*normalSamples[5].rgb) + normalSamples[8].rgb - (normalSamples[0].rgb + (2.0*normalSamples[3].rgb) + normalSamples[6].rgb);
  	vec3 sobel_edge_v = normalSamples[0].rgb + (2.0*normalSamples[1].rgb) + normalSamples[2].rgb - (normalSamples[6].rgb + (2.0*normalSamples[7].rgb) + normalSamples[8].rgb);

    float edgeNormal = sqrt(dot(sobel_edge_h, sobel_edge_h) + dot(sobel_edge_v, sobel_edge_v));
    return edgeNormal;
}
`);return{outline:new Ze(`vec3 outline(vec3 outlineColor, vec3 contourColor, float outlineWidth, float contourWidth, float outlineThreshold, float contourThreshold, float outlineSmoothing, float contourFrequency, vec3 contourDirection, bool positionalLines, vec2 resolution, sampler2D normalMap, sampler2D depthMap, float pixelRatio, bool compensation, float mask, float alpha, out float calpha) {
                vec3 result = outlineColor;
                float resultAlpha = 0.0;

                vec3 N = normalize(vWNormal);
                vec2 nuv = (gl_FragCoord.xy / resolution);
                float sobelSample = compensation ? sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth / 2., pixelRatio) : sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth, pixelRatio);
                resultAlpha = smoothstep(outlineThreshold - outlineSmoothing, outlineThreshold + outlineSmoothing, sobelSample);

                //resultAlpha = 1.0;
                //result = vec3(sobelSample);

                float t = 1.0 - contourThreshold;
                if(positionalLines) {
                    vec3 NDir = position * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float f  = fract(NT * contourFrequency * 0.01);
                    float df = fwidth(NT * contourFrequency);

                    float g = smoothstep(df * (contourWidth * 0.01), df * (contourWidth * 0.01 * 2.0), f);
                    if (g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0;
                    }
                 }
                 else {
                    vec3 NDir = N * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float df = fwidth(NT * contourThreshold);
                    float f = sin(NT * 1.0 * contourFrequency);
                    float g = smoothstep(0.0, df * contourWidth, 1.0 - f);

                    if (df > (t * 0.5) && g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0 - g;
                    }
                 }

                 float lalpha = alpha * resultAlpha * mask;
                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;
				 
                 return result;
             }`,[e])}}();var kc=class extends Kn{constructor(e,t,n,i,r,o,a,s,l,c,d,u,h,p,m,g,v,b){super("v3"),this.nodeType="Pattern",this.style=e,this.projection=t,this.axis=n,this.blending=i,this.offset=r,this.colorA=o,this.colorB=a,this.frequency=s,this.size=l,this.variation=c,this.smoothness=d,this.zigzag=u,this.rotation=h,this.vertical=p,this.horizontal=m,this.sides=g,this.isMask=b,this.alpha=v,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.require("position"),e.require("uv"),e.requires.uv=[!0],e.require("normal"),e.requires.normal=!0,e.addFragmentVariable(this.calpha,"float");let n;switch(this.style.value){case 0:n="circle";break;case 1:n="ring";break;case 2:n="polygon";break;case 3:n="xcross";break;case 4:n="diamond";break;case 5:n="checkerboard";break;case 6:n="line";break;case 7:n="wave";break;default:n="circle";break}let i=`g${this.uuid.toString().replace(/-/g,"")}`,r=new Ze(`float hashwithoutsine12(vec2 p)
				{
					vec3 p3 = fract(vec3(p.xyx) * .1031);
					p3 += dot(p3, p3.yzx + 33.33);
					return fract((p3.x + p3.y) * p3.z);
				}`),o=new Ze(`vec2 rotate_uv(in vec2 uv, float a, bool repeat) 
				{
					const float mid = 0.5;
					float radians = a * (PI / 180.0);
					vec2 rotated = vec2(
						cos(radians) * (uv.x - mid) + sin(radians) * (uv.y - mid) + mid,
						cos(radians) * (uv.y - mid) - sin(radians) * (uv.x - mid) + mid
					);
					return repeat ? fract(rotated): rotated;
				}`),a="";if(this.projection.value===4){let d=this.style.value===2?`${n}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,u=this.style.value===2?`${n}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,h=this.style.value===2?`${n}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation)`;a=`
				vec3 p = position;
				float factor = 0.0125;
				vec2 uv0 = fract(p.xy * factor);
				vec2 uv1 = fract(p.zy * factor);
				vec2 uv2 = fract(p.xz * factor);
				
				uv0 = rotate_uv(uv0 + offset, rotation, true);
				uv1 = rotate_uv(uv1 + offset, rotation, true);
				uv2 = rotate_uv(uv2 + offset, rotation, true);
	
				float d0 = ${d};
				float d1 = ${u};
				float d2 = ${h};
				
				// Range from 3 to 128 seems to be good
				float exponent = (1.0 - blending) * 125.0 + 3.0;

				vec3 n = vObjectNormal;
				vec3 weights = abs(normalize(n));
				weights = pow(weights, vec3(exponent));
				weights /= dot(weights, vec3(1.0));
				d0 *= weights.z;
				d1 *= weights.x;
				d2 *= weights.y;
				float draw = d0 + d1 + d2;
	
				vec2 custom_uv = uv0 * weights.z + uv1 * weights.x + uv2 * weights.y;
				`}else{let d=this.style.value===2?`${n}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,u="";this.axis.value===0?u=`float radius = length(p);
					float theta = atan(p.y, p.z);
					float phi = acos(p.x / radius);`:this.axis.value===1?u=`float radius = length(p);
					float theta = atan(p.x, p.z);
					float phi = acos(p.y / radius);`:(this.axis.value,u=`float radius = length(p);
					float theta = atan(p.y, p.x);
					float phi = acos(p.z / radius);`);let h="";switch(this.projection.value){case 0:h="custom_uv = vUv.st;";break;case 1:break;case 2:h=`
							vec3 p = position;
							${u}
							custom_uv = vec2(theta, phi);
							custom_uv /= PI;
							`;break;case 3:break;default:break}a=`
				vec2 custom_uv;
				${h}
	
				custom_uv += offset;
				custom_uv = fract(custom_uv);
				custom_uv = rotate_uv(custom_uv, rotation, true);
	
				float draw = ${d};
				`}let s=new Ze(`vec3 ${i}_pattern(vec3 normal, float blending, int style, vec2 offset, vec4 colorA, vec4 colorB, vec2 frequency, float size, float variation, float smoothness, float zigzag, float rotation, vec2 vertical, vec2 horizontal, int sides, bool isMask, float mask, float alpha, out float calpha) {
					const float TWO_PI = PI * 2.0;
					float smoothness_remapped = pow(smoothness, 5.0);	

					${a}

					// Construct final output color
					vec4 color = mix(colorA, colorB, draw);
					color.a = clamp(color.a, 0.0, 1.0);

					// Apply cuts
					color.a *= 
						step(vertical.x, custom_uv.y) * 
						step(custom_uv.y, vertical.y);
					color.a *= 
						step(horizontal.x, abs(custom_uv.x)) * 
						step(abs(custom_uv.x), horizontal.y);

					// Accumulate alpha 
					float lalpha = alpha * clamp(color.a, 0.0, 1.0) * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

					return clamp(color, 0.0, 1.0).rgb;
				}`,[o,r,kc.DrawFunctions.circle,kc.DrawFunctions.ring,kc.DrawFunctions.polygon,kc.DrawFunctions.cross,kc.DrawFunctions.diamond,kc.DrawFunctions.checkerboard,kc.DrawFunctions.line,kc.DrawFunctions.wave]),l=e.include(s),c=[];return c.push("normal"),c.push(this.blending.build(e,"f")),c.push(this.style.build(e,"i")),c.push(this.offset.build(e,"v2")),c.push(this.colorA.build(e,"v4")),c.push(this.colorB.build(e,"v4")),c.push(this.frequency.build(e,"v2")),c.push(this.size.build(e,"f")),c.push(this.variation.build(e,"f")),c.push(this.smoothness.build(e,"f")),c.push(this.zigzag.build(e,"f")),c.push(this.rotation.build(e,"f")),c.push(this.vertical.build(e,"v2")),c.push(this.horizontal.build(e,"v2")),c.push(this.sides.build(e,"i")),c.push(this.isMask.build(e,"b")),c.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),c.push(this.alpha.build(e,"f")),c.push(this.calpha),e.format(l+"("+c.join(",")+")",this.getType(e),t)}else return console.warn("PatterNode is not compatible with "+e.shader+" shader."),e.format("vec3(0.0)",this.getType(e),t)}},Xj=kc;Xj.DrawFunctions=function(){let e=new Ze(`float hashwithoutsine12(vec2 p) {
				vec3 p3 = fract(vec3(p.xyx) * 0.1031);
				p3 += dot(p3, p3.yzx + 33.33);
				return fract((p3.x + p3.y) * p3.z);
			}`),t=new Ze(`vec2 tile_and_center(in vec2 uv, in vec2 frequency, in float variation, in float zigzag, in float rotation) {
                // Create tiles in UV-space
                uv *= frequency;

                // Integer coords
                vec2 i = floor(uv);

                // Offset every other row based on zigzag param, then compute fractional coords
                float row_offset = mod(i.y, 2.0);
                uv.x += row_offset * zigzag;
                vec2 f = fract(uv);

				// Rotate the tile itself:
				// const float mid = 0.5;
				// f = vec2(
				// 	cos(rotation) * (f.x - mid) + sin(rotation) * (f.y - mid) + mid,
				// 	cos(rotation) * (f.y - mid) - sin(rotation) * (f.x - mid) + mid
				// );
				// f = fract(f);

                f = f * 2.0 - 1.0;

				// Recompute integer coords after shifting - then, random value per tile 
				i = floor(uv);
				float rand = (hashwithoutsine12(i) * 5.0 + 1.0);
				float jitter = mix(1.0, rand, variation);
				f *= jitter;

                return f;
            }`,[e]),n=new Ze(`float circle(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(
                    -smoothness, 
                     smoothness, 
                     length(f) - size
                );
            }`,[t]),i=new Ze(`float ring(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);

				float d = length(f);
                const float inner_width = 0.5;

                float outer = smoothstep(-smoothness, smoothness, d - size);
                float inner = smoothstep(-smoothness, smoothness, d - size * inner_width);
				return outer + (1.0 - inner);   
            }`,[t]),r=new Ze(`float sdf_ngon(in vec2 p, in float r, in int n) {
                float an = (PI * 2.0) / float(n);
                float he = r * tan(0.5 * an);
                
                // Rotate to first sector
                p = -p.yx; 
                float bn = an * floor((atan(p.y, p.x) + 0.5 * an) / an);
                vec2  cs = vec2(cos(bn), sin(bn));
                p = mat2(cs.x, -cs.y, cs.y, cs.x)*p;
            
                // Side of polygon
                return length(p - vec2(r, clamp(p.y, -he, he))) * sign(p.x - r);
            }
            
            float polygon(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation, in int sides) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(-smoothness, smoothness, sdf_ngon(f, size, sides));
            }`,[t]),o=new Ze(`float sdf_cross(in vec2 p, in vec2 b, float r ) {
                p = abs(p); 
				p = (p.y > p.x) ? p.yx : p.xy;
                vec2  q = p - b;
                float k = max(q.y, q.x);
                vec2  w = (k > 0.0) ? q : vec2(b.y - p.x, -k);
                return sign(k) * length(max(w, 0.0)) + r;
            }
            
            // Avoid namespace conflicts 
            float xcross(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(-smoothness, smoothness, sdf_cross(f, vec2(size, size * 0.25), smoothness));
            }`,[t]),a=new Ze(`float ndot(vec2 a, vec2 b) { 
                return a.x*b.x - a.y*b.y; 
            }
            
            float sdf_diamond(in vec2 p, in vec2 b) {
                p = abs(p);
                float h = clamp(ndot(b - 2.0 * p, b) / dot(b, b), -1.0, 1.0);
                float d = length(p - 0.5 * b * vec2(1.0 - h, 1.0 + h));
                return d * sign(p.x * b.y + p.y * b.x - b.x * b.y);
            }

            float diamond(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
	            return smoothstep(-smoothness, smoothness, sdf_diamond(f, vec2(size)));
            }`,[t]),s=new Ze(`float checkerboard(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                uv *= frequency;
                vec2 i = floor(uv);

                float offset = mod(i.y, 2.0);

                uv.x += offset + zigzag * offset;
                float x = floor(uv.x);
                
                return mod(x, 2.0);
            }`),l=new Ze(`float line(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, 0.0, zigzag, rotation);
				
				// Different approach for variation param here
				float row = floor(uv * frequency).y;
				float rand = hashwithoutsine12(vec2(row));
				float s = mix(size, size * rand, variation);

				return smoothstep(
					s - smoothness, 
					s + smoothness, 
					abs(f.y)
				);
            }`,[t]),c=new Ze(`// Uses bisection 
            float udf_cos(in vec2 p, in float a, in float b, in float c, in float d) {
                // Convert all data to a primitive cosine wave
                p = c * (p - vec2(d, a));
                
                const float TWO_PI = PI * 2.0;

                // Reduce to principal half cycle
                p.x = mod(p.x, TWO_PI); 
                if (p.x > PI) {
                    p.x = TWO_PI - p.x;
                }
            
                // Find zero of derivative (minimize distance)
                float xa = 0.0;
                float xb = TWO_PI;

                // 24 bit precision
                for (int i = 0; i < 24; i++) {
                    float x = 0.5 * (xa + xb);
                    float y = x - p.x + b * c * sin(x) * (p.y - b * c * cos(x));
                    if (y < 0.0) xa = x; 
                    else xb = x;
                }
                float x = 0.5 * (xa + xb);
                
                // Compute distance    
                vec2 q = vec2(x, b * c * cos(x));
                return length(p - q) / c;
            }

            float wave(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                float repeat = frequency.x;
                uv *= repeat;
                vec2 i = floor(uv);
                float row_offset = mod(i.y, 2.0);
                uv.x += row_offset * zigzag;
                vec2 f = vec2(uv.x, fract(uv.y));

                // Generalized cosine: y(x) = a + b * cos(cx + d)
                const float amplitude = 0.125;
                float wave_frequency = frequency.y * 0.1;
                float distance_estimate = udf_cos(f, 0.50, amplitude, wave_frequency * (2.0 * PI), 0.0);

				// Different approach for variation param here
				float rand = hashwithoutsine12(vec2(i.y));
				float s = mix(size, size * rand, variation);

                return smoothstep(-smoothness, smoothness, distance_estimate - s * 0.5);
            }`);return{tileAndCenter:t,circle:n,ring:i,polygon:r,cross:o,diamond:a,checkerboard:s,line:l,wave:c}}();var Qj=class extends Kn{constructor(e,t,n,i,r,o,a,s){super("v3"),this.nodeType="Rainbow",this.filmThickness=e,this.movement=t,this.wavelengths=n,this.noiseStrength=i,this.noiseScale=r,this.offset=o,this.isMask=s,this.alpha=a,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let n=e.include(Qj.Nodes.rainbow),i=[];return i.push(this.filmThickness.build(e,"f")),i.push(this.movement.build(e,"f")),i.push(this.wavelengths.build(e,"v3")),i.push(this.noiseStrength.build(e,"f")),i.push(this.noiseScale.build(e,"f")),i.push(this.offset.build(e,"v3")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("RainbowNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Zj=Qj;Zj.Nodes=function(){let e=new Ze(`vec3 attenuation(vec3 wavelengths, float filmThickness, float movement, float noiseStrength, float noiseScale, vec3 offset) {
                 vec3 st = position / noiseScale;
				 vec3 q = vec3(simplex3d(st),
							  simplex3d(st + vec3(1.0)),
							  simplex3d(st + vec3(1.0)));

				 vec3 r = vec3(simplex3d(st + vec3(1.4, 1.3, 1.0) * q + vec3(1.7, 9.2, 1.0)),
							  simplex3d(st + vec3(2.0, 1.2, 1.0) * q + vec3(8.3, 2.8, 1.0)),
							  simplex3d(st * q));

                 float noise = simplex3d(st + r);

                 return .5 + .5 * cos((((filmThickness + (noise * noiseStrength)) / (vec3(wavelengths.r * 1.0, wavelengths.g * 0.8, wavelengths.b * 0.6) + 1.0)) * dot(normalize(vWorldViewDir + (offset * -0.001)), normalize(vWNormal))) + movement);
             }`,[oa.simplex]);return{rainbow:new Ze(`vec3 rainbow(float filmThickness, float movement, vec3 wavelengths, float noiseStrength, float noiseScale, vec3 offset, bool isMask, float mask, float alpha, out float calpha) {
				vec3 res = clamp(attenuation(wavelengths, filmThickness, movement, noiseStrength, noiseScale, offset), 0.0, 2.0);

				float rainbowContribution = clamp(res.r + res.g + res.b, 0.0, 1.0);

				float lalpha = alpha * rainbowContribution * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return res;
             }`,[e])}}();var $j=class extends Kn{constructor(e,t,n,i,r,o,a,s,l,c){super("v3"),this.nodeType="Toon",this.positioning=e,this.colors=t,this.steps=n,this.source=i,this.isWorldSpace=r,this.noiseStrength=o,this.noiseScale=a,this.shadowColor=s,this.offset=l,this.alpha=c,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("worldNormal"),e.require("worldPosition"),e.isShader("fragment")){e.define("COLORS_MAX",10),e.addFragmentVariable(this.calpha,"float");let n=e.include($j.Nodes.toon),i=[];return i.push(this.positioning.build(e,"i")),i.push(this.colors.build(e,"v4[]")),i.push(this.steps.build(e,"f[]")),i.push(this.source.build(e,"v3")),i.push(this.isWorldSpace.build(e,"b")),i.push(this.noiseStrength.build(e,"f")),i.push(this.noiseScale.build(e,"f")),i.push(this.shadowColor.build(e,"v4")),i.push(this.offset.build(e,"v3")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("ToonNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Kj=$j;Kj.Nodes=function(){let e=new Ze(`float rand(float n) {
				return fract(sin(n) * 43758.5453123);
			}`),t=new Ze(`float hash1(float p) { 
				p = fract(p * 0.011); 
				p *= p + 7.5; 
				p *= p + p; 
				return fract(p); 
			}`),n=new Ze(`float valueNoise(vec3 x) {
				const vec3 step = vec3(110, 241, 171);
			
				vec3 i = floor(x);
				vec3 f = fract(x);
			 
				// For performance, compute the base input to a 1D hash from the integer part of the argument and the 
				// incremental change to the 1D based on the 3D -> 1D wrapping
				float n = dot(i, step);
			
				vec3 u = f * f * (3.0 - 2.0 * f);
				return mix(mix(mix( hash1(n + dot(step, vec3(0, 0, 0))), hash1(n + dot(step, vec3(1, 0, 0))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 0))), hash1(n + dot(step, vec3(1, 1, 0))), u.x), u.y),
						   mix(mix( hash1(n + dot(step, vec3(0, 0, 1))), hash1(n + dot(step, vec3(1, 0, 1))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 1))), hash1(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);
			}`,[t]),i=new Ze(`vec3 hash3(vec3 x) {
				x = vec3(dot(x,vec3(127.1, 311.7, 74.7)),
						 dot(x,vec3(269.5, 183.3, 246.1)),
						 dot(x,vec3(113.5, 271.9, 124.6)));
			
				return fract(sin(x)*43758.5453123);
			}`),r=new Ze(`vec3 voronoiNoise(in vec3 x)
			{
				vec3 p = floor(x);
				vec3 f = fract(x);

				float id = 0.0;
				vec2 res = vec2(100.0);

				for(int k=-1; k<=1; k++)
				for(int j=-1; j<=1; j++)
				for(int i=-1; i<=1; i++)
				{
					vec3 b = vec3(float(i), float(j), float(k));

					// Comment out the "+ hash(p + b);" part below to get "square" cells
					vec3 r = vec3(b) - f + hash3(p + b);
					float d = dot(r, r);

					if (d < res.x)
					{
						id = dot(p + b, vec3(1.0, 57.0, 113.0));
						res = vec2(d, res.x);			
					}
					else if (d < res.y)
					{
						res.y = d;
					}
				}

				return vec3(sqrt(res), abs(id));
			}
			`,[i]);return{toon:new Ze(`vec3 toon(int positioning, vec4 colors[COLORS_MAX], float steps[COLORS_MAX], vec3 source, bool isWorldSpace, float noiseStrength, float noiseScale, vec4 shadowColor, vec3 offset, float mask, float alpha, out float calpha) {
				float t = 0.0;
				float shadow = 1.0;

				if (positioning == 0) {

					// Can't do this mode if lighting is "none"
					#if (defined(PHONG) || defined(LAMBERT) || defined(STANDARD))

						// Algorithm from Chapter 10 of Graphics Shaders
						const vec3 weights = vec3(0.2125, 0.7154, 0.0721);
						vec3 lpos;
						vec3 l;
						float dproduct;

						#if (NUM_POINT_LIGHTS > 0)

							#if defined(USE_SHADOWMAP) && (NUM_POINT_LIGHT_SHADOWS > 0)
								PointLightShadow pointLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_POINT_LIGHTS; i++) {
								// Light positions are in view-space for some reason?
								lpos = (inverse(viewMatrix) * vec4(pointLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								
								// TODO: we want to use "intensity" but it isn't available in the shader code
								//dproduct += dot(pointLights[UNROLLED_LOOP_INDEX].color, weights);

								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS)
									pointLightShadow = pointLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getPointShadow( 
											pointShadowMap[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowMapSize, 
											pointLightShadow.shadowBias, 
											pointLightShadow.shadowRadius,
											vPointShadowCoord[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowCameraNear, 
											pointLightShadow.shadowCameraFar);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_DIR_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_DIR_LIGHT_SHADOWS > 0)
								DirectionalLightShadow directionalLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_DIR_LIGHTS; i++) {
								// Use the direction vector for directional lights instead
								l = (inverse(viewMatrix) * vec4(directionalLights[UNROLLED_LOOP_INDEX].direction, 0.0)).xyz;
		
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS)
									directionalLightShadow = directionalLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow( 
										UNROLLED_LOOP_INDEX,
										directionalShadowMap[UNROLLED_LOOP_INDEX], 
										directionalLightShadow.shadowMapSize, 
										directionalLightShadow.shadowBias, 
										directionalLightShadow.shadowRadius, 
										vDirectionalShadowCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_SPOT_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_SPOT_LIGHT_SHADOWS > 0)
								SpotLightShadow spotLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_SPOT_LIGHTS; i++) {
								lpos = (inverse(viewMatrix) * vec4(spotLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS)
									spotLightShadow = spotLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow(
										UNROLLED_LOOP_INDEX,
										spotShadowMap[UNROLLED_LOOP_INDEX], 
										spotLightShadow.shadowMapSize, 
										spotLightShadow.shadowBias, 
										spotLightShadow.shadowRadius, 
										vSpotLightCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						t = clamp(t, 0.0, 1.0);
				
					#endif

				} else if (positioning == 1) {
					
					vec3 origin = mix(position, worldPosition, float(isWorldSpace));
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	

				} else {

					vec3 origin = worldPosition;
					vec3 source = cameraPosition - offset;
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	
					
				}

				if (noiseStrength > 0.0) {
					// Distort with noise
					vec3 st = position / noiseScale;
					
					// Voronoi "smooth" noise
					float noise = 1.0 - voronoiNoise(st).x;

					// Voronoi cellular noise
					//float noise = 1.0 - rand(voronoiNoise(st).z);

					// Position warp noise
					// vec3 offset = vec3(
					// 	simplex3d(st),
					// 	simplex3d(st + vec3(111.1, 143.89, 217.19)),
					// 	simplex3d(st + vec3(171.1, 247.89, 117.23))
					// );
					// st += offset;
					// float noise = valueNoise(st);

					t += noise * noiseStrength;
				}

				t = clamp(t, 0.0, 1.0);

				// Compute ramp color
				float p;
				vec4 color = colors[0];
				for (int i = 1; i < COLORS_MAX; i++) {
					p = clamp((t - steps[i-1]) / (steps[i] - steps[i-1]), 0.0, 1.0);
					color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
				}

				// Incorporate custom shadow color
				if (positioning == 0) {

					vec3 blendedShadow = mix(color.rgb, shadowColor.rgb, shadowColor.a);
					color.rgb = mix(blendedShadow, color.rgb, shadow);
				
				}

				// Accumulate alpha as usual
				float lalpha = alpha * color.a * mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;

				return color.xyz;

            }`,[oa.simplex,e,n,r])}}();var L_e=function(){return{textureBicubic:new Ze(`float w0( float a ) {
            return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
        }
    
        float w1( float a ) {
            return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
        }
    
        float w2( float a ){
            return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
        }
    
        float w3( float a ) {
            return ( 1.0 / 6.0 ) * ( a * a * a );
        }
    
        // g0 and g1 are the two amplitude functions
        float g0( float a ) {
            return w0( a ) + w1( a );
        }
    
        float g1( float a ) {
            return w2( a ) + w3( a );
        }
    
        // h0 and h1 are the two offset functions
        float h0( float a ) {
            return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
        }
    
        float h1( float a ) {
            return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
        }
    
        vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
            uv = uv * texelSize.zw + 0.5;
    
            vec2 iuv = floor( uv );
            vec2 fuv = fract( uv );
    
            float g0x = g0( fuv.x );
            float g1x = g1( fuv.x );
            float h0x = h0( fuv.x );
            float h1x = h1( fuv.x );
            float h0y = h0( fuv.y );
            float h1y = h1( fuv.y );
    
            vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
            vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
            vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
            vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
    
            return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) + 
                   g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
        }

        vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
            vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
            vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
            vec2 fLodSizeInv = 1.0 / fLodSize;
            vec2 cLodSizeInv = 1.0 / cLodSize;
            vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
            vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
            return mix( fSample, cSample, fract( lod ) );
        }`)}}();function k_e(e,t){return e>=t?new oe(t/e,1):new oe(1,e/t)}var Jj=class extends Kn{constructor(e,t,n,i,r,o,a,s){super("v3"),this.nodeType="Transmission",this.thickness=e,this.ior=t,this.roughness=n,this.transmissionSamplerSize=i,this.transmissionSamplerMap=r,this.transmissionDepthMap=o,this.aspectRatio=a,this.alpha=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0,e.isShader("fragment")){e.define("NUM_SAMPLES",6),e.define("BLUR_SLOD",Math.pow(2,Mt.transmissionLod.value)),e.require("worldPosition"),e.requires.worldNormal=!0,e.requires.modelMatrix=!0,e.requires.projectionMatrix=!0,e.addFragmentVariable(this.calpha,"float");let n=e.include(Jj.Nodes.transmission),i=[];return i.push(this.thickness.build(e,"f")),i.push(this.ior.build(e,"f")),i.push(this.roughness.build(e,"f")),i.push(this.transmissionSamplerSize.build(e,"v2")),i.push(this.transmissionSamplerMap.getTexture(e,"t")),i.push(this.transmissionDepthMap.getTexture(e,"t")),i.push(this.aspectRatio.build(e,"v2")),i.push("normal"),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("TransmissionNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},eH=Jj;eH.Nodes=function(){let e=new Ze(`vec3 blur(sampler2D sp, vec2 U, vec2 scale, float lod, sampler2D dm, vec2 unrefractedU, vec2 aspectRatio) {
                // Slightly modified version of this:
                // https://www.shadertoy.com/view/ltScRG

				// Special case for blur == 0.0
				if (lod == 0.0) {
					#ifdef TEXTURE_LOD_EXT
					return texture2DLodEXT( sp, U, 0.0).rgb;
					#else
					return textureLod( sp, U, 0.0).rgb;
					#endif
				}
				
				vec2 texelSize = vec2(1.0) / resolution;
                vec2 halton = haltonSequence[frameIndex];
                float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
                float temporalAngle  = temporalOffset * PI2;
				vec3 res = vec3(0.0);
                vec2 uv = vec2(0.0);
                vec2 offset = vec2(0.0);
                vec2 vogelSample = vec2(0.0);
                for (int i = 0; i < NUM_SAMPLES; i++) {
                    vogelSample =  vogelDiskSample(i, NUM_SAMPLES, temporalAngle) * texelSize;
                    offset = vogelSample * scale * (lod * 10.0); // TODO: used to be hardcoded to 20
                    uv = U + offset;
                    float opaqueDepth = unpackRGBAToDepth(textureLod(dm, uv, lod));
                    if (opaqueDepth != 0.0 && opaqueDepth < gl_FragCoord.z) {
                        uv = unrefractedU;
                        lod = lod > 4.0 ? lod : lod / 2.0;
                    }
                    res += textureLod(sp, uv, lod).rgb;
                }
                return res / float(NUM_SAMPLES);
            }`),t=new Ze(`vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		        // Direction of refracted light.
		        vec3 refractionVector = refract( -v,  n, 1.0 / ior );
		        
				// Compute rotation-independant scaling of the model matrix.
		        vec3 modelScale;
		        modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		        modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		        modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );

		        // The thickness is specified in local space
		        return normalize( refractionVector ) * thickness * modelScale;
	        }`),n=new Ze(`float applyIorToRoughness( float roughness, float ior ) {
				// Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and
				// an IOR of 1.5 results in the default amount of microfacet refraction.
				return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
			}`),i=new Ze(`vec3 getTransmissionSample( vec2 fragCoord, float roughness, float ior, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 unrefractedCoords, vec2 aspectRatio) {
				// Threejs exports do not pass a depth map to this shader, so we have to fallback to the "Threejs method of blurring" - see
				// also the code in convertTransmission.ts, which runs during export
				#ifdef IS_THREEJS_EXPORT
					float lod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness / 5.0, ior);
					return textureBicubic(transmissionSamplerMap, fragCoord.xy, lod).rgb;
				#else
					float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
					float lod = applyIorToRoughness(roughness, ior);
					return blur(transmissionSamplerMap, fragCoord, vec2(lod), min(framebufferLod / 5.5, 8.5), transmissionDepthMap, unrefractedCoords, aspectRatio);
				#endif
			}`,[L_e.textureBicubic,n,e]),r=new Ze(`vec3 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;

				// Project refracted vector on the framebuffer, while mapping to normalized device coordinates.
				vec4 ndcPos = projMatrix * viewMatrix *  vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;

				vec4 ndcPosUnrefracted = projMatrix * viewMatrix * vec4(position, 1.0 );
				vec2 unrefractedCoords = ndcPosUnrefracted.xy / ndcPosUnrefracted.w;
				unrefractedCoords += 1.0;
				unrefractedCoords /= 2.0;

				// Sample framebuffer to get pixel the refracted ray hits.
				return getTransmissionSample( refractionCoords, roughness, ior, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, unrefractedCoords, aspectRatio );
    		}`,[i,t]);return{transmission:new Ze(`vec3 transmission(float thickness, float ior, float roughness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio, vec3 normal, float mask, float alpha, out float calpha) {
                vec3 v = vec3(0.);
                if (isOrthographic) {
                    v = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
                } else {
                    v = normalize(vWPosition - cameraPosition);
                }
                vec3 transmission = getIBLVolumeRefraction(vWNormal, -v, roughness,  vWPosition, modelMatrix, viewMatrix, projectionMatrix, ior, thickness, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, aspectRatio );
                
				float lalpha = alpha * mask;
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * alpha;

				return transmission;
            }`,[r])}}();var JD=(e=>(e.NOISE="noise",e.MAP="map",e))(JD||{}),tH=class extends Kn{constructor(e,t,n,i,r,o,a,s,l,c,d){super("v3"),this.displacementTypeIndex=new ni(0),this.nodeType="VertexDisplacement",this.intensity=e,this.movementOrTexture=t,Object.values(JD)[this.displacementTypeIndex.value]==="map"&&(this.mat=new Fj(this.movementOrTexture.value.matrix)),this.cropOrOffset=n,this.scale=c,this.noiseFunctionIndex=d,this.voronoiStyle=i,this.smoothness=r,this.seed=o,this.highCut=a,this.lowCut=s,this.quality=l}generate(e,t){if(e.isShader("vertex")){e.define("USE_LAYER_DISPLACE");let n,i=[];switch(i.push("displaced_position"),i.push("displaced_normal"),Object.values(JD)[this.displacementTypeIndex.value]){case"map":{n=e.include(tH.Nodes.map),i.push(this.movementOrTexture.getTexture(e,"t")),i.push("uv"),i.push(this.cropOrOffset.build(e,"f")),this.mat&&i.push(this.mat.build(e,"mat3"));break}case"noise":{let r=Object.values(LT)[this.noiseFunctionIndex.value],o=new Ze(`vec3 orthogonal(vec3 v) {
							return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
						}`),a=r=="voronoi"?`
					float v = ${r}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1), voronoiStyle, smoothness, seed, quality);
					v = remap(v, lowCut, highCut, 0.0, 1.0);
					v = smax(v, 0.0, smoothness * 0.25);
					v = smin(v, 1.0, smoothness * 0.25);

					return p + n * v * intensity;
					`:`
					return p + n * ${r}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1)) * intensity;
					`,s=new Ze(`vec3 distorted(vec3 p, vec3 n, float scale, float intensity, vec3 offset, float neighbour_offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality) {
							${a}
						}`,[oa.simplex,oa.simplexFractal,oa.simplexAshima,oa.fbm,oa.perlin,oa.voronoi]),l=new Ze(`vec3 vertexDisplacementNoise(vec3 position, vec3 normal, float scale, vec3 offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality, float intensity, out vec3 displaced_normal) {
							vec3 displaced_position = distorted(position, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							vec3 tangent1 = orthogonal(normal);
							vec3 tangent2 = normalize(cross(normal, tangent1));

                            // TODO(Max): The distance to the neighbors was originally scaled by 0.1.
                            // This caused some small oval/circular visual artifacts in the lighting.
                            // For now, simply using neighbors further away betters the problem,
                            // but we should figure out the underlying cause when we have some time.
                            // Maybe its related to how we calculate the tangent and bitangent?
							vec3 nearby1 = position + tangent1;
							vec3 nearby2 = position + tangent2;
							vec3 distorted1 = distorted(nearby1, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							vec3 distorted2 = distorted(nearby2, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
							return displaced_position;
						}`,[s,o]);n=e.include(l),i.push(this.scale.build(e,"f")),i.push(this.cropOrOffset.build(e,"v3")),i.push(this.movementOrTexture.build(e,"f")),i.push(this.voronoiStyle.build(e,"i")),i.push(this.smoothness.build(e,"f")),i.push(this.seed.build(e,"f")),i.push(this.highCut.build(e,"f")),i.push(this.lowCut.build(e,"f")),i.push(this.quality.build(e,"i"));break}}return i.push(this.intensity.build(e,"f")),i.push("displaced_normal"),e.format(n+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("VertexDisplacementNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},nH=tH;nH.Nodes=function(){let e=new Ze(`vec3 orthogonal(vec3 v) {
				return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
			}`),t=new Ze(`float displacementMapTexture(sampler2D tex, float crop, vec2 uv, mat3 mat, vec2 offset) {
				vec2 uvs = (mat * vec3(uv * 2.0 - 1.0, 1.0) / 2.0 + 0.5).xy + offset;
				vec4 tmp = texture2D(tex, uvs);
				vec3 col = tmp.rgb;
				if (crop > 0.5) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						return 0.0;
					}
				}
				return col.r;
			}`);return{map:new Ze(`vec3 vertexDisplacementMap(vec3 position, vec3 normal, sampler2D tex, vec2 uv, float crop, mat3 mat, float intensity, out vec3 displaced_normal) {
				vec3 displaced_position = position + normal * displacementMapTexture(tex, crop, uv, mat, vec2(0.0)) * intensity;
				vec3 tangent1 = normalize(orthogonal(normal));
				vec3 tangent2 = normalize(cross(normal, tangent1));
				vec3 nearby1 = position + tangent1 * 0.1;
				vec3 nearby2 = position + tangent2 * 0.1;
				vec3 distorted1 = nearby1 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				vec3 distorted2 = nearby2 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
				return displaced_position;
			}`,[e,t])}}();var Mt={normalRenderTarget:new Hc,normalRenderTargetDepth:new Hc,transmissionRenderTarget:new Hc,aspectRatio:new qr,transmissionSize:new qr(2048,2048),transmissionRenderTargetDepth:new Hc,aoRenderTarget:new Hc,aoEnabled:new Bo,pixelRatioNode:new it(1),resolution:new qr,penumbraSize:new Eh(5,.5),frameIndex:new ni(0),transmissionLod:new ni(2)};for(let e of Object.values(Mt))e.isRenderGlobal=!0;var iH={skiaWasmUrl:"https://unpkg.com/@splinetool/ui-wasm@1.1.7/build/ui.wasm"},kT=class extends pr{constructor(){super("basic"),this.nodeType="Basic",this.color=new Li(Ba),this.shadingAlpha=new it(1),this.shadingBlend=new ni(0),this.previousModelViewMatrix=new Zl,this.previouseProjectionMatrix=new Zl}get category(){return"phong"}generate(e){let t;if(e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:Mt.frameIndex}),e.mergeUniform({resolution:Mt.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform($f.merge([Xe.fog])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>"].join(`
`));let i=["#include <beginnormal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","	vNormal = transformedNormal;","#endif"),i.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join(`
`)}else{this.color===void 0&&(this.color=new Li(Ba)),this.color.analyze(e,{slot:"color"}),this.alpha&&this.alpha.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"});let n=this.color.flow(e,"c",{slot:"color"}),i=this.alpha?this.alpha.flow(e,"f"):void 0,r=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,o=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0;e.requires.transparent=i!==void 0,e.addParsCode(["varying vec3 vWPosition;","#include <fog_pars_fragment>","#include <dithering_pars_fragment>","varying vec3 vViewPosition;","#include <normal_pars_fragment>"].join(`
`));let a=["#include <normal_fragment_begin>",n.code];i&&a.push(i.code,"#ifdef ALPHATEST"," if ( "+i.result+" <= ALPHATEST ) discard;","#endif"),o?a.push(o.code,`vec3 outgoingLight = ${n.result};`,`vec3 finalColor = spe_blend(outgoingLight, ${o.result}, 1.0, SPE_BLENDING_NORMAL);`):a.push(`vec3 finalColor = ${n.result};`);let s="1.0";this.mask&&(this.mask.analyze(e),s=`luminance(${this.mask.flow(e,"v3").result})`),i?a.push(`gl_FragColor = vec4( finalColor, accumAlpha * ${i.result} * ${s} );`):a.push("gl_FragColor = vec4("+n.result+", 1.0 );"),r&&a.push(`gl_FragColor.a *= ${r.result};`),a.push("#include <fog_fragment>","#include <dithering_fragment>"),t=a.join(`
`)}return t}},F_e=class extends pr{constructor(){super("lambert"),this.nodeType="Lambert",this.color=new Li(Ba),this.emissive=new Li(0),this.emissiveIntensity=new it(1),this.previousModelViewMatrix=new Zl,this.previouseProjectionMatrix=new Zl,this.shadingAlpha=new it(1),this.shadingBlend=new ni(0),this.occlusion=new Bo(!0)}get category(){return"lambert"}build(e){let t;if(e.define("LAMBERT"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:Mt.frameIndex}),e.mergeUniform({resolution:Mt.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform($f.merge([Xe.fog,Xe.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let i=["#include <beginnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>",`
					vec3 diffuse = vec3( 1.0 );
					GeometricContext geometry;
					geometry.position = mvPosition.xyz;
					geometry.normal = normalize( transformedNormal );
					geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
				`),i.push(`
					GeometricContext backGeometry;
					backGeometry.position = geometry.position;
					backGeometry.normal = -geometry.normal;
					backGeometry.viewDir = geometry.viewDir;
					vLightFront = vec3( 0.0 );
					vIndirectFront = vec3( 0.0 );
					#ifdef DOUBLE_SIDED
						vLightBack = vec3( 0.0 );
						vIndirectBack = vec3( 0.0 );
					#endif
					IncidentLight directLight;
					float dotNL;
					vec3 directLightColor_Diffuse;
					vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
					vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
					#ifdef DOUBLE_SIDED
						vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
						vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
					#endif
					#if NUM_POINT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
							getPointLightInfo( pointLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_SPOT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
							getSpotLightInfo( spotLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_DIR_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
							getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_HEMI_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
							vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
							#ifdef DOUBLE_SIDED
								vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
							#endif
						}
						#pragma unroll_loop_end
					#endif
				`,"	#include <shadowmap_vertex>","	#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join(`
`)}else{e.mergeUniform({penumbraSize:Mt.penumbraSize}),e.mergeUniform({frameIndex:Mt.frameIndex}),e.mergeUniform({aoMap:Mt.aoRenderTarget}),e.mergeUniform({aoEnabled:Mt.aoEnabled}),this.color===void 0&&(this.color=new Li(Ba)),this.color.analyze(e,{slot:"color"}),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let n=this.color.flow(e,"c",{slot:"color"}),i=this.emissive.flow(e,"c",{slot:"emissive"}),r=this.emissiveIntensity.flow(e,"f",{slot:"emissive"}),o=this.occlusion.flow(e,"b",{slot:"occlusion"}),a=this.shadingAlpha.flow(e,"f"),s=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0,d=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=c!==void 0,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#include <normal_pars_fragment>","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <fog_pars_fragment>","#include <shadowmap_pars_fragment>","#include <shadowmask_pars_fragment>","#include <clipping_planes_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let u=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx, viewdy));
				bool isFrontFacing = (dot(normal, faceNormal) >= 0.0);
				`,"#include <clipping_planes_fragment>"];u.push(n.code,"vec3 diffuseColor = "+n.result+";","ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );"),c&&u.push(c.code,"#ifdef ALPHATEST","if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),u.push("#ifdef DOUBLE_SIDED","	reflectedLight.indirectDiffuse += ( isFrontFacing ) ? vIndirectFront : vIndirectBack;","#else","	reflectedLight.indirectDiffuse += vIndirectFront;","#endif","#include <lightmap_fragment>","reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );","#ifdef DOUBLE_SIDED","	reflectedLight.directDiffuse = ( isFrontFacing ) ? vLightFront : vLightBack;","#else","	reflectedLight.directDiffuse = vLightFront;","#endif","reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();"),i&&u.push(i.code,"reflectedLight.directDiffuse += "+i.result+" * "+r.result+";"),u.push("vec3 ao = aoEnabled && "+o.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = (reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) ;");let h="1.0";this.mask&&(this.mask.analyze(e),h=`luminance(${this.mask.flow(e,"v3").result})`),u.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${a.result} * ${h} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${a.result} * ${h}, ${s.result} );

					outgoingLight *= ao;
				}
				`),l&&u.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),c?u.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result} );`):u.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),d&&u.push(`gl_FragColor.a *= ${d.result};`),u.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=u.join(`
`)}return t}},Xf=function(){let e=new Ze(`vec2 dHdxy(sampler2D bumpMap, vec2 bumpMapUv, float bumpScale) {

            // Gradient of UVs w.r.t. X coordinate (in screen-space)
            vec2 dSTdx = dFdx(bumpMapUv);

            // Gradient of UVs w.r.t. Y coordinate (in screen-space)
            vec2 dSTdy = dFdy(bumpMapUv);
            
            // Forward differencing
            float Hll = bumpScale * luminance(texture(bumpMap, bumpMapUv).rgb);
            float dBx = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdx).rgb) - Hll;
            float dBy = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdy).rgb) - Hll;
            
            return vec2( dBx, dBy );
        }`),t=new Ze(`vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
            vec3 vSigmaX = dFdx( surf_pos.xyz );
            vec3 vSigmaY = dFdy( surf_pos.xyz );
            vec3 vN = surf_norm; // normalized
            
            vN = normalize(vN);

            vec3 R1 = cross( vSigmaY, vN );
            vec3 R2 = cross( vN, vSigmaX );

            R1 = normalize(R1);
            R2 = normalize(R2);
    
            float fDet = dot( vSigmaX, R1 ) * faceDirection;
    
            vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
            return normalize( abs( fDet ) * vN - vGrad );
        }`);return{dHdxy:e,perturbNormalArb:t}}(),N_e=class extends pr{constructor(){super("phong"),this.nodeType="Phong",this.color=new Li(Ba),this.specular=new Li(1118481),this.shininess=new it(30),this.previousModelViewMatrix=new Zl,this.previouseProjectionMatrix=new Zl,this.shadingAlpha=new it(1),this.shadingBlend=new ni(0),this.occlusion=new Bo(!0)}get category(){return"phong"}build(e){let t;if(e.define("PHONG"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:Mt.frameIndex}),e.mergeUniform({resolution:Mt.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform($f.merge([Xe.fog,Xe.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let i=["#include <beginnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join(`
`)}else{e.mergeUniform({penumbraSize:Mt.penumbraSize}),e.mergeUniform({frameIndex:Mt.frameIndex}),e.mergeUniform({aoMap:Mt.aoRenderTarget}),e.mergeUniform({aoEnabled:Mt.aoEnabled}),this.color===void 0&&(this.color=new Li(Ba)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e);let n=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let i=this.color.flow(e,"c",{slot:"color"}),r=this.specular.flow(e,"c"),o=this.shininess.flow(e,"f"),a=this.shadingAlpha.flow(e,"f"),s=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0,d=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=c!==void 0,e.addParsCode(["varying vec3 vWPosition;","uniform vec3 emissive;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_phong_pars_fragment>","#include <shadowmap_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let u=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	BlinnPhongMaterial material;"];if(this.bumpMap){e.include(Xf.dHdxy),e.include(Xf.perturbNormalArb);let p=this.bumpMap.texture.flow(e,"t"),m=this.bumpMap.flow(e,"v3"),g=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",v="";this.bumpMap.projection.value===4?v=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${p.result}, uv0, ${g});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${p.result}, uv1, ${g});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${p.result}, uv2, ${g});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:v=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${p.result}, bumpMapCachedUv, ${g});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,u.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${m.result};
					${v}
					`)}u.push(i.code,"	vec3 diffuseColor = "+i.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","	vec3 totalEmissiveRadiance = emissive;",r.code,"	vec3 specular = "+r.result+";",o.code,"	float shininess = max( 0.0001, "+o.result+" );","	float specularStrength = 1.0;"),c&&u.push(c.code,"#ifdef ALPHATEST","if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),u.push("material.diffuseColor = diffuseColor;"),u.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),u.push("vec3 ao = aoEnabled && "+n.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;");let h="1.0";this.mask&&(this.mask.analyze(e),h=`luminance(${this.mask.flow(e,"v3").result})`),u.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${a.result} * ${h} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${a.result} * ${h}, ${s.result} );
					
					outgoingLight *= ao;
				}
				`),l&&u.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),c?u.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result});`):u.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),d&&u.push(`gl_FragColor.a *= ${d.result};`),u.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=u.join(`
`)}return t}},z_e=class extends pr{constructor(){super("standard"),this.nodeType="Standard",this.color=new Li(Ba),this.roughness=new it(.3),this.metalness=new it(0),this.reflectivity=new it(.5),this.previousModelViewMatrix=new Zl,this.previouseProjectionMatrix=new Zl,this.shadingAlpha=new it(1),this.shadingBlend=new ni(0),this.occlusion=new Bo(!0)}get category(){return"physical"}build(e){let t;if(e.define("STANDARD"),e.requires.lights=!0,e.extensions.derivatives=!0,e.extensions.shaderTextureLOD=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:Mt.frameIndex}),e.mergeUniform({resolution:Mt.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform($f.merge([Xe.fog,Xe.lights])),Xe.LTC_1&&(e.uniforms.ltc_1={value:void 0},e.uniforms.ltc_2={value:void 0}),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let i=["#include <beginnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <shadowmap_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join(`
`)}else{e.mergeUniform({penumbraSize:Mt.penumbraSize}),e.mergeUniform({frameIndex:Mt.frameIndex}),e.mergeUniform({aoMap:Mt.aoRenderTarget}),e.mergeUniform({aoEnabled:Mt.aoEnabled});let n={gamma:!0};this.color===void 0&&(this.color=new Li(Ba)),this.color.analyze(e,{slot:"color",context:n}),this.roughness.analyze(e),this.metalness.analyze(e);let i=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e),this.reflectivity&&this.reflectivity.analyze(e);let r=this.color.flow(e,"c",{slot:"color",context:n}),o=this.roughness.flow(e,"f"),a=this.metalness.flow(e,"f"),s=this.shadingAlpha.flow(e,"f"),l=this.shadingBlend.flow(e,"i"),c=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,d=this.alpha?this.alpha.flow(e,"f"):void 0,u=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,h=this.reflectivity?this.reflectivity.flow(e,"f"):void 0;e.requires.transparent=d!==void 0,e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <dithering_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_physical_pars_fragment>","#include <shadowmap_pars_fragment>"].join(`
`));let p=["#include <clipping_planes_fragment>","	#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	PhysicalMaterial material;","	material.diffuseColor = vec3( 1.0 );"];if(this.bumpMap){e.include(Xf.dHdxy),e.include(Xf.perturbNormalArb);let g=this.bumpMap.texture.flow(e,"t"),v=this.bumpMap.flow(e,"v3"),b=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",_="";this.bumpMap.projection.value===4?_=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${g.result}, uv0, ${b});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${g.result}, uv1, ${b});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${g.result}, uv2, ${b});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:_=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${g.result}, bumpMapCachedUv, ${b});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,p.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${v.result};
					${_}
					`)}if(p.push(r.code,"	vec3 diffuseColor = "+r.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",a.code,"	float metalnessFactor = "+a.result+";"),this.roughnessMap){let g=this.roughnessMap.texture.flow(e,"t"),v=this.roughnessMap.flow(e,"v3"),b="";this.roughnessMap.projection.value===4?b=`
					float roughnessChange = 1.0;
					{
						vec2 uv0 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						float r0 = luminance(texture(${g.result}, uv0).rgb) * roughnessScale;
						float r1 = luminance(texture(${g.result}, uv1).rgb) * roughnessScale;
						float r2 = luminance(texture(${g.result}, uv2).rgb) * roughnessScale;

						roughnessChange = (r0 * weights.z + r1 * weights.x + r2 * weights.y);
					}
					float roughnessFactor = roughnessChange * ${o.result};
					`:b=`
					vec2 roughnessMapCachedUv = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs;

					vec4 vals = texture(${g.result},  roughnessMapCachedUv);
					float roughnessFactor = luminance(vals.rgb) * ${o.result};
					`,p.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${v.result};

					const float roughnessScale = 1.0;

					${b}
				`)}else p.push(o.code,"	float roughnessFactor = "+o.result+";");d&&p.push(d.code,"#ifdef ALPHATEST","	if ( "+d.result+" <= ALPHATEST ) discard;","#endif"),p.push("vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );"),p.push("material.diffuseColor = diffuseColor * ( 1.0 - metalnessFactor );","material.roughness = max( roughnessFactor, 0.0525 );","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.roughness = clamp( roughnessFactor, 0.04, 1.0 );"),h?p.push(h.code,"material.specularColor = mix( vec3( 0.16 * pow2( "+h.result+" ) ), diffuseColor, metalnessFactor );"):p.push("material.specularColor = mix( vec3( 0.04 ), diffuseColor, metalnessFactor );"),p.push("#include <lights_fragment_begin>"),p.push("#include <lights_fragment_end>"),p.push("vec3 ao = aoEnabled && "+i.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular;");let m="1.0";this.mask&&(this.mask.analyze(e),m=`luminance(${this.mask.flow(e,"v3").result})`),p.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${s.result} * ${m} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${s.result} * ${m}, ${l.result} );
					
					outgoingLight *= ao;
				}
				`),c&&p.push(c.code,`outgoingLight = spe_blend(outgoingLight, ${c.result}, 1.0, SPE_BLENDING_NORMAL);`),d?p.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${d.result} );`):p.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),u&&p.push(`gl_FragColor.a *= ${u.result};`),p.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=p.join(`
`)}return t}},B_e=class extends pr{constructor(){super("toon"),this.nodeType="Toon",this.color=new Li(Ba),this.specular=new Li(1118481),this.shininess=new it(30),this.previousModelViewMatrix=new Zl,this.previouseProjectionMatrix=new Zl,this.shadingAlpha=new it(1),this.shadingBlend=new ni(0)}get category(){return"toon"}build(e){let t;if(e.define("TOON"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:Mt.frameIndex}),e.mergeUniform({resolution:Mt.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform($f.merge([Xe.fog,Xe.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let i=["#include <beginnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("	#include <project_vertex>","	#include <fog_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join(`
`)}else{e.mergeUniform({penumbraSize:Mt.penumbraSize}),e.mergeUniform({frameIndex:Mt.frameIndex}),e.mergeUniform({aoMap:Mt.aoRenderTarget}),e.mergeUniform({aoEnabled:Mt.aoEnabled}),this.color===void 0&&(this.color=new Li(Ba)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let n=this.color.flow(e,"c",{slot:"color"}),i=this.specular.flow(e,"c"),r=this.shininess.flow(e,"f"),o=this.shadingAlpha.flow(e,"f"),a=this.shadingBlend.flow(e,"i"),s=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,l=this.alpha?this.alpha.flow(e,"f"):void 0,c=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=l!==void 0,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vWPosition;","#include <normal_pars_fragment>","#include <gradientmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <dithering_pars_fragment>",`
					varying vec3 vViewPosition;
					struct ToonMaterial {
						vec3	diffuseColor;
						vec3	specularColor;
						float	specularShininess;
						float	specularStrength;
					};
					void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
			
						reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
						reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
					}
					void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
					}
					#define RE_Direct				RE_Direct_Toon
					#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
					#define Material_LightProbeLOD( material )	(0)
					`,"#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>"].join(`
`));let d=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	ToonMaterial material;"];if(this.bumpMap){e.include(Xf.dHdxy),e.include(Xf.perturbNormalArb);let h=this.bumpMap.texture.flow(e,"t"),p=this.bumpMap.flow(e,"v3"),m=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",g="";this.bumpMap.projection.value===4?g=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${h.result}, uv0, ${m});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${h.result}, uv1, ${m});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${h.result}, uv2, ${m});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:g=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${h.result}, bumpMapCachedUv, ${m});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,d.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${p.result};
					${g}
					`)}d.push(n.code,"	vec3 diffuseColor = "+n.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",i.code,"	vec3 specular = "+i.result+";",r.code,"	float shininess = max( 0.0001, "+r.result+" );","	float specularStrength = 1.0;"),l&&d.push(l.code,"#ifdef ALPHATEST","if ( "+l.result+" <= ALPHATEST ) discard;","#endif"),d.push("material.diffuseColor = diffuseColor;"),d.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),d.push("vec3 ao = aoEnabled ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) * ao) + reflectedLight.directSpecular;");let u="1.0";this.mask&&(this.mask.analyze(e),u=`luminance(${this.mask.flow(e,"v3").result})`),d.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${o.result} * ${u} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${o.result} * ${u}, ${a.result} );
				}
				`),s&&d.push(s.code,`outgoingLight = spe_blend(outgoingLight, ${s.result}, 1.0, SPE_BLENDING_NORMAL);`),l?d.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${l.result} );`):d.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),c&&d.push(`gl_FragColor.a *= ${c.result};`),d.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=d.join(`
`)}return t}},V_e=class{constructor(e=1e3*10){this.timeout=e,this.cache=new Map,this.head={data:null,time:0,src:null,next:null,prev:null},this.tail={data:null,time:1/0,src:null,next:null,prev:null},this.hasClean=!1,this.head.next=this.tail,this.tail.prev=this.head}log(...e){}remove(e){let t=this.cache.get(e);t&&(this.dispose(e,t.data),this.cache.delete(e),t.prev.next=t.next,t.next.prev=t.prev)}scheduleCleanup(){this.hasClean||(this.log("scheduled cleanup"),this.hasClean=!0,setTimeout(()=>{this.hasClean=!1,this.log("cleaning");let e=Date.now(),t=this.head.next;for(;t.time<e-this.timeout;)this.dispose(t.src,t.data),this.cache.delete(t.src),t=t.next,t.prev=this.head,this.head.next=t;this.head.next!==this.tail?this.scheduleCleanup():this.log("no more cleanup")},this.timeout+1e3))}has(e){return this.cache.get(e)?.data}load(e){let t=Date.now(),n=this.cache.get(e);return n===void 0?(n={data:this.create(e),src:e,time:t,next:null,prev:null},this.cache.set(e,n)):(n.time=t,n.prev.next=n.next,n.next.prev=n.prev),n.prev=this.tail.prev,n.next=this.tail,this.tail.prev.next=n,this.tail.prev=n,this.scheduleCleanup(),n.data}},U_e=class extends V_e{create(e){return URL.createObjectURL(new Blob([e]))}dispose(e,t){URL.revokeObjectURL(t)}},UE;function j_e(e){return typeof e=="string"?e:(UE||(UE=new U_e),UE.load(e))}var H_e=class{constructor(e,t){this.data=e,this.cache=t,this.refCount=0}deref(){this.refCount,this.refCount-=1,this.refCount===0&&(this.cache.remove(this),this.dispose())}dispose(){this.refCount}},G_e=class{constructor(){this.cache=new Map}remove(e){this.cache.delete(e.data)}load(e){let t=this.cache.get(e);return t===void 0&&(t=this.create(e),this.cache.set(e,t)),t.refCount+=1,t}},rH=class extends H_e{constructor(e,t){super(e,t.imageHolderCache),this.data=e,this.shared=t,this.loaded=!1,this.isVideo=!1,this.isCanvas=!1,this._cache={1e3:{},1001:{},1002:{}},this.isVideo=e.type==="video",this.isCanvas=e.nodeName==="CANVAS",this.updateSrc(this.isCanvas?e:e.data)}updateSrc(e){return ri(this,null,function*(){if(typeof document>"u")return;this.disposeTextures(),this.loaded=!1;let t=()=>{this.loaded=!0;for(let i of Object.values(this._cache))for(let r of Object.values(i))r&&(r.image=this.img,r.needsUpdate=!0);this.shared.requestRender()};if(this.isCanvas)this.img=e,this.loaded=!0;else if(this.isVideo){if(this.img=document.createElement("video"),this.img.preload="auto",this.img.playsInline=!0,this.img.currentTime=.01,typeof e!="string"){var n=new FileReader;n.readAsDataURL(new Blob([e],{type:"video/mp4"}));let i;yield new Promise(r=>{n.onloadend=o=>{i=o.target?.result,r(null)}}),this.img.src=i}else this.img.src=e;this.img.onloadeddata=()=>{t()}}else this.img=new Image,this.img.src=j_e(e),this.img.onload=t})}getTexture(e,t=1008){let n=this._cache[e]?.[t];if(n)return n;{let i;return this.isCanvas&&(i=new Ile(this.img,void 0,e,e,void 0,t)),this.isVideo?i=new Tle(this.img,void 0,e,e):i=new wi(this.img,void 0,e,e,void 0,t),this.loaded&&(i.needsUpdate=!0),this._cache[e]===void 0&&(this._cache[e]={}),this._cache[e][t]=i,i}}setNeedsUpdate(e){for(let t of Object.values(this._cache))for(let n of Object.values(t))n&&(n.needsUpdate=e)}disposeTextures(){for(let[e,t]of Object.entries(this._cache))for(let[n,i]of Object.entries(t))i?.dispose(),this._cache[e][n]=void 0}dispose(){super.dispose(),this.disposeTextures()}},Zd=class extends rH{};function W_e(e,t){var n=Q_e(t);return n.formatToParts?Y_e(n,e):X_e(n,e)}var q_e={year:0,month:1,day:2,hour:3,minute:4,second:5};function Y_e(e,t){try{for(var n=e.formatToParts(t),i=[],r=0;r<n.length;r++){var o=q_e[n[r].type];o>=0&&(i[o]=parseInt(n[r].value,10))}return i}catch(a){if(a instanceof RangeError)return[NaN];throw a}}function X_e(e,t){var n=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[i[3],i[1],i[2],i[4],i[5],i[6]]}var jE={};function Q_e(e){if(!jE[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="\u200E06\u200E/\u200E25\u200E/\u200E2014\u200E \u200E00\u200E:\u200E00\u200E:\u200E00";jE[e]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return jE[e]}function oH(e,t,n,i,r,o,a){var s=new Date(0);return s.setUTCFullYear(e,t,n),s.setUTCHours(i,r,o,a),s}var kz=36e5,Z_e=6e4,HE={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function aH(e,t,n){var i,r;if(!e||(i=HE.timezoneZ.exec(e),i))return 0;var o;if(i=HE.timezoneHH.exec(e),i)return o=parseInt(i[1],10),Fz(o)?-(o*kz):NaN;if(i=HE.timezoneHHMM.exec(e),i){o=parseInt(i[1],10);var a=parseInt(i[2],10);return Fz(o,a)?(r=Math.abs(o)*kz+a*Z_e,o>0?-r:r):NaN}if(J_e(e)){t=new Date(t||Date.now());var s=n?t:$_e(t),l=eA(s,e),c=n?l:K_e(t,l,e);return-c}return NaN}function $_e(e){return oH(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function eA(e,t){var n=W_e(e,t),i=oH(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),r=e.getTime(),o=r%1e3;return r-=o>=0?o:1e3+o,i-r}function K_e(e,t,n){var i=e.getTime(),r=i-t,o=eA(new Date(r),n);if(t===o)return t;r-=o-t;var a=eA(new Date(r),n);return o===a?o:Math.max(o,a)}function Fz(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var Nz={};function J_e(e){if(Nz[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Nz[e]=!0,!0}catch{return!1}}var eCe=id(yne(),1),zz=id(bne(),1),tCe=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,nCe=tCe,GE=36e5,Bz=6e4,iCe=2,Vo={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:nCe};function rCe(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n=t||{},i=n.additionalDigits==null?iCe:(0,eCe.default)(n.additionalDigits);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var r=oCe(e),o=aCe(r.date,i),a=o.year,s=o.restDateString,l=sCe(s,a);if(isNaN(l))return new Date(NaN);if(l){var c=l.getTime(),d=0,u;if(r.time&&(d=lCe(r.time),isNaN(d)))return new Date(NaN);if(r.timeZone||n.timeZone){if(u=aH(r.timeZone||n.timeZone,new Date(c+d)),isNaN(u))return new Date(NaN)}else u=(0,zz.default)(new Date(c+d)),u=(0,zz.default)(new Date(c+d+u));return new Date(c+d+u)}else return new Date(NaN)}function oCe(e){var t={},n=Vo.dateTimePattern.exec(e),i;if(n?(t.date=n[1],i=n[3]):(n=Vo.datePattern.exec(e),n?(t.date=n[1],i=n[2]):(t.date=null,i=e)),i){var r=Vo.timeZone.exec(i);r?(t.time=i.replace(r[1],""),t.timeZone=r[1].trim()):t.time=i}return t}function aCe(e,t){var n=Vo.YYY[t],i=Vo.YYYYY[t],r;if(r=Vo.YYYY.exec(e)||i.exec(e),r){var o=r[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(r=Vo.YY.exec(e)||n.exec(e),r){var a=r[1];return{year:parseInt(a,10)*100,restDateString:e.slice(a.length)}}return{year:null}}function sCe(e,t){if(t===null)return null;var n,i,r,o;if(e.length===0)return i=new Date(0),i.setUTCFullYear(t),i;if(n=Vo.MM.exec(e),n)return i=new Date(0),r=parseInt(n[1],10)-1,Uz(t,r)?(i.setUTCFullYear(t,r),i):new Date(NaN);if(n=Vo.DDD.exec(e),n){i=new Date(0);var a=parseInt(n[1],10);return uCe(t,a)?(i.setUTCFullYear(t,0,a),i):new Date(NaN)}if(n=Vo.MMDD.exec(e),n){i=new Date(0),r=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return Uz(t,r,s)?(i.setUTCFullYear(t,r,s),i):new Date(NaN)}if(n=Vo.Www.exec(e),n)return o=parseInt(n[1],10)-1,jz(t,o)?Vz(t,o):new Date(NaN);if(n=Vo.WwwD.exec(e),n){o=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return jz(t,o,l)?Vz(t,o,l):new Date(NaN)}return null}function lCe(e){var t,n,i;if(t=Vo.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),WE(n)?n%24*GE:NaN;if(t=Vo.HHMM.exec(e),t)return n=parseInt(t[1],10),i=parseFloat(t[2].replace(",",".")),WE(n,i)?n%24*GE+i*Bz:NaN;if(t=Vo.HHMMSS.exec(e),t){n=parseInt(t[1],10),i=parseInt(t[2],10);var r=parseFloat(t[3].replace(",","."));return WE(n,i,r)?n%24*GE+i*Bz+r*1e3:NaN}return null}function Vz(e,t,n){t=t||0,n=n||0;var i=new Date(0);i.setUTCFullYear(e,0,4);var r=i.getUTCDay()||7,o=t*7+n+1-r;return i.setUTCDate(i.getUTCDate()+o),i}var cCe=[31,28,31,30,31,30,31,31,30,31,30,31],dCe=[31,29,31,30,31,30,31,31,30,31,30,31];function sH(e){return e%400===0||e%4===0&&e%100!==0}function Uz(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var i=sH(e);if(i&&n>dCe[t]||!i&&n>cCe[t])return!1}return!0}function uCe(e,t){if(t<1)return!1;var n=sH(e);return!(n&&t>366||!n&&t>365)}function jz(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function WE(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}function hCe(e,t,n){var i=rCe(e,n),r=aH(t,i,!0),o=new Date(i.getTime()-r),a=new Date(0);return a.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),a.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),a}function Uo(e,t){return t.color(e)}function Hz(e=new Date,t){let n=t.format,i=e.getSeconds(),r=e;t&&t.timeZone!==null&&(r=hCe(new Date,t.timeZone));let o=r.getHours(),a=r.getMinutes(),s;t.format12h24h==="12ampm"&&(s=o>=12?"PM":"AM");let l=o;t.format12h24h!=="24"&&(l=o%12,l===0&&(l=12));let c,d;switch(n){case"HH:mm:ss":c=[l,a,i];break;case"HH:mm":c=[l,a];break;case"HH":c=[l],s=void 0;break;case"mm":c=[a],s=void 0;break;case"ss":c=[i],s=void 0;break;case"year":d=r.getFullYear();break;case"month":d=r.getMonth()+1;break;case"dayOfYear":d=Math.floor((r.getTime()-new Date(r.getFullYear(),0,0).getTime())/864e5);break;case"dayOfMonth":d=r.getDate();break;case"secondOfDay":d=o*60*60+a*60+i;break;default:console.error("Unknown time format",n),d=0;break}return c!==void 0?{textValue:c,suffix:s}:d}function pCe(e,t){switch(e.type){case"fresnel":return gCe(e,t);case"gradient":return vCe(e,t);case"depth":return yCe(e,t);case"normal":return bCe(e,t);case"noise":return _Ce(e,t);case"rainbow":return CCe(e,t);case"toon":return MCe(e,t);case"outline":return wCe(e,t);case"transmission":return xCe(e,t);case"color":return fCe(e,t);case"pattern":return PCe(e,t)}}function mCe(e){return{type:e.type}}function Ks(e,t){let{alpha:n,mode:i,isMask:r}=e,o=typeof n=="string"?(Number(t.getVariable(n))??100)/100:n;return se(B({},mCe(e)),{alpha:o,mode:i,isMask:r})}function fCe(e,t){return se(B({},Ks(e,t)),{color:Uo(e.color,t)})}function gCe(e,t){let{bias:n,scale:i,intensity:r,factor:o,color:a}=e;return se(B({},Ks(e,t)),{color:Uo(a,t),bias:n,scale:i,intensity:r,factor:o})}function vCe(e,t){let{gradientType:n,smooth:i,colors:r,steps:o,angle:a,offset:s,morph:l}=e;return se(B({},Ks(e,t)),{gradientType:n,smooth:i,colors:r.map(c=>new Et(c[0],c[1],c[2],c[3])),num:r.length,steps:o,offset:new oe(...s),morph:new oe(...l),angle:a})}function yCe(e,t){let{gradientType:n,near:i,far:r,isVector:o,isWorldSpace:a,origin:s,direction:l,colors:c,steps:d,smooth:u}=e;return se(B({},Ks(e,t)),{gradientType:n,near:i,far:r,isVector:o,isWorldSpace:a,origin:new L(...s),direction:l?new L(...l):new L(1,0,0),colors:c.map(h=>h!==void 0?new Et(h[0],h[1],h[2],h[3]):new Et(0,0,0,0)),steps:d.slice(0,c.length),smooth:u})}function bCe(e,t){let{cnormal:n}=e;return se(B({},Ks(e,t)),{cnormal:new L(n[0],n[1],n[2])})}function _Ce(e,t){return se(B({},Ks(e,t)),{scale:e.scale,move:e.move,fA:new oe(...e.fA),fB:new oe(...e.fB),size:new L(...e.size),distortion:new oe(...e.distortion),colorA:Uo(e.colorA,t),colorB:Uo(e.colorB,t),colorC:Uo(e.colorC,t),colorD:Uo(e.colorD,t),noiseType:e.noiseType,voronoiStyle:e.voronoiStyle,highCut:e.highCut,lowCut:e.lowCut,smoothness:e.smoothness,seed:e.seed,quality:e.quality})}function CCe(e,t){return se(B({},Ks(e,t)),{filmThickness:e.filmThickness,movement:e.movement,wavelengths:new L(...e.wavelengths),noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,offset:new L(...e.offset)})}function MCe(e,t){return se(B({},Ks(e,t)),{positioning:e.positioning,colors:e.colors.map(n=>new Et(n[0],n[1],n[2],n[3])),num:e.colors.length,steps:e.steps,source:new L(...e.source),isWorldSpace:e.isWorldSpace,noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,shadowColor:Uo(e.shadowColor,t),offset:new L(...e.offset)})}function wCe(e,t){return se(B({},Ks(e,t)),{outlineColor:Uo(e.outlineColor,t),contourColor:Uo(e.contourColor,t),outlineWidth:e.outlineWidth,contourWidth:e.contourWidth,outlineThreshold:e.outlineThreshold,contourThreshold:e.contourThreshold,outlineSmoothing:e.outlineSmoothing,contourFrequency:e.contourFrequency,contourDirection:new L(...e.contourDirection),positionalLines:e.positionalLines,compensation:e.compensation})}function xCe(e,t){return se(B({},Ks(e,t)),{thickness:e.thickness,ior:e.ior,roughness:e.roughness})}function PCe(e,t){return se(B({},Ks(e,t)),{style:e.style,projection:e.projection,axis:e.axis,blending:e.blending,offset:new oe(...e.offset),colorA:Uo(e.colorA,t),colorB:Uo(e.colorB,t),frequency:new oe(...e.frequency),size:e.size,variation:e.variation,smoothness:e.smoothness,zigzag:e.zigzag,rotation:e.rotation,vertical:new oe(...e.vertical),horizontal:new oe(...e.horizontal),sides:e.sides})}var YM=class extends Kr{},OCe={noise:["noiseType"],texture:["projection","axis","side"],video:["projection","axis","side"],displace:["noiseType"],light:["roughnessMap","bumpMap"],depth:["smooth","isWorldSpace","gradientType","isVector"],pattern:["style","projection","axis"]},SCe={depth:["colors"]};function ECe(e,t,n){if(t==="isMask")return!0;let i=OCe[e.type],r=SCe[e.type];if(r!==void 0){let o=e.color;if(r.includes(t)){let a=o[t]?.value?.length;if(a!==void 0&&a!==n.length)return!0}}return i!==void 0?i.includes(t):!1}function lH(e,t,n){let i=n.uniforms[`f${n.id}_texture`];if(!i)return!1;let r=!1,o=e;if("image"in o){let a=o.image,s=t.image(a),l=i;l.image instanceof Zd||l.image.deref(),l.image=s}if("video"in o){let a=o.video,s=t.video(a),l=i;l.image instanceof Zd||l.image.deref(),l.image=s}if("wrapping"in o){let a=i;a.wrap=o.wrapping}if("minFilter"in o){let a=i;a.minFilter=o.minFilter}if("rotation"in o&&n.uniforms[`f${n.id}_rotation`])return n.uniforms[`f${n.id}_rotation`].value=(o.rotation??0)*et.DEG2RAD,r;if("repeat"in o||"offset"in o||"rotation"in o){let a="mat",s=n.uniforms[`f${n.id}_${a}`];"repeat"in o&&(s.repeat=o.repeat),"offset"in o&&(s.offset=o.offset),"rotation"in o&&(s.rotation=o.rotation??0),s.updateMatrix()}return r}function DCe(e,t,n,i){let r=!1;for(let[o,a]of Object.entries(e)){if(o==="bumpMap"||o==="roughnessMap"){r=!0;continue}if(!o||a===void 0)continue;if(dH(o,n,i,t)){o==="visible"&&n.type==="light"&&(r=!0);continue}n.visible=i.visible;let s=n.uniforms[`f${n.id}_${o}`];if(s&&!(s instanceof IT))switch(r=r||ECe(n,o,a),s.constructor){case Li:if(typeof a=="string"){let l=t.getColor(a);l&&(s.value=l);break}else{let l=a;s.value instanceof YM?s.value=new Kr(l.r,l.g,l.b,l.a):s.setRGBA(l);break}case Nc:if(typeof a=="string"){let l=t.getColor(a);l&&(s.value=l);break}else{let l=a;s.value instanceof YM?s.value=new Kr(l.r,l.g,l.b,l.a):s.value.setRGBA(l.r,l.g,l.b,l.a);break}case qr:{let l=a;s.value.setX(l[0]),s.value.setY(l[1]);break}case ds:{let l=a;s.value.setX(l[0]),s.value.setY(l[1]),s.value.setZ(l[2]);break}case Hc:{lH(a,t,n);break}case Dh:{s.value=a.map(l=>new Et(...l));break}default:{s.value=a;break}}}return r}var rp=(e,t,n)=>Math.max(0,Math.min(1,Number(t.getVariable(typeof e=="number"?e*100:e,n)??100)/100))??1,xy=class{constructor(e,t,n,i,r){this.id=e,this.uuid=t,this.data=n,this.uniforms={};for(let o in i)this.uniforms[`f${this.id}_${o}`]=i[o];for(let o in n)dH(o,this,n,r)}get type(){return this.data.type}static create(e,t,n,i){if(n.type==="light")return Ll.createLigherLayer(e,t,n,i);if(n.type==="texture"||n.type==="video"){let r=n.type==="texture"?i.canvas(n.texture.image)??i.image(n.texture.image):i.video(n.texture.video),o=new $D(r,n.texture.wrapping,n.texture.minFilter??1008),a=new T_e(r),s=new I_e(n.texture.repeat,n.texture.offset,n.texture.rotation??0),l=new it(n.crop?1:0),c=new ni(n.projection??0),d=new ni(["x","y","z"].indexOf(n.axis)??0),u=new ni(n.side??0),h=new qr(n.size?new oe(n.size[0],n.size[1]):new oe(100,100)),p=new it(n.blending??0),m=new it(rp(n.alpha,i)),g=new ni(n.mode??0),v=new Bo(n.isMask??!1),b=new RT(o,a,l,c,d,u,h,p,s,m,g,v),_=new di(b.calpha,"f");return new Ti(e,t,n,{texture:o,textureSize:a,crop:l,projection:c,axis:d,side:u,size:h,blending:p,mat:s,alpha:m,mode:g,isMask:v},b,g,_,v,i)}else if(n.type==="matcap"){let r=i.image(n.texture.image),o=new $D(r,n.texture.wrapping,n.texture.minFilter??1008),a=new it(rp(n.alpha,i)),s=new ni(n.mode??0),l=new Bo(n.isMask??!1),c=new it(n.texture.rotation??0),d=new Gj(o,a,s,l,c),u=new di(d.calpha,"f");return new Ti(e,t,n,{texture:o,alpha:a,mode:s,isMask:l,rotation:c},d,s,u,l,i)}else if(n.type==="displace")if(n.displacementType==="noise"){let r=new ds(new L(...n.offset)),o=new it(n.scale??10),a=new it(n.intensity??8),s=new it(n.movement??1),l=new ni(n.noiseType??0),c=new ni(n.voronoiStyle??0),d=new it(n.smoothness??.5),u=new it(n.seed??0),h=new it(n.highCut??1),p=new it(n.lowCut??0),m=new ni(n.quality??1),g=new nH(a,s,r,c,d,u,h,p,m,o,l);return new cH(e,t,n,{offset:r,scale:o,intensity:a,movement:s,noiseType:l,voronoiStyle:c,smoothness:d,seed:u,highCut:h,lowCut:p,quality:m},g,i)}else throw new Error;else return ICe(e,t,n,i)}updateByOp(e,t,n){let i=e;if(i.path[0]===void 0){if(i.type===0)return"type"in i.props||"category"in i.props||"visible"in i.props?(n.scene.markNeedsUpdateRendererDirty(),!0):DCe(i.props,n.shared,this,t)}else if(i.path[0]==="texture")return"texture"in t||"video"in t?lH(i.props,n.shared,this):!0;return!1}dispose(){if(ACe(this)){let e=this.uniforms[`f${this.id}_texture`];if(!e)return!1;let t=e;t.image instanceof Zd||t.image.deref()}}hasValueByKey(e){return this.uniforms[e]!==void 0}hasValue(e){return this.hasValueByKey(`f${this.id}_${e}`)}setValue(e,t){let n=`f${this.id}_${e}`;this.hasValueByKey(n)&&t!==void 0&&(this.uniforms[n].value=t)}getNode(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t]}getValue(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t].value}getName(e){let t=/f\d+_(.*)/.exec(e);if(t&&t.length>1)return t[1];console.log(`Layer.getName: error ${e}`)}getNames(){let e=[];for(let t in this.uniforms){let n=this.getName(t);n&&e.push(n)}return e}},Ti=class extends xy{constructor(e,t,n,i,r,o,a,s,l){super(e,t,n,i,l),this.params=i,this.color=r,this.mode=o,this.alpha=a,this.isMask=s}},cH=class extends xy{constructor(e,t,n,i,r,o){super(e,t,n,i,o),this.position=r}},Ll=class extends xy{constructor(e,t,n,i,r,o){super(e,t,n,r,o),this.node=i}static createLigherLayer(e,t,n,i){let r,o=new it(rp(n.alpha,i)),a=new ni(n.mode),s=new it(n.bumpMapIntensity),l=new it(rp(n.alphaOverride,i)),c;if(!n.visible)r=new kT,c={};else if(n.category==="lambert"){r=new F_e;let d=new Li(i.color(n.emissive)??0),u=new Bo(n.occlusion??!0);c={emissive:d,occlusion:u},r.emissive=d,r.occlusion=u}else if(n.category==="toon"){r=new B_e;let d=new it(n.shininess??30),u=new Li(i.color(n.specular)??1118481);c={shininess:d,specular:u},r.shininess=d,r.specular=u}else if(n.category==="physical"){r=new z_e;let d=new it(n.roughness??.3),u=new it(n.metalness??0),h=new it(n.reflectivity??.5),p=new Bo(n.occlusion??!0);c={roughness:d,metalness:u,reflectivity:h,occlusion:p},r.roughness=d,r.metalness=u,r.reflectivity=h,r.occlusion=p}else{r=new N_e;let d=new it(n.shininess??30),u=new Li(n.specular!==void 0?i.color(n.specular)??1118481:1118481),h=new Bo(n.occlusion??!0);c={shininess:d,specular:u,occlusion:h},r.shininess=d,r.specular=u,r.occlusion=h}return r.alpha=new it(1),r.shadingAlpha=o,r.shadingBlend=a,r.bumpMapIntensity=s,r.alphaOverride=l,c.alpha=r.shadingAlpha,c.mode=r.shadingBlend,c.bumpMapIntensity=r.bumpMapIntensity,c.alphaOverride=r.alphaOverride,new Ll(e,t,n,r,c,i)}get category(){return this.node.category}};function ACe(e){let t=e instanceof xy?e.type:e;return t==="texture"||t==="video"||t==="displace_map"||t==="matcap"}function as(e){return{alpha:new it(e.alpha??1),mode:new ni(e.mode??0),isMask:new Bo(e.isMask??!1)}}function TCe(e,t,n,i,r){switch(e.type){case"color":{let o=new Li(i.color??Ba),a=as(i),s=new KD(o,a.alpha),l=new di(s.calpha,"f");return new Ti(t,n,e,B({color:o},a),s,a.mode,l,a.isMask,r)}case"fresnel":{let o=new Li(i.color??16777215),a=new it(i.bias??.1),s=new it(i.scale??1),l=new it(i.intensity??2),c=new it(i.factor??1),d=as(i),u=new R_e(o,a,s,l,c,d.alpha,d.mode,d.isMask),h=new di(u.calpha,"f");return new Ti(t,n,e,B({color:o,bias:a,scale:s,intensity:l,factor:c},d),u,d.mode,h,d.isMask,r)}case"rainbow":{let o=new it(i.filmThickness??30),a=new it(i.movement??0),s=new ds(i.wavelengths??new L(0,0,0)),l=new it(i.noiseStrength??0),c=new it(i.noiseScale??1),d=new ds(i.offset??new L(0,0,0)),u=as(i),h=new Zj(o,a,s,l,c,d,u.alpha,u.isMask),p=new di(h.calpha,"f");return new Ti(t,n,e,B({filmThickness:o,movement:a,wavelengths:s,noiseStrength:l,noiseScale:c,offset:d},u),h,u.mode,p,u.isMask,r)}case"transmission":{let o=new it(i.thickness??10),a=new it(i.ior??1.5),s=new it(i.roughness??.5),l=Mt.transmissionSize,c=Mt.transmissionRenderTarget,d=Mt.transmissionRenderTargetDepth,u=window.innerWidth,h=window.innerHeight,p=u>=h?new qr(h/u,1):new qr(1,u/h),m=as(i),g=new eH(o,a,s,l,c,d,p,m.alpha),v=new di(g.calpha,"f");return new Ti(t,n,e,B({thickness:o,ior:a,roughness:s,aspectRatio:p},m),g,m.mode,v,m.isMask,r)}case"toon":{let o=new ni(i.positioning??0),a;i.colors?a=new Dh(i.colors.length,i.colors):(a=new Dh(10,new Et(0,0,0,1)),a.value[1]=new Et(1,1,1,1));let s;i.steps?s=new Eh(i.steps.length,i.steps):(s=new Eh(10,1),s.value[0]=0);let l=new ds(i.source??new L(0,0,0)),c=new Bo(i.isWorldSpace??!0),d=new it(i.noiseStrength??0),u=new it(i.noiseScale??1),h=new Nc(i.shadowColor),p=new ds(i.offset??new L(0,0,0)),m=as(i),g=new Kj(o,a,s,l,c,d,u,h,p,m.alpha),v=new di(g.calpha,"f");return new Ti(t,n,e,B({positioning:o,colors:a,steps:s,source:l,isWorldSpace:c,noiseStrength:d,noiseScale:u,shadowColor:h,offset:p},m),g,m.mode,v,m.isMask,r)}case"outline":{let o=new Li(i.outlineColor??16777215),a=new Li(i.contourColor??16777215),s=new it(i.outlineWidth??.1),l=new it(i.contourWidth??.1),c=new it(i.outlineThreshold??.1),d=new it(i.contourThreshold??.1),u=new it(i.outlineSmoothing??.1),h=new it(i.contourFrequency??.1),p=new ds(i.contourDirection??new L(0,1,0)),m=new Bo(i.positionalLines??!1),g=new Bo(i.compensation??!0),v=Mt.normalRenderTarget,b=Mt.normalRenderTargetDepth,_=Mt.pixelRatioNode,C=Mt.resolution,M=as(i),P=new Yj(o,a,s,l,c,d,u,h,p,m,g,C,v,b,_,M.alpha),x=new di(P.calpha,"f");return new Ti(t,n,e,B({outlineColor:o,contourColor:a,outlineWidth:s,contourWidth:l,outlineThreshold:c,contourThreshold:d,outlineSmoothing:u,contourFrequency:h,contourDirection:p,positionalLines:m,compensation:g},M),P,M.mode,x,M.isMask,r)}case"depth":{let o=new ni(i.gradientType??0),a=new Bo(i.smooth??!1),s=new it(i.near??50),l=new it(i.far??200),c=new it(i.isVector??1),d=new it(i.isWorldSpace??0),u=new ds(i.origin??new L),h=new ds(i.direction??new L),p;i.colors?p=new Dh(i.colors.length,i.colors):(p=new Dh(2,new Et(0,0,0,1)),p.value[1]=new Et(1,1,1,1));let m;i.steps?m=new Eh(i.steps.length,i.steps):(m=new Eh(2,1),m.value[0]=0);let g=as(i),v=new Vj(o,a,s,l,c,d,u,h,p,m,g.alpha,g.isMask),b=new di(v.calpha,"f");return new Ti(t,n,e,B({gradientType:o,smooth:a,near:s,far:l,isVector:c,isWorldSpace:d,origin:u,direction:h,colors:p,steps:m},g),v,g.mode,b,g.isMask,r)}case"noise":{let o=new it(i.scale??1),a=new ds(i.size??new L(100,100,100)),s=new it(i.move??1),l=new qr(i.fA??new oe(1.7,9.2)),c=new qr(i.fB??new oe(8.3,2.8)),d=new qr(i.distortion??new oe(1,1)),u=new Nc(i.colorA),h=new Nc(i.colorB),p=new Nc(i.colorC),m=new Nc(i.colorD),g=new ni(i.noiseType??0),v=new ni(i.voronoiStyle??0),b=new it(i.highCut??1),_=new it(i.lowCut??0),C=new it(i.smoothness??.5),M=new it(i.seed??.5),P=new ni(i.quality??1),x=as(i),E=new Wj(o,a,s,l,c,d,u,h,p,m,x.alpha,g,x.isMask,v,b,_,C,M,P),O=new di(E.calpha,"f");return new Ti(t,n,e,se(B({scale:o,size:a,move:s,fA:l,fB:c,distortion:d,colorA:u,colorB:h,colorC:p,colorD:m,noiseType:g},x),{voronoiStyle:v,highCut:b,lowCut:_,smoothness:C,seed:M,quality:P}),E,x.mode,O,x.isMask,r)}case"normal":{let o=new ds(i.cnormal??new L(1,1,1)),a=as(i),s=new Bj(o,a.alpha),l=new di(s.calpha,"f");return new Ti(t,n,e,B({cnormal:o},a),s,a.mode,l,a.isMask,r)}case"gradient":{let o=new ni(i.gradientType??0),a=new Bo(i.smooth??!1),s;i.colors?s=new Dh(i.colors.length,i.colors):(s=new Dh(10,new Et(0,0,0,1)),s.value[1]=new Et(1,1,1,1));let l;i.steps?l=new Eh(i.steps.length,i.steps):(l=new Eh(10,1),l.value[0]=0);let c=new qr(i.offset??new oe(0,0)),d=new qr(i.morph??new oe(0,0)),u=new it(i.angle??0),h=as(i),p=new jj(o,a,s,l,c,d,u,h.alpha,h.isMask),m=new di(p.calpha,"f");return new Ti(t,n,e,B({gradientType:o,smooth:a,colors:s,steps:l,offset:c,morph:d,angle:u},h),p,h.mode,m,h.isMask,r)}case"pattern":{let o=new ni(i.style??0),a=new ni(i.projection??0),s=new ni(["x","y","z"].indexOf(i.axis)??0),l=new it(i.blending??0),c=new qr(i.offset??new oe(0,0)),d=new Nc(i.colorA),u=new Nc(i.colorB),h=new qr(i.frequency??new oe(10,10)),p=new it(i.size??.5),m=new it(i.variation??0),g=new it(i.smoothness??.5),v=new it(i.zigzag??0),b=new it(i.rotation??0),_=new qr(i.vertical??new oe(0,1)),C=new qr(i.horizontal??new oe(0,1)),M=new ni(i.sides??6),P=as(i),x=new Xj(o,a,s,l,c,d,u,h,p,m,g,v,b,_,C,M,P.alpha,P.isMask),E=new di(x.calpha,"f");return new Ti(t,n,e,B({style:o,projection:a,axis:s,blending:l,offset:c,colorA:d,colorB:u,frequency:h,size:p,variation:m,smoothness:g,zigzag:v,rotation:b,vertical:_,horizontal:C,sides:M},P),x,P.mode,E,P.isMask,r)}default:{let o=new Li(1,0,0,1),a=as(i),s=new KD(o,a.alpha),l=new di(s.calpha,"f");return new Ti(t,n,e,B({color:o},a),s,a.mode,l,a.isMask,r)}}}function ICe(e,t,n,i){let r=pCe(n,i);return TCe(n,e,t,r,i)}function dH(e,t,n,i){if(n.type==="displace"&&(e==="intensity"||e==="visible")){let r=t.uniforms[`f${t.id}_intensity`];return r?(r.value=n.intensity*(n.visible?1:0),r):void 0}if(n.type!=="displace"&&(e==="alpha"||e==="visible")){let r=t.uniforms[`f${t.id}_alpha`];if(!r)return;if(r.value=rp(n.alpha,i)*(n.visible?1:0),n.type==="outline"&&e==="visible"){let o=t.uniforms[`f${t.id}_compensation`];o&&(o.value=n.compensation&&n.visible)}return r}}function vf(e,t){let n=0,i=e.layers.find(r=>r.data.type==="light");if(i){let r=i.data,o=Number(t.getVariable(r.alphaOverride));if((typeof r.alphaOverride=="string"?o/100:r.alphaOverride)<1)return!0}for(let r of e.layers){if(r.data.type!=="displace"&&r.data.isMask)return!0;if(r.data.type!=="displace"&&"alpha"in r.data&&r.data.type!=="light"&&r.data.type!=="fresnel"&&r.data.type!=="texture"&&r.data.type!=="matcap"&&r.data.type!=="rainbow"&&r.data.type!=="outline"&&r.data.type!=="pattern"){let o=r.data.visible?r.data.alpha:0;if(typeof o=="string"&&(o=Math.max(0,Math.min(1,Number(t.getVariable(o)??100)/100))),o===1&&r.data.type==="depth"||r.data.type==="gradient"){for(let a of r.data.colors)if(a[3]<1){o=a[3];break}}else if(o===1&&r.data.type==="noise"){let a=t.color(r.data.colorA).a,s=t.color(r.data.colorB).a,l=t.color(r.data.colorC).a,c=t.color(r.data.colorD).a,d=Math.min(a,Math.min(s,Math.min(l,c)));d<1&&(o=d)}n+=(1-n)*o}}return n<1}var hu=class extends Vn{constructor(){super(void 0),this.flatShading=!1,this.needsJitter=!0,this.nodeContextUuid=0,this.fog=!0,this.dithering=!0,this.vertexColors=!0,this.transparent=!0}customProgramCacheKey(){return""}},RCe=class extends hu{constructor(e,t,n,i){super(),this.flatShading=e,this.side=t,this.wireframe=n,this.root=i}updateAfterBuild(){let e=this.root;this.lights=e.lights,this.vertexShader=e.vertexShader,this.fragmentShader=e.fragmentShader,this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.transparent=e.transparent,this.cacheKey=e.customProgramCacheKey()+"flat"+this.flatShading+this.side}onBeforeCompile(e,t){this.root.onBeforeCompile(e)}get data(){return this.root.data}get category(){return this.root.category}get hasAO(){return this.root.hasAO}getFlavor(e,t,n){return this.root.getFlavor(e,t,n)}get layers(){return this.root.layers}get fragment(){return this.root.fragment}getLayersOfType(e){return this.root.getLayersOfType(e)}getLayerByUuid(e){return this.root.getLayerByUuid(e)}updateByOp(e,t,n){this.root.updateByOp(e,t,n)}nodeMaterialDispose(){this.root.nodeMaterialDispose()}},FT=class extends hu{constructor(e,t,n=!0){super(),this.data=e,this.allowVariableSaves=n,this.layerIdGen=0,this.flavors=[],this.masks={},this.type="NodeMaterial",this.updaters=[],pr.startContext(this),this.reset0(e,t),pr.endContext(this)}get nodeMaterial(){return this}getFlavor(e,t,n){let i=n?6:(e?3:0)+t;if(i===0)return this;this.flavors===void 0&&(this.flavors=[]),i-=1;let r=this.flavors[i];return r===void 0&&(r=new RCe(e,t,n,this),this.flavors[i]=r,r.flatShading=e,r.side=t,r.updateAfterBuild()),r}get fragment(){return this.lightLayer.node}get category(){return this.lightLayer.category}get hasAO(){return this.lightLayer.getNode("occlusion")?.value??!1}reset(e,t,n=!1){pr.startContext(this),(this.data!==e||n)&&this.reset0(e,t),pr.endContext(this)}reset0(e,t){this.data=e;let n=e.layers??_o.defaultTwoLayerData("phong").layers;try{this.layers=n.map(i=>xy.create(this.layerIdGen++,i.id,i.data,t.shared))}catch{this.layers=[]}this.layers.reverse(),this.name=e.name??"Untitled Material",this.onUpdate(t.shared),this.transparent=vf(e,t.shared),this.saveVariableLocations(t)}onVariableUpdate(e,t,n){if(e[0]==="alphaOverride")this.transparent=vf(this.data,n.shared),this.lightLayer.setValue("alphaOverride",Math.max(0,Math.min(Number(t)/100,1)));else if(e[0]==="layer"){let i=e[1],r=e[2];if(i&&r){let o=this.layers.find(a=>a.uuid===i);o?.hasValue(r)&&(r==="alpha"?(this.transparent=vf(this.data,n.shared),o.setValue(r,Math.max(0,Math.min(Number(t)/100,1)))):o.setValue(r,t))}}}saveVariableLocations(e){if(!this.allowVariableSaves)return;let t=this.data.layers.find(n=>n.data.type==="light");t&&e.shared.getVariable(t.data.alphaOverride,["material",this.uuid,"alphaOverride"]),this.data.layers.forEach(n=>{"alpha"in n.data&&typeof n.data.alpha=="string"&&e.shared.getVariable(n.data.alpha,["material",this.uuid,"layer",n.id,"alpha"])})}getLayersOfType(e){return this.layers.filter(t=>t.type===e)}getLayerByUuid(e){return this.layers.find(t=>t.uuid===e)}onUpdate(e){this.lightLayer=this.layers.find(t=>t instanceof Ll),this.lightLayer===void 0&&(this.lightLayer=new Ll(0,"",se(B({},Sr.defaultData("light","phong")),{visible:!1}),new kT,{},e)),this.dispose();for(let t of this.flavors)t&&t.dispose();this.applyTextureMaps(),this.applyMasks(),this.blendColors(),this.blendAfterColors(),this.blendPositions(),this.build(),this.nodeContextUuid=0}applyTextureMaps(){let e=this.layers.find(r=>r instanceof Ll);if(!e)return;let t=e.data,n=t.bumpMap,i=t.roughnessMap;e.node.bumpMap=void 0,e.node.roughnessMap=void 0;for(let r=0;r<this.layers.length;++r){let o=this.layers[r];o instanceof Ti&&o.color instanceof RT&&(o.uuid===n&&(e.node.bumpMap=o.color),o.uuid===i&&(e.node.roughnessMap=o.color))}}updateByOp(e,t,n){if(pr.startContext(this),t!==void 0?this.data=t:t=this.data,this.transparent=vf(t,n.shared),e.path[0]==="layers"){let i=n.shared,r=e.path[1];if(r===void 0)n.scene.markNeedsUpdateRendererDirty(),this.reset0(t,n);else{e.type===0&&e.props.occlusion!==void 0&&n.scene.markNeedsUpdateRendererDirty();let o=this.layers.find(a=>a.uuid===r);if(o){let a=t.layers.data(r),s;e.type===0&&("alpha"in e.props||"alphaOverride"in e.props)&&("alpha"in e.props?s=se(B({},e.props),{alpha:rp(e.props.alpha,i,["material",this.uuid,"layer",r,"alpha"])}):s=se(B({},e.props),{alphaOverride:rp(e.props.alphaOverride,i,["material",this.uuid,"alphaOverride"])})),o.updateByOp(se(B(B({},e),s?{props:s}:{}),{path:e.path.slice(2)}),a,n)&&this.reset0(t,n)}}}else this.reset0(t,n);pr.endContext(this)}applyMasks(){for(let e=0;e<this.layers.length;++e){let t=this.layers[e];t instanceof Ti?t.color.mask=void 0:t instanceof Ll&&(t.node.mask=void 0)}for(let e=0;e<this.layers.length;++e){let t=this.layers[e];if(t instanceof Ti&&t.isMask.value&&t.data.visible&&e>0){let n=e-1,i=this.layers[n];i instanceof Ll?i.node.mask=new ra(t.color,t.alpha,ra.MUL):i instanceof Ti&&(i.isMask.value||(i.color.mask=new ra(t.color,t.alpha,ra.MUL)))}}}blendColors(){let e=this.layers.findIndex(n=>n instanceof Ti),t=this.layers.findIndex(n=>n instanceof Ll);if(e!==-1&&e<t){let n=this.layers[e].color;for(let i=e+1;i<t;++i){let r=this.layers[i];if(r instanceof Ti){if(r.isMask.value)continue;n=new Lz(n,r.color,r.alpha,r.mode)}}this.fragment.color=n}else this.fragment.color=void 0}blendAfterColors(){let e=new di("outgoingLight","f"),t=this.layers.findIndex(n=>n instanceof Ll);if(this.layers.length>t+1){for(let n=t+1;n<this.layers.length;++n){let i=this.layers[n];if(i instanceof Ti){if(i.isMask.value)continue;e=new Lz(e,i.color,i.alpha,i.mode)}}this.fragment.afterColor=e}else this.fragment.afterColor=void 0}blendPositions(){let e=this.layers.filter(t=>t instanceof cH);if(e.length>0){let t=e[0].position;for(let n=1;n<e.length;++n)e[n]&&(t=new ra(t,e[n].position,ra.ADD),t=new ra(t,new it(.5).setReadonly(!0),ra.MUL));this.fragment.position=t}else this.fragment.position=void 0}getDefines(){return this.defines}getUniforms(){return this.uniforms}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}onBeforeCompile(e){e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.extensionDerivatives=this.extensions.derivatives===!0,e.extensionFragDepth=this.extensions.fragDepth===!0,e.extensionDrawBuffers=this.extensions.drawBuffers===!0,e.extensionShaderTextureLOD=this.extensions.shaderTextureLOD===!0}clampUniformsForPreview(e,t){let n=(i,r,o)=>Math.min(Math.max(i,r),o);for(let i of this.layers)if(i.type==="displace"){let r=n(i.uniforms[`f${i.id}_intensity`].value,e,t);i.uniforms[`f${i.id}_intensity`].value=r}}updateFrame(e){for(let t=0;t<this.updaters.length;++t)e.updateNode(this.updaters[t])}build(){let e=new kj;e.needsJitter=this.needsJitter,this.lights=this.lightLayer.data.visible,e.build(this.fragment,this.fragment),this.vertexShader=e.getCode("vertex"),this.fragmentShader=e.getCode("fragment"),this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.updaters=e.updaters;for(let t of this.flavors)t&&t.updateAfterBuild();return this}nodeMaterialDispose(){this.layers.forEach(e=>e.dispose()),super.dispose();for(let e of this.flavors)e&&e.dispose()}assetsLoaded(){for(let e of this.layers)if(e instanceof Ti){let t=e.params.texture;if(t instanceof $D&&!t.image.loaded)return!1}return!0}};Object.defineProperties(hu.prototype,{properties:{get:function(){return this.fragment.properties}}});var tA=class extends FT{constructor(e,t,n){super(e,t,!1),this.uuid=n,this.allowVariableSaves=!0,this.saveVariableLocations(t)}},Gz=new Map;function LCe(e){if(typeof e=="string")return e;let t=Gz.get(e);return t||(t={url:URL.createObjectURL(new Blob([e]))},Gz.set(e,t)),t.url}var uH,kCe=new Promise(e=>{uH=e}),Wz=!1,yC;function FCe(){if(Wz)return;if(yC)return yC;function e(){return ri(this,null,function*(){yield import("./chunk-PHUGBRRI.js"),uH(window!==void 0?window:global),Wz=!0})}return yC=e(),yC}var hH;kCe.then(e=>hH=e);function NCe(e){let t=!1;return e.scene.objects.traverse((n,i)=>{if(i.visible===!1||i.events===void 0||Array.isArray(i.events)===!1)return!0;let r=[];i.events.forEach(o=>{"dragDropActions"in o.data?(r.push(...o.data.dragDropActions.drag),r.push(...o.data.dragDropActions.drop)):"inActions"in o.data?(r.push(...o.data.inActions),r.push(...o.data.outActions)):"gameActions"in o.data?(r.push(...o.data.gameActions.idle),r.push(...o.data.gameActions.move),r.push(...o.data.gameActions.jump),r.push(...o.data.gameActions.run)):"breakpoints"in o.data?o.data.breakpoints.forEach(a=>{r.push(...a.data.actions)}):"actions"in o.data&&r.push(...o.data.actions),t=t||r.some(a=>a.data.type==="Audio")})}),t}var Iv=class{constructor({src:e,volume:t,delay:n,loop:i}){this._volume=1,this.delay=0,this._loop=1,this.loopsRemaining=0,this._status="stopped",this.onEnd=()=>{this.loopsRemaining===1/0?this.replay():this.loopsRemaining>1?(this.replay(),this.loopsRemaining--):(this._status="stopped",this.loopsRemaining=this._loop)};let r;typeof e=="string"?r={src:e}:r={src:LCe(e),format:"wav"},this.sound=new hH.Howl(r),this.sound.on("end",this.onEnd),this.src=e,t!==void 0&&(this.volume=t),n!==void 0&&(this.delay=n),i!==void 0&&(this.loop=i)}get status(){return this._status}get volume(){return this._volume}set volume(e){this._volume=e,this.sound.volume(e)}get loop(){return this._loop}set loop(e){this._loop=e,this.loopsRemaining=e}replay(){this.clearDelay(),this.delayTimerId=window.setTimeout(()=>{this.sound.play(),this.clearDelay()},this.delay)}fade(e,t=1e3){e?(this.sound.volume(this._volume),this.clearFade(),this.fadeTimerId=window.setTimeout(()=>{this.sound.fade(this._volume,0,t),this.clearFade()},e)):this.sound.fade(this._volume,0,t)}on(e,t,n){this.sound.on(e,t,n)}off(e,t,n){this.sound.off(e,t,n)}play(){this._status==="playing"||this.sound.playing()||(this._status==="paused"?(this.sound.seek()===0?this.replay():this.sound.play(),this._status="playing"):this._status==="stopped"&&(this.replay(),this._status="playing"))}pause(){this._status==="playing"&&(this.sound.pause(),this.clearFade(),this.clearDelay(),this._status="paused")}stop(){this.sound.stop(),this.loopsRemaining=this._loop,this.clearFade(),this.clearDelay(),this._status="stopped"}clearFade(){this.fadeTimerId&&(clearTimeout(this.fadeTimerId),delete this.fadeTimerId)}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}dispose(e=!1){this.off(),this.stop(),this.clearFade(),this.clearDelay()}},zCe=class{constructor(){this.type="ShapePath",this.color=new _t,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new lM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath?.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath?.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,r,o){return this.currentPath?.bezierCurveTo(e,t,n,i,r,o),this}splineThru(e){return this.currentPath?.splineThru(e),this}toShapes(){let e={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},t={loc:e.ORIGIN,t:0};function n(p,m,g,v){let b=p.x,_=m.x,C=g.x,M=v.x,P=p.y,x=m.y,E=g.y,O=v.y,S=(M-C)*(P-E)-(O-E)*(b-C),D=(_-b)*(P-E)-(x-P)*(b-C),I=(O-E)*(_-b)-(M-C)*(x-P),T=S/I,R=D/I;if(I===0&&S!==0||T<=0||T>=1||R<0||R>1)return null;if(S===0&&I===0){for(let k=0;k<2;k++)if(i(k===0?g:v,p,m),t.loc===e.ORIGIN){let z=k===0?g:v;return{x:z.x,y:z.y,t:t.t}}else if(t.loc===e.BETWEEN){let z=+(b+t.t*(_-b)).toPrecision(10),W=+(P+t.t*(x-P)).toPrecision(10);return{x:z,y:W,t:t.t}}return null}else{for(let W=0;W<2;W++)if(i(W===0?g:v,p,m),t.loc===e.ORIGIN){let N=W===0?g:v;return{x:N.x,y:N.y,t:t.t}}let k=+(b+T*(_-b)).toPrecision(10),z=+(P+T*(x-P)).toPrecision(10);return{x:k,y:z,t:T}}}function i(p,m,g){let v=g.x-m.x,b=g.y-m.y,_=p.x-m.x,C=p.y-m.y,M=v*C-_*b;if(p.x===m.x&&p.y===m.y){t.loc=e.ORIGIN,t.t=0;return}if(p.x===g.x&&p.y===g.y){t.loc=e.DESTINATION,t.t=1;return}if(M<-Number.EPSILON){t.loc=e.LEFT;return}if(M>Number.EPSILON){t.loc=e.RIGHT;return}if(v*_<0||b*C<0){t.loc=e.BEHIND;return}if(Math.sqrt(v*v+b*b)<Math.sqrt(_*_+C*C)){t.loc=e.BEYOND;return}let P;v!==0?P=_/v:P=C/b,t.loc=e.BETWEEN,t.t=P}function r(p,m){let g=[],v=[];for(let b=1;b<p.length;b++){let _=p[b-1],C=p[b];for(let M=1;M<m.length;M++){let P=m[M-1],x=m[M],E=n(_,C,P,x);E!==null&&g.find(O=>O.t<=E.t+Number.EPSILON&&O.t>=E.t-Number.EPSILON)===void 0&&(g.push(E),v.push(new oe(E.x,E.y)))}}return v}function o(p,m,g){let v=new oe;m.getCenter(v);let b=[];return g.forEach(_=>{_.boundingBox.containsPoint(v)&&r(p,_.points).forEach(C=>{b.push({identifier:_.identifier,isCW:_.isCW,point:C})})}),b.sort((_,C)=>_.point.x-C.point.x),b}function a(p,m,g,v,b){(b==null||b==="")&&(b="nonzero");let _=new oe;p.boundingBox.getCenter(_);let C=[new oe(g,_.y),new oe(v,_.y)],M=o(C,p.boundingBox,m);M.sort((D,I)=>D.point.x-I.point.x);let P=[],x=[];M.forEach(D=>{D.identifier===p.identifier?P.push(D):x.push(D)});let E=P[0].point.x,O=[],S=0;for(;S<x.length&&x[S].point.x<E;)O.length>0&&O[O.length-1]===x[S].identifier?O.pop():O.push(x[S].identifier),S++;if(O.push(p.identifier),b==="evenodd"){let D=O.length%2===0,I=O[O.length-2];return{identifier:p.identifier,isHole:D,for:I}}else if(b==="nonzero"){let D=!0,I=null,T=null;for(let R=0;R<O.length;R++){let k=O[R];m[k]&&(D?(T=m[k].isCW,D=!1,I=k):T!==m[k].isCW&&(T=m[k].isCW,D=!0))}return{identifier:p.identifier,isHole:D,for:I}}else console.warn('fill-rule: "'+b+'" is currently not implemented.')}let s=0,l=999999999,c=-999999999,d=[];this.subPaths.forEach(p=>{let m=p.getPoints(),g=-999999999,v=999999999,b=-999999999,_=999999999;for(let C=0;C<m.length;C++){let M=m[C];M.y>g&&(g=M.y),M.y<v&&(v=M.y),M.x>b&&(b=M.x),M.x<_&&(_=M.x)}c<=b&&(c=b+1),l>=_&&(l=_-1),m.length&&d.push({curves:p.curves,points:m,isCW:fV.isClockWise(m),identifier:s++,boundingBox:new SV(new oe(_,v),new oe(b,g))})});let u=d.map(p=>a(p,d,l,c,this.userData?.style.fillRule)),h=[];return d.forEach(p=>{let m=u[p.identifier];if(m&&!m.isHole){let g=new cM;g.curves=p.curves,u.filter(v=>v?.isHole&&v.for===p.identifier).forEach(v=>{if(v){let b=d[v.identifier],_=new lM;_.curves=b.curves,g.holes.push(_)}}),h.push(g)}}),h}},pH=!1,mH,qz=new Promise(e=>{mH=e}),Yz=!1,bC;function BCe(){if(pH=!0,Yz)return;if(bC)return bC;function e(){return ri(this,null,function*(){let t=yield import("./chunk-7H5RNTPZ.js");mH(t),Yz=!0})}return bC=e(),bC}var VCe=class{load(e,t,n=()=>{}){return ri(this,null,function*(){let{load:i}=yield qz;i(e,(r,o)=>{r||!o?n(r??"Something went wrong"):t(o)})})}parse(e){return ri(this,null,function*(){let{parse:t,Bidi:n}=yield qz;try{let i=t(e),r=new n,o=a=>i.charToGlyphIndex(a.char);return r.registerModifier("glyphIndex",null,o),r.applyFeatures(i,i.defaultRenderOptions.features),{font:i,bidi:r}}catch(i){console.error(i)}})}};function UCe(e){return ri(this,null,function*(){return yield(yield fetch(e)).arrayBuffer()})}var jCe=new VCe;function Xz(e){return ri(this,null,function*(){let t,n,i=!1;if(e.url?(t=yield UCe(e.url),n=e.url,i=e.url.startsWith("/")):e.data&&(t=e.data.buffer.slice(e.data.byteOffset,e.data.byteOffset+e.data.byteLength)),t)if(pH){let r=yield jCe.parse(t);if(r)return{font:r.font,url:n,intercepted:i,arr:t,bidi:r.bidi}}else return{font:void 0,url:n,intercepted:i,arr:t,bidi:null}})}function HCe(e,t){return t.state.glyphIndex===e||t.state.fina===e||t.state.medi===e||t.state.init===e}var GCe=class{constructor(e){this._arrayBuffer=new ArrayBuffer(1),this._isLoaded=!1,this._intercepted=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=Xz(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}update(e){this._isLoaded=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=Xz(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}get url(){return this._url}get intercepted(){return this._intercepted}get isLoaded(){return this._isLoaded}get loadingPromise(){return this._loadingPromise}reverseLigaturesTable(e,t,n){if(!this._bidi)return[];let i=this._bidi;i.getTextGlyphs(t);let r=i.tokenizer.tokens,o=[],a=0,s=n.length===r.length;for(let l=0;l<n.length;l++){let c=n[l].index,d=String.fromCharCode(n[l].unicode),u=r[a];if(HCe(c,u)||s)o.push({char:d,index:c,replacements:[u.state.glyphIndex],replacementChars:[u.char]}),a++;else{let h=u.char,p="",m=[u.state.glyphIndex],g=[],v=!1;for(;!v;)a++,p=t.charAt(a),h+=p,m.push(e.charToGlyphIndex(p)),g=e.stringToGlyphs(h),g.length===1&&g[0].index===c&&(v=!0),a>t.length&&(v=!0);o.push({char:d,index:c,replacements:m,replacementChars:Array.from(h)}),a++}}return o}generateShapes(e,t){if(!this._isLoaded)return;let n=this.font,i=t.fontSize/this.unitsPerEm,r=t.fontSize*t.lineHeight,o=e.map(b=>this.getTextWidth(b,t)),a=t.width,s=this.getCharWidth(`
`,t),l=t.horizontalAlign===1?s:0,c=this.computeSpaceWidthForLine(e,0,t),d=this.getLineInitialOffsetX(o[0],a,t.horizontalAlign,e[0],s),u=this.getLineInitialOffsetY(r,e.length,t.height,i,t.verticalAlign),h=[],p=e.map(b=>[]),m=e.map(b=>[]),g;for(let b=0;b<e.length;b++){let _=e[b],C={features:{liga:!0}},M=[];try{M=n.stringToGlyphs(_,C)}catch(x){console.warn(x)}d=this.getLineInitialOffsetX(o[b],a,t.horizontalAlign,_,s);let P=[];try{P=this.reverseLigaturesTable(n,_,M)}catch(x){console.warn(x)}c=this.computeSpaceWidthForLine(e,b,t);for(let x=0;x<M.length;x++){let E=M[x],O=E.index===0?`
`:E.unicode?String.fromCharCode(E.unicode):void 0,S=P[x],D=0,I=0;x===0&&t.horizontalAlign===2&&E.leftSideBearing!==void 0&&(I=-E.leftSideBearing*i),g&&(D=n.getKerningValue(E,g)*i),d+=I+D;let T=0;if(O===`
`)T=l;else if(O===" ")T=c;else{let R=this.createPath(E,i,d,u,t);R&&(T=R.offsetX-(D+I),h.push(R.path))}if(S.replacements.length===1)m[b].push([d,u]),p[b].push(T);else{let R=S.replacements.map(N=>(n.glyphs.get(N).advanceWidth??0)*i),k=R.reduce((N,F)=>N+=F,0),z=R.map(N=>N/k),W=d;for(let N=0;N<z.length;N++){let F=T*z[N];m[b].push([W,u]),p[b].push(F),W+=F}}d+=T,g=E}u-=r}let v=[];for(let b=0,_=h.length;b<_;b++)v.push(...h[b].toShapes());return{shapes:v,charWidths:p,lineWidths:o,charCoords:m}}get isUserFont(){return this._isUserFont}get arrayBuffer(){return this._arrayBuffer}get ascender(){return this.font?.ascender??0}get descender(){return this.font?.descender??0}get familyName(){return this.font?.names.fontFamily??""}get subfamilyName(){return this.font?.names.fontSubfamily??""}get unitsPerEm(){return this.font?.unitsPerEm??1}getLineInitialOffsetX(e,t,n,i,r){return(n===3||n===2)&&i.indexOf(`
`)>=0&&(e-=r),n===3?t*.5-e*.5:n===2?t-e:0}getLineInitialOffsetY(e,t,n,i,r){let o=t*e,a=Math.abs(this.ascender-this.descender)*i,s=e-a,l=-this.ascender*i-s/2;return r===3?-(n-o-l):r===2?-(n*.5-o*.5-l):l}createPath(e,t,n,i,r){let o=e.getPath(n,-i,r.fontSize,{kerning:!1,letterSpacing:r.letterSpacing});if(!o){console.error('THREE.Font: character "'+e+'" does not exists in font family '+this.familyName+".");return}let a=new zCe,s=(e.advanceWidth??1)*t;if(e)for(let l of o.commands){let c=a.currentPath?.currentPoint;if(!(c&&l.type!=="Z"&&c.x===l.x&&-c.y===l.y))switch(l.type){case"M":a.moveTo(l.x,-l.y);break;case"L":a.lineTo(l.x,-l.y);break;case"Q":a.quadraticCurveTo(l.x1,-l.y1,l.x,-l.y);break;case"C":a.bezierCurveTo(l.x1,-l.y1,l.x2,-l.y2,l.x,-l.y);break}}return a.subPaths.forEach(l=>{let c=WCe(l.curves);c!==void 0&&l.currentPoint.distanceTo(c)>0&&l.lineTo(c.x,c.y)}),{offsetX:s+r.fontSize*r.letterSpacing,path:a}}getCharWidth(e,t){return this.font?.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing})??0}getTextWidth(e,t){return this.font?.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing})??0}computeSpaceWidthForLine(e,t,n){let i=this.getCharWidth(" ",n),r=e[t];if(r){let o=this.countSpaces(r.trimEnd());if(n.horizontalAlign===4&&t<e.length-1&&o){let a=n.width,s=this.getTextWidth(r,n);return(a-(s-o*i))/o}}return i}countSpaces(e){return(e.match(/ /g)||[]).length}};function WCe(e){if(e.length){let t=e[0];if(t instanceof qs)return t.v1;if(t instanceof js||t instanceof du)return t.v0}}var qCe=class{constructor(){this.objects=new Map,this.unreachable=new Set}getCached(e){return this.objects.get(e)}get size(){return this.objects.size}get(e,t,n){let i=this.objects.get(e);return i===void 0?(i=this.createObject(e,t,n),this.objects.set(e,i)):i.isShared=!0,i}forceDelete(e){let t=this.objects.get(e);t&&(this.disposeObject(t),this.objects.delete(e))}mutateIfUnique(e,t){let n=this.objects.get(e);if(n&&n.isShared!==!0)return this.objects.delete(e),this.objects.set(t,n),n}startGc(){this.unreachable=new Set(this.objects.keys())}markAsReachable(e,t){let n=this.objects.get(e);t===n&&this.unreachable.delete(e)}endGc(){this.unreachable.forEach(e=>{this.disposeObject(this.objects.get(e)),this.objects.delete(e)}),this.unreachable.clear()}dispose(){this.objects.forEach(e=>{this.disposeObject(e)}),this.objects.clear()}},Qz=class extends qCe{constructor(e){super(),this.flatShading=e}disposeObject(e){e.dispose()}createObject(e,t,n){let i=py(e,t,this.flatShading,n);return i.computeBoundingSphere(),i}},YCe={markNeedsUpdateRendererDirty:()=>{}},XCe=class extends G_e{constructor(e){super(),this.shared=e}create(e){return new rH(e,this.shared)}},NT=class{constructor(e,t={}){if(this.data=e,this.geometryCache=new Qz(!0),this.geometryCache2=new Qz(!1),this.imageHolderCache=new XCe(this),this.thisContext={scene:YCe,shared:this},this.deletedMaterial=new tA(_o.defaultTwoLayerData("phong"),this.thisContext,""),this.deletedImage=new Zd(ID.emptyImage,this),this.deletedVideo=new Zd(AM.defaultVideo,this),this.materials={},this.images={},this.canvases={},this.videos={},this.colors={},this.audios={},this.particles={},this.fonts={},this.variables={},this.mouseProperty=null,this.raycastProperty=null,this.requestRender=()=>{this._requestRender&&this._requestRender()},t.images)for(let[n,i]of Object.entries(t.images))this.addImage(n,i);if(t.videos)for(let[n,i]of Object.entries(t.videos))this.addVideo(n,i);if(t.audios)for(let[n,i]of Object.entries(t.audios))this.addAudio(n,i);if(t.particles)for(let[n,i]of Object.entries(t.particles))this.addParticle(n,i);this.reset(e)}setRequestRender(e){this._requestRender=e}setEntityOpContext(e){this.entityOpContext=e}reset(e,t=!1){this.resetLib(e.lib);for(let{id:n,data:i}of e.variables)this.addVariableHolder(n,i),t&&this.updateVariableHolder(n,i);for(let[n,i]of Object.entries(e.images))this.addImage(n,i);for(let[n,i]of Object.entries(e.videos))this.addVideo(n,i);for(let[n,i]of Object.entries(e.colors))this.addColor(n,i);for(let[n,i]of Object.entries(e.materials))this.addMaterial(n,i);for(let[n,i]of Object.entries(e.audios))this.addAudio(n,i);for(let[n,i]of Object.entries(e.particles))this.addParticle(n,i);for(let[n,i]of Object.entries(e.fonts))this.addFont(n,i)}addMaterial(e,t){if(this.materials[e]){let n=this.materials[e];n.reset(t,this.thisContext),n.dispose()}else{let n=new tA(t,this.thisContext,e);this.materials[e]=n}}deleteMaterial(e){this.materials[e]&&(this.materials[e].nodeMaterialDispose(),delete this.materials[e])}getMaterial(e){return this.materials[e]}getMaterialOrDeletedPlaceholder(e){return this.materials[e]??this.deletedMaterial}material(e){return typeof e=="string"?this.getMaterialOrDeletedPlaceholder(e):e==null?(console.error("material is undefined or null"),this.deletedMaterial):new FT(e,this.thisContext)}getMaterials(){return this.materials}addImage(e,t){return this.images[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.images[e].updateSrc(t.data),!0):(this.images[e]=new Zd(t,this),!1)}deleteImage(e){let t=this.images[e];t&&(t.dispose(),delete this.images[e])}getDefaultImage(){return this.images.image_0}getImage(e){return this.images[e]??this.deletedImage}image(e){return typeof e=="string"?this.getImage(e):this.imageHolderCache.load(e)}addCanvas(e,t){return this.canvases[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.canvases[e].updateSrc(t),!0):(this.canvases[e]=new Zd(t,this),!1)}canvas(e){return this.canvases[e]}addVideo(e,t){return this.videos[e]?(this.videos[e].updateSrc(t.data),!0):(this.videos[e]=new Zd(t,this),!1)}deleteVideo(e){let t=this.videos[e];t&&(t.dispose(),delete this.videos[e])}getVideo(e){return this.videos[e]??this.deletedVideo}video(e){return typeof e=="string"?this.getVideo(e):this.imageHolderCache.load(e)}addColor(e,t){return this.colors[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),"a"in t?this.colors[e].setRGBA(t.r,t.g,t.b,t.a):this.colors[e].setRGBA(t.r,t.g,t.b,1),!0):("a"in t?this.colors[e]=new YM(t.r,t.g,t.b,t.a):this.colors[e]=new YM(t.r,t.g,t.b,1),!1)}updateColor(e,t){if(this.colors[e]){this.onColorOrImageUpdate&&this.onColorOrImageUpdate();let n=this.colors[e];return this.colors[e].r=t.r??n.r,this.colors[e].g=t.g??n.g,this.colors[e].b=t.b??n.b,this.colors[e].a=t.a??n.a,!0}return!1}deleteColor(e){this.colors[e]&&delete this.colors[e]}getColor(e){return this.colors[e]}color(e){let t;if(typeof e=="string"){let n=this.getColor(e);n?t=n:(console.warn("Tried to create color layer params with a color key that does not exist in the assets manager"),t=new Kr(0,0,0,0))}else return"a"in e?new Kr(e.r,e.g,e.b,e.a):new Kr(e.r,e.g,e.b,1);return t}addAudio(e,t){this.audios[e]=t}getAudio(e){let t=this.audios[e];if(t instanceof Iv)return t;{let n=new Iv({src:t.data});return this.audios[e]=n,n}}addParticle(e,t){this.particles[e]=t}getParticle(e){return this.particles[e]}deleteParticle(e){this.particles[e]&&delete this.particles[e]}deleteAudio(e){let t=this.audios[e];t&&(t instanceof Iv&&t.dispose(),delete this.audios[e])}addFont(e,t){this.fonts[e]=new GCe(t),this.fonts[e].loadingPromise.then(()=>this.requestRender())}getFont(e){return this.fonts[e]}deleteFont(e){this.fonts[e]&&delete this.fonts[e]}dispose(){Object.keys(this.materials).forEach(e=>this.deleteMaterial(e)),this._requestRender=void 0,Object.values(this.audios).forEach(e=>{e instanceof Iv&&e.dispose()}),this.audios={},this.particles={},this.geometryCache.dispose(),this.geometryCache2.dispose()}addVariableHolder(e,t){return this.variables[e]===void 0?(this.variables[e]={value:t.value,locations:[]},"dynamicVariableType"in t&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0),!0):(this.variables[e].value=t.value,!1)}resetDynamicVariablePlayState(){for(let e in this.variables)this.variables[e].dynamicVariablePlayState!==void 0&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0)}updateVariableHolder(e,t){this.updateVariable(e,t.value)}updateVariable(e,t){if(this.variables[e]===void 0)return!1;this.variables[e].value=t;let n=t;for(;typeof n=="string";)n=this.variables[n].value;let i=this.entityOpContext.scene;for(let r=this.variables[e].locations.length-1;r>=0;r--){let o=this.variables[e].locations[r];if(o[0]==="material"){let a=o[1],s=n,l={scene:i,shared:this},c=o.slice(2);i.traverseMaterial(u=>{let h=u.root??u;h.uuid===a&&h.onVariableUpdate(c,s,l)});let d=this.materials[a];d&&d.onVariableUpdate(c,s,l)}else{let a=i.find(o[0]);if(a===void 0){this.variables[e].locations.splice(r,1);continue}if(o[1]!=="geometry"&&o[1]!=="particles"){for(let s=1;s<o.length-1;s++)a=a[o[s]];o[1]==="rotation"?a[o[o.length-1]]=n*et.DEG2RAD:a[o[o.length-1]]=n}if(a=i.find(o[0]),a.type==="ParticleEmitter"&&a.updateVariableState(n,o),yn.is(a)){if(o[1]==="position"||o[1]==="rotation"||o[1]==="scale")a.onVariableUpdate();else if(o[1]==="geometry"){let s=a;a.component&&(s=a.component);let l=s.dataPatched;s.chooseGeoemtryCache(this).forceDelete(l.geometry),s.createGeometryDelayed(this.entityOpContext),s.onVariableUpdate(!0),s.instances.forEach(c=>{let d=c.dataPatched;c.chooseGeoemtryCache(this).forceDelete(d.geometry),c.createGeometryDelayed(this.entityOpContext),c.onVariableUpdate(!0)})}}}}return this.requestRender(),!0}deleteVariable(e){this.variables[e]&&delete this.variables[e]}getVariable(e,t){if(Array.isArray(e)){if(e[0]==="mouse")return this.mouseProperty?.[e[1]]??0;if(e[0]==="raycast")return this.raycastProperty?.[e[1]]??0;let n=this.entityOpContext.scene.find(e[0]);if(e[1]==="width"||e[1]==="height"||e[1]==="depth")return n.geometry.userData.parameters[e[1]];for(let i=1;i<e.length;i++)n=n[e[i]];return e[1]==="rotation"&&(n*=et.RAD2DEG),n}for(let n in this.variables){if(t===void 0)break;let i=this.variables[n],r=i.locations?.findIndex(o=>Qr.equal(o,t));r!==void 0&&r!==-1&&i.locations.splice(r,1)}if(typeof e=="string"){let n=e,i=e;do{if(i=n,this.variables[n]===void 0)break;let r=this.variables[n].value;t&&this.variables[i]!==void 0&&this.variables[i].locations.push(t),n=r}while(typeof n=="string");return n}else return e}getVariables(){return this.variables}getDynamicVariablePlayState(e){return this.variables[e]?.dynamicVariablePlayState}setDynamicVariablePlayState(e,t){this.variables[e]!==void 0&&(this.variables[e].dynamicVariablePlayState=t)}getDynamicVariableToggleIsForward(e){return this.variables[e]?.dynamicVariableToggleIsForward}setDynamicVariableToggleIsForward(e,t){this.variables[e]!==void 0&&(this.variables[e].dynamicVariableToggleIsForward=t)}resetLib(e){for(let[t,n]of Object.entries(e.images))this.addImage(t,n.asset);for(let[t,n]of Object.entries(e.audios))this.addAudio(t,n.asset);for(let[t,n]of Object.entries(e.particles))this.addParticle(t,n.asset);for(let[t,n]of Object.entries(e.colors))this.addColor(t,n.asset);for(let[t,n]of Object.entries(e.fonts))this.addFont(t,n.asset);for(let[t,n]of Object.entries(e.materials))this.addMaterial(t,n.asset);for(let[t,n]of Object.entries(e.videos))this.addVideo(t,n.asset);for(let[t,n]of Object.entries(e.variables))this.addVariableHolder(t,n.asset)}updateLibByOp(e,t){e.path[0]==="images"?e.path.length===1&&e.type===1?this.addImage(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteImage(e.id):e.path[0]==="videos"?e.path.length===1&&e.type===1?this.addVideo(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteVideo(e.id):e.path[0]==="audios"?e.path.length===1&&e.type===1?this.addAudio(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteAudio(e.id):e.path[0]==="particles"?e.path.length===1&&e.type===1?this.addParticle(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteParticle(e.id):e.path[0]==="colors"?e.path.length===1&&e.type===1?this.addColor(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteColor(e.id):e.path[0]==="materials"?e.path.length===1&&e.type===1?this.addMaterial(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteMaterial(e.id):e.path[0]==="fonts"?e.path.length===1&&e.type===1?this.addFont(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteFont(e.id):e.path[0]==="variables"?e.path.length===1&&e.type===1?this.addVariableHolder(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteVariable(e.id):e.path[0]==="components"&&t.updateByLibOp(e,this)}updateByOp(e,t,n){this.data=t,e.path[0]==="images"?e.path.length===2&&e.type===0?e.props.data&&this.getImage(e.path[1]).updateSrc(e.props.data):e.path.length===1&&e.type===1?this.addImage(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteImage(e.id):e.path[0]==="videos"?e.path.length===2&&e.type===0?e.props.data&&this.getVideo(e.path[1]).updateSrc(e.props.data):e.path.length===1&&e.type===1?this.addVideo(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteVideo(e.id):e.path[0]==="audios"?e.path.length===2&&e.type===0?e.props.data&&this.addAudio(e.path[1],t.audios[e.path[1]]):e.path.length===1&&e.type===1?this.addAudio(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteAudio(e.id):e.path[0]==="particles"?e.path.length===2&&e.type===0?e.props.data&&this.addParticle(e.path[1],t.particles[e.path[1]]):e.path.length===1&&e.type===1?this.addParticle(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteParticle(e.id):e.path[0]==="colors"?e.path.length===2&&e.type===0?this.updateColor(e.path[1],e.props):e.path.length===1&&e.type===1?this.addColor(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteColor(e.id):e.path[0]==="materials"?e.path.length===1&&e.type===1?this.addMaterial(e.id,e.data):e.path.length===1&&e.type===2?this.deleteMaterial(e.id):e.path.length>1&&this.getMaterial(e.path[1]).updateByOp(Tr.drop(e,2),t.materials[e.path[1]],{shared:this,scene:n}):e.path[0]==="fonts"?e.path.length===2&&e.type===0?this.updateFont(e.path[1],e,n):e.path.length===1&&e.type===1?this.addFont(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteFont(e.id):e.path[0]==="variables"?e.path.length===2&&e.type===0&&"value"in e.props?this.updateVariable(e.path[1],e.props.value):e.path.length===1&&e.type===4?this.addVariableHolder(e.id,e.data):e.path.length===1&&e.type===5&&this.deleteVariable(e.id):e.path[0]==="lib"&&this.updateLibByOp(Tr.drop(e,1),n)}updateFont(e,t,n){if(t.props.url){let i=this.getFont(e),r=se(B({},this.data.fonts[e]),{url:t.props.url});i.update(r),i.loadingPromise.then(()=>this.requestRender()),n.updateFont(e,this)}}},zLe=new NT(ps.emptyData()),dg=class extends Ho{updateByPatchedOp(e,t,n){if(super.updateByPatchedOp(e,t,n),kve(e.path,["materials"])!==null&&e.type===0&&Array.isArray(this.material))for(let[i,r]of Object.entries(e.props)){let o=n.shared.material(r);this.material[Number(i)]=o}else if(ii(e.path,["material"])&&this.material instanceof hu)"material"in t&&typeof t.material!="string"&&this.material.updateByOp(Tr.drop(e,1),t.material,n);else if(ii(e.path,["materials","*"])&&Array.isArray(this.material)){let i=e.path[1];if("materials"in t&&i<this.material.length){let r=t.materials[i];typeof r!="string"&&this.material[i].updateByOp(Tr.drop(e,2),r,n)}}}get needsAO(){return this.material!==void 0?(Array.isArray(this.material)?this.material[0]:this.material).hasAO:!1}updateState(e,t){super.updateState(e,t),e.castShadow!==void 0&&(this.castShadow=e.castShadow),e.receiveShadow!==void 0&&(this.receiveShadow=e.receiveShadow);let n=this.dataPatched;if(e.geometry?.type!=="NonParametricGeometry"&&"material"in e&&e.material!==void 0&&(this.disposeMaterial(),this.material=t.shared.material(e.material).getFlavor(n.flatShading,n.side,n.wireframe),t.scene.markNeedsUpdateRendererDirty()),(e.geometry?.type==="NonParametricGeometry"||"materials"in e)&&("materials"in e&&e.materials!==void 0?(this.disposeMaterial(),this.material=e.materials.map(i=>t.shared.material(i).getFlavor(n.flatShading,n.side,n.wireframe)),t.scene.markNeedsUpdateRendererDirty()):"material"in e&&e.material!==void 0&&(this.disposeMaterial(),this.material=[t.shared.material(e.material).getFlavor(n.flatShading,n.side,n.wireframe)],t.scene.markNeedsUpdateRendererDirty())),e.flatShading!==void 0||e.wireframe!==void 0||e.side!==void 0)if(Array.isArray(this.material))for(let i=0;i<this.material.length;i++)this.material[i]=this.material[i].getFlavor(n.flatShading,n.side,n.wireframe);else this.material=this.material.getFlavor(n.flatShading,n.side,n.wireframe)}disposeMaterial(){this.material&&uU(this.material).forEach(e=>{e instanceof hu&&(e instanceof tA||e.nodeMaterialDispose())})}dispose(){this.disposeMaterial(),super.dispose()}},Zz=new L,$z=new Et,Kz=new Et,QCe=new L,Jz=new Be,bo=class extends dg{constructor(e,t,n){super(e,t),this.data=t,this.isSkinnedMesh=!1,this.localGeometry=void 0,t.bindMode&&t.bindMatrix&&(this.bindMode=t.bindMode,this.bindMatrix=new Be().fromArray(t.bindMatrix),this.bindMatrixInverse=new Be)}chooseGeoemtryCache(e){return e.geometryCache}markGeometryAsReachable(e){this.geometryCreateDeleyed instanceof pt&&this.chooseGeoemtryCache(e).markAsReachable(this.dataPatched.geometry,this.geometryCreateDeleyed)}get geometry(){if(this.localGeometry!==void 0)return this.localGeometry;if(this.geometryCreateDeleyed instanceof NT){let e=this.geometryCreateDeleyed,t=this.chooseGeoemtryCache(e);this.geometryCreateDeleyed=t.get(this.dataPatched.geometry,e,this)}return this.geometryCreateDeleyed}set geometry(e){this.localGeometry=e}get is2DAndNoDepth(){let e=this.dataPatched.geometry;return RM.is2DParametricMesh(e.type)&&e.depth===0}get is2DType(){return RM.is2DParametricMesh(this.geometry.userData.type)}get isNonParametric(){return this.geometry.userData.type==="NonParametricGeometry"}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),ii(e.path,["geometry"])&&this.updateByPatchedOpGeometry(Tr.drop(e,1),t.geometry,n)}removeInteractionGeometry(e){this.localGeometry?.dispose(),this.localGeometry=void 0}updateGeometryInteractions(e,t){this.invalidateDownstreamBooleanData();let n=this.data.geometry.type;if(n==="NonParametricGeometry"||n==="SubdivGeometry"){let i=e;if(this.localGeometry===void 0){let l=B(B({},this.data.geometry),i);this.localGeometry=py(l,t,this.data.flatShading,this)}let r,o,a;i.scaleBaked?[r,o,a]=i.scaleBaked:{width:r,height:o,depth:a}=i;let s=this.localGeometry.userData;s.sxPrev!==void 0&&QD(this.localGeometry.attributes,r/s.sxPrev,o/s.syPrev,a/s.szPrev),s.sxPrev=r,s.syPrev=o,s.szPrev=a}else{let i=B(B({},this.data.geometry),e);this.localGeometry?.dispose(),this.localGeometry=py(i,t,this.data.flatShading,this)}}refreshAttachedCloners(e){for(let t of this.attachedSurfaceCloners)e.scene.addPendingUpdateCloner(t.object)}refreshAttachedPaths(e){for(let t of this.attachedPaths)e.scene.addPendingCommand(()=>t.updateShape())}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.refreshAttachedCloners(e),this.refreshAttachedPaths(e)}updateByPatchedOpGeometry(e,t,n){let i=!1;e.type===0&&e.path.length===0&&Object.keys(e.props).includes("scaleBaked")&&this.geometryCreateDeleyed instanceof zo&&this.chooseGeoemtryCache(n.shared).mutateIfUnique(this.geometryCreateDeleyed.data,t)===this.geometryCreateDeleyed&&(i=!0,this.geometryCreateDeleyed.mutateDirectlyScaleBaked(t,e.props.scaleBaked),this.refreshAttachedCloners(n),this.refreshAttachedPaths(n)),i||(n.scene?.markGeometryCacheDirty(),this.createGeometryDelayed(n)),this.resetBBoxNeedsUpdate(),this.invalidateDownstreamBooleanData()}updateGeometryOnStateUpdate(e,t){this.createGeometryDelayed(t)}updateState(e,t){e.geometry!==void 0&&this.updateGeometryOnStateUpdate(e.geometry,t),super.updateState(e,t)}updateGeometryGroupsIfNeeded(){Array.isArray(this.material)&&this.geometry.groups.length===0&&this.geometry.addGroup(0,Math.max(this.geometry.getIndex()?.count??0,this.geometry.getAttribute("position").count),0)}updateEntityBoxSize(e,t){let n=this.geometry.userData.parameters;this.is2DType?e.set(0,0,n.depth*.5):this.isNonParametric?(e.setScalar(0),this.geometry.boundingSphere&&e.copy(this.geometry.boundingSphere.center),t.set(n.width,n.height,n.depth??0).multiplyScalar(.5)):e.setScalar(0),t.set(n.width,n.height,n.depth??0).multiplyScalar(.5)}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}bind(e,t){this.skeleton=e,this.isSkinnedMesh=!0,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(e){let t=new Et,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){t.fromBufferAttribute(n,i);let o=1/t.manhattanLength();o!==1/0?t.multiplyScalar(o):t.set(1,0,0,0),n.setXYZW(i,t.x,t.y,t.z,t.w)}}boneTransform(e,t){let n=this.skeleton;if(n===void 0)return;let i=this.geometry;$z.fromBufferAttribute(i.attributes.skinIndex,e),Kz.fromBufferAttribute(i.attributes.skinWeight,e),Zz.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){let o=Kz.getComponent(r);if(o!==0){let a=$z.getComponent(r);Jz.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(QCe.copy(Zz).applyMatrix4(Jz),o)}}return t.applyMatrix4(this.bindMatrixInverse)}};function ZCe(e){if(e.geometry.attributes.extrudeNormal||!e.geometry.attributes.position||!e.geometry.attributes.normal)return;let t=new Map,n=e.geometry.attributes,i=n.position.array,r=n.normal.array,o=new Float32Array(i.length);for(let a=0;a<i.length;a+=3){let s=`${i[a]}_${i[a+1]}_${i[a+2]}`,l=new L(r[a],r[a+1],r[a+2]);t.has(s)?t.get(s)?.normals.push(l):t.set(s,{normals:[l],result:new L})}t.forEach((a,s)=>{for(let l of a.normals)a.result.add(l);a.result.divideScalar(a.normals.length)});for(let a=0;a<i.length;a+=3){let s=`${i[a]}_${i[a+1]}_${i[a+2]}`,l=t.get(s)?.result;l&&(o[a]=l.x,o[a+1]=l.y,o[a+2]=l.z)}e.geometry.setAttribute("extrudeNormal",new Je(o,3))}function $Ce(e){if(e.geometry.attributes.extrudeNormals||!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,n=new Float32Array(t.length),i=new L;for(let r=0;r<t.length;r+=3)i.set(t[r],t[r+1],t[r+2]).normalize(),n[r]=i.x,n[r+1]=i.y,n[r+2]=i.z;e.geometry.setAttribute("extrudeNormal",new Je(n,3))}function zT(e){if(Array.isArray(e.material)){for(let t of e.material)if(t.getLayersOfType("outline").length===0)return}else if(!(e.material instanceof hu)||e.material.getLayersOfType("outline").length===0)return;e instanceof bo&&e.is2DAndNoDepth?$Ce(e):ZCe(e)}function BT(e){if(!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,n=new Float32Array(t.length),i=parseInt(e.uuid.replace(/\D/g,"")),r=[et.seededRandom(i),et.seededRandom(i+1e4),et.seededRandom(i+2e4)];for(let o=0;o<t.length;o++)n[o]=r[o%3];e.geometry.setAttribute("randomColor",new St(n,3))}var Ol=new ji,pv=new L;function KCe(e){let t=!1;return e.scene.objects.traverse((n,i)=>{i.type==="Mesh"&&i.geometry.type==="SubdivGeometry"&&(t=!0)}),t}var my=class extends bo{constructor(e,t,n){super(e,t,n),this.data=t,this.hiddenMatrixOld=new Be,this.smoothShading=!0,this.skipReactionUpdate=!1}chooseGeoemtryCache(e){return this.dataPatched.flatShading?e.geometryCache:e.geometryCache2}get subdivPointerNew(){return this.localGeometry!==void 0?this.subdivPointer:this.geometry.ensureSubdivPointer()}get originalGeometryNew(){return this.localGeometry!==void 0?this.originalGeometry:this.geometry.originalGeometry}get phongAngle(){return this.data.geometry.phongAngle??45}updateEntityBoxSize(e,t){let n=this.geometry.userData.parameters;e.copy(this.originalGeometryNew.boundingSphere.center),t.set(n.width,n.height,n.depth??0).multiplyScalar(.5)}createGeometryByControls(e){if(this.skipReactionUpdate===!0)return;let t=this.localGeometry?.uuid,{originalGeometry:n,subdividedGeometry:i,subdivPointer:r}=zo.build(e,this.subdivPointer,this.smoothShading,this.hasNonUniformScale?this.shearScale:void 0);this.subdivPointer=r,n!==void 0&&(this.originalGeometry?.dispose(),this.originalGeometry=n),i!==void 0&&(this.subdividedGeometry?.dispose(),this.subdividedGeometry=i??void 0),this.localGeometry=this.subdividedGeometry??this.originalGeometry,zT(this),BT(this),this.calcBoundingBox(),t&&(this.localGeometry.uuid=t)}updateState(e,t){if(super.updateState(e,t),e.flatShading!==void 0){let n=this.material;this.material=Array.isArray(n)?n.map(i=>i.getFlavor(!1,i.side,i.wireframe)):n.getFlavor(!1,n.side,n.wireframe),this.smoothShading=!e.flatShading,this.createGeometryDelayed(t)}}updateMesh(e=!1){zo.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1,this.originalGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0),this.subdividedGeometry&&zo.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1,this.subdividedGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0)}updateTopology(){this.originalGeometry.dispose(),this.originalGeometry=zo.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1),this.subdividedGeometry&&(this.subdividedGeometry.dispose(),this.subdividedGeometry=zo.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1)),this.localGeometry=this.subdividedGeometry??this.originalGeometry}raycast(e,t){let n=this.localGeometry;this.localGeometry=this.originalGeometryNew,Ho.prototype.raycast.call(this,e,t),this.localGeometry=n}activateSVDCompensation(){!this.hasNonUniformScale||(this.matrix.copy(this.matrixWorldRigid),this.hiddenMatrixOld.copy(this.hiddenMatrix),this.hiddenMatrix.copy(this.parent.matrixWorld).invert())}deactivateSVDCompensation(){!this.hasNonUniformScale||(this.updateMatrix(),this.hasNonUniformScale=void 0,this.hiddenMatrix.copy(this.hiddenMatrixOld))}calcBoundingBox(){let e=this.originalGeometry;e.boundingSphere===null&&(e.boundingSphere=new ua,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let t=e.attributes.position,n=e.boundingSphere.center;Ol.setFromBufferAttribute(t),Ol.getCenter(n),e.boundingSphere.radius=n.distanceTo(Ol.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),Ol.getSize(pv),this.hasNonUniformScale&&pv.divide(this.scale);let i={width:pv.x,height:pv.y,depth:pv.z};return this.geometry.userData.parameters=i,i}updateBoundingSphere(e){let t=this.originalGeometry;Ol.min.set(e[0],e[2],e[4]),Ol.max.set(e[1],e[3],e[5]),this.hasNonUniformScale&&(Ol.min.applyMatrix4(this.shearScaleInv),Ol.max.applyMatrix4(this.shearScaleInv)),t.boundingSphere===null&&(t.boundingSphere=new ua);let n=t.boundingSphere.center;Ol.getCenter(n),t.boundingSphere.radius=n.distanceTo(Ol.max)}freeSubdivPointer(){this.subdivPointer&&(zo.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0),this.localGeometry=void 0,this.originalGeometry?.dispose(),this.subdividedGeometry?.dispose()}dispose(){super.dispose(),this.freeSubdivPointer()}updateByPatchedOpGeometry(e,t,n){super.updateByPatchedOpGeometry(e,t,n),this.localGeometry&&this.createGeometryByControls(t)}},eB=-1,JCe=1,eMe={x:[1,0,0],"-x":[-1,0,0],y:[0,1,0],"-y":[0,-1,0],z:[0,0,1],"-z":[0,0,-1]},tMe={polygon_center:0,edge:1,vertex:2},_C=(e,t)=>(n,i)=>!t||n===0||e===0?0:e*i/100,Ut=(e,t)=>{let n=Math.abs(t),i=n*-1;return(e-eB)*(n-i)/(JCe-eB)+i};function nMe(e){let t=[],n={};for(var i=0,r=e.length;i<r;i++){var o=JSON.stringify(e[i].pos.map(a=>Math.round(a*1e4)/1e4));n[o]||(t.push(e[i]),n[o]=!0)}return t}var iMe=new L,CC=new L,rMe=new L,oMe=new L;function Af(e,t){let n=rMe.fromArray(e),i=oMe.fromArray(t);CC.copy(i).sub(n);let r=CC.length();return CC.normalize().multiplyScalar(r*.5),iMe.copy(n).add(CC).toArray()}var ms=new Xr,MC=new L,XM=new L,Rh=new L;function aMe(e){let t=[];for(let n=0;n<=e.index.count;n++)if(MC.fromArray(e.index.array,n*3),ms.setFromAttributeAndIndices(e.attributes.position,MC.x,MC.y,MC.z),ms.getNormal(XM),ms.getMidpoint(Rh),!(isNaN(Rh.x)||isNaN(Rh.y)||isNaN(Rh.z))){let{a:i,b:r,c:o}=ms,a=i.toArray(),s=r.toArray(),l=o.toArray(),c=i.distanceTo(r),d=r.distanceTo(o),u=o.distanceTo(i),h=Af(a,s),p=Af(s,l),m=Af(l,a),g=[c,d,u],v=Math.max(...g),b=g.filter(M=>Math.round(M)===Math.round(v)).length>1,_=[],C=ms.getMidpoint(Rh).toArray();v===c&&!b&&(_=[p,m,m],C=h),v===d&&!b&&(_=[h,m,m],C=p),v===u&&!b&&(_=[h,p,p],C=m),b&&(_=[h,p,m]),t.push({vertices:[a,s,l],faceCenters:_,midpoint:C,norm:ms.getNormal(XM).toArray()})}return t}function sMe(e){let t=[],{position:n}=e.attributes;for(let i=0;i<n.count;i++){ms.setFromAttributeAndIndices(n,i*3,i*3+1,i*3+2),ms.getNormal(XM),ms.getMidpoint(Rh);let r=ms.a.toArray(),o=ms.b.toArray(),a=ms.c.toArray();t.push({vertices:[r,o,a],faceCenters:[Af(r,o),Af(o,a),Af(a,r)],midpoint:Rh.toArray(),norm:XM.toArray()})}return t}var lMe=4,cMe=.5,qE=e=>.5*(1-Math.cos(e*Math.PI)),dMe=class{constructor(){this.perlin=new Array(4096)}noise(e,t=0,n=0){if(this.perlin==null){this.perlin=new Array(4096);for(let v=0;v<4096;v++)this.perlin[v]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),n<0&&(n=-n);let i=Math.floor(e),r=Math.floor(t),o=Math.floor(n),a=e-i,s=t-r,l=n-o,c,d,u=0,h=.5,p,m,g;for(let v=0;v<lMe;v++){let b=i+(r<<4)+(o<<8);c=qE(a),d=qE(s),p=this.perlin[b&4095],p+=c*(this.perlin[b+1&4095]-p),m=this.perlin[b+16&4095],m+=c*(this.perlin[b+16+1&4095]-m),p+=d*(m-p),b+=256,m=this.perlin[b&4095],m+=c*(this.perlin[b+1&4095]-m),g=this.perlin[b+16&4095],g+=c*(this.perlin[b+16+1&4095]-g),m+=d*(g-m),p+=qE(l)*(m-p),u+=p*h,h*=cMe,i<<=1,a*=2,r<<=1,s*=2,o<<=1,l*=2,a>=1&&(i++,a--),s>=1&&(r++,s--),l>=1&&(o++,l--)}return u}noiseSeed(e){let t=(()=>{let n,i;return{setSeed(r){i=n=(r??Math.random()*4294967296)>>>0},getSeed(){return n},rand(){return i=(1664525*i+1013904223)%4294967296,i/4294967296}}})();t.setSeed(e),this.perlin=new Array(4096);for(let n=0;n<4096;n++)this.perlin[n]=t.rand()}},uMe=dMe,tB=new L,nB=new Be,iB=new Zf;function rB(e){let t=!1;return e.scene.objects.traverse((n,i)=>{i.type==="Mesh"&&i.geometry.type==="TextGeometry"&&(t=!0)}),t}var fH=class extends bo{constructor(e,t,n){super(e,t,n),this.data=t}get textGeometry(){return this.geometry}get charWidths(){return this.textGeometry.charWidths}get charCoords(){return this.textGeometry.charCoords}get wrappedText(){return this.textGeometry.wrappedText}get font(){return this.textGeometry.font}get initialOffsetY(){let e=this.dataPatched;return this.font?.getLineInitialOffsetY(this.lineHeight,this.wrappedText.length,e.geometry.height,this.fontScale,e.geometry.verticalAlign)??0}get fontScale(){let e=this.dataPatched;return this.font?e.geometry.fontSize/this.font.unitsPerEm:1}get AD(){return Math.abs(this.ascender-this.descender)}get ascender(){return(this.font?.ascender??1)*this.fontScale}get descender(){return(this.font?.descender??1)*this.fontScale}get lineHeight(){let e=this.dataPatched;return e.geometry.fontSize*e.geometry.lineHeight}raycast(e,t){let{matrixWorld:n}=this;if(!(isNaN(e.ray.origin.x)||this.scale.x===0||this.scale.y===0||this.scale.z===0)&&(nB.copy(n).invert(),iB.copy(e.ray).applyMatrix4(nB),iB.intersectBox(this.singleBBox,tB))){let i=tB.applyMatrix4(n),r=e.ray.origin.distanceTo(i);t.push({distance:r,point:i.clone(),object:this})}}},ko=1e-4,Sl,gH,vH,yH,oB=new L,aB=new L;Oj.then(e=>{Sl=e,gH=[Sl.get_face_center,Sl.get_edge_midpoint,Sl.get_vertex_position],vH=[Sl.get_face_normal,Sl.get_edge_normal,Sl.get_vertex_normal],yH=[Sl.face_count,Sl.edge_count,Sl.vertex_count]});var hMe=new Be,pMe=new Be,zd=new L,wC=new L,mv=new L,YE=new L,mMe=new L,fMe=new L,Ec=new uMe,Gs=class extends CT(qn){constructor(e,t){super(),this.parameters=t,this.objectForSample=void 0,this._pendingMediaLoad=!1,this.object=e}resetOnMove(){this.removeFromParent(),this.parent=null}expandClones(e){if(this.parent===null)this.updateState(this.parameters,e);else for(let t of this.children)t instanceof yo&&t.expand()}invalidateTransform(e){this.matrixWorldNeedsUpdate=!0,this.traverse(t=>{t instanceof yo&&t.object===e&&(t.matrixWorldNeedsUpdate=!0)})}onObjUpdateMatrix(){this.parameters.type!=="toObject"&&(this.matrixWorldNeedsUpdate=!0)}update(){switch(this._updateCount(),this.parameters.type){case"radial":this._updateRadial(this.parameters);break;case"linear":this._updateLinear(this.parameters);break;case"grid":this._updateGrid(this.parameters);break;case"toObject":this._updateToObject(this.parameters)}for(let e of this.children)e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD())}_updateCount(e){let t;if(e!==void 0?t=e:t=this.parameters.type==="grid"?Math.round(this.parameters.grid.count[0])*Math.round(this.parameters.grid.count[1])*Math.round(this.parameters.grid.count[2]):this.parameters.count,this.parameters.type==="toObject"&&!this.parameters.toObject.object&&(t=0),this.parameters.type==="toObject"&&this.objectForSample){for(let i=0,r=this.children.length;i<r;++i)this.remove(this.children[0]);let n=this.children;if(n.length===t)return;if(n.length<t)for(let i=0,r=t-n.length;i<r;++i){let o=new yo(this.object);o.expand(),this.add(o)}else for(let i=0,r=n.length-t;i<r;++i)this.remove(n[i])}else{if(this.children.length===t)return;if(this.children.length<t)for(let n=0,i=t-this.children.length;n<i;++n){let r=new yo(this.object);r.expand(),this.add(r)}else for(let n=0,i=this.children.length-t;n<i;++n)this.remove(this.children[0])}}_updateRadial(e){let t=e.radial,n=t.start*et.DEG2RAD,i=t.end*et.DEG2RAD,r=n-i,o=new mr(t.rotation[0],t.rotation[1],t.rotation[2]),a;switch(t.axis){case"z":a=new L(0,0,1);break;case"y":a=new L(0,1,0);break;default:case"x":a=new L(1,0,0);break}let s=e.randomnessObject??Jd.defaultData([1,1,1]).randomnessObject,l=s.noiseType==="perlin";Ec.noiseSeed(s.seed);let c=PE((0,lv.default)(s.seed)),d=_C(s.strength,this.parameters.randomness);for(let[u,h]of this.children.entries()){let p=u*(s.freqScale/10)+s.movement,m=l?Ec.noise(p):c(p,p),g=u+1;h.scale.x=t.scale[0]+d(g,Ut(m,s.scale[0]))||ko,h.scale.y=t.scale[1]+d(g,Ut(m,s.scale[1]))||ko,h.scale.z=t.scale[2]+d(g,Ut(m,s.scale[2]))||ko,h.position.setScalar(0);let v=r/e.count*u-n;switch(t.axis){case"x":h.rotation.set(0,v,0);break;case"y":h.rotation.set(0,0,v);break;case"z":h.rotation.set(v,0,0);break}h.translateOnAxis(a,t.radius),h.position.x+=t.position[0]+d(g,Ut(m,s.position[0])),h.position.y+=t.position[1]+d(g,Ut(m,s.position[1])),h.position.z+=t.position[2]+d(g,Ut(m,s.position[2]));let b=d(g,Ut(m,s.rotation[0])),_=d(g,Ut(m,s.rotation[1])),C=d(g,Ut(m,s.rotation[2]));t.alignment===!0?(h.rotation.x+=o.x+b,h.rotation.y+=o.y+_,h.rotation.z+=o.z+C):h.rotation.set(o.x+b,o.y+_,o.z+C)}}_updateLinear(e){if(e.type!=="linear")throw new Error;let t=e.linear,n=new mr(t.rotation[0],t.rotation[1],t.rotation[2]),i=e.randomnessObject??Jd.defaultData([1,1,1]).randomnessObject,r=i.noiseType==="perlin";Ec.noiseSeed(i.seed);let o=PE((0,lv.default)(i.seed)),a=_C(i.strength,this.parameters.randomness);for(let[s,l]of this.children.entries()){let c=s*(i.freqScale/10)+i.movement,d=r?Ec.noise(c):o(c,c),u=s+1,h=a(u,Ut(d,i.rotation[0])),p=a(u,Ut(d,i.rotation[1])),m=a(u,Ut(d,i.rotation[2]));l.scale.x=1+(t.scale[0]-1)*s+a(u,Ut(d,i.scale[0]))||ko,l.scale.y=1+(t.scale[1]-1)*s+a(u,Ut(d,i.scale[1]))||ko,l.scale.z=1+(t.scale[2]-1)*s+a(u,Ut(d,i.scale[2]))||ko,l.rotation.x=n.x*s+h,l.rotation.y=n.y*s+p,l.rotation.z=n.z*s+m,l.position.x=t.position[0]*s+a(u,Ut(d,i.position[0])),l.position.y=t.position[1]*s+a(u,Ut(d,i.position[1])),l.position.z=t.position[2]*s+a(u,Ut(d,i.position[2]))}}_updateGrid(e){let t=0,n=e.grid,i=e.randomnessObject??Jd.defaultData([1,1,1]).randomnessObject,r=_C(i.strength,this.parameters.randomness),o=i.noiseType==="perlin";Ec.noiseSeed(i.seed);let a=v1e((0,lv.default)(i.seed));if(n.useCenter===!0){let s={x:n.count[0]%2===0?2:1,y:n.count[1]%2===0?2:1,z:n.count[2]%2===0?2:1},l=new L(n.size[0]*(n.count[0]-s.x)*.5,n.size[1]*(n.count[1]-s.y)*.5,n.size[2]*(n.count[2]-s.z)*.5);for(let c=0;c<n.count[0];c++)for(let d=0;d<n.count[1];d++)for(let u=0;u<n.count[2];u++){let h=[(c+1)*(i.freqScale/10)+i.movement,(d+1)*(i.freqScale/10)+i.movement,(u+1)*(i.freqScale/10)+i.movement],p=o?Ec.noise(...h):a(...h),m=this.children[t++];m.scale.x=1+r(t,Ut(p,i.scale[0]))||ko,m.scale.y=1+r(t,Ut(p,i.scale[1]))||ko,m.scale.z=1+r(t,Ut(p,i.scale[2]))||ko;let g=r(t,Ut(p,i.rotation[0])),v=r(t,Ut(p,i.rotation[1])),b=r(t,Ut(p,i.rotation[2]));m.rotation.set(g,v,b),m.position.x=n.size[0]*c-l.x+r(t,Ut(p,i.position[0])),m.position.y=n.size[1]*d-l.y+r(t,Ut(p,i.position[1])),m.position.z=n.size[2]*u-l.z+r(t,Ut(p,i.position[2]))}}else for(let s=0;s<n.count[0];s++)for(let l=0;l<n.count[1];l++)for(let c=0;c<n.count[2];c++){let d=[(s+1)*(i.freqScale/10)+i.movement,(l+1)*(i.freqScale/10)+i.movement,(c+1)*(i.freqScale/10)+i.movement],u=o?Ec.noise(...d):a(...d),h=this.children[t++];h.scale.x=1+r(t,Ut(u,i.scale[0]))||ko,h.scale.y=1+r(t,Ut(u,i.scale[1]))||ko,h.scale.z=1+r(t,Ut(u,i.scale[2]))||ko;let p=r(t,Ut(u,i.rotation[0])),m=r(t,Ut(u,i.rotation[1])),g=r(t,Ut(u,i.rotation[2]));h.rotation.set(p,m,g),h.position.x=n.size[0]*s+r(t,Ut(u,i.position[0])),h.position.y=-n.size[1]*l+r(t,Ut(u,i.position[1])),h.position.z=-n.size[2]*c+r(t,Ut(u,i.position[2]))}}_updateToObject(e){if(e.type!=="toObject")throw new Error;let{toObject:t}=e,n=new mr(t.rotation[0],t.rotation[1],t.rotation[2]),i=e.randomnessObject??Jd.defaultData([1,1,1]).randomnessObject,r=i.noiseType==="perlin";Ec.noiseSeed(i.seed);let o=PE((0,lv.default)(i.seed)),a=_C(i.strength,this.parameters.randomness);if(!t.object){for(let[,g]of this.children.entries())g.position.set(0,0,0),g.scale.setScalar(1),g.rotation.set(0,0,0);this.objectForSample=void 0;return}if(!this.objectForSample)return;if(this.objectForSample instanceof fH)if(!this.objectForSample.font?.isLoaded||this.objectForSample.geometry.attributes.position===void 0){this._pendingMediaLoad=!0;return}else this._pendingMediaLoad=!1;if(this.objectForSample.geometry===void 0&&this.objectForSample.isAncestorOf(this.object.uuid)){console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) seem to be a child/descendant of the object it's being cloned to. Please re-parent it so that they are siblings instead.`);return}let s=this.getSubdivData(),l=[],c=g=>{let v=g.length,b=g.map(M=>M[0]).reduce((M,P)=>M+P,0),_=g.map(M=>M[1]).reduce((M,P)=>M+P,0),C=g.map(M=>M[2]).reduce((M,P)=>M+P,0);return[b/v,_/v,C/v]},d=g=>Math.round(g*1e6)/1e6;s.forEach(g=>{let v=s.filter(b=>d(g.pos[0])===d(b.pos[0])&&d(g.pos[1])===d(b.pos[1])&&d(g.pos[2])===d(b.pos[2]));v.length>1?l.push({pos:g.pos,norm:c(v.map(b=>b.norm))}):l.push(g)});let u=nMe(l);if(u.length>0){let g=Math.round(u.length*t.count/100);this._updateCount(g)}else{let g=this.objectForSample.geometry.getAttribute("position");if(!g||isNaN(g.count)||g.count===0){console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) cannot be cloned on the surface of "${this.objectForSample.name}" (${this.objectForSample.uuid}) because the latter does not have a valid geometry.`);return}}this.objectForSample.updateMatrixWorld();let h=new y1e(this.objectForSample).build(),p=eMe[t.axis],m=this.children;h.setRandomGenerator((0,lv.default)(this.object.uuid+t.seed));for(let[g,v]of m.entries()){let b=g*(i.freqScale/10)+i.movement,_=r?Ec.noise(b):o(b,b),C=g+1,M=a(C,Ut(_,i.rotation[0])),P=a(C,Ut(_,i.rotation[1])),x=a(C,Ut(_,i.rotation[2]));t.spreadType==="random"?h.sample(mv,YE):(u.length&&(mv.fromArray(u[g].pos),YE.fromArray(u[g].norm)),this.objectForSample instanceof my&&mv.applyMatrix4(hMe.copy(this.objectForSample.matrixWorld).invert())),mv.applyMatrix4(this.object.hiddenMatrix.clone().invert()),v.position.copy(mv),zd.fromArray(p);let E=t.align==="normal"?YE:this.object.getWorldDirection(fMe),O=wC.fromArray(t.position);wC.x+=a(C,Ut(_,i.position[0])),wC.y+=a(C,Ut(_,i.position[1])),wC.z+=a(C,Ut(_,i.position[2]));let S=Math.acos(E.dot(zd)),D=mMe.crossVectors(zd,E).normalize(),I=pMe.makeRotationAxis(D,S),T=E.clone().cross(this.object.up).normalize(),R=T.clone().cross(E).normalize(),k=new Be().makeBasis(T,E,R),z=new L(zd.y,zd.z,zd.x).normalize(),W=z.clone().cross(zd).normalize(),N=new Be().makeBasis(z,zd,W).invert(),F=new Be().multiplyMatrices(k,N);v.rotation.setFromRotationMatrix(F),O.applyMatrix4(I),v.position.add(O),v.rotation.x=v.rotation.x+n.x+M,v.rotation.y=v.rotation.y+n.y+P,v.rotation.z=v.rotation.z+n.z+x,v.scale.setScalar(1),v.scale.x=v.scale.x+t.scale[0]+a(C,Ut(_,i.scale[0]))||ko,v.scale.y=v.scale.y+t.scale[1]+a(C,Ut(_,i.scale[1]))||ko,v.scale.z=v.scale.z+t.scale[2]+a(C,Ut(_,i.scale[2]))||ko,v.scale.multiply(this.object.scale),v.hiddenMatrix=this.object.hiddenMatrix}}getSubdivData(){if(!this.objectForSample)return[];let e=this.parameters.toObject.spreadType;if(e==="random")return[];if(this.objectForSample instanceof my){let t=this.objectForSample,n=tMe[e],i=yH[n],r=gH[n],o=vH[n],a=[],s=i(t.subdivPointerNew);for(let l=0;l<=s-1;l++){let c=r(t.subdivPointerNew,l),d=o(t.subdivPointerNew,l);oB.fromArray(c).applyMatrix4(t.matrixWorld),aB.fromArray(d),a.push({pos:oB.toArray(),norm:aB.toArray()})}return a}else return(this.objectForSample.geometry.index?aMe(this.objectForSample.geometry):sMe(this.objectForSample.geometry)).map((t,n)=>e==="polygon_center"?{pos:t.midpoint,norm:t.norm}:e==="vertex"?[{pos:t.vertices[0],norm:t.norm},{pos:t.vertices[1],norm:t.norm},{pos:t.vertices[2],norm:t.norm}]:e==="edge"?[{pos:t.faceCenters[0],norm:t.norm},{pos:t.faceCenters[1],norm:t.norm},{pos:t.faceCenters[2],norm:t.norm}]:[]).flat()}updateState(e,t){if(this.parameters=mw(e),this.parameters.type!=="toObject")(this.parent===null||this.parent!==this.object)&&(this.removeFromParent(),this.object.parent?.add(this),this.matrix=this.object.matrix,this.hiddenMatrix=this.object.hiddenMatrix,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1);else if(this.parent===null||this.parent.uuid!==this.parameters.toObject.object){this.removeFromParent();let n=t.find(this.parameters.toObject.object);n instanceof Ho?this.objectForSample=n:this.objectForSample=void 0,this.matrix=new Be,this.hiddenMatrix=new Be,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1,n&&n.add(this)}this.update()}get pendingMediaLoad(){return this._pendingMediaLoad}},Py=e=>{var t;return t=class extends e{},t.geometryHelper=new Qs(30,30,30),t},xC=new Zf,XE=new ua,sB=new Be,Oy=(e,t,n,i,r=!1)=>{let o=t,a=e.matrixWorld;if(o.boundingSphere===null&&o.computeBoundingSphere(),XE.copy(o.boundingSphere),XE.applyMatrix4(a),n.ray.intersectsSphere(XE)===!1||(sB.copy(a).invert(),xC.copy(n.ray).applyMatrix4(sB),o.boundingBox!==null&&xC.intersectsBox(o.boundingBox)===!1))return;let s,l,c,d,u=o.index,h=o.attributes.position,p=o.drawRange,m,g;if(r===!1){let b=Math.max(0,p.start),_=Math.min(u.count,p.start+p.count);for(m=b,g=_;m<g;m+=3)if(l=u.getX(m),c=u.getX(m+1),d=u.getX(m+2),s=v(e,n,xC,h,l,c,d),s){s.faceIndex=Math.floor(m/3),i.push(s);return}}else{let b=o.attributes.position,_=new L,C=new L,M=new L,P=new L,x=2,E=1/((e.scale.x+e.scale.y+e.scale.z)/3),O=E*E,S=Math.max(0,p.start),D=Math.min(b.count,p.start+p.count);for(let I=S,T=D-1;I<T;I+=x){if(_.fromBufferAttribute(b,I),C.fromBufferAttribute(b,I+1),xC.distanceSqToSegment(_,C,P,M)>O)continue;P.applyMatrix4(e.matrixWorld);let R=n.ray.origin.distanceTo(P);R<n.near||R>n.far||i.push({distance:R,point:M.clone().applyMatrix4(e.matrixWorld),object:e})}}function v(b,_,C,M,P,x,E){let O=new L,S=new L,D=new L,I=new L,T=new L;if(O.fromBufferAttribute(M,P),S.fromBufferAttribute(M,x),D.fromBufferAttribute(M,E),C.intersectTriangle(O,S,D,!1,I)===null)return null;T.copy(I),T.applyMatrix4(b.matrixWorld);let R=_.ray.origin.distanceTo(T);return R<_.near||R>_.far?null:{faceIndex:1,distance:R,point:T.clone(),object:b}}},PC=new L,ss=new sp,gMe=class extends yy{constructor(e){let t=new pt,n=new pu({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],o={},a=new _t(15711266),s=new _t(15711266),l=new _t(2857471);c("n1","n2",a),c("n2","n4",a),c("n4","n3",a),c("n3","n1",a),c("f1","f2",a),c("f2","f4",a),c("f4","f3",a),c("f3","f1",a),c("n1","f1",a),c("n2","f2",a),c("n3","f3",a),c("n4","f4",a),c("p","n1",s),c("p","n2",s),c("p","n3",s),c("p","n4",s),c("u1","u2",l),c("u2","u3",l),c("u3","u1",l);function c(u,h,p){d(u,p),d(h,p)}function d(u,h){i.push(0,0,0),r.push(h.r,h.g,h.b),o[u]===void 0&&(o[u]=[]),o[u].push(i.length/3-1)}t.setAttribute("position",new Je(i,3)),t.setAttribute("color",new Je(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){let e=this.geometry,t=this.pointMap,n=!0;ss.projectionMatrixInverse.elements=[.5112609807824982,-0,-0,-0,-0,.41421356237309503,-0,-0,-0,-0,-0,-.099999,-0,-0,-1.0000000000000002,.100001];let i=1,r=1,o=n?.8:1e-4;Ls("n1",t,e,ss,-i,-r,o),Ls("n2",t,e,ss,i,-r,o),Ls("n3",t,e,ss,-i,r,o),Ls("n4",t,e,ss,i,r,o);let a=o;Ls("f1",t,e,ss,-i,-r,a),Ls("f2",t,e,ss,i,-r,a),Ls("f3",t,e,ss,-i,r,a),Ls("f4",t,e,ss,i,r,a);let s=a,l=.5;Ls("u1",t,e,ss,i*.7*l,r*1.1,s),Ls("u2",t,e,ss,-i*.7*l,r*1.1,s),Ls("u3",t,e,ss,0,r*(1.1+.9*l),s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function Ls(e,t,n,i,r,o,a){PC.set(r,o,a).unproject(i);let s=t[e];if(s!==void 0){let l=n.getAttribute("position");for(let c=0,d=s.length;c<d;c++)l.setXYZ(s[c],PC.x,PC.y,PC.z)}}var vMe=class extends Py(gMe){constructor(e){super(e),this.object=e,this.object=e,this.name=`CombinedCameraHelper: ${e.uuid}`}updateMatrixWorld(e){super.updateMatrixWorld(e),this.updateTarget()}updateTarget(){let e=this.object.getTarget();this.updateWorldMatrix(!0,!1),this.worldToLocal(e)}raycast(e,t){Oy(this.object,this.geometry,e,t,!0)}},nA;(e=>e.is=t=>"objectHelper"in t)(nA||(nA={}));var ug=(e,t)=>class extends MT(e){constructor(){super(...arguments),this.objectHelper=new t(this),this.gizmos={}}get geometryHelper(){return t.geometryHelper}raycast(n,i){this.objectHelper.raycast(n,i)}showGizmos(){for(let n in this.gizmos){let i=this.gizmos[n];i instanceof mM&&(i.visible=!0)}}updateEntityBoxSize(n,i){this.objectHelper.visible&&this.geometryHelper instanceof Qs?(n.setScalar(0),i.set(this.geometryHelper.parameters.width,this.geometryHelper.parameters.height,this.geometryHelper.parameters.height).multiplyScalar(.5)):super.updateEntityBoxSize(n,i)}hideGizmos(){for(let n in this.gizmos){let i=this.gizmos[n];i instanceof mM&&(i.visible=!1)}}},OC=790,Qm=new L,QE=new L,ZE=new Dt,$E=new L,fv=new L,KE=new L,Co=class extends ug(sp,vMe){constructor(e="",t=se(B({},oy.defaultData),{name:""})){super(),this._cameraType="OrthographicCamera",this.targetOffset=Uf.DefaultTargetOffset,this.isUpVectorFlipped=!1,this.angleOffsetFromUp=0,this.wasMovedByUser=!1,this.wasMovedBySwitchCameraAction=!1,this.super_Entity(e,t),this.previousProjectionMatrix=new Be,this.matrixAutoUpdate=!0,this.width=window.innerWidth,this.height=window.innerHeight;let n=this.width,i=this.height;this.orthoCamera=new kA(n*-.5,n*.5,i*.5,i*-.5,-5e4,1e4),this.perspCamera=new go(45,n/i,50,1e4),this.left=this.orthoCamera.left,this.right=this.orthoCamera.right,this.top=this.orthoCamera.top,this.bottom=this.orthoCamera.bottom,this.far=this.orthoCamera.far,this.view=this.orthoCamera.view,this.aspect=this.perspCamera.aspect,this.focus=this.perspCamera.focus,this.filmGauge=this.perspCamera.filmGauge,this.filmOffset=this.perspCamera.filmOffset,this.objectHelper.update()}get isPerspectiveCamera(){return this.cameraType==="PerspectiveCamera"}get isOrthographicCamera(){return!this.isPerspectiveCamera}get cameraType(){return this._cameraType}set fov(e){this.perspCamera.fov=e}get fov(){return this.perspCamera.fov}setNear(e,t){e==="PerspectiveCamera"?this.perspCamera.near=t:this.orthoCamera.near=t}setZoom(e,t){t>=0&&(e==="PerspectiveCamera"?this.perspCamera.zoom=t:this.orthoCamera.zoom=t)}set cameraType(e){e==="PerspectiveCamera"?this.toPerspective():e==="OrthographicCamera"&&this.toOrthographic()}get near(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.near:this.orthoCamera.near}set near(e){this._cameraType==="PerspectiveCamera"?this.perspCamera.near=e:this.orthoCamera.near=e}get zoom(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom:this.orthoCamera.zoom}set zoom(e){e>=0&&(this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom=e:this.orthoCamera.zoom=e)}lookAt(e,t,n){typeof e=="number"&&(e=new L(e,t,n)),super.lookAt(e),this.getWorldPosition(Qm),this.targetOffset=Qm.distanceTo(e)}getTarget(e=new L){return this.getWorldDirection(QE),this.getWorldPosition(Qm),QE.multiplyScalar(this.targetOffset),e.copy(Qm).add(QE),e}getDistanceToTarget(){let e=this.getTarget();return this.getWorldPosition(Qm),Qm.distanceTo(e)}updateUp(){this.getWorldQuaternion(ZE),$E.set(0,0,1).applyQuaternion(ZE),fv.copy(qn.DEFAULT_UP),this.isUpVectorFlipped&&fv.negate(),fv.applyQuaternion(ZE),KE.copy(qn.DEFAULT_UP).projectOnPlane($E),this.angleOffsetFromUp=KE.angleTo(fv),this.angleOffsetFromUp*=KE.cross(fv).dot($E)>=0?1:-1}updateTransformState(e,t){let n=super.updateTransformState(e,t);return e.isUpVectorFlipped!==void 0&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateUp(),n}getViewFrontToObject(e){let t=e.getWorldPosition(new L),n=e.getWorldDirection(new L).multiplyScalar(this.targetOffset);return{position:t.clone().add(n),target:t}}getViewToTarget(e){let t=this.getWorldDirection(new L).multiplyScalar(this.targetOffset);return{position:e.clone().sub(t),target:e}}getViewToObject(e){let t=new L,n=e.getWorldPosition(t);return this.getViewToTarget(t)}setViewplaneSize(e,t,n=!1){if(this.aspect=e/t,n){let i=e>t?this.aspect:1,r=e>t?1:this.aspect;this.left=-OC*.5*i,this.right=OC*.5*i,this.top=OC*.5*(1/r),this.bottom=-OC*.5*(1/r)}else this.left=-e*.5,this.right=e*.5,this.top=t*.5,this.bottom=-t*.5;this.updateProjectionMatrix()}copyViewPlaneSize(e){this.aspect=e.aspect,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.updateProjectionMatrix()}toOrthographic(){this.orthoCamera.left=this.left,this.orthoCamera.right=this.right,this.orthoCamera.top=this.top,this.orthoCamera.bottom=this.bottom,this.orthoCamera.view=this.view,this.orthoCamera.far=this.far,this.orthoCamera.updateProjectionMatrix(),this.projectionMatrix=this.orthoCamera.projectionMatrix,this.projectionMatrixInverse=this.orthoCamera.projectionMatrixInverse,this._cameraType="OrthographicCamera",this.objectHelper&&this.objectHelper.update()}toPerspective(){this.perspCamera.aspect=this.aspect,this.perspCamera.fov=this.fov,this.perspCamera.view=this.view,this.perspCamera.far=this.far,this.perspCamera.updateProjectionMatrix(),this.projectionMatrix=this.perspCamera.projectionMatrix,this.projectionMatrixInverse=this.perspCamera.projectionMatrixInverse,this._cameraType="PerspectiveCamera",this.objectHelper&&this.objectHelper.update()}setFocalLength(e){this.perspCamera.setFocalLength(e),this.toPerspective()}getFocalLength(){return this.perspCamera.getFocalLength()}getEffectiveFOV(){return this.perspCamera.getEffectiveFOV()}getFilmWidth(){return this.perspCamera.getFilmWidth()}getFilmHeight(){return this.perspCamera.getFilmHeight()}setViewOffset(e,t,n,i,r,o){this._cameraType==="PerspectiveCamera"?this.perspCamera.setViewOffset(e,t,n,i,r,o):this.orthoCamera.setViewOffset(e,t,n,i,r,o)}clearViewOffset(){this._cameraType==="PerspectiveCamera"?(this.perspCamera.clearViewOffset(),this.toPerspective()):(this.orthoCamera.clearViewOffset(),this.toOrthographic())}copyHistory(){this.previousProjectionMatrix&&this.previousProjectionMatrix.copy(this.projectionMatrix)}updateProjectionMatrix(){this._cameraType==="PerspectiveCamera"?this.toPerspective():this._cameraType==="OrthographicCamera"&&this.toOrthographic()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}copy(e,t){return super.copy(e,t),this.parent=e.parent,this.orthoCamera.copy(e.orthoCamera),this.perspCamera.copy(e.perspCamera),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.far=e.far,this.view=e.view===null?null:Object.assign({},e.view),this._cameraType=e._cameraType,this.aspect=e.aspect,this.fov=e.fov,this.focus=e.focus,this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this.targetOffset=e.targetOffset,this.updateProjectionMatrix(),this}toCameraState(e=[]){let t={type:this.cameraType,far:this.far,orthographic:{near:this.orthoCamera.near,zoom:this.orthoCamera.zoom},perspective:{near:this.perspCamera.near,fov:this.perspCamera.fov,zoom:this.perspCamera.zoom},up:this.up.toArray(),targetOffset:this.targetOffset,isUpVectorFlipped:this.isUpVectorFlipped};return Z3(t,e)}updateCameraSubtype(e,t){let n=e==="perspective"?"PerspectiveCamera":"OrthographicCamera";t.zoom!==void 0&&this.setZoom(n,t.zoom),t.near!==void 0&&this.setNear(n,t.near),t.fov!==void 0&&n==="PerspectiveCamera"&&(this.fov=t.fov)}updateState(e,t){this.updateCameraState(e,t)}updateCameraState(e,t){this.updateState_Entity(e,t),e.far!==void 0&&(this.far=e.far),e.orthographic!==void 0&&this.updateCameraSubtype("orthographic",e.orthographic),e.perspective!==void 0&&this.updateCameraSubtype("perspective",e.perspective),e.type!==void 0&&(this.cameraType=e.type),e.up!==void 0&&this.up.fromArray(e.up),e.targetOffset!==void 0&&(this.targetOffset=e.targetOffset),e.isUpVectorFlipped!==void 0&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateProjectionMatrix()}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),e.path.length===1&&e.type===0&&this.updateCameraSubtype(e.path[0],e.props)}toState(e){return se(B(B({},super.toState(e)),this.toCameraState(e)),{type:this.cameraType})}},Zm=new Be,yMe=new Be;function lB(e){let t=!1;return e.scene.objects.traverse((n,i)=>{i.geometry?.type==="BooleanGeometry"&&(t=!0)}),t}var op=class extends dg{constructor(e,t,n){super(e,t),this.data=t,this.meshSetAddresses=[],this.needsTransformForDownstream=!1,this.geometry=new pt,this.onAfterRender=(i,r,o,a,s,l)=>{super.onAfterRender(i,r,o,a,s,l),this.recomputeBoolean()},this.geometry.userData.parameters={width:0,height:0,depth:0}}get booleanOp(){return this.data.geometry.operation}get phongAngle(){return this.data.geometry.phongAngle??45}get isLOD(){return this.recomputeBoolean(),!1}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),e.path.length===1&&e.path[0]==="geometry"&&e.type===0&&e.props.operation!==void 0&&(this.freeBooleanPointer(),this.resetBBoxNeedsUpdate())}freeBooleanPointer(){super.freeBooleanPointer(),this.geometry.dispose()}recomputeBoolean(e,t=!0){if(this.booleanMeshSetAddress!==-1&&!e)return;for(let i=0;i<this.children.length;i++){let r=this.children[i];r instanceof op&&r.dataPatched.visible===!0&&r.recomputeBoolean(e===!0,t)}this.meshSetAddresses=[];for(let i=0;i<this.children.length;i++){let r=this.children[i];if(r instanceof Ho&&r.dataPatched.visible===!0&&r.geometry.attributes.position?.count>0&&r.geometry.drawRange.count>0&&r.booleanMeshSetAddress!==0){Zm.multiplyMatrices(r.hiddenMatrix,r.matrix);try{if(r.booleanMeshSetAddress===-1){if((r.geometry.index??r.geometry.getAttribute("position")).count/3<15e5&&(r.booleanMeshSetAddress=Fc.getMeshSet(r.geometry,e===!0,t)),r.booleanMeshSetAddress===-1)return;Fc.transformMeshSet(r.booleanMeshSetAddress,Zm),r.booleanMatrixInvOld.copy(Zm).invert(),r.booleanWasTransformed=!1}else r instanceof op&&r.needsTransformForDownstream===!0?(Fc.transformMeshSet(r.booleanMeshSetAddress,Zm),r.needsTransformForDownstream=!1):r.booleanWasTransformed===!0&&(Fc.transformMeshSet(r.booleanMeshSetAddress,yMe.multiplyMatrices(Zm,r.booleanMatrixInvOld)),r.booleanMatrixInvOld.copy(Zm).invert(),r.booleanWasTransformed=!1)}catch(o){console.error(o),r.booleanMeshSetAddress=0,r.geometry.userData.booleanOperationDidFail=!0;continue}Fc.hasOpenEdges(r.booleanMeshSetAddress)===!1||i===this.children.length-1&&this.booleanOp===2?(this.meshSetAddresses.push(r.booleanMeshSetAddress),r.geometry.userData.booleanOperationDidFail=!1):r.geometry.userData.booleanOperationDidFail="openEdges"}}if(this.meshSetAddresses.length===0){this.geometry.setAttribute("position",new Je([],0)),this.geometry.setDrawRange(0,0);return}if(e===!0)return Fc.calcBooleanTopological(this.meshSetAddresses,this.booleanOp);let n=this.geometry;n.dispose(),this.geometry=new pt,this.geometry.userData=n.userData,this.geometry.boundingSphere=n.boundingSphere;try{this.booleanMeshSetAddress=Fc.calcBoolean(this.meshSetAddresses,this.booleanOp,this.geometry,this.phongAngle)}catch(i){this.booleanMeshSetAddress=0,this.geometry.userData.booleanOperationDidFail=!0,console.error(i)}this.booleanMatrixInvOld.copy(this.matrix).invert(),this.needsTransformForDownstream=!0,zT(this),BT(this)}dispose(){super.dispose(),this.geometry.dispose()}},iA;(e=>{function t(n){return yn.is(n)&&n instanceof Cy}e.is=t})(iA||(iA={}));var VT=(e,t)=>class extends ug(e,t){updateState_Light(n,i){this.updateState_Entity(n,i),n.color!==void 0&&(this.color=i.shared.color(n.color)),n.intensity!==void 0&&(this.intensity=n.intensity),n.depth!==void 0&&(this.shadow.camera.far=n.depth,this.shadow.needsUpdate=!0),n.shadows!==void 0&&(this.castShadow=n.shadows)}},Us=e=>e instanceof Ho,Xc=e=>e!==null&&e instanceof op,bMe=e=>e instanceof Co,_Me=e=>iA.is(e),rA=e=>nA.is(e),Sy=class extends Py(Uce){constructor(e,t=15){super(t),this.object=e,this.object.updateMatrixWorld(),this.name=`EmptyObjectHelper: ${e.uuid}`,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.object.isBone&&(this.visible=!1)}raycast(e,t){Oy(this.object,Sy.geometryHelper,e,t)}update(){}},Tf=class extends ug(kh,Sy){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update()}updateState(e,t){this.updateState_Entity(e,t),"buffer"in e&&Object.keys(e).length===1&&t.scene.reloadSplats()}},YC=class extends ug(kh,Sy){constructor(e,t,n){super(),this.super_Entity(e,t),this.context=n,this.objectHelper.update()}updateState(e,t){this.updateState_Entity(e,t)}},bH={RED:0,GREEN:1,BLUE:2,ALPHA:3},Ey="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",CMe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;uniform vec4 kernel64[32];varying vec2 vUv;void main(){
#ifdef FOREGROUND
vec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;
#else
float CoC=texture2D(cocBuffer,vUv).g*scale;
#endif
if(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{
#ifdef FOREGROUND
vec2 step=texelSize*max(CoC,CoCNearFar.g*scale);
#else
vec2 step=texelSize*CoC;
#endif
vec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;}}`,SC=class extends Vn{constructor(e=!1,t=!1){super({name:"BokehMaterial",defines:{PASS:e?"2":"1"},uniforms:{kernel64:new ze(null),kernel16:new ze(null),inputBuffer:new ze(null),cocBuffer:new ze(null),texelSize:new ze(new oe),scale:new ze(1)},blending:er,depthWrite:!1,depthTest:!1,fragmentShader:CMe,vertexShader:Ey}),this.toneMapped=!1,t&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set cocBuffer(e){this.uniforms.cocBuffer.value=e}setCoCBuffer(e){this.uniforms.cocBuffer.value=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(e){return this.uniforms.scale.value=e}setScale(e){this.uniforms.scale.value=e}generateKernel(){let e=2.39996323,t=new Float32Array(128),n=new Float32Array(32),i=0,r=0;for(let s=0;s<80;++s){let l=s*e,c=Math.sqrt(s)/Math.sqrt(80),d=c*Math.cos(l),u=c*Math.sin(l);s%5===0?(n[r++]=d,n[r++]=u):(t[i++]=d,t[i++]=u)}let o=[],a=[];for(let s=0;s<128;)o.push(new Et(t[s++],t[s++],t[s++],t[s++]));for(let s=0;s<32;)a.push(new Et(n[s++],n[s++],n[s++],n[s++]));this.uniforms.kernel64.value=o,this.uniforms.kernel16.value=a}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}};function cB(e,t,n){return e*(t-n)-t}function oA(e,t,n){return Math.min(Math.max((e+t)/(t-n),0),1)}var MMe=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}void main(){float depth=readDepth(vUv);
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
float signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}`,wMe=class extends Vn{constructor(e){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new ze(null),focusDistance:new ze(0),focusRange:new ze(0),cameraNear:new ze(.3),cameraFar:new ze(1e3)},blending:er,depthWrite:!1,depthTest:!1,fragmentShader:MMe,vertexShader:Ey}),this.toneMapped=!1,this.uniforms.focalLength=this.uniforms.focusRange,this.adoptCameraSettings(e)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=rd){this.depthBuffer=e,this.depthPacking=t}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(e){this.uniforms.focusDistance.value=e}get worldFocusDistance(){return-cB(this.focusDistance,this.near,this.far)}set worldFocusDistance(e){this.focusDistance=oA(-e,this.near,this.far)}getFocusDistance(e){this.uniforms.focusDistance.value=e}setFocusDistance(e){this.uniforms.focusDistance.value=e}get focalLength(){return this.focusRange}set focalLength(e){this.focusRange=e}get focusRange(){return this.uniforms.focusRange.value}set focusRange(e){this.uniforms.focusRange.value=e}get worldFocusRange(){return-cB(this.focusRange,this.near,this.far)}set worldFocusRange(e){this.focusRange=oA(-e,this.near,this.far)}getFocalLength(e){return this.focusRange}setFocalLength(e){this.focusRange=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof go?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},xMe=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <encodings_fragment>
#include <dithering_fragment>
}`,PMe="uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",dB=class extends Vn{constructor(e=new oe){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new ze(null),texelSize:new ze(new oe),halfTexelSize:new ze(new oe),kernel:new ze(0),scale:new ze(1)},blending:er,depthWrite:!1,depthTest:!1,fragmentShader:xMe,vertexShader:PMe}),this.toneMapped=!1,this.setTexelSize(e.x,e.y)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}setSize(e,t){let n=this.uniforms;n.texelSize.value.set(1/e,1/t),n.halfTexelSize.value.copy(n.texelSize.value).multiplyScalar(.5)}},OMe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
}`,SMe=class extends Vn{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new ze(null),opacity:new ze(1)},blending:er,depthWrite:!1,depthTest:!1,fragmentShader:OMe,vertexShader:Ey}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},EMe=`varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
#if EDGE_DETECTION_MODE == 1
#include <common>
#endif
#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}
#elif PREDICATION_MODE == 2
uniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}
#endif
#if PREDICATION_MODE != 0
vec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}
#endif
#if EDGE_DETECTION_MODE != 0
uniform sampler2D inputBuffer;
#endif
void main(){
#if EDGE_DETECTION_MODE == 0
const vec2 threshold=vec2(DEPTH_THRESHOLD);
#elif PREDICATION_MODE != 0
vec2 threshold=calculatePredicatedThreshold();
#else
const vec2 threshold=vec2(EDGE_THRESHOLD);
#endif
#if EDGE_DETECTION_MODE == 0
vec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 1
float l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 2
vec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#endif
}`,DMe=`uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);
#if EDGE_DETECTION_MODE != 0
vUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,ww={DEPTH:0,LUMA:1,COLOR:2},AMe={DISABLED:0,DEPTH:1,CUSTOM:2},TMe=class extends Vn{constructor(e=new oe,t=ww.COLOR){super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:Qf.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new ze(null),depthBuffer:new ze(null),predicationBuffer:new ze(null),texelSize:new ze(e)},blending:er,depthWrite:!1,depthTest:!1,fragmentShader:EMe,vertexShader:DMe}),this.toneMapped=!1,this.edgeDetectionMode=t}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=rd){this.depthBuffer=e,this.depthPacking=t}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(e){this.defines.EDGE_DETECTION_MODE=e.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(e){this.edgeDetectionMode=e}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(e){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=e.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(e){this.localContrastAdaptationFactor=e}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(e){this.defines.EDGE_THRESHOLD=e.toFixed("6"),this.defines.DEPTH_THRESHOLD=(e*.1).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(e){this.edgeDetectionThreshold=e}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(e){this.defines.PREDICATION_MODE=e.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(e){this.predicationMode=e}set predicationBuffer(e){this.uniforms.predicationBuffer.value=e}setPredicationBuffer(e){this.uniforms.predicationBuffer.value=e}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(e){this.defines.PREDICATION_THRESHOLD=e.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(e){this.predicationThreshold=e}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(e){this.defines.PREDICATION_SCALE=e.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(e){this.predicationScale=e}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(e){this.defines.PREDICATION_STRENGTH=e.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(e){this.predicationStrength=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},IMe=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,RMe="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}",ks={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},aA=class extends Vn{constructor(e,t,n,i,r=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Qf.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new ze(null),depthBuffer:new ze(null),resolution:new ze(new oe),texelSize:new ze(new oe),cameraNear:new ze(.3),cameraFar:new ze(1e3),aspect:new ze(1),time:new ze(0)},blending:er,depthWrite:!1,depthTest:!1,dithering:r}),this.toneMapped=!1,e&&this.setShaderParts(e),t&&this.setDefines(t),n&&this.setUniforms(n),this.adoptCameraSettings(i)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=rd){this.depthBuffer=e,this.depthPacking=t}setShaderParts(e){return this.fragmentShader=IMe.replace(ks.FRAGMENT_HEAD,e.get(ks.FRAGMENT_HEAD)).replace(ks.FRAGMENT_MAIN_UV,e.get(ks.FRAGMENT_MAIN_UV)).replace(ks.FRAGMENT_MAIN_IMAGE,e.get(ks.FRAGMENT_MAIN_IMAGE)),this.vertexShader=RMe.replace(ks.VERTEX_HEAD,e.get(ks.VERTEX_HEAD)).replace(ks.VERTEX_MAIN_SUPPORT,e.get(ks.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}setDefines(e){for(let t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(let t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(let t of e)this.extensions[t]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof go?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){let n=this.uniforms;n.resolution.value.set(e,t),n.texelSize.value.set(1/e,1/t),n.aspect.value=e/t}static get Section(){return ks}},LMe=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,kMe=class extends Vn{constructor(e=!1,t=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:Qf.replace(/\D+/g,"")},uniforms:{inputBuffer:new ze(null),threshold:new ze(0),smoothing:new ze(1),range:new ze(null)},blending:er,depthWrite:!1,depthTest:!1,fragmentShader:LMe,vertexShader:Ey}),this.toneMapped=!1,this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return this.luminanceRange!==null}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){e!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},FMe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef MASK_PRECISION_HIGH
uniform mediump sampler2D maskTexture;
#else
uniform lowp sampler2D maskTexture;
#endif
#if MASK_FUNCTION != 0
uniform float strength;
#endif
varying vec2 vUv;void main(){
#if COLOR_CHANNEL == 0
float mask=texture2D(maskTexture,vUv).r;
#elif COLOR_CHANNEL == 1
float mask=texture2D(maskTexture,vUv).g;
#elif COLOR_CHANNEL == 2
float mask=texture2D(maskTexture,vUv).b;
#else
float mask=texture2D(maskTexture,vUv).a;
#endif
#if MASK_FUNCTION == 0
#ifdef INVERTED
mask=step(mask,0.0);
#else
mask=1.0-step(mask,0.0);
#endif
#else
mask=clamp(mask*strength,0.0,1.0);
#ifdef INVERTED
mask=1.0-mask;
#endif
#endif
#if MASK_FUNCTION == 2
gl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);
#else
gl_FragColor=mask*texture2D(inputBuffer,vUv);
#endif
}`,_H={DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2},NMe=class extends Vn{constructor(e=null){super({name:"MaskMaterial",uniforms:{maskTexture:new ze(e),inputBuffer:new ze(null),strength:new ze(1)},blending:er,depthWrite:!1,depthTest:!1,fragmentShader:FMe,vertexShader:Ey}),this.toneMapped=!1,this.setColorChannel(bH.RED),this.setMaskFunction(_H.DISCARD)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set maskTexture(e){this.uniforms.maskTexture.value=e,delete this.defines.MASK_PRECISION_HIGH,e.type!==Mo&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(e){this.maskTexture=e}set colorChannel(e){this.defines.COLOR_CHANNEL=e.toFixed(0),this.needsUpdate=!0}setColorChannel(e){this.colorChannel=e}set maskFunction(e){this.defines.MASK_FUNCTION=e.toFixed(0),this.needsUpdate=!0}setMaskFunction(e){this.maskFunction=e}get inverted(){return this.defines.INVERTED!==void 0}set inverted(e){this.inverted&&!e?delete this.defines.INVERTED:e&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(e){this.inverted=e}get strength(){return this.uniforms.strength.value}set strength(e){this.uniforms.strength.value=e}getStrength(){return this.strength}setStrength(e){this.strength=e}},zMe=`#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)
#if __VERSION__ < 300
#define round(v) floor(v + 0.5)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);
#endif
}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);
#endif
}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){
#if !defined(DISABLE_DIAG_DETECTION)
weights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){
#endif
vec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);
#if !defined(DISABLE_DIAG_DETECTION)
}else{e.r=0.0;}
#endif
}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}`,BMe="uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}",VMe=class extends Vn{constructor(e=new oe,t=new oe){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new ze(null),searchTexture:new ze(null),areaTexture:new ze(null),resolution:new ze(t),texelSize:new ze(e)},blending:er,depthWrite:!1,depthTest:!1,fragmentShader:zMe,vertexShader:BMe}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(e){this.uniforms.searchTexture.value=e}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(e){this.uniforms.areaTexture.value=e}setLookupTextures(e,t){this.searchTexture=e,this.areaTexture=t}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(e){let t=Math.min(Math.max(e,0),112);this.defines.MAX_SEARCH_STEPS_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(e){this.orthogonalSearchSteps=e}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(e){let t=Math.min(Math.max(e,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(e){this.diagonalSearchSteps=e}get diagonalDetection(){return this.defines.DISABLE_DIAG_DETECTION===void 0}set diagonalDetection(e){e?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(e){this.diagonalDetection=e}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(e){let t=Math.min(Math.max(e,0),100);this.defines.CORNER_ROUNDING=t.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(t/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(e){this.cornerRounding=e}get cornerDetection(){return this.defines.DISABLE_CORNER_DETECTION===void 0}set cornerDetection(e){e?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(e){this.cornerDetection=e}setSize(e,t){let n=this.uniforms;n.texelSize.value.set(1/e,1/t),n.resolution.value.set(e,t)}},UMe=new sp,Bd=null;function jMe(){if(Bd===null){let e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]);Bd=new pt,Bd.setAttribute!==void 0?(Bd.setAttribute("position",new St(e,3)),Bd.setAttribute("uv",new St(t,2))):(Bd.addAttribute("position",new St(e,3)),Bd.addAttribute("uv",new St(t,2)))}return Bd}var Wo=class{constructor(e="Pass",t=new Qc,n=UMe){this.name=e,this.renderer=null,this.scene=t,this.camera=n,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){let t=this.getFullscreenMaterial();t!==null&&(t.needsUpdate=!0),this.rtt=!e}}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;t!==null?t.material=e:(t=new Ji(jMe(),e),t.frustumCulled=!1,this.scene===null&&(this.scene=new Qc),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=rd){}render(e,t,n,i,r){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,n){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(t!==null&&typeof t=="object"&&typeof t.dispose=="function"){if(t instanceof Qc||t===this.renderer)continue;this[e].dispose()}}}},sA=class extends Wo{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new SMe,this.needsSwap=!1,this.renderTarget=e,e===void 0&&(this.renderTarget=new Bn(1,1,{minFilter:qt,magFilter:qt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,n,i,r){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,n){n!==void 0&&(this.renderTarget.texture.type=n,n!==Mo?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e.outputEncoding===jt&&(this.renderTarget.texture.encoding=jt))}},HMe=class extends Wo{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,n,i,r){let o=e.state.buffers.stencil;o.setLocked(!1),o.setTest(!1)}},JE=new _t,UT=class extends Wo{constructor(e=!0,t=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,n){this.color=e,this.depth=t,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,n,i,r){let o=this.overrideClearColor,a=this.overrideClearAlpha,s=e.getClearAlpha(),l=o!==null,c=a>=0;l?(JE.copy(e.getClearColor(JE)),e.setClearColor(o,c?a:s)):c&&e.setClearAlpha(a),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),l?e.setClearColor(JE,s):c&&e.setClearAlpha(s)}},Vd=-1,da=class extends Jr{constructor(e,t=Vd,n=Vd,i=1){super(),this.resizable=e,this.base=new oe(1,1),this.preferred=new oe(t,n),this.target=this.preferred,this.s=i}get width(){let{base:e,preferred:t,scale:n}=this,i;return t.width!==Vd?i=t.width:t.height!==Vd?i=Math.round(t.height*(e.width/Math.max(e.height,1))):i=Math.round(e.width*n),i}set width(e){this.preferredWidth=e}get height(){let{base:e,preferred:t,scale:n}=this,i;return t.height!==Vd?i=t.height:t.width!==Vd?i=Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):i=Math.round(e.height*n),i}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferred.setScalar(Vd),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.base.width}set baseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseWidth(){return this.base.width}setBaseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get baseHeight(){return this.base.height}set baseHeight(e){this.base.height!==e&&(this.base.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){(this.base.width!==e||this.base.height!==t)&&(this.base.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get preferredWidth(){return this.preferred.width}set preferredWidth(e){this.preferred.width!==e&&(this.preferred.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferred.height}set preferredHeight(e){this.preferred.height!==e&&(this.preferred.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){(this.preferred.width!==e||this.preferred.height!==t)&&(this.preferred.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}copy(e){this.base.set(e.getBaseWidth(),e.getBaseHeight()),this.preferred.set(e.getPreferredWidth(),e.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height)}static get AUTO_SIZE(){return Vd}},e3=!1,uB=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=t=>{if(t.isMesh){let n;if(t.material.flatShading)switch(t.material.side){case la:n=this.materialsFlatShadedDoubleSide;break;case Ir:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded;break}else switch(t.material.side){case la:n=this.materialsDoubleSide;break;case Ir:n=this.materialsBackSide;break;default:n=this.materials;break}this.originalMaterials.set(t,t.material),t.isSkinnedMesh?t.material=n[2]:t.isInstancedMesh?t.material=n[1]:t.material=n[0],++this.meshCount}}}setMaterial(e){if(this.disposeMaterials(),this.material=e,e!==null){let t=this.materials=[e.clone(),e.clone(),e.clone()];for(let n of t)n.uniforms=Object.assign({},e.uniforms),n.side=Ys;t[2].skinning=!0,this.materialsBackSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.side=Ir,i}),this.materialsDoubleSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.side=la,i}),this.materialsFlatShaded=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i}),this.materialsFlatShadedBackSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=Ir,i}),this.materialsFlatShadedDoubleSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=la,i})}}render(e,t,n){let i=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,e3){let r=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,n);for(let o of r)o[0].material=o[1];this.meshCount!==r.size&&r.clear()}else{let r=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,n),t.overrideMaterial=r}e.shadowMap.enabled=i}disposeMaterials(){if(this.material!==null){let e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(let t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return e3}static set workaroundEnabled(e){e3=e}},GMe=class extends Wo{constructor(e,t,n=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new UT,this.overrideMaterialManager=n===null?null:new uB(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){let e=this.overrideMaterialManager;return e!==null?e.material:null}set overrideMaterial(e){let t=this.overrideMaterialManager;e!==null?t!==null?t.setMaterial(e):this.overrideMaterialManager=new uB(e):t!==null&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,n,i,r){let o=this.scene,a=this.camera,s=this.selection,l=a.layers.mask,c=o.background,d=e.shadowMap.autoUpdate,u=this.renderToScreen?null:t;s!==null&&a.layers.set(s.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(o.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(u),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(e,o,a):e.render(o,a),a.layers.mask=l,o.background=c,e.shadowMap.autoUpdate=d}},hB=class extends Wo{constructor(e,t,{resolutionScale:n=1,width:i=da.AUTO_SIZE,height:r=da.AUTO_SIZE,renderTarget:o}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new GMe(e,t,new rV({depthPacking:G9}));let a=this.renderPass;a.skipShadowMapUpdate=!0,a.ignoreBackground=!0;let s=a.getClearPass();s.overrideClearColor=new _t(16777215),s.overrideClearAlpha=1,this.renderTarget=o,this.renderTarget===void 0&&(this.renderTarget=new Bn(1,1,{minFilter:zn,magFilter:zn,stencilBuffer:!1}),this.renderTarget.texture.name="DepthPass.Target");let l=this.resolution=new da(this,i,r,n);l.addEventListener("change",c=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,n,i,r){let o=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,o)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}},BLe=new Float32Array([255/256/256**3,255/256/256**2,255/256/256,255/256]),Pn={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18},WMe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}",qMe="vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}",YMe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}",XMe="float blend(const in float x,const in float y){return(y==0.0)?y:max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",QMe="float blend(const in float x,const in float y){return(y==1.0)?y:min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",ZMe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}",$Me="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}",KMe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}",JMe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}",ewe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}",twe="float blend(const in float x,const in float y){return(y>0.0)?min(x/y,1.0):1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",nwe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}",iwe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}",rwe="float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",owe="float blend(const in float x,const in float y){return(y==1.0)?y:min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",awe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}",swe="float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",lwe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}",cwe=new Map([[Pn.SKIP,null],[Pn.ADD,WMe],[Pn.ALPHA,qMe],[Pn.AVERAGE,YMe],[Pn.COLOR_BURN,XMe],[Pn.COLOR_DODGE,QMe],[Pn.DARKEN,ZMe],[Pn.DIFFERENCE,$Me],[Pn.EXCLUSION,KMe],[Pn.LIGHTEN,JMe],[Pn.MULTIPLY,ewe],[Pn.DIVIDE,twe],[Pn.NEGATION,nwe],[Pn.NORMAL,iwe],[Pn.OVERLAY,rwe],[Pn.REFLECT,owe],[Pn.SCREEN,awe],[Pn.SOFT_LIGHT,swe],[Pn.SUBTRACT,lwe]]),dwe=class extends Jr{constructor(e,t=1){super(),this.f=e,this.opacity=new ze(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this.f}set blendFunction(e){this.f=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return cwe.get(this.blendFunction)}},Gl={NONE:0,DEPTH:1,CONVOLUTION:2},Jl=class extends Jr{constructor(e,t,{attributes:n=Gl.NONE,blendFunction:i=Pn.SCREEN,defines:r=new Map,uniforms:o=new Map,extensions:a=null,vertexShader:s=null}={}){super(),this.name=e,this.renderer=null,this.attributes=n,this.fragmentShader=t,this.vertexShader=s,this.defines=r,this.uniforms=o,this.extensions=a,this.blendMode=new dwe(i),this.blendMode.addEventListener("change",l=>this.setChanged())}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=rd){}update(e,t,n){}setSize(e,t){}initialize(e,t,n){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(t!==null&&typeof t=="object"&&typeof t.dispose=="function"){if(t instanceof Qc||t===this.renderer)continue;this[e].dispose()}}}};function pB(e,t,n){for(let i of t){let r="$1"+e+i.charAt(0).toUpperCase()+i.slice(1),o=new RegExp("([^\\.])(\\b"+i+"\\b)","g");for(let a of n.entries())a[1]!==null&&n.set(a[0],a[1].replace(o,r))}}function uwe(e,t,n,i,r,o,a){let s=new Map([["fragment",t.getFragmentShader()],["vertex",t.getVertexShader()]]),l=s.get("fragment")!==void 0&&/mainImage/.test(s.get("fragment")),c=s.get("fragment")!==void 0&&/mainUv/.test(s.get("fragment")),d=[],u=[],h=!1,p=!1;if(s.get("fragment")===void 0)console.error("Missing fragment shader",t);else if(c&&a&Gl.CONVOLUTION)console.error("Effects that transform UV coordinates are incompatible with convolution effects",t);else if(!l&&!c)console.error("The fragment shader contains neither a mainImage nor a mainUv function",t);else{let m=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,g=aA.Section;if(c){let b=`	${e}MainUv(UV);
`;n.set(g.FRAGMENT_MAIN_UV,n.get(g.FRAGMENT_MAIN_UV)+b),h=!0}if(s.get("vertex")!==null&&/mainSupport/.test(s.get("vertex"))){let b=`	${e}MainSupport(`;b+=/mainSupport *\([\w\s]*?uv\s*?\)/.test(s.get("vertex"))?`vUv);
`:`);
`,n.set(g.VERTEX_MAIN_SUPPORT,n.get(g.VERTEX_MAIN_SUPPORT)+b),d=d.concat([...s.get("vertex").matchAll(/(?:varying\s+\w+\s+(\w*))/g)].map(_=>_[1])),u=u.concat(d).concat([...s.get("vertex").matchAll(m)].map(_=>_[1]))}u=u.concat([...s.get("fragment").matchAll(m)].map(b=>b[1])),u=u.concat([...t.defines.keys()].map(b=>b.replace(/\([\w\s,]*\)/g,""))),u=u.concat([...t.uniforms.keys()]),t.uniforms.forEach((b,_)=>o.set(e+_.charAt(0).toUpperCase()+_.slice(1),b)),t.defines.forEach((b,_)=>r.set(e+_.charAt(0).toUpperCase()+_.slice(1),b)),pB(e,u,r),pB(e,u,s);let v=t.blendMode;if(i.set(v.blendFunction,v),l){let b=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/,_=`${e}MainImage(color0, UV, `;a&Gl.DEPTH&&b.test(s.get("fragment"))&&(_+="depth, ",p=!0),_+=`color1);
	`;let C=e+"BlendOpacity";o.set(C,v.opacity),_+=`color0 = blend${v.blendFunction}(color0, color1, ${C});

	`,n.set(g.FRAGMENT_MAIN_IMAGE,n.get(g.FRAGMENT_MAIN_IMAGE)+_),_=`uniform float ${C};

`,n.set(g.FRAGMENT_HEAD,n.get(g.FRAGMENT_HEAD)+_)}n.set(g.FRAGMENT_HEAD,n.get(g.FRAGMENT_HEAD)+s.get("fragment")+`
`),s.get("vertex")!==null&&n.set(g.VERTEX_HEAD,n.get(g.VERTEX_HEAD)+s.get("vertex")+`
`)}return{varyings:d,transformedUv:h,readDepth:p}}var QM=class extends Wo{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new aA(null,null,null,e),this.effects=t.sort((n,i)=>i.attributes-n.attributes),this.skipRendering=!1,this.uniformCount=0,this.varyingCount=0,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){let t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}verifyResources(){let e=this.renderer.capabilities,t=Math.min(e.maxFragmentUniforms,e.maxVertexUniforms);this.uniformCount>t&&console.warn("The current rendering context doesn't support more than "+t+" uniforms, but "+this.uniformCount+" were defined"),t=e.maxVaryings,this.varyingCount>t&&console.warn("The current rendering context doesn't support more than "+t+" varyings, but "+this.varyingCount+" were defined")}updateMaterial(){let e=aA.Section,t=new Map([[e.FRAGMENT_HEAD,""],[e.FRAGMENT_MAIN_UV,""],[e.FRAGMENT_MAIN_IMAGE,""],[e.VERTEX_HEAD,""],[e.VERTEX_MAIN_SUPPORT,""]]),n=new Map,i=new Map,r=new Map,o=new Set,a=0,s=0,l=0,c=!1,d=!1;for(let h of this.effects)if(h.blendMode.blendFunction===Pn.SKIP)l|=h.getAttributes()&Gl.DEPTH;else if(l&h.getAttributes()&Gl.CONVOLUTION)console.error("Convolution effects cannot be merged",h);else{l|=h.getAttributes();let p="e"+a++,m=uwe(p,h,t,n,i,r,l);if(s+=m.varyings.length,c=c||m.transformedUv,d=d||m.readDepth,h.extensions!==null)for(let g of h.extensions)o.add(g)}let u=/\bblend\b/g;for(let h of n.values()){let p=h.getShaderCode().replace(u,`blend${h.blendFunction}`);t.set(e.FRAGMENT_HEAD,t.get(e.FRAGMENT_HEAD)+p+`
`)}l&Gl.DEPTH?(d&&t.set(e.FRAGMENT_MAIN_IMAGE,`float depth = readDepth(UV);

	`+t.get(e.FRAGMENT_MAIN_IMAGE)),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,c?(t.set(e.FRAGMENT_MAIN_UV,`vec2 transformedUv = vUv;
`+t.get(e.FRAGMENT_MAIN_UV)),i.set("UV","transformedUv")):i.set("UV","vUv"),t.forEach((h,p,m)=>m.set(p,h.trim().replace(/^#/,`
#`))),this.uniformCount=r.size,this.varyingCount=s,this.skipRendering=a===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderParts(t).setExtensions(o).setUniforms(r).setDefines(i)}recompile(){this.updateMaterial(),this.verifyResources()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=rd){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(let n of this.effects)n.setDepthTexture(e,t)}render(e,t,n,i,r){for(let o of this.effects)o.update(e,t,i);if(!this.skipRendering||this.renderToScreen){let o=this.fullscreenMaterial;o.inputBuffer=t.texture,o.time+=i,e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(let n of this.effects)n.setSize(e,t)}initialize(e,t,n){this.renderer=e;for(let i of this.effects)i.initialize(e,t,n),i.addEventListener("change",r=>this.handleEvent(r));this.updateMaterial(),this.verifyResources(),n!==void 0&&n!==Mo&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(let e of this.effects)e.dispose()}handleEvent(e){switch(e.type){case"change":this.recompile();break}}},hwe=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],jT=class extends Wo{constructor({resolutionScale:e=.5,width:t=da.AUTO_SIZE,height:n=da.AUTO_SIZE,kernelSize:i=xw.LARGE}={}){super("KawaseBlurPass"),this.renderTargetA=new Bn(1,1,{minFilter:qt,magFilter:qt,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";let r=this.resolution=new da(this,t,n,e);r.addEventListener("change",o=>this.setSize(r.baseWidth,r.baseHeight)),this.blurMaterial=new dB,this.ditheredBlurMaterial=new dB,this.ditheredBlurMaterial.uniforms.scale=this.blurMaterial.uniforms.scale,this.ditheredBlurMaterial.dithering=!0,this.dithering=!1,this.kernelSize=i}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,n,i,r){let o=this.scene,a=this.camera,s=this.renderTargetA,l=this.renderTargetB,c=hwe[this.kernelSize],d=this.blurMaterial,u=t,h,p;for(this.fullscreenMaterial=d,h=0,p=c.length-1;h<p;++h){let m=h&1?l:s;d.kernel=c[h],d.inputBuffer=u.texture,e.setRenderTarget(m),e.render(o,a),u=m}this.dithering&&(d=this.ditheredBlurMaterial,this.fullscreenMaterial=d),d.kernel=c[h],d.inputBuffer=u.texture,e.setRenderTarget(this.renderToScreen?null:n),e.render(o,a)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t);let i=n.width,r=n.height;this.renderTargetA.setSize(i,r),this.renderTargetB.setSize(i,r),this.blurMaterial.setSize(i,r),this.ditheredBlurMaterial.setSize(i,r)}initialize(e,t,n){n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==Mo?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.ditheredBlurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e.outputEncoding===jt&&(this.renderTargetA.texture.encoding=jt,this.renderTargetB.texture.encoding=jt))}static get AUTO_SIZE(){return da.AUTO_SIZE}},pwe=class extends Wo{constructor({width:e=da.AUTO_SIZE,height:t=da.AUTO_SIZE,renderTarget:n,luminanceRange:i,colorOutput:r}={}){super("LuminancePass"),this.fullscreenMaterial=new kMe(r,i),this.needsSwap=!1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new Bn(1,1,{minFilter:qt,magFilter:qt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target",this.renderTarget.texture.generateMipmaps=!1);let o=this.resolution=new da(this,e,t);o.addEventListener("change",a=>this.setSize(o.baseWidth,o.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,n,i,r){let o=this.fullscreenMaterial;o.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}initialize(e,t,n){n!==void 0&&n!==Mo&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},mwe=class extends Wo{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new UT(!1,!1,!0),this.inverse=!1}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,n,i,r){let o=e.getContext(),a=e.state.buffers,s=this.scene,l=this.camera,c=this.clearPass,d=this.inverted?0:1,u=1-d;a.color.setMask(!1),a.depth.setMask(!1),a.color.setLocked(!0),a.depth.setLocked(!0),a.stencil.setTest(!0),a.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),a.stencil.setFunc(o.ALWAYS,d,4294967295),a.stencil.setClear(u),a.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?c.render(e,null):(c.render(e,t),c.render(e,n))),this.renderToScreen?(e.setRenderTarget(null),e.render(s,l)):(e.setRenderTarget(t),e.render(s,l),e.setRenderTarget(n),e.render(s,l)),a.color.setLocked(!1),a.depth.setLocked(!1),a.stencil.setLocked(!1),a.stencil.setFunc(o.EQUAL,1,4294967295),a.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),a.stencil.setLocked(!0)}},Vs=class extends Wo{constructor(e,t="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=e,this.inputBufferUniform=null,this.setInput(t)}setInput(e){if(this.inputBufferUniform=null,this.fullscreenMaterial!==null){let t=this.fullscreenMaterial.uniforms;t!==void 0&&t[e]!==void 0&&(this.inputBufferUniform=t[e])}}render(e,t,n,i,r){this.inputBufferUniform!==null&&t!==null&&(this.inputBufferUniform.value=t.texture),e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}initialize(e,t,n){n!==void 0&&n!==Mo&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},t3=1/1e3,fwe=1e3,gwe=class{constructor(){this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}setFixedDeltaEnabled(e){return this.fixedDeltaEnabled=e,this}isAutoResetEnabled(e){return this.autoReset}setAutoResetEnabled(e){return typeof document<"u"&&document.hidden!==void 0&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=e),this}getDelta(){return this.delta*t3}getFixedDelta(){return this.fixedDelta*t3}setFixedDelta(e){return this.fixedDelta=e*fwe,this}getElapsed(){return this.elapsed*t3}getTimescale(){return this.timescale}setTimescale(e){return this.timescale=e,this}update(e){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=e!==void 0?e:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}reset(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}handleEvent(e){document.hidden||(this.currentTime=performance.now())}dispose(){this.setAutoResetEnabled(!1)}},xw={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},vwe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=clamp(texture2D(map,uv)*intensity,0.0,1.0);}`,ywe=class extends Jl{constructor({blendFunction:e=Pn.SCREEN,luminanceThreshold:t=.9,luminanceSmoothing:n=.025,resolutionScale:i=.5,intensity:r=1,width:o=da.AUTO_SIZE,height:a=da.AUTO_SIZE,kernelSize:s=xw.LARGE}={}){super("BloomEffect",vwe,{blendFunction:e,uniforms:new Map([["map",new ze(null)],["intensity",new ze(r)]])}),this.renderTarget=new Bn(1,1,{minFilter:qt,magFilter:qt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.renderTarget.texture.generateMipmaps=!1,this.uniforms.get("map").value=this.renderTarget.texture,this.luminancePass=new pwe({renderTarget:this.renderTarget,colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothingFactor=n,this.blurPass=new jT({resolutionScale:i,width:o,height:a,kernelSize:s});let l=this.blurPass.getResolution();l.addEventListener("change",c=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,n){let i=this.renderTarget;this.luminancePass.enabled?(this.luminancePass.render(e,t,i),this.blurPass.render(e,i,i)):this.blurPass.render(e,t,i)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height),this.luminancePass.resolution.copy(n)}initialize(e,t,n){this.blurPass.initialize(e,t,n),n!==void 0&&(this.renderTarget.texture.type=n,e.outputEncoding===jt&&(this.renderTarget.texture.encoding=jt))}},bwe="uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(min(color+vec3(0.5),1.0),inputColor.a);}",_we=class extends Jl{constructor({blendFunction:e=Pn.NORMAL,brightness:t=0,contrast:n=0}={}){super("BrightnessContrastEffect",bwe,{blendFunction:e,uniforms:new Map([["brightness",new ze(t)],["contrast",new ze(n)]])})}get brightness(){return this.uniforms.get("brightness").value}set brightness(e){this.uniforms.get("brightness").value=e}getBrightness(e){return this.brightness}setBrightness(e){this.brightness=e}get contrast(){return this.uniforms.get("contrast").value}set contrast(e){this.uniforms.get("contrast").value=e}getContrast(e){return this.contrast}setContrast(e){this.contrast=e}},Cwe="void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",Mwe=class extends Jl{constructor(e=Pn.NORMAL){super("ColorAverageEffect",Cwe,{blendFunction:e})}},wwe="varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 ra=texture2D(inputBuffer,vUvR).ra;vec2 ba=texture2D(inputBuffer,vUvB).ba;outputColor=vec4(ra.x,inputColor.g,ba.x,max(max(ra.y,ba.y),inputColor.a));}",xwe="uniform vec2 offset;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vec2 shift=offset*vec2(1.0,aspect);vUvR=uv+shift;vUvB=uv-shift;}",Pwe=class extends Jl{constructor({blendFunction:e=Pn.NORMAL,offset:t=new oe(.001,5e-4)}={}){super("ChromaticAberrationEffect",wwe,{vertexShader:xwe,blendFunction:e,attributes:Gl.CONVOLUTION,uniforms:new Map([["offset",new ze(t)]])})}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}},Owe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;
#else
uniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;
#endif
uniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}`,Swe=class extends Jl{constructor(e,{blendFunction:t=Pn.NORMAL,worldFocusDistance:n,worldFocusRange:i,focusDistance:r=0,focalLength:o=.1,focusRange:a=o,bokehScale:s=1,width:l=da.AUTO_SIZE,height:c=da.AUTO_SIZE}={}){super("DepthOfFieldEffect",Owe,{blendFunction:t,attributes:Gl.DEPTH,uniforms:new Map([["nearColorBuffer",new ze(null)],["farColorBuffer",new ze(null)],["nearCoCBuffer",new ze(null)],["scale",new ze(1)]])}),this.camera=e,this.renderTarget=new Bn(1,1,{minFilter:qt,magFilter:qt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTarget.texture.generateMipmaps=!1,this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new Vs(new wMe(e));let d=this.cocMaterial;d.focusDistance=r,d.focusRange=a,n!==void 0&&(d.worldFocusDistance=n),i!==void 0&&(d.worldFocusRange=i),this.blurPass=new jT({kernelSize:xw.MEDIUM,width:l,height:c});let u=this.blurPass.getResolution();u.addEventListener("change",p=>this.setSize(u.getBaseWidth(),u.getBaseHeight())),this.maskPass=new Vs(new NMe(this.renderTargetCoC.texture));let h=this.maskPass.fullscreenMaterial;h.maskFunction=_H.MULTIPLY,h.colorChannel=bH.GREEN,this.bokehNearBasePass=new Vs(new SC(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new Vs(new SC(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new Vs(new SC(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new Vs(new SC(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null,this.bokehScale=s}get cocTexture(){return this.renderTargetCoC.texture}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.circleOfConfusionMaterial}getBlurPass(){return this.blurPass}get resolution(){return this.blurPass.getResolution()}getResolution(){return this.blurPass.getResolution()}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(e){let t=[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];for(let n of t)n.fullscreenMaterial.setScale(e);this.maskPass.fullscreenMaterial.setStrength(e),this.uniforms.get("scale").value=e}getBokehScale(){return this.bokehScale}setBokehScale(e){this.bokehScale=e}getTarget(){return this.target}setTarget(e){this.target=e}calculateFocusDistance(e){let t=this.camera,n=t.position.distanceTo(e);return oA(-n,t.near,t.far)}setDepthTexture(e,t=rd){this.circleOfConfusionMaterial.depthBuffer=e,this.circleOfConfusionMaterial.depthPacking=t}update(e,t,n){let i=this.renderTarget,r=this.renderTargetCoC,o=this.renderTargetCoCBlurred,a=this.renderTargetMasked;if(this.target!==null){let s=this.calculateFocusDistance(this.target);this.circleOfConfusionMaterial.focusDistance=s}this.cocPass.render(e,null,r),this.blurPass.render(e,r,o),this.maskPass.render(e,t,a),this.bokehFarBasePass.render(e,a,i),this.bokehFarFillPass.render(e,i,this.renderTargetFar),this.bokehNearBasePass.render(e,t,i),this.bokehNearFillPass.render(e,i,this.renderTargetNear)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t);let i=n.width,r=n.height,o=[this.cocPass,this.blurPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];o.push(this.renderTargetCoC,this.renderTargetMasked),o.forEach(a=>a.setSize(e,t)),o=[this.renderTarget,this.renderTargetNear,this.renderTargetFar,this.renderTargetCoCBlurred],o.forEach(a=>a.setSize(i,r)),[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(a=>a.fullscreenMaterial.setSize(i,r))}initialize(e,t,n){[this.cocPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(i=>i.initialize(e,t,n)),this.blurPass.initialize(e,t,Mo),n!==void 0&&(this.renderTarget.texture.type=n,this.renderTargetNear.texture.type=n,this.renderTargetFar.texture.type=n,this.renderTargetMasked.texture.type=n,e.outputEncoding===jt&&(this.renderTarget.texture.encoding=jt,this.renderTargetNear.texture.encoding=jt,this.renderTargetFar.texture.encoding=jt,this.renderTargetMasked.texture.encoding=jt))}},VLe=new L,ULe=new Be,Ewe="uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",Dwe=class extends Jl{constructor({blendFunction:e=Pn.NORMAL,hue:t=0,saturation:n=0}={}){super("HueSaturationEffect",Ewe,{blendFunction:e,uniforms:new Map([["hue",new ze(new L)],["saturation",new ze(n)]])}),this.hue=t}get saturation(){return this.uniforms.get("saturation").value}set saturation(e){this.uniforms.get("saturation").value=e}getSaturation(){return this.saturation}setSaturation(e){this.saturation=e}get hue(){let e=this.uniforms.get("hue").value;return Math.acos((e.x*3-1)/2)}set hue(e){let t=Math.sin(e),n=Math.cos(e);this.uniforms.get("hue").value.set((2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3)}getHue(){return this.hue}setHue(e){this.hue=e}},jLe=new _t,Awe=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,Twe=class extends Jl{constructor({blendFunction:e=Pn.SCREEN,premultiply:t=!1}={}){super("NoiseEffect",Awe,{blendFunction:e}),this.premultiply=t}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(e){this.premultiply!==e&&(e?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(e){this.premultiply=e}},Iwe="uniform bool active;uniform vec2 d;void mainUv(inout vec2 uv){if(active){uv=vec2(d.x*(floor(uv.x/d.x)+0.5),d.y*(floor(uv.y/d.y)+0.5));}}",Rwe=class extends Jl{constructor(e=30){super("PixelationEffect",Iwe,{uniforms:new Map([["active",new ze(!1)],["d",new ze(new oe)]])}),this.resolution=new oe,this.d=0,this.granularity=e}get granularity(){return this.d}set granularity(e){let t=Math.floor(e);t%2>0&&(t+=1),this.d=t,this.uniforms.get("active").value=t>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(e){this.granularity=e}setSize(e,t){this.resolution.set(e,t),this.uniforms.get("d").value.setScalar(this.d).divide(this.resolution)}},HLe=Math.PI*.5,GLe=new L,WLe=new L,mB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",fB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC",Lwe="uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",kwe="varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",Lh={LOW:0,MEDIUM:1,HIGH:2,ULTRA:3},CH=class extends Jl{constructor({preset:e=Lh.MEDIUM,edgeDetectionMode:t=ww.COLOR,predicationMode:n=AMe.DISABLED}={}){super("SMAAEffect",Lwe,{vertexShader:kwe,blendFunction:Pn.NORMAL,attributes:Gl.CONVOLUTION|Gl.DEPTH,uniforms:new Map([["weightMap",new ze(null)]])});let i,r;arguments.length>1&&(i=arguments[0],r=arguments[1],arguments.length>2&&(e=arguments[2]),arguments.length>3&&(t=arguments[3])),this.renderTargetEdges=new Bn(1,1,{minFilter:qt,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new UT(!0,!1,!1),this.clearPass.overrideClearColor=new _t(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new Vs(new TMe),this.edgeDetectionMaterial.edgeDetectionMode=t,this.edgeDetectionMaterial.predicationMode=n,this.weightsPass=new Vs(new VMe);let o=new wV;o.onLoad=()=>{let a=new wi(i);a.name="SMAA.Search",a.magFilter=zn,a.minFilter=zn,a.generateMipmaps=!1,a.needsUpdate=!0,a.flipY=!0,this.weightsMaterial.searchTexture=a;let s=new wi(r);s.name="SMAA.Area",s.magFilter=qt,s.minFilter=qt,s.generateMipmaps=!1,s.needsUpdate=!0,s.flipY=!1,this.weightsMaterial.areaTexture=s,this.dispatchEvent({type:"load"})},o.itemStart("search"),o.itemStart("area"),i!==void 0&&r!==void 0?(o.itemEnd("search"),o.itemEnd("area")):typeof Image<"u"&&(i=new Image,r=new Image,i.addEventListener("load",()=>o.itemEnd("search")),r.addEventListener("load",()=>o.itemEnd("area")),i.src=mB,r.src=fB),this.applyPreset(e)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(e){this.edgeDetectionMaterial.edgeDetectionThreshold=e}setOrthogonalSearchSteps(e){this.weightsMaterial.orthogonalSearchSteps=e}applyPreset(e){let t=this.edgeDetectionMaterial,n=this.weightsMaterial;switch(e){case Lh.LOW:t.edgeDetectionThreshold=.15,n.orthogonalSearchSteps=4,n.diagonalDetection=!1,n.cornerDetection=!1;break;case Lh.MEDIUM:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=8,n.diagonalDetection=!1,n.cornerDetection=!1;break;case Lh.HIGH:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=16,n.diagonalSearchSteps=8,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0;break;case Lh.ULTRA:t.edgeDetectionThreshold=.05,n.orthogonalSearchSteps=32,n.diagonalSearchSteps=16,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0;break}}setDepthTexture(e,t=rd){this.edgeDetectionMaterial.depthBuffer=e,this.edgeDetectionMaterial.depthPacking=t}update(e,t,n){this.clearPass.render(e,this.renderTargetEdges),this.edgeDetectionPass.render(e,t,this.renderTargetEdges),this.weightsPass.render(e,this.renderTargetEdges,this.renderTargetWeights)}setSize(e,t){this.edgeDetectionMaterial.setSize(e,t),this.weightsMaterial.setSize(e,t),this.renderTargetEdges.setSize(e,t),this.renderTargetWeights.setSize(e,t)}dispose(){let{searchTexture:e,areaTexture:t}=this.weightsMaterial;e!==null&&t!==null&&(e.dispose(),t.dispose()),super.dispose()}static get searchImageDataURL(){return mB}static get areaImageDataURL(){return fB}},Fwe=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,EC={DEFAULT:0,ESKIL:1},Nwe=class extends Jl{constructor({blendFunction:e=Pn.NORMAL,technique:t=EC.DEFAULT,eskil:n=!1,offset:i=.5,darkness:r=.5}={}){super("VignetteEffect",Fwe,{blendFunction:e,defines:new Map([["VIGNETTE_TECHNIQUE",t.toFixed(0)]]),uniforms:new Map([["offset",new ze(i)],["darkness",new ze(r)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(e){this.technique!==e&&(this.defines.set("VIGNETTE_TECHNIQUE",e.toFixed(0)),this.setChanged())}get eskil(){return this.technique===EC.ESKIL}set eskil(e){this.technique=e?EC.ESKIL:EC.DEFAULT}getTechnique(){return this.technique}setTechnique(e){this.technique=e}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}get darkness(){return this.uniforms.get("darkness").value}set darkness(e){this.uniforms.get("darkness").value=e}getDarkness(){return this.darkness}setDarkness(e){this.darkness=e}},qLe=[new Float32Array(3),new Float32Array(3)],YLe=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],XLe=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]],QLe=[new Float32Array(2),new Float32Array(2)],ZLe=new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),$Le=[new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125])],KLe=[new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4])],JLe=[new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3])],eke=new Map([[mo(0,0,0,0),new Float32Array([0,0,0,0])],[mo(0,0,0,1),new Float32Array([0,0,0,1])],[mo(0,0,1,0),new Float32Array([0,0,1,0])],[mo(0,0,1,1),new Float32Array([0,0,1,1])],[mo(0,1,0,0),new Float32Array([0,1,0,0])],[mo(0,1,0,1),new Float32Array([0,1,0,1])],[mo(0,1,1,0),new Float32Array([0,1,1,0])],[mo(0,1,1,1),new Float32Array([0,1,1,1])],[mo(1,0,0,0),new Float32Array([1,0,0,0])],[mo(1,0,0,1),new Float32Array([1,0,0,1])],[mo(1,0,1,0),new Float32Array([1,0,1,0])],[mo(1,0,1,1),new Float32Array([1,0,1,1])],[mo(1,1,0,0),new Float32Array([1,1,0,0])],[mo(1,1,0,1),new Float32Array([1,1,0,1])],[mo(1,1,1,0),new Float32Array([1,1,1,0])],[mo(1,1,1,1),new Float32Array([1,1,1,1])]]);function n3(e,t,n){return e+(t-e)*n}function mo(e,t,n,i){let r=n3(e,t,.75),o=n3(n,i,1-.25);return n3(r,o,1-.125)}var od=class{constructor(e,t){this.enabled=!1,this.effect=new e(t),Object.defineProperty(this,"opacity",{enumerable:!0,set(n){this.effect.blendMode.opacity.value=n},get(){return this.effect.blendMode.opacity.value}}),Object.defineProperty(this,"blendFunction",{enumerable:!0,set(n){this.effect.blendMode.setBlendFunction(Number(n))},get(){return this.effect.blendMode.blendFunction}}),this.blendFunction=Pn.NORMAL}},zwe=class extends od{constructor(){super(ywe),this.blendFunction=Pn.SCREEN}set intensity(e){this.effect.intensity=e}get intensity(){return this.effect.intensity}set luminanceThreshold(e){this.effect.luminanceMaterial.threshold=e}get luminanceThreshold(){return this.effect.luminanceMaterial.threshold}set luminanceSmoothing(e){this.effect.luminanceMaterial.smoothing=e}get luminanceSmoothing(){return this.effect.luminanceMaterial.smoothing}set blurScale(e){this.effect.blurPass.scale=e}get blurScale(){return this.effect.blurPass.scale}set kernelSize(e){this.effect.blurPass.kernelSize=e}get kernelSize(){return this.effect.blurPass.kernelSize}},Bwe=class extends od{constructor(){super(_we)}set contrast(e){this.effect.uniforms.get("contrast").value=e}get contrast(){return this.effect.uniforms.get("contrast").value}set brightness(e){this.effect.uniforms.get("brightness").value=e}get brightness(){return this.effect.uniforms.get("brightness").value}},Vwe=class extends od{constructor(){super(Pwe),this.effect.offset=new oe(.01,.01)}set offset(e){this.effect.offset.set(e[0]/1e3,e[1]/1e3)}get offset(){return[this.effect.offset.x*1e3,this.effect.offset.y*1e3]}},Uwe=class extends od{constructor(){super(Mwe)}},jwe=class extends od{constructor(){super(Dwe),this._hue=0}set hue(e){this._hue=e,this.effect.setHue(e)}get hue(){return this._hue}set saturation(e){this.effect.uniforms.get("saturation").value=e}get saturation(){return this.effect.uniforms.get("saturation").value}},Hwe=class extends od{constructor(){super(Twe),this.blendFunction=Pn.OVERLAY}},Gwe=class extends od{constructor(){super(Nwe)}get eskil(){return this.effect.eskil}set eskil(e){this.effect.eskil=e}get darkness(){return this.effect.uniforms.get("darkness").value}set darkness(e){this.effect.uniforms.get("darkness").value=e}get offset(){return this.effect.uniforms.get("offset").value}set offset(e){this.effect.uniforms.get("offset").value=e}},Wwe=class extends od{constructor(e){super(Swe)}set focalLength(e){this.effect.circleOfConfusionMaterial.uniforms.focalLength.value=e/2e3}get focalLength(){return this.effect.circleOfConfusionMaterial.uniforms.focalLength.value}set focusDistance(e){this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value=this.isPerspectiveCamera?e/2e3:(e+992)/2e3}get focusDistance(){return this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value}get bokehScale(){return this.effect.bokehScale}set bokehScale(e){this.effect.bokehScale=e}setCamera(e){let t=!1;(e.isPerspectiveCamera&&this.isPerspectiveCamera===!1||!e.isPerspectiveCamera&&this.isPerspectiveCamera===!0)&&(t=!0),e.isPerspectiveCamera?(this.effect.circleOfConfusionMaterial.adoptCameraSettings(e.perspCamera),this.isPerspectiveCamera=!0):(this.effect.circleOfConfusionMaterial.adoptCameraSettings(e),this.isPerspectiveCamera=!1),t&&this.effect.setChanged()}},qwe=class extends od{constructor(){super(Rwe)}get granularity(){return this.effect.getGranularity()}set granularity(e){this.effect.setGranularity(e)}},Ywe=`#define GLSLIFY 1
varying vec2 vUv;varying vec2 vTexCoords[9];uniform vec2 resolution;void main(){vUv=position.xy*0.5+0.5;vec2 texelSize=vec2(1.0)/resolution;vTexCoords[0]=vUv+vec2(-texelSize.x,-texelSize.y);vTexCoords[1]=vUv+vec2(0.0,-texelSize.y);vTexCoords[2]=vUv+vec2(texelSize.x,-texelSize.y);vTexCoords[3]=vUv+vec2(-texelSize.x,0.0);vTexCoords[4]=vUv+vec2(0.0,0.0);vTexCoords[5]=vUv+vec2(texelSize.x,0.0);vTexCoords[6]=vUv+vec2(-texelSize.x,texelSize.y);vTexCoords[7]=vUv+vec2(0.0,texelSize.y);vTexCoords[8]=vUv+vec2(texelSize.x,texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}`,Xwe=`#define GLSLIFY 1
#include <common>
varying vec2 vUv;varying vec2 vTexCoords[9];uniform sampler2D inputBuffer;uniform sampler2D historyBuffer;uniform sampler2D velocityBuffer;uniform sampler2D depthBuffer;uniform vec2 resolution;
#define USE_YCOCG
#define USE_CATMULL_ROM
const float feedback_min=0.5;const float feedback_max=0.95;vec3 RGB_YCoCg(vec3 c){return vec3(c.x/4.0+c.y/2.0+c.z/4.0,c.x/2.0-c.z/2.0,-c.x/4.0+c.y/2.0-c.z/4.0);}vec3 YCoCg_RGB(vec3 c){return clamp(vec3(c.x+c.y-c.z,c.x+c.z,c.x-c.y-c.z),vec3(0.0),vec3(1.0));}vec4 sample_color(sampler2D tex,vec2 uv){
#ifdef USE_YCOCG
vec4 c=texture(tex,uv);return vec4(RGB_YCoCg(c.rgb),c.a);
#else
return texture(tex,uv);
#endif
}vec4 sample_catmull_rom(sampler2D tex,vec2 uv,vec2 texSize){vec2 samplePos=uv*texSize;vec2 texPos1=floor(samplePos-0.5)+0.5;vec2 f=samplePos-texPos1;vec2 w0=f*(-0.5+f*(1.0-0.5*f));vec2 w1=1.0+f*f*(-2.5+1.5*f);vec2 w2=f*(0.5+f*(2.0-1.5*f));vec2 w3=f*f*(-0.5+0.5*f);vec2 w12=w1+w2;vec2 offset12=w2/(w1+w2);vec2 texPos0=texPos1-1.0;vec2 texPos3=texPos1+2.0;vec2 texPos12=texPos1+offset12;texPos0/=texSize;texPos3/=texSize;texPos12/=texSize;vec4 result=vec4(0.0);result+=texture2D(tex,vec2(texPos12.x,texPos0.y))*w12.x*w0.y;result+=texture2D(tex,vec2(texPos0.x,texPos12.y))*w0.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos12.y))*w12.x*w12.y;result+=texture2D(tex,vec2(texPos3.x,texPos12.y))*w3.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos3.y))*w12.x*w3.y;return result;}vec3 choose_motion_vector(){
#ifdef CHOOSE_LONGEST_MOTION_VECTOR
float longest=-1.0;vec3 v_choose=vec3(-1.0);for(int i=0;i<9;i++){vec3 v=texture2D(velocityBuffer,vTexCoords[i]).rgb;float l=length(v.xy);if(l>longest){longest=l;v_choose=v;}}return v_choose;
#else
float closest_depth=1000.0;vec2 closest_uv_offset=vec2(0.0);for(int i=0;i<9;i++){float neighbor_depth=texture2D(depthBuffer,vTexCoords[i]).r;if(neighbor_depth<closest_depth){closest_uv_offset=vTexCoords[i];closest_depth=neighbor_depth;}}return texture2D(velocityBuffer,closest_uv_offset).rgb;
#endif
}vec4 clipAabb(vec3 aabb_min,vec3 aabb_max,vec4 avg,vec4 input_texel){const float FLT_EPS=0.00000001;vec3 p_clip=0.5*(aabb_max+aabb_min);vec3 e_clip=0.5*(aabb_max-aabb_min)+FLT_EPS;vec4 v_clip=input_texel-vec4(p_clip,avg.w);vec3 v_unit=v_clip.xyz/e_clip;vec3 a_unit=abs(v_unit);float ma_unit=max(a_unit.x,max(a_unit.y,a_unit.z));if(ma_unit>1.0){return vec4(p_clip,avg.w)+v_clip/ma_unit;}else{return input_texel;}}vec3 clip_aabb_variance(in vec3 cOld,in vec3 cNew,in vec3 centre,in vec3 halfSize){if(all(lessThanEqual(abs(cOld-centre),halfSize))){return cOld;}vec3 dir=(cNew-cOld);vec3 near=centre-sign(dir)*halfSize;vec3 tAll=(near-cOld)/dir;float t=0.0001;for(int i=0;i<3;i++){if(tAll[i]>=0.0&&tAll[i]<t){t=tAll[i];}}if(t>=0.0001){return cOld;}return cOld+dir*t;}void main(){vec3 v=choose_motion_vector();vec2 velocity=v.rg;vec2 previousPixelPos=vUv-velocity;vec4 currentColor=sample_color(inputBuffer,vUv);
#ifdef USE_CATMULL_ROM
vec4 previousColor=sample_catmull_rom(historyBuffer,previousPixelPos,resolution);
#else
vec4 previousColor=sample_color(historyBuffer,previousPixelPos);
#endif
#ifdef USE_YCOCG
previousColor=vec4(RGB_YCoCg(previousColor.rgb),previousColor.a);
#endif
vec4 ctl=sample_color(inputBuffer,vTexCoords[0]);vec4 ctc=sample_color(inputBuffer,vTexCoords[1]);vec4 ctr=sample_color(inputBuffer,vTexCoords[2]);vec4 cml=sample_color(inputBuffer,vTexCoords[3]);vec4 cmc=sample_color(inputBuffer,vTexCoords[4]);vec4 cmr=sample_color(inputBuffer,vTexCoords[5]);vec4 cbl=sample_color(inputBuffer,vTexCoords[6]);vec4 cbc=sample_color(inputBuffer,vTexCoords[7]);vec4 cbr=sample_color(inputBuffer,vTexCoords[8]);vec4 cmin=min(ctl,min(ctc,min(ctr,min(cml,min(cmc,min(cmr,min(cbl,min(cbc,cbr))))))));vec4 cmax=max(ctl,max(ctc,max(ctr,max(cml,max(cmc,max(cmr,max(cbl,max(cbc,cbr))))))));vec4 cavg=(ctl+ctc+ctr+cml+cmc+cmr+cbl+cbc+cbr)/9.0;vec4 cmin5=min(ctc,min(cml,min(cmc,min(cmr,cbc))));vec4 cmax5=max(ctc,max(cml,max(cmc,max(cmr,cbc))));vec4 cavg5=(ctc+cml+cmc+cmr+cbc)/5.0;cmin=0.5*(cmin+cmin5);cmax=0.5*(cmax+cmax5);cavg=0.5*(cavg+cavg5);
#ifdef USE_YCOCG
vec2 chroma_extent=vec2(0.25*0.5*(cmax.r-cmin.r));vec2 chroma_center=currentColor.gb;cmin.yz=chroma_center-chroma_extent;cmax.yz=chroma_center+chroma_extent;cavg.yz=chroma_center;
#endif
vec4 previousColorClipped=clamp(previousColor,cmin,cmax);
#ifdef LUMINANCE_DIFFERENCES
#ifdef USE_YCOCG
float lum0=currentColor.r;float lum1=previousColorClipped.r;
#else
float lum0=luminance(currentColor.rgb);float lum1=luminance(previousColorClipped.rgb);
#endif
float unbiased_diff=abs(lum0-lum1)/max(lum0,max(lum1,0.2));float unbiased_weight=1.0-unbiased_diff;float unbiased_weight_sqr=unbiased_weight*unbiased_weight;float k_feedback=mix(feedback_min,feedback_max,unbiased_weight_sqr);vec4 result=mix(currentColor,previousColorClipped,vec4(k_feedback));
#else
const float alpha=0.1;vec4 result=mix(currentColor,previousColorClipped,1.0-alpha);
#endif
#ifdef USE_YCOCG
gl_FragColor=vec4(YCoCg_RGB(result.rgb).rgb,result.a);
#else
gl_FragColor=result;
#endif
}`,Qwe=`#define GLSLIFY 1
varying vec2 vUv;void main(){gl_Position=vec4(position.xy,1.0,1.0);vUv=position.xy*0.5+0.5;}`,Zwe=`#define GLSLIFY 1
layout(location=1)out vec4 gVelocity;varying vec2 vUv;uniform sampler2D inputBuffer;void main(){gl_FragColor=texture2D(inputBuffer,vUv);gVelocity=vec4(0.0);}`,lA=class extends Vn{constructor(){super({name:"PassthroughMaterial",uniforms:{inputBuffer:new ze(null)},blending:er,depthWrite:!1,depthTest:!1,vertexShader:Qwe,fragmentShader:Zwe})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}},$we=class extends Wo{constructor(){super("TAAResolvePass"),this.MRTCompatible=!0,this.needsSwap=!1,this.passThroughMaterial=new lA,this.resolutionVector=new oe,this.resolveMaterial=new Vn({name:"TAAResolveMaterial",uniforms:{inputBuffer:new ze(null),historyBuffer:new ze(null),velocityBuffer:new ze(null),depthBuffer:new ze(null),resolution:new ze(new oe)},blending:er,depthWrite:!1,depthTest:!1,vertexShader:Ywe,fragmentShader:Xwe}),this.historyRenderTarget=new Bn(1024,1024,{minFilter:qt,stencilBuffer:!1,depthBuffer:!1}),this.historyRenderTarget.texture.name="TAA.History",this.resultRenderTarget=new Bn(1024,1024,{minFilter:qt,stencilBuffer:!1,depthBuffer:!1}),this.resultRenderTarget.texture.name="TAA.Output"}setSize(e,t){this.historyRenderTarget.setSize(e,t),this.resultRenderTarget.setSize(e,t)}render(e,t){this.fullscreenMaterial=this.resolveMaterial,this.resolveMaterial.uniforms.inputBuffer.value=t.texture[0],this.resolveMaterial.uniforms.velocityBuffer.value=t.texture[1],this.resolveMaterial.uniforms.depthBuffer.value=t.depthTexture,this.resolveMaterial.uniforms.historyBuffer.value=this.historyRenderTarget.texture,this.resolveMaterial.uniforms.resolution.value.set(t.width,t.height),e.setRenderTarget(this.resultRenderTarget),e.render(this.scene,this.camera),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(this.historyRenderTarget),e.render(this.scene,this.camera);let n=this.renderToScreen?null:t;this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(n),e.render(this.scene,this.camera)}dispose(){this.resultRenderTarget.dispose(),this.historyRenderTarget.dispose(),this.resolveMaterial.dispose(),this.passThroughMaterial.dispose()}},Kwe=class extends Wo{constructor(e,t,n){super("TransmissionPass",void 0,t),this.MRTCompatible=!0,this.depthPass=new hB(e,t,{renderTarget:n.transmissionDepthTarget}),this.passThroughMaterial=new lA,this.splineScene=e,this.needsSwap=!1}updatePasses(e){this.passThroughMaterial=new lA,this.depthPass=new hB(this.splineScene,this.camera,{renderTarget:e.transmissionDepthTarget})}setCamera(e){this.camera=e}setScene(e){this.splineScene=e}render(e,t,n){let i=this.camera.layers.mask,r=e;r.setRenderTarget(r.transmissionRenderTarget),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=t.texture[0],r.clear(),r.render(this.scene,this.camera),this.camera.layers.disable(3),this.depthPass.render(e,t,n),r.shadowMap.needsUpdate=!1,r.shadowMap.autoUpdate=!1;let o=this.renderToScreen?null:t;this.camera.layers.set(3),e.setRenderTarget(o),e.render(this.splineScene,this.camera),this.camera.layers.mask=i}},gB=new Qc,Jwe=new Vn({transparent:!0,vertexShader:`
        void main() {
            gl_Position = vec4(0.0);
        }
    `,fragmentShader:`
        layout(location = 1) out vec4 gVelocity;

        void main() {
            gl_FragColor = vec4(0.0);
			gVelocity = vec4(0.0);
        }
    `}),cA=class extends Wo{constructor(e,t,n){super("OpaquePass",t??gB,n),this.MRTCompatible=!0,this.hasTransmissionPass=!1,this.clear=!0,this.clearColorOnly=!1,this.clearDepth=!1,this.needsSwap=!1,this.originalMaterials=new Map,this.MRTCompatible=e}setCamera(e){this.camera=e}setScene(e){this.scene=e??gB}getScene(){return this.scene}render(e,t){this.camera.layers.enable(3),this.hasTransmissionPass&&(this.originalMaterials.clear(),this.scene.traverse(i=>{i.layers.isEnabled(3)&&i instanceof Ho&&(this.originalMaterials.set(i.id,i.material),i.material=Jwe)}),e.shadowMap.needsUpdate=!0,e.shadowMap.autoUpdate=!0),this.camera.layers.enable(8);let n=this.renderToScreen?null:t;e.setRenderTarget(n),this.clearColorOnly&&e.clear(!0,!1,!0),this.clear&&e.clear(),e.render(this.scene,this.camera),this.clearDepth&&e.clear(!1,!0,!1),this.hasTransmissionPass&&this.originalMaterials.forEach((i,r)=>{let o=this.scene.getObjectById(r);o&&(o.material=i)})}},exe=class{constructor(e,{depthBuffer:t=!0,stencilBuffer:n=!1,multisampling:i=0,frameBufferType:r=0}={}){this.renderer=e,this.helperStartIndex=0,this.copyPass=new sA,this.depthTexture=null,this.timer=new gwe,this._width=1,this._height=1,this.passes=[],this.helperPasses=[],this.autoRenderToScreen=!0,this.inputBuffer=this.createBuffer(t,n,r,i,!0,"input buffer mrt"),this.inputBufferSingle=this.createBuffer(t,n,r,i,!1," input buffer single"),this.inputBufferSingle.texture.dispose(),this.inputBufferSingle.depthTexture.dispose(),this.inputBufferSingle.texture=this.inputBuffer.texture[0],this.inputBufferSingle.depthTexture=this.inputBuffer.depthTexture,this.outputBuffer=this.inputBuffer.clone(),this.outputBuffer.name="output buffer mrt",this.outputBufferSingle=this.createBuffer(t,n,r,i,!1,"output buffer single"),this.outputBufferSingle.texture.dispose(),this.outputBufferSingle.depthTexture.dispose(),this.outputBufferSingle.texture=this.outputBuffer.texture[0],this.outputBufferSingle.depthTexture=this.outputBuffer.depthTexture,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){let t=this.inputBuffer,n=this.multisampling;n>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):n!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("creating new input buffer"),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e,!0,"new input buffer"),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){let t=e.getSize(new oe),n=e.getContext().getContextAttributes()?.alpha??!1,i=this.inputBuffer.texture[0].type;i===Mo&&e.outputEncoding===jt&&(this.inputBuffer.texture[0].encoding=jt,this.outputBuffer.texture[0].encoding=jt,this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("doing some kinda dispose??")),e.autoClear=!1,this.setSize(t.width,t.height,!1);for(let r of this.passes)r.initialize(e,n,i)}}replaceRenderer(e,t=!0){let n=this.renderer,i=n.domElement.parentNode;return this.setRenderer(e),t&&i!==null&&(i.removeChild(n.domElement),i.appendChild(e.domElement)),n}createDepthTexture(){let e=this.depthTexture=new Ff(this._width,this._height);return this.inputBuffer.depthTexture=e,this.inputBuffer.stencilBuffer?(e.format=ep,e.type=Wh):e.type=Wc,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(let e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,n,i,r,o){let a=this.renderer,s=a===null?new oe:a.getDrawingBufferSize(new oe),l={minFilter:qt,magFilter:qt,wrapS:mi,wrapT:mi,stencilBuffer:t,depthBuffer:e},c;return i>0?(c=new Bn(s.width,s.height,l),c.samples=i):(r?(c=new Iie(s.width,s.height,2,l),c.texture[1].type=Jh):c=new Bn(s.width,s.height,l),c.depthTexture=new Ff(2048,2048),c.depthTexture.type=Ki),n===Mo&&a!==null&&a.outputEncoding===jt&&(Array.isArray(c.texture)?c.texture.forEach(d=>d.encoding=jt):c.texture.encoding=jt),Array.isArray(c.texture)?c.texture.forEach((d,u)=>{d.name=`EffectComposer.Buffer ${r} ${u}`,d.generateMipmaps=!1}):(c.texture.name=`EffectComposer.Buffer ${r}`,c.texture.generateMipmaps=!1),c.name=o,c}addPass(e,t){let n=this.passes,i=this.renderer,r=i.getDrawingBufferSize(new oe),o=i.getContext().getContextAttributes()?.alpha??!1,a;if(e.MRTCompatible&&(a=this.inputBuffer.texture[0].type),e.MRTCompatible||(a=this.inputBuffer.texture.type),e.setRenderer(i),e.setSize(r.width,r.height),e.initialize(i,o,a),this.autoRenderToScreen&&(n.length>0&&(n[n.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),t!==void 0?n.splice(t,0,e):n.push(e),this.autoRenderToScreen&&(n[n.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){let s=this.createDepthTexture();for(e of n)e.setDepthTexture(s)}else e.setDepthTexture(this.depthTexture)}setHelperStartIndex(e){this.helperStartIndex=e}removePass(e){let t=this.passes,n=t.indexOf(e);if(n!==-1&&t.splice(n,1).length>0){if(this.depthTexture!==null){let i=(r,o)=>r||o.needsDepthTexture;t.reduce(i,!1)||e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null)}this.autoRenderToScreen&&n===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){let e=this.passes;e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){let t=this.renderer,n=this.copyPass,i=this.inputBuffer,r=this.outputBuffer,o=this.inputBufferSingle,a=this.outputBufferSingle,s=!1,l,c,d,u;e===void 0&&(e=this.timer.update().getDelta());for(let h of this.passes)h.enabled&&(h.MRTCompatible?h.render(t,i,r,e,s):h.render(t,o,a,e,s),h.needsSwap&&(s&&(n.renderToScreen=h.renderToScreen,l=t.getContext(),c=t.state.buffers.stencil,c.setFunc(l.NOTEQUAL,1,4294967295),n.render(t,i,r,e,s),c.setFunc(l.EQUAL,1,4294967295)),d=i,u=o,i=r,o=a,r=d,a=u),h instanceof mwe?s=!0:h instanceof HMe&&(s=!1))}setSize(e,t,n){let i=this.renderer;if(this._width=e,this._height=t,e===void 0||t===void 0){let o=i.getSize(new oe);e=o.width,t=o.height}i.setSize(e,t,n);let r=i.getDrawingBufferSize(new oe);this.inputBuffer.setSize(r.width,r.height),this.outputBuffer.setSize(r.width,r.height),this.inputBufferSingle.setSize(r.width,r.height),this.outputBufferSingle.setSize(r.width,r.height);for(let o of this.passes)o.setSize(r.width,r.height)}reset(){let e=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(e)}dispose(){for(let e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.inputBufferSingle!==null&&this.inputBufferSingle.dispose(),this.outputBufferSingle!==null&&this.outputBufferSingle.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},txe=new Vn({name:"CombineMaterial",uniforms:{inputBufferA:new ze(null),inputBufferB:new ze(null)},blending:er,depthWrite:!1,depthTest:!1,vertexShader:`
varying vec2 vUv;
void main() {
    gl_Position = vec4(position.xy, 1.0, 1.0);
    vUv = position.xy * 0.5 + 0.5;
}
`,fragmentShader:`
    varying vec2 vUv;
    uniform sampler2D inputBufferA;
    uniform sampler2D inputBufferB;

    // TODO: Why do we need these when postpro of framemode is enabled???
    layout(location = 1) out vec4 gVelocity;

    void main() {
	vec4 resA = texture2D(inputBufferA, vUv);
	vec4 resB = texture2D(inputBufferB, vUv);
    float a = resA.a + resB.a * ( 1.0 - resA.a );

	vec4 res;
	res.rgb =  resA.rgb + (resB.rgb * (1.0 - resA.a));
	res.a = resA.a + resB.a * (1.0 - resA.a);
	gl_FragColor = res;
    gVelocity = vec4(0.0);
    }
`}),nxe=class extends Wo{constructor(e){super("HelperPass",void 0,e),this.MRTCompatible=!1,this.fullscreenMaterial=txe,this.helperPass=new cA(!1,void 0,this.camera),this.helperPass.hasTransmissionPass=!1,this.helperPass.clear=!1,this.helperPass.renderToScreen=!1,this.helperPassOnTop=new cA(!1,void 0,this.camera),this.helperPassOnTop.hasTransmissionPass=!1,this.helperPassOnTop.clear=!1,this.helperPassOnTop.renderToScreen=!1;let t=new CH({preset:Lh.LOW,edgeDetectionMode:ww.COLOR});this.effectPass=new QM(this.camera,t),this.rt=new Bn(10,10,{minFilter:qt,magFilter:qt,wrapS:mi,wrapT:mi,depthBuffer:!0})}setSize(e,t){this.rt.setSize(e,t),this.effectPass.setSize(e,t)}set sceneHelpers(e){this.helperPass.setScene(e)}get sceneHelpers(){return this.helperPass.getScene()}set sceneHelpersOnTop(e){this.helperPassOnTop.setScene(e)}get sceneHelpersOnTop(){return this.helperPassOnTop.getScene()}setCamera(e){this.helperPass.setCamera(e),this.helperPassOnTop.setCamera(e)}initialize(e,t,n){super.initialize(e,t,n),this.effectPass.initialize(e,t,n)}dispose(){super.dispose(),this.rt.dispose(),this.effectPass.dispose()}render(e,t,n){this.rt.depthTexture=t.depthTexture;let i=e.getClearAlpha();e.setClearAlpha(0),this.helperPass.clearDepth=!0,this.helperPass.clearColorOnly=!0,this.helperPass.render(e,this.rt),this.helperPassOnTop.render(e,this.rt),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.rt,n),this.fullscreenMaterial.uniforms.inputBufferA.value=n.texture,this.fullscreenMaterial.uniforms.inputBufferB.value=t.texture,e.setClearAlpha(i),e.setRenderTarget(null),e.clear(),e.render(this.scene,this.camera)}},ixe=`#define GLSLIFY 1
#include <skinning_pars_vertex>
out vec3 n;void main(){
#include <beginnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <defaultnormal_vertex>
#include <begin_vertex>
#include <skinning_vertex>
vec4 view_space=viewMatrix*modelMatrix*vec4(transformed,1.0);gl_Position=projectionMatrix*view_space;n=normalize(transformedNormal);}`,rxe=`#define GLSLIFY 1
in vec3 n;void main(){gl_FragColor=vec4(n,1.0);}`,oxe=`#define GLSLIFY 1
out vec2 v_uv;void main(){v_uv=uv;gl_Position=vec4(position.xy,1.0,1.0);}`,axe=`#define GLSLIFY 1
in vec2 v_uv;const float pi=3.14159265;const float num_steps=4.0;const float num_directions=4.0;uniform float near;uniform float far;uniform float fov;uniform vec4 proj_info;uniform bool is_ortho;uniform vec2 resolution;uniform float radius_of_influence;uniform float radius_in_screen_space;uniform float exponent;uniform vec3 ao_color;uniform float bias;uniform sampler2D texture_depth;uniform sampler2D texture_normals;uniform sampler2D texture_blue_noise;uniform sampler2D texture_blue_noise_in_disk;uniform sampler2D texture_color_pass;uniform int frame_index;uniform bool fog_enabled;uniform float fog_near;uniform float fog_far;vec3 uv_to_view_space(vec2 uv,float eye_z){return vec3((uv*proj_info.xy+proj_info.zw)*(is_ortho ? 1.0 : eye_z),eye_z);}float linearize_depth(float depth_sampled){float z=is_ortho ? depth_sampled : depth_sampled*2.0-1.0;return mix((2.0*near*far)/(far+near-z*(far-near)),near+z*(far-near),float(is_ortho));}vec3 get_view_position(vec2 uv_coords){float linear_depth=linearize_depth(texture(texture_depth,uv_coords).x);return uv_to_view_space(uv_coords,linear_depth);}vec3 min_difference(vec3 p,vec3 right,vec3 left){vec3 v1=right-p;vec3 v2=p-left;return(dot(v1,v1)<dot(v2,v2))? v1 : v2;}vec3 rebuild_normal(in vec2 uv,in vec3 p){vec2 one_over_resolution=1.0/resolution;vec3 r=get_view_position(uv+vec2(one_over_resolution.x,0));vec3 l=get_view_position(uv+vec2(-one_over_resolution.x,0));vec3 t=get_view_position(uv+vec2(0,one_over_resolution.y));vec3 b=get_view_position(uv+vec2(0,-one_over_resolution.y));return normalize(cross(min_difference(p,r,l),min_difference(p,t,b)));}float falloff(float distance_squared){float neg_inv_r2=-1.0/(radius_of_influence*radius_of_influence);return distance_squared*neg_inv_r2+1.0;}float ao_contribution(vec3 P,vec3 N,vec3 S){vec3 to_sample=S-P;float norm_squared=dot(to_sample,to_sample);float norm=sqrt(norm_squared);float cos_theta=dot(N,to_sample)/norm;return clamp(cos_theta-bias,0.0,1.0)*clamp(falloff(norm_squared),0.0,1.0);}float compute_ambient_occlusion(vec2 uv,float radius_in_screen_space,vec3 pc,vec3 view_space_n){vec2 one_over_resolution=1.0/resolution;ivec2 noise_uv=ivec2(int(mod(gl_FragCoord.x,128.0)),int(mod(gl_FragCoord.y,128.0)));float noise=texelFetch(texture_blue_noise,noise_uv,0).r;noise=fract(noise+0.61803398875*float(frame_index));float theta=noise*2.0*3.1415;float ct=cos(theta);float st=sin(theta);float step_size=radius_in_screen_space/(num_steps+1.0);const float angle_step=2.0*pi/num_directions;float contribution=0.0;for(int i=0;i<int(num_directions);++i){float current_pixel=step_size+1.0;for(int j=0;j<int(num_steps);++j){int index=i*int(num_steps)+j;vec2 blue_noise_sample=texelFetch(texture_blue_noise_in_disk,ivec2(index,0),0).rg;vec2 disk_point;disk_point.x=blue_noise_sample.x*ct-blue_noise_sample.y*st;disk_point.y=blue_noise_sample.x*st+blue_noise_sample.y*ct;vec2 sample_direction=disk_point;vec2 snapped_uv=round(current_pixel*sample_direction)*one_over_resolution+uv;vec3 ps=get_view_position(snapped_uv);current_pixel+=step_size;contribution+=ao_contribution(pc,view_space_n,ps);}}float mult=1.0/(1.0-bias);contribution*=mult/(num_directions*num_steps);return clamp(1.0-contribution*2.0,0.0,1.0);}
#define USE_GBUFFER_NORMALS
void main(){vec3 view_space_p=get_view_position(v_uv);
#ifdef USE_GBUFFER_NORMALS
vec3 view_space_n=texture(texture_normals,v_uv).rgb;view_space_n.z*=-1.0;
#else
vec3 view_space_n=-rebuild_normal(v_uv,view_space_p);
#endif
float radius_ss=radius_in_screen_space/(is_ortho ? 1.0 : view_space_p.z);float ao=compute_ambient_occlusion(v_uv,radius_ss,view_space_p,view_space_n);float final=pow(ao,exponent);if(view_space_p.z>=far){final=1.0;}vec3 color=mix(ao_color,vec3(1.0),final);if(fog_enabled){float fog_factor=smoothstep(fog_near,fog_far,view_space_p.z);color=mix(color,vec3(1.0),fog_factor);}gl_FragColor=vec4(color,1.0);}`,sxe=`#define GLSLIFY 1
out vec2 v_uv;void main(){gl_Position=vec4(position.xy,1.0,1.0);v_uv=uv;}`,lxe=`#define GLSLIFY 1
in vec2 v_uv;uniform sampler2D texture_ao_lrez;uniform sampler2D texture_depth_lrez;uniform sampler2D texture_depth_hrez;uniform float near;uniform float far;float linearize_depth(float depth_sampled){float z=depth_sampled*2.0-1.0;return(2.0*near*far)/(far+near-z*(far-near));}vec2 nearest_depth_filter(in vec2 uv){vec2 resolution=vec2(textureSize(texture_depth_lrez,0));vec2 texel_size=1.0/resolution;vec2 offset=uv-0.5*texel_size;float d_hrez=texture(texture_depth_hrez,uv).r;float a=abs(d_hrez-texture(texture_depth_lrez,offset).r);float b=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,0.0)).r);float c=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(0.0,texel_size.y)).r);float d=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,texel_size.y)).r);float min_diff=min(a,min(b,min(c,d)));if(min_diff==a)return offset;if(min_diff==b)return offset+vec2(texel_size.x,0.0);if(min_diff==c)return offset+vec2(0.0,texel_size.y);if(min_diff==d)return offset+vec2(texel_size.x,texel_size.y);}void main(){
#ifdef DEBUG
float d_lrez=texture(texture_depth_lrez,v_uv).r;float d_hrez=texture(texture_depth_hrez,v_uv).r;float output_d=mix(linearize_depth(d_lrez)/far,linearize_depth(d_hrez)/far,step(0.5,v_uv.x));gl_FragColor=vec4(vec3(output_d),1.0);
#else
vec2 filtered_uv=nearest_depth_filter(v_uv);vec4 ao=texture(texture_ao_lrez,filtered_uv);gl_FragColor=vec4(ao.rgb,1.0);gl_FragColor=ao;
#endif
}`,gv=[[.478712,.875764],[-.337956,-.793959],[-.955259,-.028164],[.864527,.325689],[.209342,-.395657],[-.106779,.672585],[.156213,.235113],[-.413644,-.082856],[-.415667,.323909],[.141896,-.93998],[.954932,-.182516],[-.766184,.410799],[-.434912,-.458845],[.415242,-.078724],[.728335,-.491777],[-.058086,-.066401],[.20299,.686837],[-.808362,-.556402],[.507386,-.640839],[-.723494,-.22924],[.48974,.317826],[-.622663,.765301],[-.01064,.929347],[.663146,.647618],[-.096674,-.413835],[.525945,-.321063],[-.122533,.366019],[.195235,-.687983],[-.563203,.098748],[.418563,.561335],[-.378595,.800367],[.826922,.001024],[-.085372,-.766651],[-.92192,.183673],[-.590008,-.721799],[.167751,-.164393],[.032961,-.56253],[.6329,-.107059],[-.46408,.569669],[-.173676,-.958758],[-.242648,-.234303],[-.275362,.157163],[.382295,-.795131],[.562955,.115562],[.190586,.470121],[.770764,-.297576],[.237281,.93105],[-.666642,-.455871],[-.905649,-.298379],[.33952,.157829],[.701438,-.7041],[-.062758,.160346],[-.220674,.957141],[.642692,.432706],[-.77339,-.015272],[-.671467,.24688],[.158051,.062859],[.806009,.527232],[-.05762,-.247071],[.333436,-.51671],[-.550658,-.315773],[-.652078,.589846],[.008818,.530556],[-.210004,.519896]],cxe=new Vn({vertexShader:ixe,fragmentShader:rxe}),$m=new Vn({vertexShader:sxe,fragmentShader:lxe,uniforms:{texture_ao_lrez:new ze(null),texture_depth_lrez:new ze(null),texture_depth_hrez:new ze(null),near:new ze(null),far:new ze(null)}}),dxe=class extends Wo{constructor(e,t){super("AmbientOcclusionPass",void 0,t),this.fogEnabled=!1,this.fogNear=1,this.fogFar=1e3,this.frameIndex=0,this._runHalfRes=!0,this._width=1,this._height=1;let n=1024,i=1024;this.gBuffer=new Bn(n,i,{type:Ki,depthTexture:new Ff(n,i),minFilter:qt,magFilter:qt}),this.depthBufferHighRes=new Bn(n,i,{depthTexture:new Ff(n,i)}),this.aoBuffer=new Bn(n,i,{minFilter:qt,magFilter:qt}),this.splineScene=e,this.splineCamera=t;let r=new Float32Array(gv.length*2);for(let a=0;a<gv.length;a++){let s=a*2;r[s+0]=gv[a][0],r[s+1]=gv[a][1]}this.blueNoiseInDiskTexture=new fs(r,gv.length,1,tM,Ki),this.blueNoiseInDiskTexture.wrapS=Gc,this.blueNoiseInDiskTexture.wrapT=Gc,this.blueNoiseInDiskTexture.needsUpdate=!0,this.hbaoMaterial=new Vn({vertexShader:oxe,fragmentShader:axe,uniforms:{near:new ze(null),far:new ze(null),fov:new ze(null),proj_info:new ze(new Et),is_ortho:new ze(!1),resolution:new ze(new oe),radius_of_influence:new ze(8),radius_in_screen_space:new ze(1),exponent:new ze(1),ao_color:new ze(new L),bias:new ze(.5),texture_depth:new ze(null),texture_normals:new ze(null),texture_blue_noise:new ze(null),texture_blue_noise_in_disk:new ze(this.blueNoiseInDiskTexture),frame_index:new ze(0),fog_enabled:new ze(!1),fog_near:new ze(1),fog_far:new ze(1e3)}}),this.radius=128,this.aoColor={r:0,g:0,b:0},this.bias=.5,this.hbaoMaterial.uniforms.texture_depth.value=this.gBuffer.depthTexture,this.hbaoMaterial.uniforms.texture_normals.value=this.gBuffer.texture,this.needsSwap=!0,this.aaBuffer=new Bn(n,i,{minFilter:qt,magFilter:qt,wrapS:mi,wrapT:mi,depthBuffer:!1,type:Ki});let o=new CH({preset:Lh.ULTRA,edgeDetectionMode:ww.COLOR});this.effectPass=new QM(this.camera,o)}initialize(e,t,n){super.initialize(e,t,n),this.effectPass.initialize(e,t,n)}setBlueNoiseTexture(e){this.hbaoMaterial.uniforms.texture_blue_noise.value=e}setSize(e,t){this._width=e,this._height=t,this.depthBufferHighRes.setSize(e,t);let n=this._runHalfRes?.5:1,i=e*n,r=t*n;this.gBuffer.setSize(i,r),this.aoBuffer.setSize(i,r),this.hbaoMaterial.uniforms.resolution.value.set(i,r),this.aaBuffer.setSize(i,r),this.effectPass.setSize(i,r)}get runHalfRes(){return this._runHalfRes}set runHalfRes(e){this._runHalfRes=e,this.setSize(this._width,this._height)}setCamera(e){this.splineCamera=e}setScene(e){this.splineScene=e}setDepthTexture(e){this.depthBufferHighRes.depthTexture=e,$m.uniforms.texture_depth_hrez.value=e,$m.needsUpdate=!0}render(e,t,n){this.splineScene.overrideMaterial=cxe;let i=this.splineCamera.layers.mask;if(this.splineCamera.layers.set(5),e.setRenderTarget(this.gBuffer),e.clear(),e.render(this.splineScene,this.splineCamera),e.setRenderTarget(this.depthBufferHighRes),e.clear(),e.render(this.splineScene,this.splineCamera),this.splineScene.overrideMaterial=null,this.splineCamera.layers.mask=i,this.hbaoMaterial.uniforms.radius_of_influence.value=this.radius,this.hbaoMaterial.uniforms.ao_color.value.set(this.aoColor.r,this.aoColor.g,this.aoColor.b),this.hbaoMaterial.uniforms.bias.value=this.bias,this.hbaoMaterial.uniforms.fog_enabled.value=this.fogEnabled,this.hbaoMaterial.uniforms.fog_near.value=this.fogNear,this.hbaoMaterial.uniforms.fog_far.value=this.fogFar,this.hbaoMaterial.uniforms.frame_index.value=this.frameIndex,this.frameIndex++,this.splineCamera.isPerspectiveCamera){this.hbaoMaterial.uniforms.near.value=this.splineCamera.perspCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.perspCamera.far;let r=this.splineCamera.perspCamera.projectionMatrix.elements,o=2/r[0],a=2/r[5],s=-(1-r[8])/r[0],l=-(1+r[9])/r[5];this.hbaoMaterial.uniforms.proj_info.value.set(o,a,s,l);let c=this.splineCamera.perspCamera.fov*(Math.PI/180),d=this.hbaoMaterial.uniforms.resolution.value.y/(Math.tan(c*.5)*2),u=this.hbaoMaterial.uniforms.radius_of_influence.value*.5*d;this.hbaoMaterial.uniforms.radius_in_screen_space.value=u,this.hbaoMaterial.uniforms.is_ortho.value=!1}else{this.hbaoMaterial.uniforms.near.value=this.splineCamera.orthoCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.orthoCamera.far;let r=this.splineCamera.orthoCamera.projectionMatrix.elements,o=2/r[0],a=2/r[5],s=-(1+r[12])/r[0],l=-(1-r[13])/r[5];this.hbaoMaterial.uniforms.proj_info.value.set(o,a,s,l);let c=.5*(this.hbaoMaterial.uniforms.resolution.value.y/a),d=this.hbaoMaterial.uniforms.radius_of_influence.value*c;this.hbaoMaterial.uniforms.radius_in_screen_space.value=d,this.hbaoMaterial.uniforms.is_ortho.value=!0}this.runHalfRes?(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aoBuffer),e.clear(),e.render(this.scene,this.camera),this.fullscreenMaterial=$m,$m.uniforms.texture_ao_lrez.value=this.aoBuffer.texture,$m.uniforms.texture_depth_lrez.value=this.gBuffer.depthTexture,$m.uniforms.texture_depth_hrez.value=this.depthBufferHighRes.depthTexture,e.setRenderTarget(e.aoRenderTarget),e.clear(),e.render(this.scene,this.camera)):(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aaBuffer),e.clear(),e.render(this.scene,this.camera),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.aaBuffer,e.aoRenderTarget))}dispose(){this.gBuffer.dispose(),this.depthBufferHighRes.dispose(),this.aoBuffer.dispose()}},uxe=`
varying vec2 vUv;
void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,hxe=`
uniform sampler2D tInput;
uniform sampler2D tMap;
uniform vec2 resolution;
varying vec2 vUv;

uniform vec2 uResolution;
uniform vec2 uCoords;

// Draws a rectangle at center <st> with size <size>
float rectangle(vec2 st, vec2 size) {
    size = vec2(0.5) - size * 0.5;
    vec2 uv = vec2(step(size.x, st.x), step(size.y, st.y));
    uv *= vec2(step(size.x, 1.0 - st.x), step(size.y, 1.0 - st.y));

    return uv.x * uv.y;
}

uniform vec2 uSize;
uniform float uScale;
uniform float uDPR;
uniform float uCurrent;
uniform vec3 uSceneColor;

void main() {
    vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
    screenUv *= 1.0 / uDPR;

    vec2 center = vec2(0.5, -0.5);
    vec2 outsideUv = screenUv;
    outsideUv += center;
    outsideUv -= uCoords.xy / uResolution.xy;
    outsideUv = (outsideUv - 0.5) + 0.5;
    outsideUv -= center;
    vec2 s = (uSize / uResolution) * uScale;
    float isOutside = 1.0 - rectangle(outsideUv, s);
    
    vec2 mid = vec2(0.5);
    vec2 insideUv = (screenUv - mid + s * mid) / s;
    vec4 background = texture2D(tInput, screenUv);
    vec4 image = texture2D(tMap, insideUv);
    gl_FragColor = mix(image, background, isOutside);
}
`,pxe=class extends Vs{constructor(){super(new Vn({vertexShader:uxe,fragmentShader:hxe,uniforms:{tInput:new ze(null),tMap:new ze(null),uResolution:new ze(new oe),uSize:new ze(new oe),uCoords:new ze(new oe),uScale:new ze(1),uSceneColor:new ze(new _t(16711680)),uDPR:new ze(1),uCurrent:new ze(0)}}),"tInput"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.tMap.value}set texture(e){this.uniforms.tMap.value=e}},mxe=`
void main() {
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fxe=`
uniform sampler2D toScene;
uniform sampler2D fromScene;
uniform vec2 resolution;

uniform vec2 uResolution;
uniform float uDPR;

uniform float mixRatio;
uniform sampler2D tMixTexture;
uniform int useTexture;
uniform float threshold;

void main() {
	vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
	screenUv *= 1.0 / uDPR;

	vec4 texel1 = texture2D( fromScene, screenUv );
	vec4 texel2 = texture2D( toScene, screenUv );

	if (useTexture==1) {
		
		vec4 transitionTexel = texture2D( tMixTexture, screenUv );
		float r = mixRatio * (1.0 + threshold * 2.0) - threshold;
		float mixf=clamp((transitionTexel.r - r)*(1.0/threshold), 0.0, 1.0);
		
		gl_FragColor = mix( texel1, texel2, mixf );
	} else {
		
		gl_FragColor = mix( texel1, texel2, mixRatio );
		
	}
}
`,gxe=[],vxe=class extends Vs{constructor(){super(new Vn({vertexShader:mxe,fragmentShader:fxe,uniforms:{toScene:new ze(null),fromScene:new ze(null),uResolution:new ze(new oe),uDPR:new ze(1),mixRatio:new ze(0),threshold:new ze(.1),useTexture:new ze(0),tMixTexture:{value:gxe[0]}}}),"toScene"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.fromScene.value}set texture(e){this.uniforms.fromScene.value=e}},yxe=`
void main() {
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,bxe=`
uniform sampler2D inputBuffer;
uniform sampler2D blurredInputBuffer;
uniform sampler2D overlay;
uniform float blurIntensity;

uniform vec2 uResolution;
uniform float uDPR;

void main() {
	vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
	screenUv *= 1.0 / uDPR;

	vec4 texel1 = texture2D( overlay, screenUv );
	vec4 texel2 = texture2D( inputBuffer, screenUv );
	vec4 texel3 = texture2D( blurredInputBuffer, screenUv );

	float blurMask2 = max(sign(texel1.a), 0.0) * blurIntensity;
    gl_FragColor = mix( mix(texel2, texel3, blurMask2), texel1, texel1.a );
}
`,_xe=class extends Vs{constructor(){super(new Vn({vertexShader:yxe,fragmentShader:bxe,uniforms:{inputBuffer:new ze(null),blurredInputBuffer:new ze(null),overlay:new ze(null),uResolution:new ze(new oe),uDPR:new ze(1),blurIntensity:new ze(0)}})),this._blurEnabled=!1,this.blurTarget=new Bn(1,1,{minFilter:qt,magFilter:qt,wrapS:mi,wrapT:mi}),this.blurPass=new jT({width:window.innerWidth,height:window.innerHeight,kernelSize:xw.HUGE,resolutionScale:.25}),this.blurPass.renderToScreen=!1,this.uniforms.blurredInputBuffer.value=this.blurTarget.texture}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.overlay.value}set texture(e){this.uniforms.overlay.value=e}setResolution(e,t,n=1){this.uniforms.uResolution.value.set(e,t).divideScalar(n),this.uniforms.uDPR.value=n,this.blurPass.setSize(e,t),this.blurTarget.setSize(e,t),this.blurPass.setSize(e,t)}get uiCanvas(){return this._uiCanvas}set uiCanvas(e){this._uiCanvas=e,e.texture&&(this.uniforms.overlay.value=e.texture);let t=e.frame;if(t){let n=t.data.backgroundBlur,i=n.radius;this._blurEnabled=n.enabled,this.uniforms.blurIntensity.value=this._blurEnabled?1:0,this.blurPass.scale=i/3}}render(e,t,n,i,r){this._blurEnabled&&(this.blurPass.setDepthTexture(this.getDepthTexture()),this.blurPass.render(e,t,this.blurTarget,i,r)),super.render(e,t,n,i,r)}};function vB(e,t){return t&&t.enabled&&e.push(t.effect),e}var Cxe=e=>Object.values(Pn).includes(e)?e:Pn.NORMAL,Mxe=class extends Jr{constructor(e){super(),this.postprocessingState=LM.defaultData,this._scene=new Qc,this._camera=new Co,this.effects=new Map,this.blueNoiseTexture=new fs,this._renderToScreen=!0,this._isUIOverlayEnabled=!1,this.clock=new xce,this.renderer=e,this.debug=!1,this.effects.set("bloom",new zwe),this.effects.set("chromaticAberration",new Vwe),this.effects.set("vignette",new Gwe),this.effects.set("noise",new Hwe),this.effects.set("colorAverage",new Uwe),this.effects.set("hueSaturation",new jwe),this.effects.set("brightnessContrast",new Bwe),this.effects.set("depthOfField",new Wwe),this.effects.set("pixelation",new qwe),this.effectComposer=new exe(this.renderer),this.effectComposer.autoRenderToScreen=!1,this.opaquePass=new cA(!0,this.scene,this.camera),this.opaquePass.clear=!0,this.transmissionPass=new Kwe(this.scene,this.camera,this.renderer),this.aoPass=new dxe(this.scene,this.camera),this.taaPass=new $we,this.taaPass.renderToScreen=!1,this.helperPass=new nxe(this.camera),this.helperPass.renderToScreen=!1,this.stylesOverlayPass=new pxe,this.stylesOverlayPass.enabled=!1,this.uiOverlayPass=new _xe,this.uiOverlayPass.enabled=!1,this.sceneTransitionPass=new vxe,this.sceneTransitionPass.enabled=!1,this._initCopyPass(),this._initPasses()}set overlayTexture(e){e!==void 0?(this.stylesOverlayPass.texture=e,this.stylesOverlayPass.enabled=!0):this.stylesOverlayPass.enabled=!1}get overlayTexture(){return this.stylesOverlayPass.texture}set sceneHelpers(e){this.helperPass.sceneHelpers=e}get sceneHelpers(){return this.helperPass.sceneHelpers}set sceneHelpersOnTop(e){this.helperPass.sceneHelpersOnTop=e}get sceneHelpersOnTop(){return this.helperPass.sceneHelpersOnTop}get scene(){return this._scene}set scene(e){this._scene=e,this.opaquePass.setScene(e),this.transmissionPass.setScene(e),this.aoPass.setScene(e)}get camera(){return this._camera}set camera(e){let t=this._camera!==e;this._camera=e,this.opaquePass.setCamera(e),this.transmissionPass.setCamera(e),t&&this.transmissionPass.updatePasses(this.renderer),this.aoPass.setCamera(e),this.helperPass.setCamera(e),this.effects.get("depthOfField").setCamera(e)}updateRenderToScreen(){let e=!1;for(let t=this.effectComposer.passes.length-1;t>=0;t--){let n=this.effectComposer.passes[t];if(n.enabled===!0&&!e&&this._renderToScreen){n.renderToScreen=!0,e=!0;continue}n.renderToScreen=!1}}get isUIOverlayEnabled(){return this._isUIOverlayEnabled}disableUIOverlay(){this._isUIOverlayEnabled=!1}enableUIOverlay(){this._isUIOverlayEnabled=!0}disableHelpers(){this.helperPass.enabled=!1,this.updateRenderToScreen()}enableHelpers(){this.helperPass.enabled=!0,this.updateRenderToScreen()}updateBlueNoiseTexture(e){this.blueNoiseTexture=new fs(e,128,128),this.blueNoiseTexture.wrapS=Gc,this.blueNoiseTexture.wrapT=Gc,this.blueNoiseTexture.minFilter=zn,this.blueNoiseTexture.magFilter=zn,this.blueNoiseTexture.needsUpdate=!0}setAmbientOcclusionParams(e,t,n,i,r,o,a,s){this.aoPass.enabled=e,this.aoPass.radius=t,this.aoPass.bias=n,this.aoPass.aoColor=i,this.aoPass.fogEnabled=r,this.aoPass.fogNear=o,this.aoPass.fogFar=a,this.aoPass.runHalfRes!==!s&&(this.aoPass.runHalfRes=!s)}setTransmissionPassEnabled(e){this.transmissionPass.enabled=e,this.opaquePass.hasTransmissionPass=e}_initPasses(){if(this.uvEffectPass?.dispose(),this.effectPass?.dispose(),this.effectComposer.removeAllPasses(),this.transmissionPass.updatePasses(this.renderer),this.effectComposer.addPass(this.aoPass),this.effectComposer.addPass(this.opaquePass),this.effectComposer.addPass(this.transmissionPass),this.effectComposer.addPass(this.taaPass),this.postprocessingState.enabled){let e=[this.effects.get("pixelation")].reduce(vB,[]);e.length>0&&(this.uvEffectPass=new QM(this.camera,...e),this.uvEffectPass.renderToScreen=!1,this.effectComposer.addPass(this.uvEffectPass));let t=[this.effects.get("chromaticAberration"),this.effects.get("bloom"),this.effects.get("depthOfField"),this.effects.get("colorAverage"),this.effects.get("hueSaturation"),this.effects.get("brightnessContrast"),this.effects.get("vignette"),this.effects.get("noise")].reduce(vB,[]);if(t.length>0&&(this.effectPass=new QM(this.camera,...t),this.effectPass.renderToScreen=!1,this.effectComposer.addPass(this.effectPass),this.effects.get("depthOfField")?.enabled&&window!==void 0)){let n=this.renderer.viewportWidth,i=this.renderer.viewportHeight;this.renderer.setSize(n-1,i-1),this.renderer.setSize(n,i)}}this.effectComposer.addPass(this.stylesOverlayPass),this.effectComposer.addPass(this.uiOverlayPass),this.effectComposer.addPass(this.sceneTransitionPass),this.effectComposer.addPass(this.helperPass)}_initCopyPass(){if(this._savePass)return;let e=new oe;this.renderer.getDrawingBufferSize(e),this._rt=new Bn(e.x,e.y,{depthBuffer:!1,stencilBuffer:!1,wrapS:Gc,wrapT:Gc}),this._rt.samples=0,this._savePass=new sA(this._rt,!1),this._savePass.renderToScreen=!1}setCopyPass(e){this._rt=e,this._savePass=new sA(this._rt,!1),this.renderToScreen=!1}get renderToScreen(){return this._renderToScreen}set renderToScreen(e){if(this._renderToScreen===e)return;let t=this.effectComposer;!t||(e===!0?t.removePass(this._savePass):t.addPass(this._savePass),this._renderToScreen=e,this.updateRenderToScreen())}set sceneTransitionFromTexture(e){e!==this.sceneTransitionPass.texture&&(e!==null?this.sceneTransitionPass.enabled=!0:(this.sceneTransitionPass.enabled=!1,this.updateRenderToScreen()),this.sceneTransitionPass.texture=e)}get texture(){return this._rt&&this._rt.texture}get renderTarget(){return this._rt}updatePostprocessing(e){let r=e,{enabled:t}=r,n=wu(r,["enabled"]),i=!1;t!==this.postprocessingState.enabled&&(i=!0);for(let o of Object.entries(n)){let a=o[1],s=this.effects.get(o[0]);if(s){s.enabled!==a.enabled&&(i=!0),s.enabled=a.enabled;for(let[l,c]of Object.entries(a))l==="blendFunction"?s.blendFunction=Cxe(c):s[l]=c}}this.postprocessingState=e,i&&this._initPasses()}render(){this.effectComposer.render(this.clock.getDelta())}setScissor(e,t,n,i){e instanceof Et?(this.effectComposer.inputBuffer.scissor.set(e.x,e.y,e.z,e.w),this.effectComposer.outputBuffer.scissor.set(e.x,e.y,e.z,e.w)):(this.effectComposer.inputBuffer.scissor.set(e,t,n,i),this.effectComposer.outputBuffer.scissor.set(e,t,n,i));let r=this.renderer.getPixelRatio();this.effectComposer.inputBuffer.scissor.multiplyScalar(r),this.effectComposer.outputBuffer.scissor.multiplyScalar(r),this.renderer.setScissor(e,t,n,i)}setScissorTest(e){this.effectComposer.inputBuffer.scissorTest=e,this.effectComposer.outputBuffer.scissorTest=e,this.renderer.setScissorTest(e)}setViewport(e,t,n,i){e instanceof Et?(this.effectComposer.inputBuffer.viewport.copy(e),this.effectComposer.outputBuffer.viewport.copy(e)):(this.effectComposer.inputBuffer.viewport.set(e,t,n,i),this.effectComposer.outputBuffer.viewport.set(e,t,n,i))}resize(e,t,n){if(this.effectComposer.setSize(e,t,n),this._rt){let i=this.renderer.getPixelRatio();this._rt.setSize(e*i,t*i)}}dispose(){this.uvEffectPass?.dispose(),this.effectPass?.dispose(),this.effectComposer.dispose()}},wxe=e=>`

// PCSS implementation based on:
// https://www.gamedev.net/articles/programming/graphics/contact-hardening-soft-shadows-made-fast-r4906/
// NOTE: This number affects how big the shadow blur can
// possibly get. Bigger number == bigger blur, but less precise results

const float  gPenumbraFilterSize = 80.0;
const int   gPenumbraSamples = ${e};
const int gShadowSamples = ${e};
const float gShadowSamplesRpc = 1.0f / float(gShadowSamples);

#ifdef USE_SHADOWMAP
    #if NUM_DIR_LIGHT_SHADOWS > 0

        uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
        varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];

        struct DirectionalLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
        };

        uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];

    #endif

    #if NUM_SPOT_LIGHT_SHADOWS > 0

        uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
        varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_SHADOWS ];

        struct SpotLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
        };

        uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];

    #endif

    #if NUM_POINT_LIGHT_SHADOWS > 0

        uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
        varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];

        struct PointLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
            float shadowCameraNear;
            float shadowCameraFar;
        };

        uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];

    #endif

    /*
    #if NUM_RECT_AREA_LIGHTS > 0

        // TODO (abelnation): create uniforms for area light shadows

    #endif
    */

float computePenumbra(int index, sampler2D shadowMap, float temporalAngle, float texelSize, vec2 uv, float compare, float texelScalar, float shadowRadius)
{
    float penumbra = 1.0;
    float blockerDepthAvg = 0.0;
    float blockerCount = 0.0;

    #pragma unroll_loop_start
    for(int i = 0; i < gPenumbraSamples; i ++)
    {
        vec2 offset = (vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize) * texelScalar;
        float depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) );

        if(depth < compare + 0.0001)
        {
            blockerDepthAvg += depth;
            blockerCount++;
        }
    }
    #pragma unroll_loop_end

    if (blockerCount > 0.0)
    {
        blockerDepthAvg /= blockerCount;

        // Compute penumbra
        penumbra = (compare - blockerDepthAvg) / (blockerDepthAvg);
        penumbra *= penumbra;
        penumbra *= 200.0 * penumbraSize[min(index, 5 - 1)]; // Magic number that affects how quickly the penumbra grows

        return clamp(penumbra, 0.00, 1.0);
    }
    return 0.0;
}

float vogelShadow(int index, sampler2D shadowMap, vec2 uv, float texelSize, float compare, float shadowRadius)
{
    float shadow         = 0.0f;

    // NOTE: When using TAA, we should use screen space interleaved gradient noise
    vec2 halton = haltonSequence[frameIndex];
    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
    float temporalAngle  = temporalOffset * PI2;

    float texelScalar = (gPenumbraFilterSize) / (texelSize * 1024.);
    float penumbra = computePenumbra(index, shadowMap, temporalAngle, texelSize, uv, compare, texelScalar, shadowRadius);
    if (penumbra == -1.0) {
        return 1.0;
    }

    #pragma unroll_loop_start
    for (int i = 0; i < gShadowSamples; i++)
    {
        vec2 vogelSample =  vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;
        // Overall blurring offset
        vec2 offset = vogelSample * (shadowRadius * 2.);

        // Penumbra offset
        offset += vogelSample * (penumbra * texelScalar);

        shadow += step( compare, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );
    }
    #pragma unroll_loop_end

    return shadow * gShadowSamplesRpc;
}


    float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {

        return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );

    }

    vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {

        return unpackRGBATo2Half( texture2D( shadow, uv ) );

    }

    float VSMShadow (sampler2D shadow, vec2 uv, float compare ){

        float occlusion = 1.0;

        vec2 distribution = texture2DDistribution( shadow, uv );

        float hard_shadow = step( compare , distribution.x ); // Hard Shadow

        if (hard_shadow != 1.0 ) {

            float distance = compare - distribution.x ;
            float variance = max( 0.00000, distribution.y * distribution.y );
            float softness_probability = variance / (variance + distance * distance ); // Chebeyshevs inequality
            softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 ); // 0.3 reduces light bleed
            occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );

        }
        return occlusion;

    }

    float getShadow( int i, sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {

        float shadow = 1.0;

        shadowCoord.xyz /= shadowCoord.w;
        shadowCoord.z += shadowBias;

        // if ( something && something ) breaks ATI OpenGL shader compiler
        // if ( all( something, something ) ) using this instead

        bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
        bool inFrustum = all( inFrustumVec );

        bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );

        bool frustumTest = all( frustumTestVec );

        if ( frustumTest ) {

        #if defined( SHADOWMAP_TYPE_PCF )

            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
            return vogelShadow(i, shadowMap, shadowCoord.xy, texelSize.x, shadowCoord.z, shadowRadius );

        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )

            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
            float dx = texelSize.x;
            float dy = texelSize.y;

            vec2 uv = shadowCoord.xy;
            vec2 f = fract( uv * shadowMapSize + 0.5 );
            uv -= f * texelSize;

            shadow = (
                texture2DCompare( shadowMap, uv, shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
                mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
                     f.x ) +
                mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
                     f.x ) +
                mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
                     f.y ) +
                mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
                     f.y ) +
                mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
                          f.x ),
                     mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
                          f.x ),
                     f.y )
            ) * ( 1.0 / 9.0 );

        #elif defined( SHADOWMAP_TYPE_VSM )

            shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );

        #else // no percentage-closer filtering:

            shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );

        #endif

        }

        return shadow;

    }

    // cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D
    // vector suitable for 2D texture mapping. This code uses the following layout for the
    // 2D texture:
    //
    // xzXZ
    //  y Y
    //
    // Y - Positive y direction
    // y - Negative y direction
    // X - Positive x direction
    // x - Negative x direction
    // Z - Positive z direction
    // z - Negative z direction
    //
    // Source and test bed:
    // https://gist.github.com/tschw/da10c43c467ce8afd0c4

    vec2 cubeToUV( vec3 v, float texelSizeY ) {

        // Number of texels to avoid at the edge of each square

        vec3 absV = abs( v );

        // Intersect unit cube

        float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
        absV *= scaleToCube;

        // Apply scale to avoid seams

        // two texels less per square (one texel will do for NEAREST)
        v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );

        // Unwrap

        // space: -1 ... 1 range for each square
        //
        // #X##         dim    := ( 4 , 2 )
        //  # #         center := ( 1 , 1 )

        vec2 planar = v.xy;

        float almostATexel = 1.5 * texelSizeY;
        float almostOne = 1.0 - almostATexel;

        if ( absV.z >= almostOne ) {

            if ( v.z > 0.0 )
                planar.x = 4.0 - v.x;

        } else if ( absV.x >= almostOne ) {

            float signX = sign( v.x );
            planar.x = v.z * signX + 2.0 * signX;

        } else if ( absV.y >= almostOne ) {

            float signY = sign( v.y );
            planar.x = v.x + 2.0 * signY + 2.0;
            planar.y = v.z * signY - 2.0;

        }

        // Transform to UV space

        // scale := 0.5 / dim
        // translate := ( center + 0.5 ) / dim
        return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );

    }

    float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {

        float shadow = 1.0;
        vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );

        // for point lights, the uniform @vShadowCoord is re-purposed to hold
        // the vector from the light to the world-space position of the fragment.
        vec3 lightToPosition = shadowCoord.xyz;

        // dp = normalized distance from light to fragment position
        float compare = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?
        compare += shadowBias;

        // bd3D = base direction 3D
        vec3 bd3D = normalize( lightToPosition );

        vec2 halton = haltonSequence[frameIndex];
        float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
        float temporalAngle  = temporalOffset * PI2;

        #if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_VSM )
            for (int i = 0; i < gShadowSamples; i++) {
                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;

                // Overall blurring offset
                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);

                // NOTE: Removed for now
                // Penumbra offset
                //offset += vec3(vogelSample.x, vogelSample.y, vogelSample.y)  * (penumbra * gPenumbraFilterSize);

                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );

            }
            return shadow * gShadowSamplesRpc;

        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )
            for (int i = 0; i < 16; i++) {
                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;

                // Overall blurring offset
                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);

                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );

            }
            return shadow * (1.0 / 16.0);
        #else // no percentage-closer filtering

            return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), compare );

        #endif

    }

#endif
`,xxe=Wt.lights_fragment_begin,Pxe=Wt.shadowmask_pars_fragment,yB=null,Oxe=e=>{switch(e){case"low":return 8;case"medium":return 16;case"high":return 32;default:return 16}},Sxe=(e="medium")=>{if(yB===e)return!1;yB=e;let t=Oxe(e);Wt.shadowmap_pars_fragment=wxe(t);let n=xxe.slice();n=n.replace("getShadow( spotShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX + 3, spotShadowMap[ i ]"),n=n.replace("getShadow( directionalShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX, directionalShadowMap[ i ]"),Wt.lights_fragment_begin=n;let i=Pxe.slice();return i=i.replaceAll("getShadow(","getShadow( UNROLLED_LOOP_INDEX, "),Wt.shadowmask_pars_fragment=i,!0},Exe=`
attribute vec3 randomColor;
varying vec3 vNormal;
flat out vec3 vColor;
#include <skinning_pars_vertex>

void main()
{
#include <beginnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
vec3 transformed = vec3(position);
#include <skinning_vertex>

vNormal = normal;
vColor = randomColor;
gl_Position = projectionMatrix * (modelViewMatrix * vec4(transformed, 1.0));
}
`,Dxe=`
uniform float depthContrast;
varying vec3 vNormal;
flat in vec3 vColor;
void main()
{
vec3 normal = (normalize(vNormal)).rgb;

float contrastDepth = (gl_FragCoord.z - 0.5) * depthContrast + 0.5;

vec3 resultColor = mix(mix(vColor, normal, 0.2), vec3(contrastDepth), 0.4);
gl_FragColor = vec4(resultColor, vColor.r);
gl_FragColor = vec4(resultColor, vColor.r);
}
`,i3=new Vn({vertexShader:Exe,fragmentShader:Dxe,uniforms:{depthContrast:{value:1}}}),bB=new wi,Axe=class extends oV{constructor(e){super(e),this._pixelRatio=this.getPixelRatio(),this.viewportWidth=1,this.viewportHeight=1,this.resolution=new oe,this.pipeline=new Mxe(this),this.dummyCamera=new Co,this.sceneTransitionDuration=0,this.sceneTransitionTimeRemaining=-1,this.isXRCopyPassSet=!1,this.clear=(r=!0,o=!0,a=!0)=>{let s=this.getContext(),l=0;r&&(l|=s.COLOR_BUFFER_BIT),o&&(l|=s.DEPTH_BUFFER_BIT),a&&(l|=s.STENCIL_BUFFER_BIT),s.clear(l),s.clearBufferfv(s.COLOR,1,[0,0,0,1])},this.autoClear=!1;let t=this.setPixelRatio.bind(this),n=this.setSize.bind(this);this.shadowMap.enabled=!0,this.shadowMap.type=EA,this.dummyCamera.matrixAutoUpdate=!1,this.domElement.removeAttribute("data-engine");let i=this.getContext();if(i&&"drawingBufferColorSpace"in i)try{i.drawingBufferColorSpace="display-p3"}catch(r){console.warn(r)}this.setPixelRatio=r=>{this._pixelRatio!==r&&(this._pixelRatio=r,t(r))},this.setSize=(r,o,a=!0)=>{(this.viewportWidth!==r||this.viewportHeight!==o)&&(this.viewportWidth=r,this.viewportHeight=o,n(r,o,a),this.normalRenderTarget?.setSize(r*this._pixelRatio,o*this._pixelRatio),this._resizeTransmission(r,o),this.transmissionDepthTarget?.setSize(r*this._pixelRatio/2,o*this._pixelRatio/2),this.pipeline.resize(r,o,a))},this._superDispose=this.dispose,this.dispose=this._currentDispose}createAORenderTarget(){this.aoRenderTarget===void 0&&(this.aoRenderTarget=new Bn(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:qt,magFilter:qt,wrapS:mi,wrapT:mi,depthBuffer:!1}))}_resizeTransmission(e,t){this.transmissionRenderTarget?.setSize(e*this._pixelRatio/(this.hdTransmission?1:2),t*this._pixelRatio/(this.hdTransmission?1:2)),this.aoRenderTarget?.setSize(e*this._pixelRatio/1,t*this._pixelRatio/1)}get hdTransmission(){return Mt.transmissionLod.value===1}set hdTransmission(e){Mt.transmissionLod.value=e===!0?1:2,this._resizeTransmission(this.viewportWidth,this.viewportHeight)}createTransmissionRenderTarget(){this.transmissionRenderTarget===void 0&&(this.transmissionRenderTarget=new Bn(this.viewportWidth*this._pixelRatio/(this.hdTransmission?1:2),this.viewportHeight*this._pixelRatio/(this.hdTransmission?1:2),{generateMipmaps:!0,minFilter:Lf,magFilter:qt,wrapS:mi,wrapT:mi,depthBuffer:!1}),this.transmissionDepthTarget=new Bn(this.viewportWidth*this._pixelRatio/2,this.viewportHeight*this._pixelRatio/2,{minFilter:zn,magFilter:zn,depthBuffer:!1}))}createNormalRenderTarget(){this.normalRenderTarget===void 0&&(this.normalRenderTarget=new Bn(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:zn,magFilter:zn,type:Ki,depthTexture:new Ff(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio)}))}renderNormal(e,t,n){this.normalRenderTarget&&(this.setClearColor(0),n.layers.enable(8),n.layers.disable(0),n.layers.disable(3),t.traverseEntity(i=>{i.layers.isEnabled(8)&&(i.copyPreviousMatrix=!1)}),this.setRenderTarget(this.normalRenderTarget),this.clear(),n instanceof Co?i3.uniforms.depthContrast.value=(n.far-n.near)/1e4:i3.uniforms.depthContrast.value=1,t.overrideMaterial=i3,this.render(t,n),this.setClearColor(t.bgColor,t.bgColor.a),this.setRenderTarget(null),t.overrideMaterial=e.wireframeState?gA:null,n.layers.enable(0),n.layers.enable(3),t.traverseEntity(i=>{i.layers.isEnabled(8)&&(i.copyPreviousMatrix=!0)}))}renderSplineSceneWithDummyCamera(e,t,n=1){this.dummyCamera.updateCameraState(t.dataPatched),this.dummyCamera.matrix.copy(t.matrixWorld);let i=t.height,r=t.width,o=this.viewportWidth/this.viewportHeight;r<i?r=i*o:i=r/o,this.dummyCamera.setViewplaneSize(r,i);for(let a=0;a<n;a++)this.renderSplineScene(e,this.dummyCamera)}renderSplineScene(e,t,{sceneHelpers:n=void 0,sceneHelpersOnTop:i=void 0,overrideTransmission:r=void 0,overrideNormal:o=void 0}={}){let a=e instanceof QT?e.activePage:e,s=a.visible;a.visible=!0;let l=a.scene;this.xr.enabled&&(this.isXRCopyPassSet===!1&&this.getRenderTarget()!==null&&(this.pipeline.setCopyPass(this.getRenderTarget()),this.isXRCopyPassSet=!0),this.xr.updateCamera(t)),this.setClearColor(a.bgColor,a.bgColor.a),a.penumbraSizeArray.forEach((h,p)=>{Mt.penumbraSize.value[p]=h}),Mt.pixelRatioNode.value=this.getPixelRatio(),this.resolution.x!==0&&this.resolution.y!==0?Mt.resolution.value.set(this.resolution.x,this.resolution.y):Mt.resolution.value.set(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio),o!==void 0?(Mt.normalRenderTarget.value=o,Mt.normalRenderTargetDepth.value=bB):l.needsNormal()&&(this.createNormalRenderTarget(),Mt.normalRenderTarget.value=this.normalRenderTarget.texture,Mt.normalRenderTargetDepth.value=this.normalRenderTarget.depthTexture,this.renderNormal(l,a,t));let c=a.data.ao,d=c.occlusion;d&&(this.createAORenderTarget(),Mt.aoRenderTarget.value=this.aoRenderTarget.texture),Mt.aoEnabled.value=d,this.pipeline.setAmbientOcclusionParams(c.occlusion,c.radius,c.bias,a.aoColor,a.fog!==null,a.backupFog.near,a.backupFog.far,c.aoFullRes),this.pipeline.aoPass.setBlueNoiseTexture(this.pipeline.blueNoiseTexture),this.pipeline.isUIOverlayEnabled&&a.uiCanvas?.enabled&&a.uiCanvas.texture&&a.uiCanvas.texture.image.width>0?((a.uiCanvas.width!==this.viewportWidth||a.uiCanvas.height!==this.viewportHeight)&&a.uiCanvas.applySize({width:this.viewportWidth,height:this.viewportHeight}),a.uiCanvas.render(),this.pipeline.uiOverlayPass.uiCanvas=a.uiCanvas,this.pipeline.uiOverlayPass.enabled=!0,this.pipeline.uiOverlayPass.setResolution(this.domElement.width,this.domElement.height,window.devicePixelRatio),this.pipeline.updateRenderToScreen()):(this.pipeline.uiOverlayPass.enabled=!1,this.pipeline.updateRenderToScreen());let u=!1;if(r!==void 0)Mt.transmissionRenderTarget.value=r,Mt.transmissionRenderTargetDepth.value=bB,this.pipeline.setTransmissionPassEnabled(!1);else{let h=l.needsTransmission();h&&(this.transmissionRenderTarget===void 0&&(u=!0),this.createTransmissionRenderTarget(),Mt.transmissionRenderTarget.value=this.transmissionRenderTarget.texture,Mt.aspectRatio.value=k_e(this.viewportWidth,this.viewportHeight),Mt.transmissionRenderTargetDepth.value=this.transmissionDepthTarget.texture),this.pipeline.setTransmissionPassEnabled(h)}t.layers.enable(3),t.layers.enable(8),this.pipeline.sceneHelpers=n,this.pipeline.sceneHelpersOnTop=i,this.pipeline.scene=a,this.pipeline.camera=t,u&&this.pipeline.transmissionPass.updatePasses(this),this.pipeline.postprocessingState!==a.postprocessing&&(this.pipeline.updatePostprocessing(a.postprocessing),!n&&!i&&this.pipeline.disableHelpers()),this.clearAlphaOverride!==void 0&&this.setClearAlpha(this.clearAlphaOverride),a.overrideMaterial=l.wireframeState?gA:null,this.pipeline.render(),Mt.frameIndex.value=(Mt.frameIndex.value+1)%16,t instanceof Co&&t.copyHistory(),a.visible=s}renderFromSceneForSceneTransitionPass(e,t,n){this.pipeline.renderToScreen=!1,this.pipeline.renderTarget,this.renderSplineScene(e,t),this.pipeline.sceneTransitionFromTexture=this.pipeline.renderTarget.texture,this.sceneTransitionDuration=n,this.sceneTransitionTimeRemaining=n,this.pipeline.renderToScreen=!0;let i=this.pipeline.sceneTransitionPass.uniforms;i.uDPR.value=window.devicePixelRatio,i.uResolution.value.set(this.domElement.width,this.domElement.height).divideScalar(window.devicePixelRatio)}_currentDispose(){this._superDispose(),this.pipeline.dispose(),this.aoRenderTarget?.dispose(),this.transmissionRenderTarget?.dispose(),this.transmissionDepthTarget?.dispose(),this.normalRenderTarget?.dispose(),this.normalRenderTarget?.depthTexture?.dispose()}},MH=class extends Py(Vce){constructor(e,t=15,n=10066329){super(e,t,n),this.object=e,this.added=!1,this.name=`DirectionalLightHelper: ${e.uuid}`}raycast(e,t){Oy(this.object,MH.geometryHelper,e,t)}},wH=class extends Py(Bce){constructor(e,t=15,n=6710886){super(e,t,n),this.object=e,this.name=`PointLightHelper: ${e.uuid}`}raycast(e,t){Oy(this.object,wH.geometryHelper,e,t)}},dA=class extends Py(zce){constructor(e,t=6710886){super(e,t),this.object=e,this.name=`SpotLightHelper: ${e.uuid}`}raycast(e,t){Oy(this.object,dA.geometryHelper,e,t)}update(){if(this.object!==void 0){let e=dA._vector,t=this.object.distance?this.object.distance:1e3,n=t*Math.tan(this.object.angle);this.cone.scale.set(n,n,t),e.setFromMatrixPosition(this.object.target.matrixWorld),this.cone.lookAt(e);let i=this.color!==void 0?this.color:this.light.color;if(this.cone.material instanceof Array)for(let r=0,o=this.cone.material.length;r<o;r++)this.cone.material[r].color.set(i);else this.cone.material.color.set(i)}}},xH=dA;xH._vector=new L;function Txe(e,t){e.shadow.camera.right=t/2,e.shadow.camera.left=-t/2,e.shadow.camera.top=t/2,e.shadow.camera.bottom=-t/2,e.shadow.needsUpdate=!0}var PH=class extends VT(wce,MH){constructor(e,t,n){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=2048,this.shadow.mapSize.height=2048,this.shadow.normalBias=1,this.layers.enable(3);let i=this.shadow.camera;i.top=1250,i.bottom=-1250,i.right=1250,i.left=-1250,i.near=-1e4,i.far=2500;let r=new pM(this.shadow.camera);r.visible=!1,this.gizmos.shadowmap=r}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof pM&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t);let n=e.depth!==void 0&&e.depth!==this.shadow.camera.far||e.size!==void 0&&e.size/2!==this.shadow.camera.right;e.size!==void 0&&Txe(this,e.size),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null)),e.penumbraSize!==void 0&&t.scene.markPenumbraSizeDirty(),n&&this.update()}},_B=new L,CB=new L,MB=new Dt,OH=class extends VT(bce,xH){constructor(e,t,n){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let i=this.shadow.camera;i.fov=et.RAD2DEG*2*this.angle,i.aspect=1,i.near=100,i.far=2500;let r=new pM(this.shadow.camera);r.visible=!1,this.gizmos.shadowmap=r,this.update()}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof pM&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),CB.setFromMatrixPosition(this.matrixWorld),MB.setFromRotationMatrix(this.matrixWorld),_B.copy(this.up).applyQuaternion(MB).negate().multiplyScalar(this.distance),this.target.position.copy(CB).add(_B),this.target.updateMatrixWorld(),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),e.distance!==void 0&&(this.distance=e.distance),e.decay!==void 0&&(this.decay=e.decay),e.angle!==void 0&&(this.angle=e.angle),e.penumbra!==void 0&&(this.penumbra=e.penumbra),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.penumbraSize!==void 0&&t.scene.markPenumbraSizeDirty(),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}};function Ixe(e){let t=(e[0][0]+e[1][1])/2,n=(e[0][0]-e[1][1])/2,i=(e[1][0]+e[0][1])/2,r=(e[1][0]-e[0][1])/2,o=Math.sqrt(t*t+r*r),a=Math.sqrt(n*n+i*i),s=o+a,l=o-a,c=Math.atan2(i,n),d=Math.atan2(r,t),u=(d-c)/2,h=(d+c)/2,p=[[Math.cos(h),Math.sin(h)],[-Math.sin(h),Math.cos(h)]],m=[[s,0],[0,l]],g=[[Math.cos(u),Math.sin(u)],[-Math.sin(u),Math.cos(u)]];return p[0][0]*=-1,p[0][1]*=-1,g[0][0]*=-1,g[1][0]*=-1,[p,m,g]}function XC(e,t){return[[e[0][0]*t[0][0]+e[0][1]*t[1][0],e[0][0]*t[0][1]+e[0][1]*t[1][1]],[e[1][0]*t[0][0]+e[1][1]*t[1][0],e[1][0]*t[0][1]+e[1][1]*t[1][1]]]}function wB(e){return[[e[0][0],e[1][0]],[e[0][1],e[1][1]]]}function Rxe(e){let[t,n,i]=Ixe(e),r=XC(t,wB(i)),o=XC(XC(i,n),wB(i)),a=Math.atan2(r[1][0],r[0][0]),s=[o[0][0],o[1][1]],l=[o[0][1]/o[1][1],o[1][0]/o[0][0]];return{rotation:a,scale:s,shear:l}}function Lxe({rotation:e,scale:t,shear:n}){let i=Math.cos(e),r=Math.sin(e),o=[[i,-r],[r,i]],a=[[t[0],n[0]*t[1]],[n[1]*t[0],t[1]]],s=XC(o,a);return[s[0][0],s[1][0],s[0][1],s[1][1]]}var Qn;(e=>{function t(){return[1,0,0,0,1,0,0,0,1]}e.identity=t;function n(x,E=e.identity()){for(let O=0,S=x.length;O<S;O++)E[O]=x[O];return E}e.copy=n;function i(x,E,O,S,D,I){return e.setAbcdef(e.identity(),x,E,O,S,D,I)}e.create=i;function r(x,E,O,S,D,I,T){return x[0]=E,x[1]=S,x[2]=I,x[3]=O,x[4]=D,x[5]=T,x}e.setAbcdef=r;function o(x,E){let[O,S,D,I,T,R]=s(x),[k,z,W,N,F,X]=s(E),V=k*O+z*D,G=k*S+z*I,Y=W*O+N*D,ie=W*S+N*I,te=F*O+X*D+T,ne=F*S+X*I+R;return e.create(V,G,Y,ie,te,ne)}e.append=o;function a(x,E){let[O,S,D,I,T,R]=s(x),[k,z,W,N,F,X]=s(E),V=O,G=S,Y=D,ie=I;(k!==1||z!==0||W!==0||N!==1)&&(V=O*k+S*W,G=O*z+S*N,Y=D*k+I*W,ie=D*z+I*N);let te=T*k+R*W+F,ne=T*z+R*N+X;return e.create(V,G,Y,ie,te,ne)}e.prepend=a;function s(x){return[x[0],x[3],x[1],x[4],x[2],x[5]]}e.getAbcdef=s;function l(x){let[E,O,S,D,I,T]=e.getAbcdef(x),R=E*D-O*S,k=D/R,z=-O/R,W=-S/R,N=E/R,F=(S*T-D*I)/R,X=-(E*T-O*I)/R;return e.create(k,z,W,N,F,X)}e.invert=l;function c([x,E],O){let[S,D,I,T,R,k]=e.getAbcdef(O);return[S*x+I*E+R,D*x+T*E+k]}e.apply=c;function d(x,E){let[O,S,D,I,T,R]=e.getAbcdef(E),k=1/(O*I+D*-S),[z,W]=x;return[I*k*z+-D*k*W+(R*D-T*I)*k,O*k*W+-S*k*z+(-R*O+T*S)*k]}e.applyInverse=d;function u(x,E,O=E){let[S,D,I,T,R,k]=e.getAbcdef(x);return e.setAbcdef(x,S*E,D*O,I*E,T*O,R*E,k*O),x}e.scale=u;function h(x,E){let O=Math.cos(E),S=Math.sin(E),[D,I,T,R,k,z]=e.getAbcdef(x);return e.setAbcdef(x,D*O-I*S,D*S+I*O,T*O-R*S,T*S+R*O,k*O-z*S,k*S+z*O),x}e.rotate=h;function p(x,E,O){let[S,D]=O,I=e.translate(x,-S,-D);return I=e.rotate(I,E),I=e.translate(I,S,D),I}e.rotateAround=p;function m(x,E,O){let[S,D,I,T,R,k]=e.getAbcdef(x);return e.setAbcdef(x,S,D,I,T,R+E,k+O),x}e.translate=m;function g(x,E,O){let[S,D,I,T]=e.getAbcdef(x);return e.setAbcdef(x,S,D,I,T,E,O),x}e.setTranslate=g;function v(x,E,O){let[S,D,I,T]=e.getAbcdef(x);return e.setAbcdef(x,S,D,I,T,E,O),x}e.setPosition=v;function b(x){let[E,O,S,D]=e.getAbcdef(x),I=Math.sqrt(E*E+O*O),T=Math.sqrt(S*S+D*D);return[I,T]}e.getScale=b;function _(x){let[,,,,E,O]=e.getAbcdef(x);return[E,O]}e.getPosition=_;function C(x,E){return e.decompose(x,E).rotation}e.getRotation=C;function M(x,E){let[O,S,D,I,T,R]=e.getAbcdef(x),{rotation:k,scale:z,shear:W}=Rxe([[O,D],[S,I]]);return{position:[T+(E[0]*O+E[1]*D)-E[0],R+(E[0]*S+E[1]*I)-E[1]],scale:z,rotation:k,shear:W,pivot:E}}e.decompose=M;function P(x,E,O,S,D=[0,0]){let[I,T]=x,[R,k]=S,[z,W,N,F]=Lxe({rotation:O,scale:E,shear:D}),X=I-(R*z+k*N)+R,V=T-(R*W+k*F)+k;return e.create(z,W,N,F,X,V)}e.compose=P})(Qn||(Qn={}));var kxe=Math.PI/180,tke=180/Math.PI;function Fxe(e,t,n,i,r,o){let a=e-n,s=t-i;return a*a/(r*r)+s*s/(o*o)<=1}function Nxe(e){return e*kxe}function zxe(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map(function(r){r(n)}),(i=e.get("*"))&&i.slice().map(function(r){r(t,n)})}}}var Lr=class{constructor(e,t,n){this.uuid=e,this.data=t,this.localMatrix=Qn.identity(),this.worldMatrix=Qn.identity(),this.ignoreCameraZoom=!1,this.visible=!0,this._singleBBox=new uA,this._recursiveBBox=new uA,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this.stateSelection=null,this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this.name="",this.position=[0,0],this.scale=[1,1],this.rotation=0,this.shear=[0,0],this.emitter=zxe(),this.dpr=n.dpr??1,this.dataPatched=t}project(e,t){let n=this.worldMatrix;return t&&(n=Qn.append(t.worldMatrix,n)),Qn.applyInverse(e,n)}intersects(e,t,n,i=!1){return this.visible&&!this.data.raycastLock&&this.intersectsInLocalSpace(...this.project([e,t],n),i)}intersectsInLocalSpace(e,t,n=!1){let{min:i,max:r}=n?this.recursiveBBox:this.singleBBox;return e>=i[0]&&e<=r[0]&&t>=i[1]&&t<=r[1]}applyTransforms(e){e.setTransform(this.worldMatrix,this.ignoreCameraZoom)}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges()),this._recursiveBBox}updateLocalMatrix(){this.localMatrix=Qn.compose(this.position,this.scale,Nxe(this.rotation),Qh.getPivot(this.dataPatched),this.shear)}updateWorldMatrix(e,t,n){let i=this.parent;t&&i!==null&&i!==void 0&&i.updateWorldMatrix(e,!0,!1),e&&this.updateLocalMatrix(),this.parent?this.worldMatrix=Qn.append(this.parent.worldMatrix,this.localMatrix):this.worldMatrix=Qn.copy(this.localMatrix),this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}get pivot(){return Qh.getPivot(this.data)}getCenter(){return[0,0]}getHalfSize(){return[0,0]}get id(){return this.uuid}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors(e=>{e.resetBBoxNeedsUpdateSelf()})}updateTransformState(e){let t=!1;e.position!==void 0&&(t=!0,this.position=e.position),e.rotation!==void 0&&(t=!0,this.rotation=e.rotation),e.scale!==void 0&&(t=!0,this.scale=e.scale),e.shear!==void 0&&(t=!0,this.shear=e.shear),t&&(this.updateWorldMatrix(!0,!1,!0),this.resetBBoxNeedsUpdate())}updateByOp(e,t,n){e.type===0&&e.props.visible!==void 0&&(this.visible=e.props.visible),this.data=t,this.data=t;let i=e,r=ii(e.path,["states","*"]);if(r!==null){if(e.type===0){let[a]=r;if(this?.stateSelection===a){let s=B({},e.props);if(delete s.name,Object.values(e.props).some(l=>l===void 0)){let l=this.data;if(l!==void 0){let c=Qr.zoom(l,e.path.slice(2));if(c)for(let d in e.props)e.props[d]===void 0&&d in c&&(s[d]=c[d])}}i=se(B({},e),{props:s,path:e.path.slice(2)})}}}else if(e.type===0){let a=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(a!==void 0){if(e.props.name!==void 0&&a.name){let o=a,{name:l}=o;a=wu(o,["name"])}let s=Qr.removeOverridden(e.path,e.props,a);i=se(B({},e),{props:s})}}this.updateByPatchedOpBase(i,Vh.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),n)}changeSelectedState(e,t,n=!1){if(!(this.data.states.length===0&&!n)){for(let i of this.data.states)Vh.toOps(this.data,i.data).forEach(r=>{let o=xM.replaceProps(r,this.data);this.dataPatched=this.data,this.updateByPatchedOp(o,this.data,t)});if(e!==null){let i=this.data.states.data(e);i&&(this.dataPatched=Vh.patch(this.data,i),Vh.toOps(this.data,i).forEach(r=>{this.updateByPatchedOp(r,this.dataPatched,t)}))}n&&this.updateTransformState(this.dataPatched),this.stateSelection=e}}updateState(e,t){e.name!==void 0&&(this.name=e.name),e.visible!==void 0&&(this.visible=e.visible),this.updateTransformState(e)}updateByPatchedOpBase(e,t,n){this.dataPatched=t,this.updateByPatchedOp(e,t,n)}updateByPatchedOp(e,t,n){e.path.length===0&&e.type===0&&this.updateState(e.props,n),this.requestRender()}traverseFrameAncestors(e){this.traverseAncestors(t=>{t.data.type==="frame2d"&&e(t)})}traverseAncestors(e){let t=this.parent;for(;t;)e(t),t=t.parent}requestRender(){this.traverseFrameAncestors(e=>{e.requestRender()})}clone(e){let t=new Lr(this.uuid,this.data,e);return t.parent=void 0,t}addEventListener(e,t){this.emitter.on(e,t)}removeEventListener(e,t){this.emitter.off(e,t)}dispatchEvent(e){this.emitter.emit(e.type,se(B({},e),{target:e.target??this}))}traverseSortNextHelper(){let e=this.parent;if(e){let t=e.children;if(t){let n=t.indexOf(this)+1;return t[n]?t[n]:e.traverseSortNextHelper()}}}sortNext(){let e=this.children;return e&&e.length>0&&e[0]?e[0]:this.traverseSortNextHelper()}isDescendantOf(e){e instanceof Lr&&(e=e.uuid);let t=this;for(;t.parent;){if(t.parent.uuid===e)return!0;t=t.parent}return!1}},Ul=class extends Lr{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.context=n,this.children=[]}add(e){e.parent&&e.parent instanceof Ul&&e.parent.remove(e),this.children.push(e),e.parent=this}remove(e){let t=this.children.indexOf(e);t>=0&&(this.children.splice(t,1),e.parent=void 0)}traverse(e){let t=e(this);if(t!==!0)for(let n of this.children)n instanceof Ul?n.traverse(e):t=e(n)}intersectsChildren(e,t,n,i=!1,r=[],o=!1){for(let a of this.children){let s=a instanceof td;if(a instanceof Ul&&!s&&o&&a.intersectsChildren(e,t,n,i,r,!1),a.intersects(e,t,n,s)&&(r.push(a),i))break}return r}updateWorldMatrix(e,t,n){if(super.updateWorldMatrix(e,t,n),n&&this.children)for(let i of this.children)i.updateWorldMatrix(e,!1,!0)}find(e){let t;return this.traverse(n=>{n.uuid===e&&(t=n)}),t}innerDrawChildren(e){for(let t=this.children.length-1;t>=0;t--)this.children[t].draw(e)}resetBBoxNeedsUpdate(){super.resetBBoxNeedsUpdate(),this.traverse(e=>{e.resetBBoxNeedsUpdateSelf()})}clone(e){let t=new Ul(this.uuid,this.data,e);t.parent=void 0;for(let n of this.children)t.add(n.clone(e));return t}},td=class extends Ul{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.updateState(t,n)}draw(e){!this.visible||(e.save(),this.applyTransforms(e),this.innerDrawChildren(e),e.restore())}clone(e){let t=new td(this.uuid,this.data,e);t.parent=void 0;for(let n of this.children)t.add(n.clone(e));return t}};function Bxe(e,t){let[[n,i],[r,o]]=e,[[a,s],[l,c]]=t,d=(n-r)*(s-c)-(i-o)*(a-l);if(d===0)return!1;let u=((n-a)*(s-c)-(i-s)*(a-l))/d,h=-((n-r)*(i-s)-(i-o)*(n-a))/d;return u>=0&&u<=1&&h>=0&&h<=1}var SH=[[-1,1],[-1,-1],[1,-1],[1,1]],xB=(e,t,n)=>{let i=e.getCenter(),r=e.getHalfSize(),o=Qn.append(t,e.worldMatrix);r[0]===0&&r[1]===0?n.push(Qn.apply(i,o)):SH.forEach(a=>{let s=[a[0]*r[0]+i[0],a[1]*r[1]+i[1]];n.push(Qn.apply(s,o))})},uA=class{constructor(){this.matrix=Qn.identity(),this.min=[1/0,1/0],this.max=[-1/0,-1/0],this.vertices=[],this.edges=[]}setFromObjectSize(e,t=!1){e.updateWorldMatrix(),this.makeEmpty(),Qn.copy(e.worldMatrix,this.matrix);let n=Qn.invert(e.worldMatrix);this.expandByObjectSize(e,n,t)}expandByObjectSize(e,t,n=!1){let i=[];n===!0&&e instanceof Ul?e.traverse(r=>{r.visible&&xB(r,t,i)}):xB(e,t,i),this.setFromPoints(i)}getCenter(){let[e,t]=this.min,[n,i]=this.getHalfSize();return Qn.apply([e+n,t+i],this.matrix)}getSize(){return[this.max[0]-this.min[0],this.max[1]-this.min[1]]}getHalfSize(){return[(this.max[0]-this.min[0])*.5,(this.max[1]-this.min[1])*.5]}makeEmpty(){this.min=[1/0,1/0],this.max=[-1/0,-1/0]}setFromPoints(e){this.makeEmpty();for(let t of e)this.expandByPoint(t)}expandByPoint(e){this.min=[Math.min(this.min[0],e[0]),Math.min(this.min[1],e[1])],this.max=[Math.max(this.max[0],e[0]),Math.max(this.max[1],e[1])]}computeVertices(){let[e,t]=this.getHalfSize(),n=this.getCenter(),[i,r,o,a]=Qn.getAbcdef(this.matrix),s=Qn.create(i,r,o,a,n[0],n[1]);this.vertices=SH.map(([l,c])=>Qn.apply([l*e,c*t],s))}computeEdges(){this.edges=[];for(let e=0,t=this.vertices.length;e<t;++e)this.edges.push([this.vertices[e],this.vertices[(e+1)%t]])}project(e,t){let n=this.matrix;return t&&(n=Qn.append(t.worldMatrix,n)),Qn.applyInverse(e,n)}intersects(e,t,n){return this.intersectsInLocalSpace(...this.project([e,t],n))}intersectsInLocalSpace(e,t){let{min:n,max:i}=this;return e>=n[0]&&e<=i[0]&&t>=n[1]&&t<=i[1]}containsPoint(e){let[t,n]=e,[i,r]=this.min,[o,a]=this.max;return t>=i&&t<=o&&n>=r&&n<=a}intersectsBBox2D(e){for(let t=0,n=this.edges.length;t<n;t++){let i=this.edges[t];for(let r=0,o=e.edges.length;r<o;r++){let a=e.edges[r];if(Bxe(i,a))return!0}}for(let t=0,n=e.vertices.length;t<n;t++){let i=e.vertices[t];if(this.containsPoint(i))return!0}return!1}ensureMinMax(){let e=this.min,t=this.max;this.min=[Math.min(e[0],t[0]),Math.min(e[1],t[1])],this.max=[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}copy(e){this.min=[...e.min],this.max=[...e.max],Qn.copy(e.matrix,this.matrix),this.computeVertices(),this.computeEdges()}clone(){let e=new uA;return e.copy(this),e}},EH,Vxe=new Promise(e=>{EH=e}),PB=!1,DC;function Uxe(){if(PB)return;if(DC)return DC;function e(){return ri(this,null,function*(){let t=yield import("./chunk-BPVWBWAE.js");EH(t.default??t),PB=!0})}return DC=e(),DC}function OB(e){let t=!1;return e.scene.objects.traverse((n,i)=>{(i.type==="Mesh"&&i.geometry.type==="UIGeometry"||i.type==="Page"&&i.uiFrame!==void 0)&&(t=!0)}),t}var Rt,r3;function jxe(e){return ri(this,null,function*(){let t=yield Vxe;Rt||(r3||(r3=t({locateFile:()=>e})),Rt=yield r3)})}var SB=Qn.identity(),EB=class{constructor(e,t=1){this.canvas=e,this.dpr=t,this._width=0,this._height=0,this._strokeMode="inside",this._layerBlur=0,this._backgroundBlur=0,this._dropShadowBlur=0,this._dropShadowOffsetX=0,this._dropShadowOffsetY=0,this._dropShadowColor=$n.transparent,this._innerShadowBlur=0,this._innerShadowOffsetX=0,this._innerShadowOffsetY=0,this._innerShadowSpread=0,this._innerShadowColor=$n.transparent,this._fonts=new Map;try{let n=e.getBoundingClientRect();e.width=n.width*t,e.height=n.height*t}catch{console.log(e.width,t)}this._currentM3Transform=SB,this._currentTransform=new Float32Array(SB)}init(){return ri(this,null,function*(){if(!this.wasmURL)throw Error("Your must set the wasm binary url with renderer.wasmURL = ... before you can call renderer.init");yield jxe(this.wasmURL),this._surface=Rt.MakeWebGLCanvasSurface(this.canvas),this.ctx=this._surface?.getCanvas(),this._paint=new Rt.Paint,this._paint.setAntiAlias(!0),this._paintFill=this._paint.copy(),this._paintFill.setStyle(Rt.PaintStyle.Fill),this._paintStroke=this._paint.copy(),this._paintStroke.setStyle(Rt.PaintStyle.Stroke),this.ctx?.scale(this.dpr,this.dpr)})}get currentTransform(){return this._currentM3Transform}get currentTransformBuffer(){return this._currentTransform}set currentTransform(e){this._currentM3Transform=e,this._currentTransform.set(e)}loadFont(e,t){return ri(this,null,function*(){let n=yield(yield fetch(e)).arrayBuffer();this.registerFont(n,t)})}registerFont(e,t){if(this._fonts.has(t))return;let n=Rt.FontMgr.FromData(e);if(n)this._fonts.set(t,n);else throw new Error("Invalid font data for "+t)}get width(){return this._width}get height(){return this._height}set strokeColor(e){this._paintStroke&&this._paintStroke.setColor(AC(e),Rt.ColorSpace.DISPLAY_P3)}set fillColor(e){this._paintFill&&this._paintFill.setColor(AC(e),Rt.ColorSpace.DISPLAY_P3)}set lineWidth(e){this._paintStroke&&this._paintStroke.setStrokeWidth(this._strokeMode==="center"?e:e*2)}set strokeMode(e){this._strokeMode=e}set dropShadowBlur(e){this._dropShadowBlur=e}set dropShadowColor(e){this._dropShadowColor=e}set dropShadowOffsetX(e){this._dropShadowOffsetX=e}set dropShadowOffsetY(e){this._dropShadowOffsetY=e}set innerShadowBlur(e){this._innerShadowBlur=e}set innerShadowColor(e){this._innerShadowColor=e}set innerShadowOffsetX(e){this._innerShadowOffsetX=e}set innerShadowOffsetY(e){this._innerShadowOffsetY=e}set innerShadowSpread(e){this._innerShadowSpread=e}set layerBlur(e){this._layerBlur=e}set backgroundBlur(e){this._backgroundBlur=e}clear(){this.ctx?.clear(Rt.TRANSPARENT)}save(){this.ctx?.save()}restore(){this.ctx?.restore()}beginPath(){this._currentPath?.delete(),this._currentPath=new Rt.Path}closePath(){let e=this._currentPath;if(e){if(e.isEmpty())return;let t=e.getBounds();(t[3]-t[1]||t[2]-t[0])&&e.close()}}fill(){this._paintInner(this._paintFill,!0)}stroke(){this._paintInner(this._paintStroke,!1)}clipRect(e,t,n,i,r=0,o=0,a=0,s=0){let l=Rt.XYWHRect(e,t,n,i);if(r===0&&o===0&&s===0&&a===0)this.ctx?.clipRect(l,Rt.ClipOp.Intersect,!0);else{let c=Rt.RRectXY(l,r,r);c[4]=c[5]=r,c[6]=c[7]=o,c[8]=c[9]=a,c[10]=c[11]=s,this.ctx?.clipRRect(c,Rt.ClipOp.Intersect,!0)}}_applyShadowOffsetMatrix(){if(this.ctx){let e=Qn.invert(this.currentTransform);this.ctx.concat(e);let t=Qn.translate(Qn.identity(),this._dropShadowOffsetX,this._dropShadowOffsetY);this.ctx.concat(t),this.ctx.concat(this._currentTransform)}}_applyEffectsToPaint(e,t,n=!0){if(this.ctx&&this._currentPath){let i,r=!1;if(n&&this._hasDropShadow()){let o=e.copy();o.setColor(AC(this._dropShadowColor));let a;this._dropShadowBlur>0&&(a=Rt.MaskFilter.MakeBlur(Rt.BlurStyle.Normal,this._dropShadowBlur*this.dpr*(this.camera?.scale??1),!1),o.setMaskFilter(a)),this.ctx.save(),this.ctx.clipPath(this._currentPath,Rt.ClipOp.Difference,!0),this._applyShadowOffsetMatrix(),t(o),this.ctx.restore(),o.delete(),a?.delete()}if(this._backgroundBlur>0&&n){this.ctx.save(),this.ctx.clipPath(this._currentPath,Rt.ClipOp.Intersect,!0);let o=Rt.ImageFilter.MakeBlur(this._backgroundBlur,this._backgroundBlur,Rt.TileMode.Clamp,null),a=e.copy();a.setImageFilter(o),a.setAlphaf(1);let s=this._currentPath.computeTightBounds();this.ctx.saveLayer(a,s,null,Rt.SaveLayerInitWithPrevious),this.ctx.drawColor(e.getColor()),this.ctx.restore(),this.ctx.restore(),a.delete(),o.delete(),r=!0}if(this._layerBlur>0){let o=e.copy();i=Rt.MaskFilter.MakeBlur(Rt.BlurStyle.Normal,this._layerBlur*this.dpr*(this.camera?.scale??1),!1),o.setMaskFilter(i),t(o),o.delete(),i.delete(),r=!0}if(r||t(e),n&&this._hasInnerShadow()){let o=new Rt.Paint;o.setAntiAlias(!0),o.setStyle(Rt.PaintStyle.Fill),o.setColor(AC(this._innerShadowColor));let a;this._innerShadowBlur>0&&(a=Rt.MaskFilter.MakeBlur(Rt.BlurStyle.Normal,this._innerShadowBlur*this.dpr*(this.camera?.scale??1),!1),o.setMaskFilter(a));let s=this._currentPath.computeTightBounds(),[l,c,d,u]=s,h=d-l,p=u-c;this.ctx.save(),this.ctx.clipPath(this._currentPath,Rt.ClipOp.Intersect,!0),this.ctx.saveLayer(o,s,null,Rt.SaveLayerInitWithPrevious),this.ctx?.translate(this._innerShadowOffsetX,this._innerShadowOffsetY),this.ctx.drawRect(Rt.XYWHRect(-1e3-this._innerShadowOffsetX,-1e3-this._innerShadowOffsetY,2e3+h+Math.abs(this._innerShadowOffsetX*2),2e3+p+Math.abs(this._innerShadowOffsetY*2)),o),o.setBlendMode(Rt.BlendMode.Clear),this.ctx.drawPath(this._currentPath,o),this.ctx.restore(),this.ctx.restore(),o.delete(),a?.delete()}}}_paintInner(e,t=!0){if(this.ctx&&this._currentPath&&e){let n=this.ctx,i=this._currentPath;this._applyEffectsToPaint(e,r=>{let o=!1;!t&&this._strokeMode!=="center"&&(n.save(),n.clipPath(i,this._strokeMode==="outside"?Rt.ClipOp.Difference:Rt.ClipOp.Intersect,!0),o=!0),n.drawPath(i,r),o&&n.restore()},t)}}_hasDropShadow(){return this._dropShadowColor?.a>0}_hasInnerShadow(){return this._innerShadowColor?.a>0}path(e){this._currentPath?.addPath(Rt.Path.MakeFromSVGString(e))}ellipse(e,t,n,i,r,o,a,s){if(!DB([e,t,n,i])||!this._currentPath)return;if(n<0||i<0)throw Error("radii cannot be negative");let l=Rt.XYWHRect(e-n,t-i,n*2,i*2);this._currentPath?.addOval(l)}rect(e,t,n,i,r=0,o=0,a=0,s=0){let l=Rt.XYWHRect(e,t,n,i);if(DB(l))if(r===0&&o===0&&s===0&&a===0)this._currentPath?.addRect(l);else{let c=Rt.RRectXY(l,r,r);c[4]=c[5]=r,c[6]=c[7]=o,c[8]=c[9]=a,c[10]=c[11]=s,this._currentPath?.addRRect(c)}}getHorizontalAlign(e){switch(e){case 2:return Rt.TextAlign.Right;case 3:return Rt.TextAlign.Center;case 4:return Rt.TextAlign.Justify;case 1:default:return Rt.TextAlign.Left}}drawTextInner(e,t,n,[i,r,o,a],s,l,c=!0){let d=0,{ctx:u}=this;if(!u)return d;let h=l.copy(),p=l.copy();return p.setAlphaf(0),this._applyEffectsToPaint(h,m=>{t.pushPaintStyle(n,m,p),t.addText(e);let g=t.build();g.layout(o);let v=r;s===2?v+=(a-g.getHeight())/2:s===3&&(v+=a-g.getHeight()),u.drawParagraph(g,i,v),d=g.getHeight(),t.reset(),g.delete()},c),h.delete(),p.delete(),d}drawText(e,t){let n=0,i=this._fonts.get(t.font),{ctx:r,_paintFill:o,_paintStroke:a}=this;if(i&&r){let s=new Rt.TextStyle({fontFamilies:[t.font],fontSize:t.fontSize,heightMultiplier:t.lineHeight,letterSpacing:t.letterSpacing}),l=new Rt.ParagraphStyle({textStyle:s,textAlign:this.getHorizontalAlign(t.horizontalAlign)}),c=Rt.XYWHRect(t.x,t.y,t.width,t.height),d=Rt.ParagraphBuilder.Make(l,i);o&&(n=this.drawTextInner(e,d,s,c,t.verticalAlign,o,!0)),a&&(n=this.drawTextInner(e,d,s,c,t.verticalAlign,a,!1)),d.delete()}return{height:n}}render(){this._surface?.flush()}moveTo(e,t){this._currentPath?.moveTo(e,t)}lineTo(e,t){this._currentPath?.lineTo(e,t)}bezierCurveTo(e,t,n,i,r,o){this._currentPath?.cubicTo(e,t,n,i,r,o)}quadraticCurveTo(e,t,n,i){this._currentPath?.quadTo(e,t,n,i)}setTransform(e,t=!1){if(!this.ctx)return;let n=this.ctx.getTotalMatrix(),i=Qn.invert(n);if(i&&this.ctx.concat(i),this.ctx?.scale(this.dpr,this.dpr),this.camera?.enabled&&(this.ctx?.concat(this.camera.worldMatrix),t)){let r=Qn.getScale(this.camera.worldMatrix);this.ctx?.scale(1/r[0],1/r[1])}this.ctx?.concat(e),this.currentTransform=e}transform(e){this.ctx?.concat(e)}setSize(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.canvas.style.width=e+"px",this.canvas.style.height=t+"px",this.canvas.width=e*this.dpr,this.canvas.height=t*this.dpr,this._surface&&(this._surface=Rt.MakeWebGLCanvasSurface(this.canvas),this.ctx=this._surface?.getCanvas()))}};function DB(e){for(let t=0;t<e.length;t++)if(e[t]!==void 0&&!Number.isFinite(e[t]))return!1;return!0}function AC({r:e,g:t,b:n,a:i}){return Rt.Color4f(e,t,n,i)}var AB=class{constructor(e,t,n){this.uuid=e,this.data=t,this.enabled=!1,this.color=$n.transparent,this.blurRadius=0,this.offset=[0,0],this.spread=0,this.update(t)}update(e){e.color!==void 0&&(this.color=e.color),e.enabled!==void 0&&(this.enabled=e.enabled),e.blurRadius!==void 0&&(this.blurRadius=e.blurRadius),e.offset!==void 0&&(this.offset=e.offset),e.spread!==void 0&&(this.spread=e.spread)}},TB=class{constructor(e,t,n){this.uuid=e,this.data=t,this.enabled=!1,this.radius=0,this.update(t)}update(e){e.enabled!==void 0&&(this.enabled=e.enabled),e.radius!==void 0&&(this.radius=e.radius)}},Hxe=class{constructor(e,t,n){this.uuid=e,this.data=t,this.enabled=!1,this.color=$n.transparent,this.update(t)}update(e){e.enabled!==void 0&&(this.enabled=e.enabled),e.color!==void 0&&(this.color=e.color)}},Gxe=class{constructor(e,t,n){this.uuid=e,this.data=t,this.enabled=!1,this.color=$n.transparent,this.thickness=0,this.mode="inside",this.update(t)}update(e){e.enabled!==void 0&&(this.enabled=e.enabled),e.color!==void 0&&(this.color=e.color),e.thickness!==void 0&&(this.thickness=e.thickness),e.mode!==void 0&&(this.mode=e.mode)}},Dr=class extends Lr{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.autoClose=!0,this.fill=new Hxe(e+"-fill",t.fill,n),this.stroke=new Gxe(e+"-stroke",t.stroke,n),this.dropShadow=new AB(e+"-dropShadow",t.dropShadow,n),this.innerShadow=new AB(e+"-innerShadow",t.innerShadow,n),this.backgroundBlur=new TB(e+"-backgroundBlur",t.backgroundBlur,n),this.layerBlur=new TB(e+"-layerBlur",t.layerBlur,n)}applyFillStroke(e){e.fillColor=this.fill.enabled?this.fill.color:$n.transparent,e.strokeColor=this.stroke.enabled&&this.stroke.thickness>0?this.stroke.color:$n.transparent,e.strokeMode=this.stroke.mode,e.lineWidth=this.stroke.thickness}applyFilters(e){this.layerBlur.enabled?e.layerBlur=this.layerBlur.radius*5:e.layerBlur=0,this.backgroundBlur.enabled?e.backgroundBlur=this.backgroundBlur.radius*5:e.backgroundBlur=0,this.dropShadow.enabled?(e.dropShadowBlur=this.dropShadow.blurRadius*5,e.dropShadowColor=this.dropShadow.color,e.dropShadowOffsetX=this.dropShadow.offset[0],e.dropShadowOffsetY=this.dropShadow.offset[1]):e.dropShadowColor=$n.transparent,this.innerShadow.enabled?(e.innerShadowSpread=this.innerShadow.spread,e.innerShadowBlur=this.innerShadow.blurRadius*5,e.innerShadowColor=this.innerShadow.color,e.innerShadowOffsetX=this.innerShadow.offset[0],e.innerShadowOffsetY=this.innerShadow.offset[1]):e.innerShadowColor=$n.transparent}innerDraw(e){}draw(e){!this.visible||(e.save(),this.applyTransforms(e),this.applyFilters(e),this.applyFillStroke(e),e.beginPath(),this.innerDraw(e),this.autoClose&&e.closePath(),this.fill.enabled&&e.fill(),this.stroke.enabled&&e.stroke(),e.restore())}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),e.type===0&&(ii(e.path,["fill"])?this.fill.update(e.props):ii(e.path,["stroke"])?this.stroke.update(e.props):ii(e.path,["dropShadow"])?this.dropShadow.update(e.props):ii(e.path,["innerShadow"])?this.innerShadow.update(e.props):ii(e.path,["layerBlur"])?this.layerBlur.update(e.props):ii(e.path,["backgroundBlur"])?this.backgroundBlur.update(e.props):this.resetBBoxNeedsUpdate())}updateState(e,t){super.updateState(e,t),e.fill!==void 0&&this.fill.update(e.fill),e.stroke!==void 0&&this.stroke.update(e.stroke),e.dropShadow!==void 0&&this.dropShadow.update(e.dropShadow),e.innerShadow!==void 0&&this.innerShadow.update(e.innerShadow),e.layerBlur!==void 0&&this.layerBlur.update(e.layerBlur),e.backgroundBlur!==void 0&&this.backgroundBlur.update(e.backgroundBlur)}clone(e){let t=new Dr(this.uuid,this.data,e);return t.parent=void 0,t}},HT=class extends Dr{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.width=0,this.height=0,this.updateState(t,n)}innerDraw(e){e.ellipse(this.width*.5,this.height*.5,this.width*.5,this.height*.5,0,0,Math.PI*2)}intersectsInLocalSpace(e,t){return Fxe(e,t,this.width*.5,this.height*.5,this.width*.5,this.height*.5)}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateSizeState(e){let t=!1;e.width!==void 0&&(this.width=typeof e.width=="number"?e.width:this.width,t=!0),e.height!==void 0&&(this.height=typeof e.height=="number"?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateState(e,t){super.updateState(e,t),this.updateSizeState(e)}clone(e){let t=new HT(this.uuid,this.data,e);return t.parent=void 0,t}},Dy=class extends Dr{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.width=0,this.height=0,this.cornerRadius=[0,0,0,0],this.updateState(t,n)}innerDraw(e){e.rect(0,0,this.width,this.height,...this.cornerRadius)}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateCornerState(e){e.cornerRadius!==void 0&&(this.cornerRadius=e.cornerRadius)}updateSizeState(e){let t=!1;e.width!==void 0&&(this.width=typeof e.width=="number"?e.width:this.width,t=!0),e.height!==void 0&&(this.height=typeof e.height=="number"?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateState(e,t){super.updateState(e,t),this.updateSizeState(e),this.updateCornerState(e)}clone(e){let t=new Dy(this.uuid,this.data,e);return t.parent=void 0,t}},GT=class extends Dr{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this._textHeight=0,this._textHeightDirty=!0,this.width=0,this.height=0,this.updateState(t,n)}get textHeight(){return this._textHeight}applyFillStroke(e){e.fillColor=this.fill.enabled?this.fill.color:$n.transparent,e.strokeColor=this.stroke.enabled&&this.stroke.thickness>0?this.stroke.color:$n.transparent,e.strokeMode="center",e.lineWidth=this.stroke.thickness}innerDraw(e){this._fontHolder?.arrayBuffer&&this._fontHolder.arrayBuffer.byteLength>1&&this.data.font&&e.registerFont(this._fontHolder.arrayBuffer,this.data.font);let t=this.data.textTransform,n=this.data.text.textValue.toString(),i=t===2?n.toUpperCase():t===3?n.toLowerCase():n,{height:r}=e.drawText(i,{x:0,y:0,width:this.width,height:this.height,fontSize:this.data.fontSize,lineHeight:this.data.lineHeight??1,letterSpacing:this.data.letterSpacing??0,horizontalAlign:this.data.horizontalAlign,verticalAlign:this.data.verticalAlign,font:this.data.font});this._textHeight=r}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateSizeState(e){let t=!1;e.width!==void 0&&(this.width=typeof e.width=="number"?e.width:this.width,t=!0),e.height!==void 0&&(this.height=typeof e.height=="number"?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateFontState(e,{shared:t}){e.font!==void 0&&(this._fontHolder=t.getFont(e.font),this._fontHolder&&!this._fontHolder.isLoaded&&this._fontHolder.loadingPromise.then(()=>{this.requestRender()}))}updateState(e,t){super.updateState(e,t),this.updateSizeState(e),this.updateFontState(e,t)}clone(e){let t=new GT(this.uuid,this.data,e);return t.parent=void 0,t}},DH=class extends Dr{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.curves=[],this.extremasBBox={min:[0,0],max:[0,0]},this.updateState(t,n)}computeExtremas(){this.curves.length===0&&this.computeCurves();let e=this.curves.map(i=>ZM.extremas(i)),t=[1/0,1/0],n=[-1/0,-1/0];for(let i=0,r=e.length;i<r;i++){let o=e[i];o[0][0]<t[0]&&(t[0]=o[0][0]),o[0][1]<t[1]&&(t[1]=o[0][1]),o[1][0]>n[0]&&(n[0]=o[1][0]),o[1][1]>n[1]&&(n[1]=o[1][1])}return this.extremasBBox.min=[t[0],t[1]],this.extremasBBox.max=[n[0],n[1]],this.extremasBBox}computeCurves(){this.curves=[];for(let n=1,i=this.data.points.length;n<i;n++){let r=this.data.points[n].data,o=this.data.points[n-1].data,a={start:o.position,cp1:o.controlNext.position,cp2:r.controlPrevious.position,end:r.position};this.curves.push(a)}let e=this.data.points[0].data,t=this.data.points[this.data.points.length-1].data;if(this.data.isClosed){let n={start:t.position,cp1:t.controlNext.position,cp2:e.controlPrevious.position,end:e.position};this.curves.push(n)}}getCenter(){let[e,t]=this.extremasBBox.min,[n,i]=this.getHalfSize();return[e+n,t+i]}getHalfSize(){let{min:e,max:t}=this.extremasBBox;return[(t[0]-e[0])*.5,(t[1]-e[1])*.5]}innerDraw(e){for(let i=0,r=this.data.points.length;i<r;i++){let o=this.data.points[i].data;if(i===0){let[a,s]=o.position;e.moveTo(a,s)}else{let a=this.data.points[i-1].data,[s,l]=a.controlNext.position,[c,d]=o.controlPrevious.position,[u,h]=o.position,p={start:a.position,cp1:a.controlNext.position,cp2:o.controlPrevious.position,end:o.position};ZM.derive(p),e.bezierCurveTo(s,l,c,d,u,h)}}let t=this.data.points[0].data,n=this.data.points[this.data.points.length-1].data;if(this.data.isClosed){let[i,r]=n.controlNext.position,[o,a]=t.controlPrevious.position,[s,l]=t.position;e.bezierCurveTo(i,r,o,a,s,l)}}updateState(e,t){super.updateState(e,t),this.computeExtremas()}clone(e){let t=new DH(this.uuid,this.data,e);return t.parent=void 0,t}},ZM;(e=>{function t(a){let s=a.start,l=a.cp1,c=a.cp2,d=a.end,u=[3*(l[0]-s[0]),3*(l[1]-s[1])],h=[3*(c[0]-l[0]),3*(c[1]-l[1])],p=[3*(d[0]-c[0]),3*(d[1]-c[1])],m={start:u,cp:h,end:p};return a.derivative=m,m.derivative=hA.derive(m),m}e.derive=t;function n(a,s,l,c=!1){let d=a-2*s+l;if(d!==0){let u=-Math.sqrt(Math.abs(s*s-a*l)),h=-a+s,p=-(u+h)/d,m=-(-u+h)/d;return[p,m]}else if(s!==l&&d===0)return[(2*s-l)/(2*(s-l))];return[]}function i(a){let s=a.derivative??e.derive(a),l=s.start,c=s.cp,d=s.end;return[n(l[0],c[0],d[0]),n(l[1],c[1],d[1])]}e.droot=i;function r(a){let[s,l]=e.droot(a),c=[a.start[0],a.end[0]],d=[a.start[1],a.end[1]];for(let u of s)c.push(e.compute(a,Math.min(1,Math.max(0,u)))[0]);for(let u of l)d.push(e.compute(a,Math.min(1,Math.max(0,u)))[1]);return c.sort((u,h)=>u-h),d.sort((u,h)=>u-h),[[c[0],d[0]],[c[c.length-1],d[d.length-1]]]}e.extremas=r;function o(a,s){if(s===0)return[...a.start];if(s===1)return[...a.end];let l=1-s,c=l*l,d=s*s,u=c*l,h=c*s*3,p=l*d*3,m=s*d;return[u*a.start[0]+h*a.cp1[0]+p*a.cp2[0]+m*a.end[0],u*a.start[1]+h*a.cp1[1]+p*a.cp2[1]+m*a.end[1]]}e.compute=o})(ZM||(ZM={}));var hA;(e=>{function t(r){let o=r.start,a=r.cp,s=r.end,l=[2*(a[0]-o[0]),2*(a[1]-o[1])],c=[2*(s[0]-a[0]),2*(s[1]-a[1])],d={start:l,end:c};return d.derivative=pA.derive(d),r.derivative=d,d}e.derive=t;function n(r){let o=r.derivative??e.derive(r),a=o.start,s=o.end;return[a[0]!==s[0]?a[0]/(a[0]-s[0]):0,a[1]!==s[1]?a[1]/(a[1]-s[1]):0]}e.droot=n;function i(r,o){if(o===0)return[...r.start];if(o===1)return[...r.end];let a=1-o,s=a*a,l=o*o,c=s,d=a*o*2,u=l;return[c*r.start[0]+d*r.cp[0]+u*r.end[0],c*r.start[1]+d*r.cp[1]+u*r.end[1]]}e.compute=i})(hA||(hA={}));var pA;(e=>{function t(i){let r=i.start,o=i.end,a=[o[0]-r[0],o[1]-r[1]];return i.derivative=a,i.derivative}e.derive=t;function n(i,r){if(r===0)return[...i.start];if(r===1)return[...i.end];let o=i.start,a=i.end;return[o[0]+(a[0]-o[0])*r,o[1]+(a[1]-o[1])*r]}e.compute=n})(pA||(pA={}));var Wl=class extends Ul{constructor(e,t,n){super(e,t,n),this.uuid=e,this.width=0,this.height=0,this.clipped=!0,this.background=new Dy(e+"-background",ly.defaultData,n),this.background.parent=this,this.updateState(t,n)}get fill(){return this.background.fill}get stroke(){return this.background.stroke}get backgroundBlur(){return this.background.backgroundBlur}get layerBlur(){return this.background.layerBlur}get dropShadow(){return this.background.dropShadow}get innerShadow(){return this.background.innerShadow}get cornerRadius(){return this.background.cornerRadius}set cornerRadius(e){this.background.cornerRadius=e}updateLocalMatrix(){super.updateLocalMatrix(),this.background?.updateLocalMatrix()}updateWorldMatrix(e,t,n){super.updateWorldMatrix(e,t,n),this.background?.updateWorldMatrix(e,t,n)}draw(e){if(!this.visible)return;e.save();let t=this.width,n=this.height;this.applyTransforms(e),this.background.width=t,this.background.height=n,this.background.draw(e),this.clipped&&e.clipRect(0,0,t,n,...this.cornerRadius),this.innerDrawChildren(e),e.restore()}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateCornerState(e){e.cornerRadius!==void 0&&(this.cornerRadius=e.cornerRadius)}updateSizeState(e){let t=!1;e.width!==void 0&&(this.width=typeof e.width=="number"?e.width:this.width,t=!0),e.height!==void 0&&(this.height=typeof e.height=="number"?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateState(e,t){super.updateState(e,t),this.updateSizeState(e),this.updateCornerState(e),e.fill!==void 0&&this.fill.update(e.fill),e.stroke!==void 0&&this.stroke.update(e.stroke),e.dropShadow!==void 0&&this.dropShadow.update(e.dropShadow),e.innerShadow!==void 0&&this.innerShadow.update(e.innerShadow),e.layerBlur!==void 0&&this.layerBlur.update(e.layerBlur),e.backgroundBlur!==void 0&&this.backgroundBlur.update(e.backgroundBlur),e.clipped!==void 0&&(this.clipped=e.clipped)}requestRender(){super.requestRender(),this.dispatchEvent({type:"render"})}dispose(){this.removeEventListener("render")}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),e.type===0&&(ii(e.path,["fill"])?this.fill.update(e.props):ii(e.path,["stroke"])?this.stroke.update(e.props):ii(e.path,["dropShadow"])?this.dropShadow.update(e.props):ii(e.path,["innerShadow"])?this.innerShadow.update(e.props):ii(e.path,["layerBlur"])?this.layerBlur.update(e.props):ii(e.path,["backgroundBlur"])?this.backgroundBlur.update(e.props):this.resetBBoxNeedsUpdate())}clone(e){let t=new Wl(this.uuid,this.data,e);t.parent=void 0;for(let n of this.children)t.add(n.clone(e));return t}},Wxe=id(k9(),1),Pw=class extends Dr{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this._pathBBox=new DOMRect,this.path="",this.updateState(t,n),this.autoClose=!1,this.computeSVGBBox()}computeSVGBBox(){let e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","path");document.body.appendChild(e),t.setAttribute("d",this.path),e.appendChild(t),this._pathBBox=t.getBBox(),e.remove()}innerDraw(e){e.path(this.path)}intersectsInLocalSpace(e,t){return e>=this._pathBBox.x&&e<=this._pathBBox.x+this._pathBBox.width&&t>=this._pathBBox.y&&t<=this._pathBBox.y+this._pathBBox.height}getCenter(){return[(this._pathBBox.x+this._pathBBox.width)/2,(this._pathBBox.y+this._pathBBox.height)/2]}getHalfSize(){return[(this._pathBBox.x+this._pathBBox.width)/2,(this._pathBBox.y+this._pathBBox.height)/2]}updateState(e,t){super.updateState(e,t),e.path!==void 0&&(this.path=e.path,this.computeSVGBBox())}clone(e){let t=new Pw(this.uuid,this.data,e);return t.parent=void 0,t}};function qxe(e,t=1,n=1){if(t<=0||n<=0)return e;let i=(0,Wxe.parseSVG)(e).map(r=>{let o=B({},r);return"x"in o&&(o.x=o.x*t),"y"in o&&(o.y=o.y*n),"x1"in o&&(o.x1=o.x1*t),"x2"in o&&(o.x2=o.x2*t),"y1"in o&&(o.y1=o.y1*n),"y2"in o&&(o.y2=o.y2*n),"rx"in o&&(o.rx=o.rx*t),"ry"in o&&(o.ry=o.ry*n),o});return Yxe(i)}function Yxe(e){let t=["rx","ry","xAxisRotation","largeArc","sweep","x1","y1","x2","y2","x","y"],n;return e.map(i=>{let r=[];t.forEach(a=>{if(a in i){let s=i[a]*1;r.length&&s>=0&&r.push(","),r.push(s)}});let o=(n===i.code?r[0]<0?"":",":i.code)+r.join("");return n=i.code,o}).join("")}function Xxe(e,t,n){switch(t.type){case"ellipse2d":return new HT(e,t,n);case"rectangle2d":return new Dy(e,t,n);case"text2d":return new GT(e,t,n);case"vector2d":return new DH(e,t,n);case"path2d":return new Pw(e,t,n);case"frame2d":return new Wl(e,t,n);case"group2d":default:return new td(e,t,n)}}var AH=class{constructor(e,t,n){this.uuid=e,this.data=t,this.group=new td(AH.GROUP_ID,B({},HM.defaultData),n),this.createChildrenObjects(t.objects,this.group,n)}createObject(e,t,n,i,r,o){let a=Xxe(e,t,o);a&&(i.add(a),i.children.splice(r,0,i.children.pop()),a.updateWorldMatrix(),n.length>0&&(a instanceof td||a instanceof Wl)&&this.createChildrenObjects(n,a,o))}createChildrenObjects(e,t,n){let i=0;for(let r of e)this.createObject(r.id,r.data,r.children,t,i,n),i+=1}draw(e){this.group.draw(e)}updateEntityByOp(e,t,n,i){let r=this.find(e);if(r)try{r.updateByOp(t,n,{shared:i})}catch(o){console.error(o)}}updateTreeByOp(e,t){if(e.path.length===0&&e.type===7){let n=e.parent===null?this.group:this.find(e.parent);n!==void 0&&n instanceof Ul&&(this.createObject(e.id,e.data,e.children,n,e.localIndex,t),n.requestRender())}else if(e.path.length===0&&e.type===8){let n=this.find(e.id);if(n!==void 0&&n.parent!==void 0&&n.parent instanceof Ul){let i=n.parent;n.resetBBoxNeedsUpdate(),i?.remove(n),i?.requestRender()}}else if(e.path.length===0&&e.type===9){let n=this.find(e.id);if(n!==void 0){let i=n.parent,r=e.parent===null?this:this.find(e.parent);if(r instanceof Ul||r===this){r.add(n);let o=e.localIndex;r.children.splice(o,0,r.children.pop()),n.updateWorldMatrix(!0,!1,!0),i?.requestRender(),n.requestRender()}n.resetBBoxNeedsUpdate()}}}add(e){this.group.add(e)}remove(e){this.group.remove(e)}traverse(e){this.group.traverse(t=>{t!==this.group&&e(t)})}intersectsChildren(e,t,n,i=!1,r=[]){return this.group.intersectsChildren(e,t,n,i,r,!0)}find(e){return this.group.find(e)}get children(){return this.group.children}project(e,t){return this.group.project(e,t)}getWithSortKey(e){let t=this.find(e);if(t===void 0)return;let n=[],i=t;for(;i!==this.group;){let r=i;i=i.parent;let o=i.children.indexOf(r);n.splice(0,0,o)}return{entity:t,sortKey:n}}getAllSorted(e){let t=[];for(let n of e){let i=this.getWithSortKey(n.id);i!==void 0&&t.push(i)}return t.sort((n,i)=>hU(n.sortKey,i.sortKey)),t.map(n=>n.entity)}},WT=AH;WT.GROUP_ID="scene2d";function TH({constraints:e,newParentWidth:t,newParentHeight:n,initialParentWidth:i,initialParentHeight:r,objectInitialWidth:o,objectInitialHeight:a,objectInitialPosition:s}){let{horizontalConstraint:l,verticalConstraint:c}=e,d=t-i,u=n-r,h=o,p=a,m=s[0],g=s[1];if(l!==0){if(l===1)m+=d;else if(l===3)m+=d/2;else if(l===2)h=Math.max(1,h+d);else if(l===4){let v=t/i;h*=v,m*=v}}if(c!==0){if(c===1)g+=u;else if(c===3)g+=u/2;else if(c===2)p=Math.max(1,p+u);else if(c===4){let v=n/r;p*=v,g*=v}}return{width:h,height:p,position:[m,g]}}var nke=id(k9(),1),ike={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{mm:1,px:1,cm:1,in:1,pt:1,pc:1}},Qxe=Qn.identity(),IH=class{constructor(e,t,n,i){this.uuid=e,this.width=t,this.height=n,this.context=i,this.enabled=!0,this.isScreenSpace=!1,this.isFrameDirty=!1,this.onRenderRequestedDownstream=()=>{this.isFrameDirty=!0,this.context.shared.requestRender()},this.onFrameOverrideObjectEvent=r=>{if(r.target?.uuid!==void 0){let o=this.frameRoot?.find(r.target.uuid);o&&o.dispatchEvent(se(B({},r),{target:o}))}},this.scene2d=new WT(et.generateUUID(),zD.defaultData,{dpr:window.devicePixelRatio,shared:i.shared}),this.canvas=document.createElement("canvas"),this.renderer=new EB(this.canvas),i.shared.addCanvas(this.uuid,this.canvas),this.textureHolder=i.shared.canvas(this.uuid),this.promise=this.init()}init(){return ri(this,null,function*(){this.renderer instanceof EB&&(this.renderer.wasmURL=iH.skiaWasmUrl),yield this.renderer.init()})}render(){this.isFrameDirty&&(this.renderer.clear(),this.frameOverride?.draw(this.renderer),this.renderer.render(),this.textureHolder?.setNeedsUpdate(!0),this.isFrameDirty=!1)}updateEntity2DByOp(e,t,n,i){this.scene2d.updateEntityByOp(e,t,n,i),this.applySize()}updateTreeByOp(e,t){this.scene2d.updateTreeByOp(e,t),this.applySize()}applyOverrides(e){if(this.frameOverride&&this.frameRoot){this.frameOverride.position=[0,0],this.frameOverride.rotation=0;let t=e?.width??this.width,n=e?.height??this.height;this.frameOverride.width=t,this.frameOverride.height=n,this.frameOverride.localMatrix=Qxe,this.isScreenSpace&&(this.frameOverride.fill.color=$n.from0to1([0,0,0,0])),this.frameOverride.data=se(B({},this.frameOverride.data),{width:t,height:n}),RH({objectOverride:this.frameOverride,objectRoot:this.frameRoot,newParentWidth:this.frameOverride.width,newParentHeight:this.frameOverride.height,initialParentWidth:this.frameRoot.width,initialParentHeight:this.frameRoot.height}),this.frameOverride.updateWorldMatrix(!0,!1,!0)}}applySize(e){let t=e?.width??this.width,n=e?.height??this.height;this.width=t,this.height=n,this.renderer.dpr=this.isScreenSpace?window.devicePixelRatio:Math.floor(2048/Math.max(t,n)),this.renderer.setSize(t,n),this.textureHolder?.dispose(),this.applyOverrides(e),this.frameOverride?.requestRender()}applyFrame(e){let t=this.context.scene.find2D(e);if(!(!t||!(t instanceof Wl)))return this.disposeFrameOverride(),this.frameRoot=t,this.frameOverride=t.clone({dpr:this.renderer.dpr,shared:this.context.shared}),this.scene2d.add(this.frameOverride),this.applySize(),this.textureHolder?.dispose(),this.frame?.addEventListener("render",this.onRenderRequestedDownstream),this.frameOverride.traverse(n=>{n.addEventListener("beginState",this.onFrameOverrideObjectEvent)}),this.frameOverride.traverse(n=>{n.addEventListener("completeState",this.onFrameOverrideObjectEvent)}),this.frame?.requestRender(),t}get frame(){return this.frameOverride}get frameId(){return this.frame?.uuid}find(e){return this.scene2d.find(e)}get texture(){return this.textureHolder?.getTexture(1001)}disposeFrameOverride(){this.frameOverride?.removeEventListener("render",this.onRenderRequestedDownstream),this.frameOverride?.traverse(e=>{e.removeEventListener("beginStateChange",this.onFrameOverrideObjectEvent)}),this.frameOverride?.traverse(e=>{e.removeEventListener("completeState",this.onFrameOverrideObjectEvent)}),this.frameOverride&&this.scene2d.remove(this.frameOverride)}};function RH({objectOverride:e,objectRoot:t,newParentWidth:n,newParentHeight:i,initialParentWidth:r,initialParentHeight:o}){if(e instanceof Wl&&t instanceof Wl||e instanceof td&&t instanceof td)for(let a=0,s=e.children.length;a<s;a++){let l=e.children[a],c=t.children[a];l&&c&&l.uuid===c.uuid&&$xe({objectOverride:l,objectRoot:c,newParentWidth:n,newParentHeight:i,initialParentWidth:r,initialParentHeight:o})}}function Zxe(e){if(mA(e))return[e.width,e.height];if(e instanceof Pw){let[t,n]=e.getHalfSize();return[t*2,n*2]}else if(e instanceof td){let[t,n]=e.recursiveBBox.getHalfSize();return[t*2,n*2]}return[0,0]}function $xe({objectOverride:e,objectRoot:t,newParentWidth:n,newParentHeight:i,initialParentWidth:r,initialParentHeight:o}){let[a,s]=Zxe(t),{width:l,height:c,position:d}=TH({constraints:e.data,newParentWidth:n,newParentHeight:i,initialParentWidth:r,initialParentHeight:o,objectInitialWidth:a,objectInitialHeight:s,objectInitialPosition:t.position});if(e.position=d,e.data=se(B({},e.data),{position:d}),e.states)for(let u in e.states)Kxe({stateId:u,objectOverride:e,objectRoot:t,newParentWidth:n,newParentHeight:i,initialParentWidth:r,initialParentHeight:o});if(mA(e)||e instanceof td)mA(e)&&(e.width=l,e.height=c,e.data=se(B({},e.data),{width:l,height:c})),RH({objectOverride:e,objectRoot:t,newParentWidth:l,newParentHeight:c,initialParentWidth:a,initialParentHeight:s});else if(e instanceof Pw){let u=t,h=a!==0?l/a:1,p=s!==0?c/s:1;e.path=qxe(u.path,h,p),e.data=se(B({},e.data),{path:e.path})}}function Kxe({stateId:e,objectOverride:t,objectRoot:n,newParentWidth:i,newParentHeight:r,initialParentWidth:o,initialParentHeight:a}){let s=t.states?.[e],l=n.states?.[e];if(s&&l){let{width:c,height:d,position:u}=TH({constraints:t.data,newParentWidth:i,newParentHeight:r,initialParentWidth:o,initialParentHeight:a,objectInitialWidth:Qh.isResizeable(l)?l.width:0,objectInitialHeight:Qh.isResizeable(l)?l.height:0,objectInitialPosition:l.position});Object.assign(t.states[e],{position:u}),Qh.isResizeable(s)&&Object.assign(t.states[e],{width:c,height:d})}}function mA(e){return e instanceof Dy||e instanceof Wl||e instanceof HT||e instanceof GT}var Er=class extends MT(Qc){constructor(e,t,n){super(),this.data=t,this.bgColor=new Kr(1,1,1,1),this.fog=null,this.backupFog=new aV(16777215,.1,2e3),this.fogUseBGColor=!1,this.isActive=!1,this.aoColor=new _t,this.penumbraSizeArrayCache=null,this.super_Entity(e,t),this.personalCamera=new Co(sg,se(B(B({},oy.defaultData),t.camera),{name:"Personal Camera"})),this.personalCamera.objectHelper.visible=!1,this.add(this.personalCamera),this.activeCamera=this.personalCamera,this.ambientLight=new vce(13882323,8553090,.75),this.ambientLight.name="Default Ambient Light",this.ambientLight.layers.enable(3),this.ambientLight.removeFromParent(),this.add(this.ambientLight),t.uiScene?this.uiScene=new WT((Array.isArray(e)?e[0]:e)+"-ui",t.uiScene,{dpr:window.devicePixelRatio,shared:n.shared}):t.uiFrame&&this.createUICanvas(t.uiFrame,n)}get scene(){return this.parent}get postprocessing(){return this.data.postprocessing}get frameId(){return this.data.uiFrame}get frame(){return this.uiCanvas?.frame}createUICanvas(e,t){this.uiCanvas=new IH(this.uuid+"-uiscreen",window.innerWidth,window.innerHeight,t),this.uiCanvas.isScreenSpace=!0,this.uiCanvas.promise.then(()=>{this.uiCanvas?.applyFrame(e),this.uiCanvas?.applySize()})}updateVisible(){}setBackgroundColor(e){this.bgColor=e,this.fogUseBGColor===!0&&(this.backupFog.color=e)}entityChildrenCount(){return this.uiScene?this.uiScene.children.length:super.entityChildrenCount()}updateAmbientLight(e,t){e.color!==void 0&&(this.ambientLight.color=Uo(e.color,t)),e.intensity!==void 0&&(this.ambientLight.intensity=e.intensity),e.enabled!==void 0&&(e.enabled?this.add(this.ambientLight):this.remove(this.ambientLight))}onDeactive(){this.isActive=!1}onActive(e){this.isActive=!0,e.fog=this.fog,this.traverseEntity(t=>{t instanceof op&&t.recomputeBoolean()}),this.updateShadow(this.data.shadow)}forceMaterialsUpdate(){this.traverseEntity(e=>{if(e instanceof dg)if(Array.isArray(e.material))for(let t of e.material)t.needsUpdate=!0;else e.material.needsUpdate=!0,e.material.dispose()})}updateShadow(e){e.softShadowQuality!==void 0&&this.isActive&&Sxe(e.softShadowQuality)&&this.forceMaterialsUpdate()}updateFog(e,t){if(e.enabled?this.fog=this.backupFog:this.fog=null,this.isActive){let n=this.scene;n.fog=this.fog}this.fogUseBGColor=e.useBackgroundColor,e.useBackgroundColor?this.backupFog.color.set(this.bgColor):this.backupFog.color=Uo(e.color,t),this.backupFog.near=e.near,this.backupFog.far=e.far}updateAo(e,t){e.aoColor!==void 0&&(this.aoColor=Uo(e.aoColor,t))}updateByOp(e,t,n,i){let r=this.data.uiFrame;super.updateByOp(e,t,n,i);let o=t;ii(e.path,["fog"])?this.updateFog(o.fog,n.shared):ii(e.path,["ao"])?this.updateAo(o.ao,n.shared):ii(e.path,["ambient"])?this.updateAmbientLight(o.ambient,n.shared):ii(e.path,["shadow"])?this.updateShadow(o.shadow):e.type===0&&e.path.length===0&&(e.props.uiFrame!==void 0||r!==o.uiFrame)&&this.updateUIFrame(e.props.uiFrame,n)}updateUIFrame(e,t){e?(this.uiCanvas||this.createUICanvas(e,t),this.uiCanvas.enabled=!0,this.uiCanvas.applyFrame(e)):this.uiCanvas&&(this.uiCanvas.enabled=!1)}updateState(e,t){this.updateState_Entity(e,t),e.backgroundColor!==void 0&&this.setBackgroundColor(Uo(e.backgroundColor,t.shared)),e.fog!==void 0&&this.updateFog(e.fog,t.shared),e.ambient!==void 0&&this.updateAmbientLight(e.ambient,t.shared),e.ao!==void 0&&this.updateAo(e.ao,t.shared),e.shadow!==void 0&&this.updateShadow(e.shadow)}createFrame(e,t){}raycast(e,t){super.raycast(e,t)}switchActiveCamera(e){e&&e.isDescendantOf(this)&&(this.activeCamera!==this.personalCamera&&(this.activeCamera.objectHelper.visible=!0),this.activeCamera=e,e.objectHelper.visible=!1)}get playCamera(){return this.scene?.find(this.data.publish.playCamera)??this.personalCamera}switchToPlayCamera(){this.switchActiveCamera(this.playCamera)}get penumbraSizeArray(){return this.penumbraSizeArrayCache===null&&this.updatePenumbraSizeArray(),this.penumbraSizeArrayCache}updatePenumbraSizeArray(){this.penumbraSizeArrayCache=new Array(5).fill(.5);let e=0,t=0;this.traverseEntity(n=>{if(!n.visible)return!0;n instanceof PH&&n.visible&&e<3&&(this.penumbraSizeArrayCache[e]=n.data.penumbraSize,e+=1),n instanceof OH&&n.visible&&e<2&&(this.penumbraSizeArrayCache[3+t]=n.data.penumbraSize,t+=1)})}raycastWithClones(e){let t=[],n=i=>{for(let r of i.children){let o=r.cloner;yn.is(r)&&(r.visible||o?.object.data.visible)&&((Us(r)||rA(r)&&this.scene.enableHelpers&&r.objectHelper.visible)&&(e.intersectObject(r,!1,t),fA(r,e,t,!0)),n(r))}};return n(this),t}updateEntity2DByOp(e,t,n,i){this.uiCanvas?.updateEntity2DByOp(e,t,n,i)}},Jxe=class extends VT(Cce,wH){constructor(e,t,n){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let i=this.shadow.camera;i.fov=90,i.aspect=1,i.near=100,i.far=2500;let r=new L(-i.far+this.position.x,-i.far+this.position.y,-i.far+this.position.z),o=new L(i.far+this.position.x,i.far+this.position.y,i.far+this.position.z),a=new ji(r,o),s=new mM(a,new _t(16755200));s.visible=!1,this.gizmos.shadowmap=s,this.update()}update(){if(this.shadow&&(this.shadow.camera.updateProjectionMatrix(),this.gizmos))for(let e in this.gizmos){let t=this.gizmos[e];if(t instanceof mM){let n=this.shadow.camera,i=new L(-n.far+this.position.x,-n.far+this.position.y,-n.far+this.position.z),r=new L(n.far+this.position.x,n.far+this.position.y,n.far+this.position.z);t.box.set(i,r),t.updateMatrixWorld(!0)}}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),e.distance!==void 0&&(this.distance=e.distance),e.decay!==void 0&&(this.decay=e.decay),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},ePe=class extends bo{get forceComputeSize(){return!0}get shape(){return this.geometry.userData.shape}updateEntityBoxSize(e,t){let n=this.geometry.getAttribute("position");n!==void 0?AT(n,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:n.count,e,t):super.updateEntityBoxSize(e,t)}},qT=class extends bo{constructor(e,t,n){super(e,t,n),this._shapeId=null,this._context=n}updateState(e,t){super.updateState(e,t),this.updateShape()}updateShape(){let e=B({},this.data.geometry.extrusion.shape);for(let i in e)typeof e[i]=="string"&&(e[i]=this._context.shared.getVariable(e[i],[this.uuid,"geometry","extrusion","shape",i]));let t;if(e.type==="Custom"){let i=e.shapeId;if(i!==this._shapeId&&this.detachShape(),i){this._shapeId=i;let r=this._context.scene.find(i);r?.data&&(r.attachedPaths.add(this),t=r.geometry.userData?.shape),t||this._context.scene.addPendingCommand(()=>this.updateShape())}}else{let i;switch(e.type){case"Rectangle":i=DT;break;case"Ellipse":i=ET;break;case"Polygon":i=_j;break;case"Star":i=Cj;break;default:throw new Error(`Unknown shape type: ${e.type}`)}t=i.create({parameters:e}).userData.shape}let n=this.geometry;t&&n.inputs&&(n.inputs.shapeData=t,n.build(),this.attachedSurfaceCloners.forEach(i=>i.update()))}detachShape(){this._shapeId!==null&&this._context.scene.find(this._shapeId)?.attachedPaths.delete(this)}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.updateShape(),this.refreshAttachedPaths(e)}updateTransformState(e,t){return super.updateTransformState(e,t)}updateGeometryInteractions(e,t){super.updateGeometryInteractions(e,t),this.updateShape()}updateEntityBoxSize(e,t){let n=this.geometry.getAttribute("position");n!==void 0?AT(n,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:n.count,e,t):super.updateEntityBoxSize(e,t)}},If=class extends ug(kh,Sy){constructor(e,t,n){super(),t.type==="Instance"&&typeof e=="string"&&(t=this.transformAssignData(t,n)),this.super_Entity(e,t),this.objectHelper.update()}get isComponentRoot(){return this.data.type==="Component"&&typeof this.identity=="string"}get isInstanceRoot(){return this.data.type==="Instance"&&typeof this.identity=="string"}transformAssignData(e,t){let n=BM.getComponentData({scene:t.scene.data,shared:t.shared.data},e.component);if(n){let i,r;for(let o of eu.rootOverrideProps)e[o]===void 0?(i===void 0&&(i=B({},e)),i[o]=n.data[o]):(r===void 0&&(r={}),r[o]=e[o],i===void 0&&(i=B({},e)),i[o]=au.apply(n.data[o],e[o]));return this.overrideData=r,i}else return B(B(B({},$r.defaultData),e),Zc($r.defaultData,eu.rootOverrideProps))}updateByOp(e,t,n,i){let r;if(this.isInstanceRoot&&!i){if(t=this.transformAssignData(t,n),e.type===0&&e.path.length===0&&this.component)for(let o of eu.rootOverrideProps)o in e.props&&e.props[o]===void 0&&(r===void 0&&(r=se(B({},e),{props:B({},e.props)})),r.props[o]=this.component.data[o]);else if(e.type===0&&e.path.length>0&&eu.rootOverrideProps.includes(e.path[0])){let o=e.path[0];r===void 0&&(r=se(B({},e),{path:[],props:{[o]:t[o]}}))}}super.updateByOp(r??e,t,n,i)}updateState(e,t){this.updateState_Entity(e,t)}expandInstanceChildren(e){let t=this.data;if(this.component===void 0){let n=e.scene.find(t.component)??null,i=!1;if(n!==this.oldComponent){if(this.oldComponent){let r=0;for(let o of this.children)if(yn.is(o))e.scene.disposeAndUnregisterEntityRecursivelyIfNotReregistered(o),YT(o),r+=1;else break;this.children.splice(0,r)}i=!0}if(n){let r={};LH(e,[this.uuid],t.overrides,this,n,n,0,i,r);for(let o of this.children)if(yn.is(o)){let a=o.data;a.type==="Empty"&&a.animations&&o.traverseEntity(s=>{let l=s.dataPatched;if(s instanceof bo&&l.bones&&l.boneInverses){let c=s.dataPatched;if(c.bones&&c.boneInverses){let d=c.bones.map(p=>e.scene.find(r[p])),u=c.boneInverses.map(p=>new Be().fromArray(p)),h=new NA(d,u);s.bind(h,s.bindMatrix)}}else s.matrixAutoUpdate=!0})}}this.oldComponent=this.component}}};function YT(e){if(e.component){let t=e.component.instances.indexOf(e);t>=0&&e.component.instances.splice(t,1);for(let n of e.children)yn.is(n)&&YT(n)}}function IB(e,t,n,i){return e.component===t&&cU(e.identity,i)?e.overrideData===n?2:1:0}function LH(e,t,n,i,r,o,a,s,l){if(a>50)return!1;if(i.component!==r){if(i.component){let d=i.component.instances.indexOf(i);d>=0&&i.component.instances.splice(d,1)}r.instances.find(d=>d===i)||r.instances.push(i),i.component=r}r instanceof If&&r.isInstanceRoot&&r.expandInstanceChildren(e);let c=0;for(let d of r.children)if(yn.is(d)){let u=[...t,...typeof d.identity=="string"?[d.identity]:d.identity],h=kM.resolve(n,u,1);h!=null&&!(h instanceof tr)&&(Object.setPrototypeOf(h,tr.prototype),console.error("wrong prototype"));let p=null,m;if(!s){let g=i.children[c];if(p=yn.is(g)?g:null,p!==null){let v=IB(p,d,h,u);m=v>=1?p.stateSelection:void 0,v!==2&&(p=null)}if(p===null&&(p=e.scene.findInstance(u)??null,p!==null)){let v=IB(p,d,h,u);if(m=v>=1?p.stateSelection:void 0,v!==2)p=null;else{let b=p.parent.children.indexOf(p);p.parent.children.splice(b,1),i.children.splice(c,0,p),p.parent===i?b<=c&&console.error("not possible"):(p.parent=i,p.matrixWorldNeedsUpdate=!0,p.resetBBoxNeedsUpdate(),p.updateVisible(),e.pendingDeletes.delete(p))}}}if(p===null){let g=h?au.apply(d.data,h):d.data;np.is(g.type)&&(g=se(B({},g),{type:"Empty"})),p=nu.createEntity(u,g,e),p.overrideData=h,i.add(p),i.children.splice(i.children.length-1,1),i.children.splice(c,0,p),p.updateState(p.data,e),m&&p.changeSelectedState(m,e),e.scene.registerInstanceAndSetUuid(p)}if(p.isBone){let g=p.identity[p.identity.length-1];l[g]=p.uuid}c+=1,LH(e,t,n,p,d,o,a+1,s,l)}if(!s){let d=c;for(;;){let u=i.children[c];if(yn.is(u))e.pendingDeletes.add(u);else break;c+=1}i.children.splice(d,c-d)}return!0}var tPe=class extends ug(sV,Sy){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update(),this.matrixAutoUpdate=!0}updateState(e,t){this.updateState_Entity(e,t)}},vo=class extends bo{constructor(e,t,n){super(e,t,n),this.onBeforeRender=()=>{this.uiCanvas.render()},this.uiCanvas=new IH(e+"-canvas",t.geometry.width,t.geometry.height,n),this.uiCanvas.promise.then(()=>{this.applyFrame(this.dataPatched.geometry.frame,n.shared)})}updateByPatchedOpGeometry(e,t,n){super.updateByPatchedOpGeometry(e,t,n),e.type===0&&(e.props.frame!==void 0&&this.applyFrame(e.props.frame,n.shared),(e.props.width!==void 0||e.props.height!==void 0)&&this.applySize(e.props,n.shared))}applySize(e,t){let n=e?.width??this.dataPatched.geometry.width,i=e?.height??this.dataPatched.geometry.height;this.uiCanvas.applySize({width:n,height:i}),this.applyGeometryParametersFromFrame(t)}applyFrame(e,t){this.uiCanvas.applyFrame(e),this.applyGeometryParametersFromFrame(t),this.applyMaterialParametersFromFrame({shared:t})}applyGeometryParametersFromFrame(e){let t=this.frame;t&&(Object.assign(this.data,{geometry:Object.assign(this.data.geometry,{cornerRadius:t.cornerRadius,cornerType:0})}),Object.assign(this.dataPatched,{geometry:Object.assign(this.dataPatched.geometry,{cornerRadius:t.cornerRadius,cornerType:0})}),this.localGeometry?.dispose(),this.localGeometry=py(this.dataPatched.geometry,e,this.data.flatShading,this))}applyMaterialParametersFromFrame(e){let t=this.frame;if(t){let n=t.data.backgroundBlur;Object.assign(this.data.material.layers[0].data.texture,{image:this.uiCanvas.uuid}),Object.assign(this.data.material.layers[1].data,{roughness:n.radius,alpha:n.enabled?1:0}),Object.assign(this.dataPatched.material.layers[0].data.texture,{image:this.uiCanvas.uuid}),Object.assign(this.dataPatched.material.layers[1].data,{roughness:n.radius,alpha:n.enabled?1:0}),this.material.reset(this.dataPatched.material,e,!0)}}updateEntity2DByOp(e,t,n,i){this.uiCanvas.updateEntity2DByOp(e,t,n,i),e===this.frameId&&t.type===0&&(t.props.cornerRadius!==void 0?this.applyGeometryParametersFromFrame(i):ii(t.path,["backgroundBlur"])&&this.applyMaterialParametersFromFrame({shared:i}))}get frame(){return this.uiCanvas.frame}get frameId(){return this.frame?.uuid}removeInteractionGeometry(e){super.removeInteractionGeometry(e),this.applySize({},e)}updateGeometryInteractions(e,t){super.updateGeometryInteractions(e,t),this.applySize({width:e.width,height:e.height},t)}},nPe=class{constructor(e,t,n){this.variables=[],this.currentTextureIndex=0;let i=Ki,r=new Qc,o=new sp;o.position.z=1;let a={passThruTexture:{value:null}},s=d(h(),a),l=new Ji(new lp(2,2),s);r.add(l),this.setDataType=function(p){return i=p,this},this.addVariable=function(p,m,g){let v=this.createShaderMaterial(m),b={name:p,initialValueTexture:g,material:v,dependencies:null,renderTargets:[],wrapS:null,wrapT:null,minFilter:zn,magFilter:zn};return this.variables.push(b),b},this.setVariableDependencies=function(p,m){p.dependencies=m},this.init=function(){if(n.capabilities.isWebGL2===!1&&n.extensions.has("OES_texture_float")===!1)return"No OES_texture_float support for float textures.";if(n.capabilities.maxVertexTextures===0)return"No support for vertex shader textures.";for(let p=0;p<this.variables.length;p++){let m=this.variables[p];m.renderTargets[0]=this.createRenderTarget(e,t,m.wrapS,m.wrapT,m.minFilter,m.magFilter),m.renderTargets[1]=this.createRenderTarget(e,t,m.wrapS,m.wrapT,m.minFilter,m.magFilter),this.renderTexture(m.initialValueTexture,m.renderTargets[0]),this.renderTexture(m.initialValueTexture,m.renderTargets[1]);let g=m.material,v=g.uniforms;if(m.dependencies!==null)for(let b=0;b<m.dependencies.length;b++){let _=m.dependencies[b];if(_.name!==m.name){let C=!1;for(let M=0;M<this.variables.length;M++)if(_.name===this.variables[M].name){C=!0;break}if(!C)return"Variable dependency not found. Variable="+m.name+", dependency="+_.name}v[_.name]={value:null},g.fragmentShader=`
uniform sampler2D `+_.name+`;
`+g.fragmentShader}}return this.currentTextureIndex=0,null},this.compute=function(){let p=this.currentTextureIndex,m=this.currentTextureIndex===0?1:0;for(let g=0,v=this.variables.length;g<v;g++){let b=this.variables[g];if(b.dependencies!==null){let _=b.material.uniforms;for(let C=0,M=b.dependencies.length;C<M;C++){let P=b.dependencies[C];_[P.name].value=P.renderTargets[p].texture}}this.doRenderTarget(b.material,b.renderTargets[m])}this.currentTextureIndex=m},this.getCurrentRenderTarget=function(p){return p.renderTargets[this.currentTextureIndex]},this.getAlternateRenderTarget=function(p){return p.renderTargets[this.currentTextureIndex===0?1:0]},this.dispose=function(){l.geometry.dispose(),l.material.dispose();let p=this.variables;for(let m=0;m<p.length;m++){let g=p[m];g.initialValueTexture&&g.initialValueTexture.dispose();let v=g.renderTargets;for(let b=0;b<v.length;b++)v[b].dispose()}};function c(p){p.defines.resolution="vec2( "+e.toFixed(1)+", "+t.toFixed(1)+" )"}this.addResolutionDefine=c;function d(p,m){m=m||{};let g=new Vn({uniforms:m,vertexShader:u(),fragmentShader:p});return c(g),g}this.createShaderMaterial=d,this.createRenderTarget=function(p,m,g,v,b,_){return p=p||e,m=m||t,g=g||mi,v=v||mi,b=b||zn,_=_||zn,new Bn(p,m,{wrapS:g,wrapT:v,minFilter:b,magFilter:_,format:Ar,type:i,depthBuffer:!1})},this.createTexture=function(){let p=new Float32Array(e*t*4),m=new fs(p,e,t,Ar,Ki);return m.needsUpdate=!0,m},this.renderTexture=function(p,m){a.passThruTexture.value=p,this.doRenderTarget(s,m),a.passThruTexture.value=null},this.doRenderTarget=function(p,m){let g=n.getRenderTarget(),v=n.xr.enabled,b=n.shadowMap.autoUpdate,_=n.outputEncoding,C=n.toneMapping;n.xr.enabled=!1,n.shadowMap.autoUpdate=!1,n.outputEncoding=Xs,n.toneMapping=Hl,l.material=p,n.setRenderTarget(m),n.render(r,o),l.material=s,n.xr.enabled=v,n.shadowMap.autoUpdate=b,n.outputEncoding=_,n.toneMapping=C,n.setRenderTarget(g)};function u(){return`void main()	{

	gl_Position = vec4( position, 1.0 );

}
`}function h(){return`uniform sampler2D passThruTexture;

void main() {

	vec2 uv = gl_FragCoord.xy / resolution.xy;

	gl_FragColor = texture2D( passThruTexture, uv );

}
`}}},Gr=new Xr,TC=new L,iPe=class{constructor(e){let t=e.geometry;if(!t.isBufferGeometry||t.attributes.position.itemSize!==3)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(console.warn("THREE.MeshSurfaceSampler: Converting geometry to non-indexed BufferGeometry."),t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.colorAttribute=this.geometry.getAttribute("color"),this.weightAttribute=null,this.distribution=null}setWeightAttribute(e){return this.weightAttribute=e?this.geometry.getAttribute(e):null,this}build(){let e=this.positionAttribute,t=this.weightAttribute,n=new Float32Array(e.count/3);for(let r=0;r<e.count;r+=3){let o=1;t&&(o=t.getX(r)+t.getX(r+1)+t.getX(r+2)),Gr.a.fromBufferAttribute(e,r),Gr.b.fromBufferAttribute(e,r+1),Gr.c.fromBufferAttribute(e,r+2),o*=Gr.getArea(),n[r/3]=o}this.distribution=new Float32Array(e.count/3);let i=0;for(let r=0;r<n.length;r++)i+=n[r],this.distribution[r]=i;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t,n){let i=this.distribution[this.distribution.length-1],r=this.binarySearch(this.randomFunction()*i);return this.sampleFace(r,e,t,n)}binarySearch(e){let t=this.distribution,n=0,i=t.length-1,r=-1;for(;n<=i;){let o=Math.ceil((n+i)/2);if(o===0||t[o-1]<=e&&t[o]>e){r=o;break}else e<t[o]?i=o-1:n=o+1}return r}sampleFace(e,t,n,i){let r=this.randomFunction(),o=this.randomFunction();return r+o>1&&(r=1-r,o=1-o),Gr.a.fromBufferAttribute(this.positionAttribute,e*3),Gr.b.fromBufferAttribute(this.positionAttribute,e*3+1),Gr.c.fromBufferAttribute(this.positionAttribute,e*3+2),t.set(0,0,0).addScaledVector(Gr.a,r).addScaledVector(Gr.b,o).addScaledVector(Gr.c,1-(r+o)),n!==void 0&&Gr.getNormal(n),i!==void 0&&this.colorAttribute!==void 0&&(Gr.a.fromBufferAttribute(this.colorAttribute,e*3),Gr.b.fromBufferAttribute(this.colorAttribute,e*3+1),Gr.c.fromBufferAttribute(this.colorAttribute,e*3+2),TC.set(0,0,0).addScaledVector(Gr.a,r).addScaledVector(Gr.b,o).addScaledVector(Gr.c,1-(r+o)),i.r=TC.x,i.g=TC.y,i.b=TC.z),this}};function rPe(e){let t=new Float32Array(e*e*2);for(let n=0;n<e;n++)for(let i=0;i<e;i++){let r=n*e+i;t[r*2+0]=n/(e-1),t[r*2+1]=i/(e-1)}return t}function oPe(e){let t=Math.ceil(Math.sqrt(e));return Math.max(t,1)}function aPe(e,t){let n=new Ji(e.geometry,e.material),i=[],r=[],o=new L,a=new L;n.geometry.index!==null&&(n.geometry=n.geometry.toNonIndexed());let s=new iPe(n).build();for(let d=0;d<t;d++)s.sample(o,a),i.push(o.x,o.y,o.z),r.push(a.x,a.y,a.z);let l=new Float32Array(i),c=new Float32Array(r);return{positions:l,normals:c}}function RB(e,t){let n=e,i=new Float32Array(4*t*t);for(let o=0;o<t*t;o++)i[4*o]=n[3*o],i[4*o+1]=n[3*o+1],i[4*o+2]=n[3*o+2],i[4*o+3]=0;let r=new fs(i,t,t,Ar,Ki);return r.needsUpdate=!0,r}function sPe({size:e}){let t=new Float32Array(4*e*e);for(let i=0;i<e*e;i++)t[4*i]=i,t[4*i+1]=0,t[4*i+2]=0,t[4*i+3]=0;let n=new fs(t,e,e,Ar,Ki);return n.needsUpdate=!0,n}function lPe(e){let t=new Float32Array(4*e*e);for(let i=0;i<e*e;i++)t[4*i]=0,t[4*i+1]=0,t[4*i+2]=0,t[4*i+3]=0;let n=new fs(t,e,e,Ar,Ki);return n.needsUpdate=!0,n}var cPe=`
// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU
uniform sampler2D uOriginalPosition;
uniform float uTime;
uniform float uSpeed;     // update speed of the particles
uniform vec3 uWorldOffset;    
uniform vec4 uWorldQuaternion;
uniform float uMaxLifeTime;
uniform vec3 uEmitterSize;
uniform float uFPSRatio;     // 1  for 60 FPS

float random (vec2 st) {
    return fract(sin(dot(st.xy,
        vec2(12.9898,78.233)))*
        43758.5453123);
}
vec3 applyQuaternionToVector( vec4 q, vec3 v ){
    return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );
}

vec3 applyForce(vec3 force, float mass) {
    vec3 acceleration = force / mass;
    
    return acceleration;
  }
  

void main() {
    vec2 vUv = gl_FragCoord.xy / resolution.xy;
    vec3 position = texture2D( uCurrentPosition, vUv ).xyz;
    float currentLife = texture2D( uCurrentPosition, vUv ).w;   // from 1 to 0
    float isSpawning = texture2D( uCurrentEmissionRate, vUv ).r;        // 1. = spawning, 0. = not spawning
    float isActive = texture2D( uCurrentEmissionRate, vUv ).g;          // 1. = active, 0. = not active
    float timeStart = texture2D( uCurrentEmissionRate, vUv ).b;         // timeStart in seconds when the particle was emitted
    vec3 originalPosition = ((texture2D( uOriginalPosition, vUv ).xyz) * uEmitterSize);
    vec3 velocity = texture2D( uCurrentVelocity, vUv ).xyz;
    float collisionFlag = texture2D( uCurrentVelocity, vUv ).w;             // 1. = collided, 0. = not collided
    float lifeTime = uMaxLifeTime;

    // Calculate the position adjustment based on collision
    //     if (collisionFlag > .5) {  
    float isColliding = step(0.5, collisionFlag); // 1.0 if collisionFlag > 0.5, otherwise 0.0
    float bounceOffset = 3.0 * isColliding; // Becomes 3.0 if colliding, 0.0 otherwise
    vec3 collisionAdjustedVelocity = velocity * (1.0 + bounceOffset);

    // Update position based on collision or normal movement
    vec3 fpsVelocity = velocity * min(uFPSRatio, 5.0);
    position += mix(fpsVelocity, collisionAdjustedVelocity, isColliding);

    // EMISSION RATE - BIRTH
    // if (isSpawning == 1.0) {
    // Better Approach to avoid If statement
    vec3 newPosition = applyQuaternionToVector(uWorldQuaternion, originalPosition) + uWorldOffset;
    originalPosition = mix(originalPosition, newPosition, isSpawning);
    position = mix(position, originalPosition, isSpawning);;
    timeStart = mix(timeStart, uTime, isSpawning);

    // Calculate timeLeft for life normalization
    float timeLeft = max(lifeTime - (uTime - timeStart), 0.0);
    float life_Normalize = timeLeft / lifeTime;

    // Use isActive to blend between the calculated color and black
    vec4 activeColor = vec4(position, life_Normalize);
    // if (isActive == 1.0) {
    gl_FragColor = mix(vec4(0.0), activeColor, isActive);

}
`,dPe=`

    vec3 mod289(vec3 x) {
      return x - floor(x * (1.0 / 289.0)) * 289.0;
    }
    
    vec4 mod289(vec4 x) {
    return x - floor(x * (1.0 / 289.0)) * 289.0;
    }
    
    vec4 permute(vec4 x) {
        return mod289(((x*34.0)+1.0)*x);
    }
    
    vec4 taylorInvSqrt(vec4 r)
    {
    return 1.79284291400159 - 0.85373472095314 * r;
    }
    
    vec3 fade(vec3 t) {
  return t*t*t*(t*(t*6.0-15.0)+10.0);
}

    float snoise(vec3 v)
    {
    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);
    vec3 i  = floor(v + dot(v, C.yyy) );
    vec3 x0 =   v - i + dot(i, C.xxx) ;
    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min( g.xyz, l.zxy );
    vec3 i2 = max( g.xyz, l.zxy );
    vec3 x1 = x0 - i1 + C.xxx;
    vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y
    vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y
    
    // Permutations
    i = mod289(i);
    vec4 p = permute( permute( permute(
                i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
              + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
              + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));
    
    // Gradients: 7x7 points over a square, mapped onto an octahedron.
    // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)
    float n_ = 0.142857142857; // 1.0/7.0
    vec3  ns = n_ * D.wyz - D.xzx;
    
    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)
    
    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)
    
    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);
    
    vec4 b0 = vec4( x.xy, y.xy );
    vec4 b1 = vec4( x.zw, y.zw );
    
    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));
    
    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;
    
    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);
    
    //Normalise gradients
    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;
    
    // Mix final noise value
    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),
                                  dot(p2,x2), dot(p3,x3) ) );
    }
    
    vec3 snoiseVec3( vec3 x ){
    
      float s  = snoise(vec3( x ));
      float s1 = snoise(vec3( x.y - 19.1 , x.z + 33.4 , x.x + 47.2 ));
      float s2 = snoise(vec3( x.z + 74.2 , x.x - 124.5 , x.y + 99.4 ));
      vec3 c = vec3( s , s1 , s2 );
      return c;
    
    }
    
      
    vec3 curlNoise( vec3 p, float seed){
      p += seed;
      const float e = .1;
      vec3 dx = vec3( e   , 0.0 , 0.0 );
      vec3 dy = vec3( 0.0 , e   , 0.0 );
      vec3 dz = vec3( 0.0 , 0.0 , e   );
    
      vec3 p_x0 = snoiseVec3( p - dx );
      vec3 p_x1 = snoiseVec3( p + dx );
      vec3 p_y0 = snoiseVec3( p - dy );
      vec3 p_y1 = snoiseVec3( p + dy );
      vec3 p_z0 = snoiseVec3( p - dz );
      vec3 p_z1 = snoiseVec3( p + dz );
    
      float x = p_y1.z - p_y0.z - p_z1.y + p_z0.y;
      float y = p_z1.x - p_z0.x - p_x1.z + p_x0.z;
      float z = p_x1.y - p_x0.y - p_y1.x + p_y0.x;
    
      const float divisor = 1.0 / ( 2.0 * e );
      return normalize( vec3( x , y , z ) * divisor );
    
    }


// Classic Perlin noise
float cnoise(vec3 P)
{
  vec3 Pi0 = floor(P); // Integer part for indexing
  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
  Pi0 = mod289(Pi0);
  Pi1 = mod289(Pi1);
  vec3 Pf0 = fract(P); // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = permute(permute(ix) + iy);
  vec4 ixy0 = permute(ixy + iz0);
  vec4 ixy1 = permute(ixy + iz1);

  vec4 gx0 = ixy0 * (1.0 / 7.0);
  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 * (1.0 / 7.0);
  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
  return 2.2 * n_xyz;
}


vec3 fbm_vec3(vec3 p, float frequency, float offset)
{
  return vec3(
    cnoise((p+vec3(offset))*frequency),
    cnoise((p+vec3(offset+20.0))*frequency),
    cnoise((p+vec3(offset-30.0))*frequency)
  );
}

`,uPe=`
  #ifdef USE_COLLIDER
    float restitution = max(uBounce * 2., .01); // Energy Loss
    // SPHERE COLLIDER
    // **************************************************************
    #ifdef USE_SPHERE_COLLIDER       
      // Convert collider size to radii (assuming uColliderSize is the diameter in each axis)
      vec3 radii = uColliderSize;
      // Adjust position relative to collider
      vec3 relPos = position - uColliderPos;
      // Apply rotation of the collider to the relative position
      relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            
      // Scale relative position by radii (for ellipsoid collision detection)
      vec3 scaledPos = relPos / radii;
      // Calculate ellipsoidal distance
      float dist = length(scaledPos); // Distance in terms of ellipsoid
      
      // Check for collision
      if (dist <= 1. + particleSize / length(radii) && collisionFlag == 0.0) {
          // Compute the normal at the collision point, accounting for particle size
        vec3 adjustedPos = scaledPos * (1.0 + particleSize / length(radii));          
        // Compute the normal at the collision point
        vec3 normal = ellipsoidNormal(adjustedPos, radii);
        // Rotate the normal back to world space
        normal = applyQuaternionToVector(uColliderQuaternion, normal);
        // Reflect the velocity vector off the normal
        velocity = reflect(velocity, normal) * restitution;

        collisionFlag = 1.0;
      } else {
        collisionFlag = 0.0;
      }
    #endif

    // BOX COLLIDER or PLANE COLLIDER 
    // **************************************************************
    #ifdef USE_BOX_COLLIDER
      // Box dimensions and repulsion variables
      vec3 boxHalfSize = uColliderSize / 2.0;
      // Convert world position to box's local space
      vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      
      // Collision detection
      vec3 localDistance = abs(localPos) - boxHalfSize;
      float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));    

      // Collision Detected
      if (distToSurface <= particleSize * 0.5 && collisionFlag == 0.0) {      
        // Find the nearest face normal for bounce direction
        vec3 normal;
        if (localDistance.x > localDistance.y && localDistance.x > localDistance.z) {
            normal = vec3(sign(localPos.x), 0.0, 0.0);
        } else if (localDistance.y > localDistance.z) {
            normal = vec3(0.0, sign(localPos.y), 0.0);
        } else {
            normal = vec3(0.0, 0.0, sign(localPos.z));
        }            
        // Rotate normal back to world space
        normal = applyQuaternionToVector(uColliderQuaternion, normal);      
        // Reflect velocity and apply repulsion force
        velocity = reflect(velocity, normal) * restitution;
        
        collisionFlag = 1.0;
      } else {
        collisionFlag = 0.0;
      }
    #endif      
  #endif      
  // END COLLIDER    
`,hPe=`
  #ifdef USE_ATTRACTOR

      #ifdef USE_SPHERE_COLLIDER      
        // Convert collider size to radii (assuming uColliderSize is the diameter in each axis)
        vec3 radii = uColliderSize;
        // Adjust position relative to collider
        vec3 relPos = position - uColliderPos;
        // Apply rotation of the collider to the relative position
        relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            
        // Scale relative position by radii (for ellipsoid collision detection)
        vec3 scaledPos = relPos / radii;
        // Calculate ellipsoidal distance
        float distToSurface = length(scaledPos); // Distance in terms of ellipsoid
        float insideCheck = 1.0;

      #endif


      #ifdef USE_BOX_COLLIDER
        // Box dimensions
        vec3 boxHalfSize = uColliderSize / 2.0;
        // Convert world position to box's local space
        vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      
        vec3 localDistance = abs(localPos) - boxHalfSize;
        float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));
        float insideCheck = particleSize;
      #endif      
  
      // Apply vortex force inside the Helper
      #ifdef USE_FORCE_LOCAL_SPACE
        if (distToSurface <= insideCheck ) {    
            // Define parameters for the attractor field
            #ifdef USE_SPHERE_COLLIDER      
              float attractorStrength = (1.0 - distToSurface ) * uForceIntensity; // Adjust as needed
            #endif

            #ifdef USE_BOX_COLLIDER
              float attractorStrength = max((1.0 - insideCheck / distToSurface), 0.) * uForceIntensity; // Adjust as needed
              #endif

            float attractorDamping = uForceDamping;  // Adjust as needed (higher values will attenuate velocity more)
          
            // Use the same radii calculation code as for the collider
            vec3 attractorRadii = uColliderSize;
            // Adjust position relative to attractor center
            vec3 relPos = position - uColliderPos;
            // Apply rotation of the collider to the relative position
            relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            
            // Scale relative position by radii (for ellipsoid attraction)
            vec3 scaledPos = relPos / attractorRadii;

            // Calculate ellipsoidal distance as attractor radius
            float attractorRadius = length(scaledPos);
            // Calculate the distance from the attractor center
            vec3 relativePosition = position - uColliderPos;
            // Calculate the force vector towards the attractor center
            vec3 attractorForce = normalize(relativePosition) * attractorStrength;
            // Apply the attractor force to the particle
            velocity -= attractorForce;
            // Attenuate the particle's velocity
            velocity *= attractorDamping;
        }
      #else 
            // Calculate the distance from the attractor center
            vec3 relativePosition = position - uColliderPos;
            // Calculate the force vector towards the attractor center
            vec3 attractorForce = normalize(relativePosition) * uForceIntensity;
            // Apply the attractor force to the particle
            velocity -= attractorForce;
            // Attenuate the particle's velocity
            velocity *= uForceDamping;
      #endif    
  #endif      
`,pPe=`
  #ifdef USE_VORTEX
    // Box dimensions
    vec3 boxHalfSize = uColliderSize / 2.0;
    // Convert world position to box's local space
    vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      
    vec3 localDistance = abs(localPos) - boxHalfSize;
    float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));

    // Apply vortex force inside the box
    if (distToSurface <= particleSize) {
      float vortexStrength = uForceIntensity;
      vec3 localTopCenter = vec3(0.0, 0., 0.0);

      // Transform the local top center to the world space
      vec3 vortexCenter = uColliderPos + applyQuaternionToVector(uColliderQuaternion, localTopCenter);
      // Calculate the vector from particle to vortex center
      vec3 vortexVector = vortexCenter - position;

      // Calculate the rotation axis from the inverse of the collider's quaternion and the fixed up vector
      // Note: important to add a tiny z component to the up vector to avoid instability
      vec3 upVector = vec3(0.0, 1.0, 0.01);
      vec3 rotationAxis = cross(upVector, applyQuaternionToVector(uColliderQuaternion, vortexVector));
      rotationAxis = normalize(rotationAxis);

      // Add rotational component to velocity
      float rotationSpeed = length(vortexVector * vortexStrength * 3.0) ; 

      vec3 rotationVelocity = rotationAxis * rotationSpeed;
      // velocity += rotationVelocity * 0.005 ;
      velocity = rotationVelocity * 0.005 ;

      // Calculate vortex force
      // vec3 vortexForce = normalize(vortexVector) * uSpeed * .1 ;
      // Apply the vortex force to the particle
      vec3 originDirection = applyQuaternionToVector(uWorldQuaternion, directions);
      velocity += applyForce( originDirection * uSpeed * (1. - uForceDamping) , mass * .5);
    }
  #endif      
`,mPe=`
// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU
uniform sampler2D uOriginalPosition;
uniform sampler2D uDirections;     
uniform vec3 uDirectionsAxis;
uniform vec4 uWorldQuaternion;
uniform vec3 uGravity;        
uniform float uNoiseStrength;     // Variation of the noise
uniform float uNoiseScale;        // Scale of the noise
uniform float uNoiseSeed;         // Seed of the noise
uniform float particleSize;
uniform float uSpeed;     // update speed of the particles
uniform float uRandomMassFactor;

// COLLIDER
uniform vec3 uColliderPos;                // Collider Position
uniform vec3 uColliderSize;               // Collider Dimension
uniform vec4 uColliderQuaternion;         // Collider Rotation
uniform vec4 uColliderQuaternionInvert;   // Collider Rotation
uniform float uBounce;                    // Bounce factor
uniform float uForceDamping;
uniform float uForceIntensity;


`+dPe+`
float rand(vec2 co){
    return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);
}
vec3 applyQuaternionToVector( vec4 q, vec3 v ){
    return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );
 } 
vec3 applyForce(vec3 force, float mass) {
  vec3 acceleration = force / mass;
  
  return acceleration;
}

vec4 conjugate(vec4 q) {
  return vec4(q.w, -q.x, -q.y, -q.z);
}

// Function to compute the normal of the ellipsoid at a given point
vec3 ellipsoidNormal(vec3 p, vec3 radii) {
  return normalize(p / (radii * radii));
}

float friction = .3;

void main() {
    vec2 vUv = gl_FragCoord.xy / resolution.xy;
    vec3 position = texture2D( uCurrentPosition, vUv ).xyz;
    vec3 originalPosition = texture2D( uOriginalPosition, vUv ).xyz;
    float timeLeft = texture2D( uCurrentPosition, vUv ).w;
    vec3 directions = texture2D( uDirections, vUv ).xyz;    
    vec3 velocity = texture2D( uCurrentVelocity, vUv ).xyz;
    float mass = rand(originalPosition.xy) * 0.5 + 0.5;
    float isSpawning = texture2D( uCurrentEmissionRate, vUv ).x;        // 1. = spawning, 0. = not spawning
    float isActive = texture2D( uCurrentEmissionRate, vUv ).y;          // 1. = active, 0. = not active
    float collisionFlag =texture2D( uCurrentVelocity, vUv ).w;          // Indicate collision

    // Randomness Mass
    mass = (1.0 - (uRandomMassFactor * mass));
    
    if (isActive == 1.0) {
      // **************************************************************
      // FORCES NOISES
      // **************************************************************
      #ifdef USE_CURL_NOISE
        if (uNoiseScale > 0.0 ) {
          velocity = curlNoise(position * uNoiseScale * .002, uNoiseSeed) * ( uNoiseStrength + 1.0) * .05 * uSpeed;
        }
        // Variation of the noise Over Time
        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0 ) {
          velocity += curlNoise( position, uNoiseSeed)  * uNoiseStrength * 0.05 * uSpeed;
        }
      #endif
      // **************************************************************
      #ifdef USE_SIMPLEX_NOISE
        if (uNoiseScale > 0.0 ) {
          velocity = vec3(snoise(position * uNoiseScale * .001) * ( uNoiseStrength + 1.0) * .1);
          velocity *= uSpeed;
        }
        // Variation of the noise Over Time
        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0) {
          velocity += vec3(snoise(position * uNoiseStrength * .001) * .05 * uSpeed);
        }
      #endif
      // ************************************************************** 
      #ifdef USE_FBM_NOISE
        if (uNoiseScale > 0.0 ) {
          float offset = 0.0;
          velocity = fbm_vec3(position * uNoiseScale * .001, ( uNoiseStrength + 1.0), offset);
          velocity *= uSpeed;
        }
        // Variation of the noise Over Time
        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0 ) {      
          float offset = 0.0;
          velocity += fbm_vec3(position * uNoiseStrength * .001, ( uNoiseStrength + 1.0), uNoiseSeed) * .1 * uSpeed;
        }
      #endif

      // COLLIDER
      ${uPe}
      // ATTRACTION
      ${hPe}  
      // VORTEX
      ${pPe}
    } 
    // End isActive

    // SPAWN BIRTH 
    // **************************************************************
    // if (isSpawning == 1.)
    #ifdef USE_NORMALS
      velocity = mix(velocity, applyQuaternionToVector(uWorldQuaternion, directions) * uSpeed, isSpawning);
    #else
      velocity = mix(velocity, applyQuaternionToVector(uWorldQuaternion, uDirectionsAxis) * uSpeed, isSpawning);    
    #endif
    
    // if (collisionFlag == 0.0)
    velocity += applyForce(uGravity, mass * .5) * (1.0 - collisionFlag);

    gl_FragColor = vec4(velocity, collisionFlag);
}
`,kH=`

  // Linear Fade In
  float linearFadeIn(float t) {
    return t;
  }


  // linear fade out
  float linearFadeOut(float t) {
    return 1.0 - t;
  }
  
  float linearInOut(float t) {
    return t < 0.5 ? t :  (1.0 - t);  
  }

    // lerp
    float lerp(float a, float b, float t) {
      return a + (b - a) * t;
    }

  // Ease In Out Quart
  float exponentialInOut(float t) {
    return t < 0.4 ? lerp(0.0, 1.0, t / 0.4) :
    t > 0.6 ? lerp(1.0, 0.0, (t - 0.6) / 0.4) :
    1.0;
   }

  // constant
  float constant(float t) {
    return 1.0;
  } 
`,fPe=`

float rand(vec3 co){
  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

vec3 applyQuaternionToVector( vec4 q, vec3 v ){
  return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );
}

vec3 applyForce(vec3 force, float mass) {
  vec3 acceleration = force / mass;
    
  return acceleration;
}
`,gPe=`
vec3 rgb2xyz (in vec3 rgb) {
    float r = rgb.r;
	float g = rgb.g;
	float b = rgb.b;

	r = r > 0.04045 ? pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);
	g = g > 0.04045 ? pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);
	b = b > 0.04045 ? pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);

	float x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);
	float y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);
	float z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);
    
    vec3 xyz = vec3(
        (r * 0.4124) + (g * 0.3576) + (b * 0.1805) * 100.0,
        (r * 0.2126) + (g * 0.7152) + (b * 0.0722) * 100.0,
        (r * 0.0193) + (g * 0.1192) + (b * 0.9505) * 100.0
    );
    return(xyz);
}

vec3 xyz2lab (in vec3 xyz) {
	float x = xyz.x / 95.047;
	float y = xyz.y / 100.0;
	float z = xyz.z / 108.883;

	x = x > 0.008856 ? pow(x, 1.0 / 3.0) : (7.787 * x) + (16.0 / 116.0);
	y = y > 0.008856 ? pow(y, 1.0 / 3.0) : (7.787 * y) + (16.0 / 116.0);
	z = z > 0.008856 ? pow(z, 1.0 / 3.0) : (7.787 * z) + (16.0 / 116.0);

    vec3 lab = vec3((116.0 * y) - 16.0, 500.0 * (x - y), 200.0 * (y - z));
    return(lab);
}

vec3 rgb2lab(in vec3 rgb) {
    vec3 xyz = rgb2xyz(rgb);
    vec3 lab = xyz2lab(xyz);
    return(lab);
}

vec3 xyz2rgb (in vec3 xyz) {
	float x = xyz.x / 100.0;
	float y = xyz.y / 100.0;
	float z = xyz.z / 100.0;
	
    
	float r = (x *  3.2406) + (y * -1.5372) + (z * -0.4986);
	float g = (x * -0.9689) + (y *  1.8758) + (z *  0.0415);
	float b = (x *  0.0557) + (y * -0.2040) + (z *  1.0570);

	r = r > 0.0031308 ? ((1.055 * pow(r, 1.0 / 2.4)) - 0.055) : r * 12.92;
	g = g > 0.0031308 ? ((1.055 * pow(g, 1.0 / 2.4)) - 0.055) : g * 12.92;
	b = b > 0.0031308 ? ((1.055 * pow(b, 1.0 / 2.4)) - 0.055) : b * 12.92;

	r = min(max(0.0, r), 1.0);
	g = min(max(0.0, g), 1.0);
	b = min(max(0.0, b), 1.0);

	return(vec3(r, g, b));
}

vec3 lab2xyz (in vec3 lab) {
    float l = lab.x;
	float a = lab.y;
	float b = lab.z;

  	float y = (l + 16.0) / 116.0;
	float x = a / 500.0 + y;
	float z = y - b / 200.0;

	float y2 = pow(y, 3.0);
	float x2 = pow(x, 3.0);
	float z2 = pow(z, 3.0);

  	y = y2 > 0.008856 ? y2 : (y - 16.0 / 116.0) / 7.787;
	x = x2 > 0.008856 ? x2 : (x - 16.0 / 116.0) / 7.787;
	z = z2 > 0.008856 ? z2 : (z - 16.0 / 116.0) / 7.787;

	x *= 95.047;
	y *= 100.0;
	z *= 108.883;

	return(vec3(x, y, z));
}
vec3 lab2rgb (in vec3 lab) {
    vec3 xyz = lab2xyz(lab);
    vec3 rgb = xyz2rgb(xyz);
    return(rgb);
}

`,vPe=`
  uniform sampler2D uPosition;
  uniform float uSize;
  uniform float uSizeEnd;
  uniform vec3 uWorldOffset;
  uniform vec4 uWorldQuaternion;
  // Billboard Behavior - Currently at Zero, but we can change that
  uniform float uRotation;
  uniform float uRotationEnd;
  uniform vec2 center;

  // Randomness
  uniform float uRandScaleFactor;
  uniform float uRandRotationFactor;

  attribute vec2 ref;

  varying float v_LifeLeft;    // normalized lifetime 1 to 0
  varying vec2 vUv;
  varying vec2 vRef;

  ${fPe}
  ${kH}
`,yPe=({easeSize:e="linearFadeOut"})=>`
  vUv = uv;  
  vRef = ref;
  // Normalized LifeTime 1 to 0
  float lifeLeft = texture2D(uPosition, ref).w;
  v_LifeLeft = lifeLeft;
  // Position From DataTexture Simulation
  vec3 pos = texture2D(uPosition, ref).rgb - uWorldOffset;
  // Apply World Quaternion
  pos = applyQuaternionToVector(uWorldQuaternion, pos);  
            
  #ifdef  USE_SIZE_END
    // Scaled Over Time
    float t = 1. - lifeLeft;
    float currentSize = mix(uSize, uSizeEnd, t); // Linearly interpolate between uSize and uSizeEnd
    vec3 scaledPosition = position * vec3(currentSize);
  #else
    // Change Size Behavior over LifeTime
    float easeSize = ${e}(1. - lifeLeft);
    // Scaled Over Time
    vec3 scaledPosition = position * vec3(uSize * easeSize);
  #endif

  // Billboard Behavior
  vec2 scale;
  scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
  scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );    
  // Randomness 
  float randRef = rand(ref);
  scale *= (1.0 - (uRandScaleFactor * randRef));
  // Rotation
  float randRotation =  2.0 * PI * ( uRandRotationFactor * randRef);
  float originalRotation = (1.0 - uRotation) * 2.0 * PI;
  float originalRotationEnd = (1.0 - uRotationEnd) * 2.0 * PI;
  // OverTime
  float finalRotation = mix(originalRotation + randRotation, originalRotationEnd + randRotation, lifeLeft);

  vec2 alignedPosition = ( scaledPosition.xy - ( center - vec2( 0.5 ) ) ) * scale;
  vec2 rotatedPosition;
  rotatedPosition.x = cos( finalRotation ) * alignedPosition.x - sin( finalRotation ) * alignedPosition.y;
  rotatedPosition.y = sin( finalRotation ) * alignedPosition.x + cos( finalRotation ) * alignedPosition.y;
  
  mat4 instanceMatrix = mat4(
    vec4(1.0, 0.0, 0.0, 0.0),
    vec4(0.0, 1.0, 0.0, 0.0),
    vec4(0.0, 0.0, 1.0, 0.0),
    vec4(pos.x, pos.y, pos.z, 1.0)
  );  

  mvPosition = modelViewMatrix * instanceMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
  mvPosition.xy += rotatedPosition;
  gl_Position = projectionMatrix  * mvPosition;   
`,bPe=`
  uniform vec4 uColor;                // start color
  uniform vec4 uColor2;               // end color
  uniform sampler2D uTexture;         // texture
  varying float v_LifeLeft;   // normalized lifetime 1 to 0
  varying vec2 vUv;
  varying vec2 vRef;

  float random(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
  }
  `+kH+`  
  ${gPe}

`,_Pe=({easeOpacity:e="linearFadeOut"})=>`  
  // if Particle is dead, hide it
  if (v_LifeLeft <= 0.005 ) {
    discard;
  }

  #ifdef USE_RANDOM_COLORING
    float randVal = random(vRef); // Generate a random value based on the reference
    vec4 color = mix(uColor, uColor2, randVal); // Interpolate between the two colors
  #else
    vec4 color = mix(uColor, uColor2, 1. - v_LifeLeft);
  #endif

  // Opacity over Life Time
  float finalAlpha = ${e}(1. - v_LifeLeft);  
  vec4 textureColor = texture2D(uTexture, vUv).rgba; 
  finalColor = textureColor.rgb * color.rgb;
  finalAlpha = color.a * textureColor.a * finalAlpha;
  
  gl_FragColor = vec4(finalColor, finalAlpha);     

`,CPe=class extends Vn{constructor(e,t){super(),this.needsJitter=!0,this.type="ParticleMaterial",this.easeOpacity="linearFadeIn",this.easeSize="linearFadeIn",this.useSizeEnd=!1,this.isColoringRandom=!1,this.init(e,t),this.context=t}reset(){}init(e,t){this.transparent=!0,this.depthTest=!0,this.depthWrite=!1,this.easeOpacity=e.ease,this.easeSize=e.easeSize,this.layers=[],pr.startContext(pr.globalContext),this.lightLayer=new Ll(0,"",se(B({},Sr.defaultData("light","phong")),{visible:!1}),new kT,{},t.shared),pr.endContext(pr.globalContext),this.build()}updateState(e){e.coloring!==void 0&&(this.isColoringRandom=e.coloring==="random"),e.color!==void 0&&(e.color instanceof Array?this.uniforms.uColor.value=e.color:this.uniforms.uColor.value=this.context.shared.color(e.color)),e.color2!==void 0&&(e.color2 instanceof Array?this.uniforms.uColor2.value=e.color2:this.uniforms.uColor2.value=this.context.shared.color(e.color2)),e.size!==void 0&&(this.uniforms.uSize.value=e.size[0],this.uniforms.uSizeEnd.value=e.size[1],e.size[0]!==e.size[1]?this.useSizeEnd=!0:this.useSizeEnd=!1),e.ease!==void 0&&(this.easeOpacity=e.ease,this.build()),e.easeSize!==void 0&&(this.easeSize=e.easeSize,this.build()),this.needsUpdate=!0}onBeforeCompile(e){this.build(),e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader}build(){let e=new kj;return e.needsJitter=this.needsJitter,e.addFragmentParsCode(O_e),e.buildShader("vertex",this.fragment),e.buildShader("fragment",this.fragment),e.addFragmentFinalCode(S_e),this.isColoringRandom&&e.define("USE_RANDOM_COLORING"),this.useSizeEnd&&e.define("USE_SIZE_END"),e.addVertexParsCode(vPe),e.addFragmentParsCode(bPe),e.addVertexFinalCode(yPe({easeSize:this.easeSize})),e.addFragmentFinalCode(_Pe({easeOpacity:this.easeOpacity})),this.vertexShader=e.getCode("vertex"),this.fragmentShader=e.getCode("fragment"),this.defines=e.defines,this.uniforms=B(B({},e.uniforms),this.uniforms),this.extensions=e.extensions,this}get nodeMaterial(){return this}get fragment(){return this.lightLayer.node}getDefines(){return this.defines}nodeMaterialDispose(){this.layers.forEach(e=>e.dispose()),super.dispose()}},o3=class{constructor(e,t,n,i){this.type="SphereEmitterShape",this.targetMesh=void 0,this.size=e,this.type=n,this.textureSize=oPe(t);let r=1;this.targetMesh=i?.type==="Mesh"&&i?i:this.getMesh(n,r);let{positions:o,dataTexture:a,dataTextureNormals:s}=this.createPositions(this.textureSize,this.targetMesh??this.getMesh(n,r));this.positionsTexture=a,this.positionsAttribute=o,this.directionsTexture=s}createPositions(e,t){let{positions:n,normals:i}=aPe(t,e*e),r=RB(n,e),o=RB(i,e);return{dataTexture:r,positions:n,dataTextureNormals:o}}getMesh(e,t){let n=null;switch(e){case"SphereEmitterShape":{n=new _f(t*.5,32,32);break}case"TorusEmitterShape":{n=new vV(t*.5,.3,15,40);break}case"ConeEmitterShape":{n=new UA(t,t,15);break}case"BoxEmitterShape":{n=new Qs(t,t,t);break}case"PlaneEmitterShape":{n=new lp(t,t),n.rotateX(-Math.PI/2);break}case"MeshEmitterShape":{n=new _f(t,32,32);break}default:{n=new _f(t,32,32);break}}return new Ji(n,new ap({color:16711680}))}applyToShader(e,t){this.size=new L().fromArray(t.size),e.uEmitterSize.value=this.size}dispose(){this.positionsTexture.dispose(),this.directionsTexture.dispose(),this.positionsAttribute=new Float32Array}};function Rv(e){let t=B({},e),n=DM.defaultData;t.forceFieldObjectId&&(t.colliderEntityId=t.forceFieldObjectId);let i=B(B({},n.shape),t.shape),r=B(B({},n.renderMaterial),t.renderMaterial);return se(B(B({},n),t),{shape:i,renderMaterial:r})}var MPe=`
// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU

uniform sampler2D uIndex; // Texture with corresponding index
uniform float uLastIndexEmitted; // Last emitted index
uniform float uParticlesToEmit; // Number of particles to emit on that frame
uniform float uTime;

void main() {
    vec2 vUv = gl_FragCoord.xy / resolution.xy;
    float particleIndex = texture(uIndex, vUv).x;
    float timeLeft = texture2D( uCurrentPosition, vUv ).w;
    float isActive = texture2D( uCurrentEmissionRate, vUv ).g;    // 1. = active, 0. = not active
    float timeStart = texture2D( uCurrentEmissionRate, vUv ).b;


    // ********** Detect Colision to Create a flag and use it in position **********
    // We are doing this here, so

    // ********** Emit Particles **********
    // X = isSpawning 0.0 or 1.0
    // Y = isActive 0.0 or 1.0
    // Check if the vertex index is between the first value and the last value
    // if (particleIndex >= uLastIndexEmitted && particleIndex < uLastIndexEmitted + uParticlesToEmit) {
    //     // Emit a particle by writing 1 to the red channel of the color output
    //     // r: 1. == emit the particle
    //     // g: 1. == particle is now active
    //     timeStart = uTime;
    //     gl_FragColor = vec4(1.0, 1.0, timeStart, 1.0);
    // } else {
    //     // The Particle is either already emitted or not in the range of the particles to emit
    //     // Do not emit a particle by writing 0 to the red channel of the color output        
    //     gl_FragColor = vec4(0.0, isActive, timeStart, 1.0);
    // }
    // Determine if the particle is within the emission range
    float emitLowerBound = step(uLastIndexEmitted, particleIndex);
    float emitUpperBound = step(particleIndex, uLastIndexEmitted + uParticlesToEmit - 1.0);
    float emitParticle = emitLowerBound * emitUpperBound; // 1.0 if in range, 0.0 otherwise

    // Set timeStart and color
    timeStart = mix(timeStart, uTime, emitParticle);
    gl_FragColor = vec4(emitParticle, mix(isActive, 1.0, emitParticle), timeStart, 1.0);


}
`,a3=10,wPe=class extends qn{constructor(e,t){super(),this.type="ParticleEmitter",this.debugMode=!1,this.worldSpace=!0,this.rootObject=null,this.gpuCompute=null,this.positionSimRT=null,this.velocitySimRT=null,this.emissionRateSimRT=null,this.emitterShape=void 0,this.isEmitting=!1,this.hasBeenReset=!1,this.emittedParticlesAmount=0,this.lastEmitTime=0,this.globalTime=0,this.targetFPS=60,this.previousRatio=1,this.lerpFactor=.4,this.particlesAmount=0,this.noiseStrength=0,this.noiseScale=0,this.isBillboardBased=!0,this.simFeaturesDefinition={USE_COLLIDER:!1,USE_ATTRACTOR:!1,USE_VORTEX:!1,USE_SPHERE_COLLIDER:!1,USE_BOX_COLLIDER:!1,USE_FORCE_LOCAL_SPACE:!1,USE_NORMALS:!1,USE_CURL_NOISE:!0,USE_SIMPLEX_NOISE:!1,USE_FBM_NOISE:!1},this.textureLoader=new gce,this.currentWorldPosition=new L,this.systemQuaternion=new Dt,this.worldGravity=new L(0,0,0),this.directionAxis=new L(0,0,0),this.colliderV3=new L(0,0,0),this.colliderQuaternion=new Dt(0,0,0,1),this.matrixAutoUpdate=!0,this.renderer=e,this.system=t,this.shared=t.context.shared;let n=t.data;this.material=new CPe(n.renderMaterial,t.context),this.material.uniforms={uSize:{value:0},uSizeEnd:{value:0},uColor:{value:n.renderMaterial.color},uColor2:{value:n.renderMaterial.color2},uPosition:{value:new L(0,0,0)},uEmissionData:{value:new L(0,0,0)},uTexture:{value:this.defaultTexture},uWorldOffset:{value:new L(0,0,0)},uWorldQuaternion:{value:new Et(0,0,0,1)},uRandScaleFactor:{value:n.randomScale??0},uRandRotationFactor:{value:n.randomRotation??0},uRotation:{value:n.renderMaterial.spriteRotation[0]??0},uRotationEnd:{value:n.renderMaterial.spriteRotation[1]??0}},this.setTexture(this.material.uniforms,n.renderMaterial.texture),this.init(n)}setTexture(e,t){let n=t.data;if(typeof t=="string"){let i=this.shared.image(t),r=new wi(i.img);r.needsUpdate=!0,e.uTexture.value=r;return}if(typeof n!="string"){let i=new Image;i.onload=()=>{let a=new wi(i);a.needsUpdate=!0,e.uTexture.value=a};let r=new Blob([n],{type:"image/*"}),o=URL.createObjectURL(r);i.src=o}}updateGeometryAttributes(e,t){let n=rPe(t);!this.emitterShape?.positionsAttribute||e.geometry.setAttribute("ref",new Qv(n,2))}applyWorldSpace(){if(!this.system.started||!this.worldSpace||!this.positionSimRT||!this.velocitySimRT)return;let e=this.system;e.getWorldQuaternion(this.systemQuaternion),this.systemQuaternion.invert(),e.getWorldPosition(this.currentWorldPosition),this.material.uniforms.uWorldOffset.value=this.currentWorldPosition,this.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize()),this.positionSimRT.material.uniforms.uWorldOffset.value=this.currentWorldPosition,this.systemQuaternion.invert(),this.positionSimRT.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize()),this.velocitySimRT.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize())}update(e,t){if(!this.gpuCompute||!this.positionSimRT||!this.velocitySimRT||!this.emissionRateSimRT||this.hasBeenReset)return;if(this.checkIfAllParticlesAreDead()&&!this.hasBeenReset){this.reset();return}this.applyWorldSpace(),this.globalTime=e,this.positionSimRT.material.uniforms.uTime.value=e,this.emissionRateSimRT.material.uniforms.uTime.value=e;let n=1e3/t,i=this.targetFPS/n,r=this.previousRatio+(i-this.previousRatio)*this.lerpFactor;this.positionSimRT.material.uniforms.uFPSRatio.value=r,this.previousRatio=r;let o=this.isEmitting?this.GoEmitSomeParticles(e,this.system.data.birthRatePerSec):0;this.emissionRateSimRT.material.uniforms.uLastIndexEmitted.value=this.emittedParticlesAmount,this.emissionRateSimRT.material.uniforms.uParticlesToEmit.value=o,this.material.uniforms.uPosition.value=this.gpuCompute.getCurrentRenderTarget(this.positionSimRT)?.texture,this.system.colliderEntities.length>0&&this.renderColliders(),this.gpuCompute.compute()}renderColliders(){if(!this.velocitySimRT)return;let e=this.system.colliderEntities[0];if(!e)return;e.getWorldPosition(this.colliderV3),this.colliderV3.y===0&&(this.colliderV3.y=1e-4),this.velocitySimRT.material.uniforms.uColliderPos.value.copy(this.colliderV3);let t=e.data.size;this.colliderV3.fromArray(t),this.velocitySimRT.material.uniforms.uColliderSize.value.copy(this.simFeaturesDefinition.USE_SPHERE_COLLIDER?this.colliderV3.multiplyScalar(.5):this.colliderV3),e.getWorldQuaternion(this.colliderQuaternion),this.velocitySimRT.material.uniforms.uColliderQuaternion.value.copy(this.colliderQuaternion.normalize()),this.velocitySimRT.material.uniforms.uColliderQuaternionInvert.value.copy(this.colliderQuaternion.normalize().invert())}updateState(e){!this.velocitySimRT||!this.positionSimRT||(e.renderMaterial&&this.updateMaterialState(e.renderMaterial),this.updateParticleState(e))}updateVariableState(e,t){if(!this.velocitySimRT||!this.positionSimRT)return;t[2]==="size"&&this.material.updateState({size:[e,this.material.uniforms.uSizeEnd.value]}),t[2]==="sizeEnd"&&this.material.updateState({size:[this.material.uniforms.uSize.value,e]});let n=(i,r)=>{let o=[...this.system.data.shape.size];o[i]=r,this.updateParticleState({shape:se(B({},this.system.data.shape),{size:o})})};t[2]==="shape_size_0"&&n(0,e),t[2]==="shape_size_1"&&n(1,e),t[2]==="shape_size_2"&&n(2,e),t[2]==="speed"&&(this.velocitySimRT.material.uniforms.uSpeed.value=e/a3),t[2]==="gravity"&&this.worldGravity.set(0,e/100,0),t[2]==="noiseStrength"&&(this.noiseStrength=e,this.velocitySimRT.material.uniforms.uNoiseStrength.value=this.noiseStrength),t[2]==="noiseScale"&&(this.noiseScale=e,this.velocitySimRT.material.uniforms.uNoiseScale.value=this.noiseScale),t[2]==="direction_x"&&(this.directionAxis=this.getDirectionAxis([Number(e),this.system.data.direction[1],this.system.data.direction[2]])),t[2]==="direction_y"&&(this.directionAxis=this.getDirectionAxis([this.system.data.direction[0],Number(e),this.system.data.direction[2]])),t[2]==="direction_z"&&(this.directionAxis=this.getDirectionAxis([this.system.data.direction[0],this.system.data.direction[1],Number(e)]))}updateMaterialState(e){this.material.updateState(se(B({},e),{size:e.size?[Number(this.shared.getVariable(e.size[0],[this.uuid,"particles","size"])),Number(this.shared.getVariable(e.size[1],[this.uuid,"particles","sizeEnd"]))]:[0,0]})),e.texture&&(this.setTexture(this.material.uniforms,e.texture),this.material.needsUpdate=!0)}updateParticleState(e){if(!(!this.positionSimRT||!this.velocitySimRT)){if(this.shouldReInitGPUCompute(e)&&this.init(Rv(this.system.data)),e.life!==void 0&&(this.positionSimRT.material.uniforms.uMaxLifeTime.value=e.life),e.speed!==void 0&&(this.velocitySimRT.material.uniforms.uSpeed.value=Number(this.shared.getVariable(e.speed,[this.uuid,"particles","speed"]))/a3),e.collisionBounce!==void 0&&(this.velocitySimRT.material.uniforms.uBounce.value=e.collisionBounce),e.noiseStrength!==void 0&&(this.noiseStrength=Number(this.shared.getVariable(e.noiseStrength,[this.uuid,"particles","noiseStrength"])),this.velocitySimRT.material.uniforms.uNoiseStrength.value=this.noiseStrength),e.noiseScale!==void 0&&(this.noiseScale=Number(this.shared.getVariable(e.noiseScale,[this.uuid,"particles","noiseScale"])),this.velocitySimRT.material.uniforms.uNoiseScale.value=this.noiseScale),e.noiseSeed!==void 0&&(this.velocitySimRT.material.uniforms.uNoiseSeed.value=e.noiseSeed),e.randomMass!==void 0&&(this.velocitySimRT.material.uniforms.uRandomMassFactor.value=e.randomMass),e.renderMaterial?.size!==void 0){let t=this.shared.getVariable(e.renderMaterial.size[0],[this.uuid,"particles","size"]);this.velocitySimRT.material.uniforms.particleSize.value=Number(t)}if(e.renderMaterial?.spriteRotation!==void 0&&(this.material.uniforms.uRotation.value=e.renderMaterial.spriteRotation[0],this.material.uniforms.uRotationEnd.value=e.renderMaterial.spriteRotation[1]),e.shape!==void 0){let t=e.shape.size??this.system.data.shape.size,n=[Number(this.shared.getVariable(t[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(t[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(t[2],[this.uuid,"particles","shape_size_2"]))],i=se(B({},Rv(this.system.data).shape),{size:n});this.emitterShape?.applyToShader(this.positionSimRT.material.uniforms,i)}if(e.gravity!==void 0&&(this.worldGravity.set(0,Number(this.shared.getVariable(this.system.data.gravity,[this.uuid,"particles","gravity"]))/100,0),this.velocitySimRT.material.uniforms.uGravity={value:this.worldGravity}),e.direction!==void 0){let t=this.getDirectionFromVariable(e.direction);this.directionAxis=this.getDirectionAxis(t),this.velocitySimRT.material.uniforms.uDirectionsAxis.value=this.directionAxis}e.randomRotation!==void 0&&(this.material.uniforms.uRandRotationFactor.value=e.randomRotation),e.randomScale!==void 0&&(this.material.uniforms.uRandScaleFactor.value=e.randomScale)}}updateForceFieldParameters(e){!this.velocitySimRT||(e.forceIntensity!==void 0&&(this.velocitySimRT.material.uniforms.uForceIntensity.value=e.forceIntensity),e.forceDambing!==void 0&&(this.velocitySimRT.material.uniforms.uForceDamping.value=e.forceDambing))}getDirectionAxis(e){let t=[Number(e[0])*et.DEG2RAD,Number(e[1])*et.DEG2RAD,Number(e[2])*et.DEG2RAD],n=new mr(t[0],t[1],t[2],"XYZ");return this.directionAxis.set(0,1,0).applyEuler(n).normalize(),this.velocitySimRT&&(this.velocitySimRT.material.uniforms.uDirectionsAxis.value=this.directionAxis),this.directionAxis}shouldReInitGPUCompute(e){let{birthRatePerSec:t,rootObjectType:n,colliderEntityId:i,shape:r,emitTimeDuration:o,emitTimeCycle:a,life:s,directionMode:l,noiseType:c}=e;return t!==void 0||n!==void 0||i||i===null||a!==void 0||r!==void 0||s!==void 0||o!==void 0||l!==void 0||c!==void 0}init(e){this.dispose(),this.particlesAmount=this.getMaxParticlesAmount({birthRatePerSecond:e.birthRatePerSec,particleMaxLifeTime:e.life,loopDuration:e.emitTimeCycle==="infinity"?0:e.emitTimeDuration}),this.particlesAmount>1e5&&(console.warn("The maximum number of particles is limited to 100000."),this.particlesAmount=1e5),this.emitterShape=this.createShape(e.shape,this.particlesAmount);let t=setInterval(()=>{if(this.emitterShape)if(isNaN(this.emitterShape.positionsTexture.source.data.data[0])){this.init(e);return}else clearInterval(t)},100);if(!this.emitterShape)return;let n=new nPe(this.emitterShape.textureSize,this.emitterShape.textureSize,this.renderer),i=this.updateSimulationDefinition(e),r=n.addVariable("uCurrentPosition",i+cPe,this.emitterShape.positionsTexture),o=n.addVariable("uCurrentVelocity",i+mPe,this.emitterShape.directionsTexture),a=n.addVariable("uCurrentEmissionRate",MPe,lPe(this.emitterShape.textureSize));n.setVariableDependencies(r,[r,o,a]),n.setVariableDependencies(o,[r,o,a]),n.setVariableDependencies(a,[r,o,a]);let s=sPe({size:this.emitterShape.textureSize}),l={uOriginalPosition:{value:this.emitterShape.positionsTexture},uWorldOffset:{value:new L(0,0,0)},uWorldQuaternion:{value:new Et(0,0,0,1)},uTime:{value:0},uFPSRatio:{value:1},uMaxLifeTime:{value:e.life},uEmitterSize:{value:new L(Number(this.shared.getVariable(e.shape.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(e.shape.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(e.shape.size[2],[this.uuid,"particles","shape_size_2"])))},particleSize:{value:0}};r.material.uniforms=l;let c=this.getDirectionFromVariable(e.direction);this.directionAxis=this.getDirectionAxis(c),this.worldGravity.set(0,Number(this.shared.getVariable(this.system.data.gravity,[this.uuid,"particles","gravity"]))/100,0),this.noiseStrength=Number(this.shared.getVariable(e.noiseStrength,[this.uuid,"particles","noiseStrength"])),this.noiseScale=Number(this.shared.getVariable(e.noiseScale,[this.uuid,"particles","noiseScale"]));let d=e.colliderEntityId&&this.system.getColliderData(e.colliderEntityId),u={uOriginalPosition:{value:this.emitterShape.positionsTexture},uDirections:{value:this.emitterShape.directionsTexture},uDirectionsAxis:{value:this.directionAxis},uWorldQuaternion:{value:new Et(0,0,0,1)},uColliderPos:{value:new L(0,0,0)},uColliderSize:{value:new L(0,0,0)},uForceIntensity:{value:d?d.forceIntensity:0},uForceDamping:{value:d?d.forceDambing:0},uColliderQuaternion:{value:new Et(0,0,0,1)},uColliderQuaternionInvert:{value:new Et(0,0,0,1)},particleSize:{value:0},uGravity:{value:this.worldGravity},uNoiseStrength:{value:this.noiseStrength},uNoiseScale:{value:this.noiseScale},uNoiseSeed:{value:e.noiseSeed},uRandomMassFactor:{value:e.randomMass},uBounce:{value:e.collisionBounce},uSpeed:{value:Number(this.shared.getVariable(e.speed,[this.uuid,"particles","speed"]))/a3}};o.material.uniforms=u;let h={uIndex:{value:s},uTime:{value:0},uLastIndexEmitted:{value:0},uParticlesToEmit:{value:0}};a.material.uniforms=h;let p=[Number(this.shared.getVariable(e.shape.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(e.shape.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(e.shape.size[2],[this.uuid,"particles","shape_size_2"]))],m=se(B({},Rv(this.system.data).shape),{size:p});this.emitterShape.applyToShader(r.material.uniforms,m),n.init(),this.gpuCompute=n,this.positionSimRT=r,this.velocitySimRT=o,this.emissionRateSimRT=a,this.rootObject=this.createPrimaryEmitter(this.emitterShape.textureSize),this.add(this.rootObject),this.material.needsUpdate=!0}getDirectionFromVariable(e){let t=Number(this.shared.getVariable(e[0],[this.uuid,"particles","direction_x"])),n=Number(this.shared.getVariable(e[1],[this.uuid,"particles","direction_y"])),i=Number(this.shared.getVariable(e[2],[this.uuid,"particles","direction_z"]));return[t,n,i]}updateSimulationDefinition(e){if(this.simFeaturesDefinition.USE_COLLIDER=!1,this.simFeaturesDefinition.USE_ATTRACTOR=!1,this.simFeaturesDefinition.USE_VORTEX=!1,this.simFeaturesDefinition.USE_SPHERE_COLLIDER=!1,this.simFeaturesDefinition.USE_BOX_COLLIDER=!1,this.simFeaturesDefinition.USE_FORCE_LOCAL_SPACE=!1,this.simFeaturesDefinition.USE_NORMALS=!1,this.simFeaturesDefinition.USE_CURL_NOISE=!1,this.simFeaturesDefinition.USE_SIMPLEX_NOISE=!1,this.simFeaturesDefinition.USE_FBM_NOISE=!1,e.colliderEntityId&&this.system.colliderEntities.length>0){let n=this.system.getColliderData(e.colliderEntityId);switch(n?.forceType){case"attractor":this.simFeaturesDefinition.USE_ATTRACTOR=!0;break;case"collider":this.simFeaturesDefinition.USE_COLLIDER=!0;break;case"vortex":this.simFeaturesDefinition.USE_VORTEX=!0;break}let i=n?.colliderType;i==="sphere"&&(this.simFeaturesDefinition.USE_SPHERE_COLLIDER=!0),i==="box"&&(this.simFeaturesDefinition.USE_BOX_COLLIDER=!0),n?.forceRange==="helper"&&(this.simFeaturesDefinition.USE_FORCE_LOCAL_SPACE=!0)}e.directionMode==="normals"&&(this.simFeaturesDefinition.USE_NORMALS=!0),e.noiseType==="curl"&&(this.simFeaturesDefinition.USE_CURL_NOISE=!0),e.noiseType==="simplex"&&(this.simFeaturesDefinition.USE_SIMPLEX_NOISE=!0),e.noiseType==="fbm"&&(this.simFeaturesDefinition.USE_FBM_NOISE=!0);let t="";for(let[n,i]of Object.entries(this.simFeaturesDefinition))i&&(t+=`#define ${n}
`);return t}createShape(e,t){this.emitterShape&&this.emitterShape.dispose();let n=new L(Number(this.shared.getVariable(e.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(e.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(e.size[2],[this.uuid,"particles","shape_size_2"])));if(e.type==="MeshEmitterShape"){let i=null;return this.system.context.scene.traverseEntity(r=>{r.uuid===e.fromMeshId&&(i=r)}),i?new o3(n,t,e.type,i):new o3(n,t,"SphereEmitterShape")}else return new o3(n,t,e.type)}createPrimaryEmitter(e){let t,n=e*e;return t=new Ale(new lp(1,1,1),this.material,n),this.updateGeometryAttributes(t,e),this.material.needsUpdate=!0,t.onBeforeRender=()=>{this.applyWorldSpace()},t}getMaxParticlesAmount({birthRatePerSecond:e,particleMaxLifeTime:t,loopDuration:n=0}){return Math.ceil(e*(t+n))}dispose(){!this.gpuCompute||(this.rootObject?.parent?.remove(this.rootObject),this.gpuCompute.dispose(),this.material.nodeMaterialDispose(),this.emitterShape?.dispose())}GoEmitSomeParticles(e,t){let n=e-this.lastEmitTime,i=1/t;if(n>=i){let r=Math.max(1,Math.floor(n/i));return this.lastEmitTime=e,this.emittedParticlesAmount+r>this.particlesAmount&&(this.emittedParticlesAmount=0),this.emittedParticlesAmount+=r,r}return 0}checkIfAllParticlesAreDead(){return this.lastEmitTime+this.system.data.life+1<this.globalTime}reset(){this.hasBeenReset=!0,this.lastEmitTime=0,this.emittedParticlesAmount=0,this.gpuCompute&&this.init(Rv(this.system.data))}startEmitting(e){this.isEmitting=!0,this.hasBeenReset=!1,this.lastEmitTime=e}stopEmitting(){this.isEmitting=!1}},QC=class extends Ho{constructor(e,t,n){super(e,t),this.type="ParticleSystem",this.geometry=new pt,this.actualTime=0,this.currentLoopTime=0,this.started=!1,this.stopped=!1,this.isFrozen=!1,this.isIdle=!0,this.emitter=null,this.colliderEntities=[],this.renderer=null,this.isPreWarm=!1,this._hasOnAfterRenderBeenCalled=!1,this.onAfterRender=i=>{this._hasOnAfterRenderBeenCalled||(this._hasOnAfterRenderBeenCalled=!0,this.init(i))},this.context=n,this.data=B(B({},t),Rv(t)),this.geometry.setAttribute("position",new Je([],3)),this.material=new ap({colorWrite:!1}),this.frustumCulled=!1}init(e){this.renderer=e,this.emitter=new wPe(e,this),this.add(this.emitter),this.updateParticleState(this.data)}update(e){if(!this.isReady||!this.started||this.isFrozen||this.isIdle)return;this.actualTime+=e,this.stopped||(this.currentLoopTime+=e);let t=this.data.emitTimeCycle==="one_time";if((this.data.emitTimeCycle==="loop"||t)&&this.currentLoopTime>this.data.emitTimeDuration*1e3&&(this.stopped||(this.stop(),t||this.start(this.data.emitTimeLoopDelayStart==="start"?0:this.data.emitTimeDelay*1e3))),this.emitter&&this.started){let n=this.actualTime/1e3;this.emitter.update(n,e)}this.scale.set(1,1,1),this.updateMatrix()}isReady(){return!!this.emitter}hasCollider(e){return this.colliderEntities.some(t=>t.identity===e)}getColliderData(e){let t=this.colliderEntities.find(n=>n.identity===e);return t?t.data:null}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),ii(e.path,["renderMaterial"])&&this.updateParticleState({renderMaterial:B(B({},this.data.renderMaterial),Tr.drop(e,1).props)}),ii(e.path,["shape"])&&this.updateParticleState({shape:B(B({},this.data.shape),Tr.drop(e,1).props)})}updateState(e,t){super.updateState(e,t),this.updateParticleState(e)}updateParticleState(e){if(this.emitter){if(e.colliderEntityId!==void 0&&e.colliderEntityId!==null){let t=this.context.scene.find(e.colliderEntityId);this.colliderEntities=t?[t]:[]}e.colliderEntityId===null&&(this.colliderEntities=[]),this.emitter.updateState(e),e.emitTimeCycle&&this.started&&this.start()}}updateFromColliderEntity(e){!this.emitter||(this.emitter.updateForceFieldParameters(e),this.stop(),this.start())}start(e=0){if(this.currentLoopTime=0,e){setTimeout(()=>{this.start(0)},e);return}this.started=!0,this.stopped=!1,this.isFrozen=!1,this.emitter?.startEmitting(this.actualTime/1e3)}froze(){this.isFrozen=!0}unFroze(){this.isFrozen=!1}stop(){this.stopped=!0,this.currentLoopTime=0,this.emitter?.stopEmitting()}reset(){this.started=!1,this.stopped=!1,this.emitter?.reset()}wakeUp(){this.isIdle=!1}sleep(){this.isIdle=!0,this.reset()}};function xPe(){try{let e=window.location.href;if(e.includes("reducesubdiv=")){let t=e.indexOf("reducesubdiv=")+13;return parseInt(e.slice(t,t+1))}}catch{}}var s3=xPe();function PPe(e,t,n){s3!==void 0&&(t?.geometry?.subdivisions??0)>s3&&(console.log("reducing subdivisions",t.name,t.geometry.subdivisions),t.geometry.subdivisions=s3);let i;return t.geometry.type==="TextGeometry"?new fH(e,t,n):(t.geometry.type==="SubdivGeometry"?i=new my(e,t,n):t.geometry.type==="PathGeometry"?i=new qT(e,t,n):t.geometry.type==="VectorGeometry"?i=new ePe(e,t,n):t.geometry.type==="BooleanGeometry"?i=new op(e,t,n):t.geometry.type==="UIGeometry"?i=new vo(e,t,n):i=new bo(e,t,n),i)}function XT(e,t,n){return console.assert(t.type!==void 0),t.type==="Mesh"?PPe(e,t,n):t.type==="Empty"?new Tf(e,t):t.type==="Particle"?new QC(e,t,n):t.type==="ParticleCollider"?new YC(e,t,n):t.type==="Splat"?new Tf(e,t):t.type==="Bone"?new tPe(e,t):t.type==="Page"?new Er(e,t,n):t.type==="PointLight"?new Jxe(e,t,n):t.type==="SpotLight"?new OH(e,t,n):t.type==="DirectionalLight"?new PH(e,t,n):t.type==="Component"||t.type==="Instance"?new If(e,t,n):np.is(t.type)?new Co(e,t):(console.error(t),new Tf(e,t))}nu.createEntity=XT;function OPe(e,t,n){let i=XT(e.identity,t,n),r=e.children,o=e.attachedPaths,a=e.parent,s=e.component,l=e.instances,c=e.overrideData,d=e.uuid,u=e.stateSelection;e.dispose();for(let h of Object.keys(e))delete e[h];Object.setPrototypeOf(e,Object.getPrototypeOf(i));for(let h of Object.keys(i))e[h]=i[h];e.children=[...e.children,...r],e.attachedPaths=o,e.parent=a,e.component=s,e.instances=l,e.uuid=d,e.overrideData=c,e.updateState(e.data,n),u&&e.changeSelectedState(u,n),e.resetBBoxNeedsUpdate()}nu.changeEntityProptotype=OPe;nu.Cloner=Gs;function SPe(e,t,n,i){e.updateByOp(t,n,i,!1)}function LB(e,t){let n=!1,i=t.getLayersOfType("transmission"),r=t.getLayersOfType("outline");return r.length>0&&(e.layers.set(8),i.length>0&&e.layers.enable(3),n=!0,BT(e),zT(e)),i.length===0&&r.length===0&&e.layers.set(0),e instanceof dg&&e.needsAO&&e.layers.enable(5),n}function kB(e,t){if(!t.layers)return!1;let n=!1,i=t.getLayersOfType("transmission").filter(o=>o.data.visible),r=t.getLayersOfType("outline").filter(o=>o.data.visible);return i.length>0&&(e.layers.set(3),r.length>0&&e.layers.enable(8),n=!0),i.length===0&&r.length===0&&e.layers.set(0),e.needsAO&&e.layers.enable(5),n}function EPe(e){let t=!1;return e.traverseEntity(n=>{if(n instanceof dg)if(Array.isArray(n.material))for(let i=0;i<n.material.length;i++)LB(n,n.material[i])&&(t=!0);else LB(n,n.material)&&(t=!0)}),t}function DPe(e){let t=!1;return e.traverseEntity(n=>{if(n instanceof dg)if(Array.isArray(n.material))for(let i=0;i<n.material.length;i++)kB(n,n.material[i])&&(t=!0);else kB(n,n.material)&&(t=!0)}),t}var APe=new OV,TPe=new Be,IPe=new Zf;function fA(e,t,n,i=!1){let r=e.cloner;if(r)for(let o of r.children){let a=TPe.copy(o.matrixWorld).invert(),s=IPe.copy(t.ray).applyMatrix4(a),l=e.matrixWorld;s.applyMatrix4(l);let c=APe;c.set(s.origin,s.direction),c.near=t.near,c.far=t.far;let d=c.intersectObject(e,!1);d.length>0&&n.push(se(B({},d[0]),{object:i?o:e}))}}var RPe=class{constructor(){this._constraints=new Map}setConstraint(e,t){t===null?this._constraints.delete(e):this._constraints.set(e,t)}removeDependencies(e){this._constraints.delete(e)}applyConstraints(e){let t=new Set;this._constraints.forEach((n,i)=>{let r=[i,n],o=n;for(;this._constraints.has(o);)o=this._constraints.get(o),t.has(o)||r.push(o);for(let a=r.length-2;a>=0;a--)if(!t.has(r[a])){let s=e.find(r[a]);s?s.applyPathSnapping(e):console.warn(`missing entity ${r[a]}`),t.add(r[a])}})}findDependency(e,t){let n=e;for(;this._constraints.has(n);)if(n=this._constraints.get(n),n===t)return!0;return!1}},LPe="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAETA2AAAGAIf39/f39/f38AYAABfwISAQNlbnYGbWVtb3J5AgMAgIAEAwQDAAECBzkDEV9fd2FzbV9jYWxsX2N0b3JzAAALc29ydEluZGV4ZXMAARNlbXNjcmlwdGVuX3Rsc19pbml0AAIK3gMDAwABC9IDAwF/BnwBfgJAIAdFDQAgAysDUCEMIAMrAzAhDSADKwMQIQ5BACEDRP///////+9/IQtEAAAAAAAAEAAhCgNAIAIgA0ECdGoCfyAOIAEgA0EMbGoiCCoCALuiIA0gCCoCBLuioCAMIAgqAgi7oqBEAAAAAAAAsECiIgmZRAAAAAAAAOBBYwRAIAmqDAELQYCAgIB4CzYCACAJIAsgCSALYxshCyAJIAogCSAKZBshCiADQQFqIgMgB0cNAAsgB0UNACAGuCAKIAuhoyEJQQAhAwNAAn8gCSACIANBAnRqIgEoAgC3IAuhoiIKmUQAAAAAAADgQWMEQCAKqgwBC0GAgICAeAshCCABIAg2AgAgBCAIQQJ0aiIBIAEoAgBBAWo2AgAgA0EBaiIDIAdHDQALCyAGQQJPBEAgBCgCACEIQQEhAwNAIAQgA0ECdGoiASABKAIAIAhqIgg2AgAgA0EBaiIDIAZHDQALCyAHQQFrIgGtIQ8DQCAEIAIgD6dBAnQiA2ooAgBBAnRqIgcgBygCAEEBayIHNgIAIAUgASAHa0ECdGogACADaigCADYCACAPUCEDIA9CAX0hDyADRQ0ACyAGBEAgBEEAIAZBAnT8CwALCwQAQQAL",ru=class{};wv(ru,"DepthMapRange",65536),wv(ru,"MemoryPageSize",65536),wv(ru,"BytesPerFloat",4),wv(ru,"BytesPerInt",4);function kPe(e){let t,n,i,r,o,a,s,l,c,d,u,h,p,m,g,v;function b(I){let T=new Float64Array(d,a,16);for(let k=0;k<16;k++)T[k]=I[k];let R;if(i>1){t.exports.sortIndexes(r,o,c,a,s,l,h.DepthMapRange,i);let k=new Uint32Array(i);R=k.buffer,k.set(new Uint32Array(d,l,i))}else if(i===1){let k=new Uint32Array(i);k[0]=new Uint32Array(d,r,n)[0],R=k.buffer}else R=new ArrayBuffer(0);e.postMessage({sortDone:!0,indexesBuffer:R},[R])}function _(I,T,R){let k=new Float32Array(d,o,n*3);i=0;let z=new Uint32Array(d,r,n);for(let W=0;W<R.length-1;W++){let N=T[W],F=I[W].elements,X=N.filter(G=>G.enabled&&G.mode==="Include").map(G=>G.type==="Box"?x(G):S(G)),V=N.filter(G=>G.enabled&&G.mode==="Exclude").map(G=>G.type==="Box"?x(G):S(G));for(let G=R[W];G<R[W+1];G++){let Y=p[G*3],ie=p[G*3+1],te=p[G*3+2];if((X.length===0||M(Y,ie,te,X))&&(V.length===0||!M(Y,ie,te,V))){let ne=1/(F[3]*Y+F[7]*ie+F[11]*te+F[15]);k[i*3]=(F[0]*Y+F[4]*ie+F[8]*te+F[12])*ne,k[i*3+1]=(F[1]*Y+F[5]*ie+F[9]*te+F[13])*ne,k[i*3+2]=(F[2]*Y+F[6]*ie+F[10]*te+F[14])*ne,z[i]=G,i++}}}}function C(I,T){let R=[],k=T.filter(N=>N.enabled&&N.mode==="Include").map(N=>N.type==="Box"?x(N):S(N)),z=T.filter(N=>N.enabled&&N.mode==="Exclude").map(N=>N.type==="Box"?x(N):S(N)),W=I.length;for(let N=0;N<W;N+=3){let F=I[N],X=I[N+1],V=I[N+2];(k.length===0||M(F,X,V,k))&&(z.length===0||!M(F,X,V,z))||R.push(N/3)}return R}function M(I,T,R,k,z){return k[z==="Intersect"?"every":"some"](W=>{let N=P(I,T,R,W.invRotationMatrix,W.cropCenter);return Array.isArray(W)?O(N.x,N.y,N.z,W):D(N.x,N.y,N.z,W)})}function P(I,T,R,k,z){let W=I-z[0],N=T-z[1],F=R-z[2],X=1/(k[3]*W+k[7]*N+k[11]*F+k[15]);return{x:(k[0]*W+k[4]*N+k[8]*F+k[12])*X+z[0],y:(k[1]*W+k[5]*N+k[9]*F+k[13])*X+z[1],z:(k[2]*W+k[6]*N+k[10]*F+k[14])*X+z[2]}}function x(I){let T=I.cropSize[0]/2,R=I.cropSize[1]/2,k=I.cropSize[2]/2,z=[I.cropCenter[0]-T,I.cropCenter[1]-R,I.cropCenter[2]-k,I.cropCenter[0]+T,I.cropCenter[1]+R,I.cropCenter[2]+k],W=E(I.cropRotation);return Object.assign(z,{invRotationMatrix:W,cropCenter:I.cropCenter})}function E(I){let T=[],R=I[0]*Math.PI/180,k=I[1]*Math.PI/180,z=I[2]*Math.PI/180,W=Math.cos(R),N=Math.sin(R),F=Math.cos(k),X=Math.sin(k),V=Math.cos(z),G=Math.sin(z),Y=W*V,ie=W*G,te=N*V,ne=N*G;return T[0]=F*V,T[1]=-F*G,T[2]=X,T[4]=ie+te*X,T[5]=Y-ne*X,T[6]=-N*F,T[8]=ne-Y*X,T[9]=te+ie*X,T[10]=W*F,T[12]=0,T[13]=0,T[14]=0,T[3]=0,T[7]=0,T[11]=0,T[15]=1,T}function O(I,T,R,k){return I>=k[0]&&I<=k[3]&&T>=k[1]&&T<=k[4]&&R>=k[2]&&R<=k[5]}function S(I){let T=2/I.cropSize[0],R=2/I.cropSize[1],k=2/I.cropSize[2],z=E(I.cropRotation);return{invRadiusX:T,invRadiusY:R,invRadiusZ:k,cropCenter:I.cropCenter,invRotationMatrix:z}}function D(I,T,R,k){let z=(I-k.cropCenter[0])*k.invRadiusX,W=(T-k.cropCenter[1])*k.invRadiusY,N=(R-k.cropCenter[2])*k.invRadiusZ;return z*z+W*W+N*N<=1}e.onmessage=I=>{if(I.data.getCroppedIndexes){let T=new Uint32Array(C(new Float32Array(I.data.positions),I.data.crops)).buffer;e.postMessage({outOfBoundsIndexes:T},[T])}else if(I.data.positions)u=I.data.positions,p=new Float32Array(u),g=I.data.meshMatrixWorlds,v=I.data.cropsArray,m=I.data.meshIndexIntervals,_(g,v,m),e.postMessage({sortSetupComplete:!0});else if(I.data.sort||I.data.newMatrixWorlds||I.data.newCropsArray)(I.data.newMatrixWorlds||I.data.newCropsArray)&&(v=I.data.newCropsArray||v,g=I.data.newMatrixWorlds||g,_(g,v,m)),b(I.data.sort.view,I.data.sort.cameraPosition);else if(I.data.init){h=I.data.init.Constants,n=I.data.init.splatCount;let T=h.BytesPerInt,R=h.BytesPerFloat*3,k=new Uint8Array(I.data.init.sorterWasmBytes),z=T+R,W=n*z,N=n*h.BytesPerInt*2+h.DepthMapRange*h.BytesPerInt*2,F=h.MemoryPageSize*32,X=W+N+F,V=Math.floor(X/h.MemoryPageSize)+1,G={module:{},env:{memory:new WebAssembly.Memory({initial:V*2,maximum:V*3,shared:!0})}};WebAssembly.compile(k).then(Y=>WebAssembly.instantiate(Y,G)).then(Y=>{t=Y,r=0,o=n*T,a=o+n*R,c=a+16*h.BytesPerFloat*2,s=c+n*h.BytesPerInt,l=s+h.DepthMapRange*h.BytesPerInt,d=G.env.memory.buffer,e.postMessage({sortSetupPhase1Complete:!0})})}}}function FPe(e){let t=new Worker(URL.createObjectURL(new Blob(["(",kPe.toString(),")(self)"],{type:"application/javascript"}))),n=atob(LPe),i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return t.postMessage({init:{sorterWasmBytes:i.buffer,splatCount:e,Constants:{BytesPerFloat:ru.BytesPerFloat,BytesPerInt:ru.BytesPerInt,DepthMapRange:ru.DepthMapRange,MemoryPageSize:ru.MemoryPageSize}}}),t}var l3=function(){let e=new Float32Array(1),t=new Int32Array(e.buffer);return function(n){return e[0]=n,t[0]}}(),NPe=function(e,t,n,i){return e+(t<<8)+(n<<16)+(i<<24)},IC=new oe;function FB(e){let t=!1;return e.scene.objects.traverse((n,i)=>{if(i.visible===!1)return!0;i.type==="Splat"&&(t=!0)}),t}var ZC=class extends Ji{constructor(e,t,n,i,r=!1,o=1,a,s){super(n,i),this.splatCount=t,this.meshIndexIntervals=a,this.meshMatrixWorlds=s,this.splatBuffers=e,this.geometry=n,this.material=i,this.splatDataTextures=null,this.halfPrecisionCovariancesOnGPU=r,this.devicePixelRatio=o,this.resetLocalSplatDataAndTexturesFromSplatBuffer()}static buildMesh(e,t,n=!1,i=1,r,o){let a=ZC.buildGeomtery(t),s=ZC.buildMaterial(r);return new ZC(e,t,a,s,n,i,r,o)}static buildMaterial(e){let t=`
            precision highp float;
            #include <common>

            attribute uint splatIndex;

            uniform highp sampler2D covariancesTexture;
            uniform highp usampler2D centersColorsTexture;
            uniform vec2 focal;
            uniform vec2 viewport;
            uniform vec2 basisViewport;
            uniform vec2 covariancesTextureSize;
            uniform vec2 centersColorsTextureSize;
						uniform highp sampler2D meshMatrixWorldsTexture;
						uniform uint meshIndexIntervals[257];
						uniform float orthoZoom;

            varying vec4 vColor;
            varying vec2 vUv;

            varying vec2 vPosition;

            const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);
            const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));
            const uvec4 shift4 = uvec4(0, 8, 16, 24);
            vec4 uintToRGBAVec (uint u) {
               uvec4 urgba = mask4 & u;
               urgba = urgba >> shift4;
               vec4 rgba = vec4(urgba) * encodeNorm4;
               return rgba;
            }

            vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {
                vec2 samplerUV = vec2(0.0, 0.0);
                float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;
                samplerUV.y = float(floor(d)) / dimensions.y;
                samplerUV.x = fract(d);
                return samplerUV;
            }

            void main () {
                uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));
                vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));
                vColor = uintToRGBAVec(sampledCenterColor.r);

                vPosition = position.xy * 2.0;

								uint meshIndex;
								for (int i = 1; i < 257; i++) {
									if (splatIndex < meshIndexIntervals[i]) {
										meshIndex = uint(i - 1);
										break;
									}
								}

								float strideMulmeshIndex = float(4u*meshIndex);
								float meshMatrixWorldsTextureLength = float(256*4);

								mat4 modelMat = mat4(
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+0.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+1.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+2.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+3.0)/meshMatrixWorldsTextureLength, 0))
								);
								mat4 modelViewMat = viewMatrix * modelMat;
								vec4 viewCenter = modelViewMat * vec4(splatCenter, 1.0); 
                vec4 clipCenter = projectionMatrix * viewCenter;

                vec2 sampledCovarianceA = texture(covariancesTexture, getDataUV(3, 0, covariancesTextureSize)).rg;
                vec2 sampledCovarianceB = texture(covariancesTexture, getDataUV(3, 1, covariancesTextureSize)).rg;
                vec2 sampledCovarianceC = texture(covariancesTexture, getDataUV(3, 2, covariancesTextureSize)).rg;

                vec3 cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rg, sampledCovarianceB.r);
                vec3 cov3D_M22_M23_M33 = vec3(sampledCovarianceB.g, sampledCovarianceC.rg);

                // Compute the 2D covariance matrix from the upper-right portion of the 3D covariance matrix
                mat3 Vrk = mat3(
                    cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,
                    cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,
                    cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z
                );
                float s = 1.0 / (viewCenter.z * viewCenter.z);

                mat3 W = transpose(mat3(modelViewMat));
                mat3 T = orthoZoom > 0.0 ? W : W * mat3(
									focal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,
									0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,
									0., 0., 0.
								);
                mat3 cov2Dm = transpose(T) * Vrk * T;
                cov2Dm[0][0] += 0.3;
                cov2Dm[1][1] += 0.3;

                // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because
                // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],
                // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't
                // need cov2Dm[1][0] because it is a symetric matrix.
                vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);

                vec3 ndcCenter = clipCenter.xyz / clipCenter.w;

                // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix
                // so that we can determine the 2D basis for the splat. This is done using the method described
                // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html
                //
                // This is a different approach than in the original work at INRIA. In that work they compute the
                // max extents of the 2D covariance matrix in screen space to form an axis aligned bounding rectangle
                // which forms the geometry that is actually rasterized. They then use the inverse 2D covariance
                // matrix (called 'conic') to determine fragment opacity.
                float a = cov2Dv.x;
                float d = cov2Dv.z;
                float b = cov2Dv.y;
                float D = a * d - b * b;
                float trace = a + d;
                float traceOver2 = 0.5 * trace;
                float term2 = sqrt(trace * trace / 4.0 - D);
                float eigenValue1 = traceOver2 + term2;
								float eigenValue2 = max(traceOver2 - term2, 0.00); // prevent negative eigen value

                const float maxSplatSize = 1024.0;
                vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));
                // since the eigen vectors are orthogonal, we derive the second one from the first
                vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);
                vec2 basisVector1 = eigenVector1 * min(sqrt(2.0 * eigenValue1), maxSplatSize);
                vec2 basisVector2 = eigenVector2 * min(sqrt(2.0 * eigenValue2), maxSplatSize);

                vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) * basisViewport;

								if (orthoZoom > 0.0) {
									ndcOffset *= orthoZoom;
								}

                gl_Position = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            }`,n=`
            precision highp float;
            #include <common>

            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;

            varying vec2 vPosition;
						layout(location = 1) out vec4 gVelocity; 

            void main () {
                // compute the negative squared distance from the center of the splat to the
                // current fragment in the splat's local space.
                float A = -dot(vPosition, vPosition);
                if (A < -4.0) discard;
                vec3 color = vColor.rgb;
                A = exp(A) * vColor.a;
                gl_FragColor = vec4(color.rgb, A);
								gVelocity = vec4(0.0); // so it is ignored by TAA
            }`,i={covariancesTexture:{type:"t",value:null},centersColorsTexture:{type:"t",value:null},meshIndexIntervals:{value:e},meshMatrixWorldsTexture:{type:"t",value:null},focal:{type:"v2",value:new oe},viewport:{type:"v2",value:new oe},basisViewport:{type:"v2",value:new oe},debugColor:{type:"v3",value:new _t},covariancesTextureSize:{type:"v2",value:new oe(1024,1024)},centersColorsTextureSize:{type:"v2",value:new oe(1024,1024)},orthoZoom:{type:"f",value:-1}};return new Vn({uniforms:i,vertexShader:t,fragmentShader:n,transparent:!0,alphaTest:1,blending:Gh,depthTest:!0,depthWrite:!1,side:la})}static buildGeomtery(e){let t=new pt;t.setIndex([0,1,2,0,2,3]);let n=new Float32Array(4*3),i=new St(n,3);t.setAttribute("position",i),i.setXYZ(0,-1,-1,0),i.setXYZ(1,-1,1,0),i.setXYZ(2,1,1,0),i.setXYZ(3,1,-1,0),i.needsUpdate=!0;let r=new xV().copy(t),o=new Uint32Array(e),a=new Qv(o,1,!1);return a.setUsage(fie),r.setAttribute("splatIndex",a),r.instanceCount=e,r}resetLocalSplatDataAndTexturesFromSplatBuffer(){this.updateLocalSplatDataFromSplatBuffer(),this.allocateAndStoreLocalSplatDataInTextures()}updateLocalSplatDataFromSplatBuffer(){this.splatBuffers.forEach(i=>i.buildPreComputedBuffers()),this.covariances=new Float32Array(this.splatCount*6),this.colors=new Uint8Array(this.splatCount*4),this.centers=new Float32Array(this.splatCount*3);let e=0,t=0,n=0;for(let i of this.splatBuffers){let r=i.nsplats;this.colors.subarray(e,e+r*4).set(i.colorsA),e+=r*4,this.centers.subarray(t,t+r*3).set(i.decoded.xyz.denormDequant().data),t+=r*3,this.covariances.subarray(n,n+r*6).set(new Float32Array(i.precomputedCovarianceBufferData)),n+=r*6}}allocateAndStoreLocalSplatDataInTextures(){let e=this.splatCount,t=new oe(4096,1024);for(;t.x*t.y*2<e*6;)t.y*=2;let n=new oe(4096,1024);for(;n.x*n.y*4<e*4;)n.y*=2;let i,r;if(this.halfPrecisionCovariancesOnGPU){r=new Uint16Array(t.x*t.y*2);for(let d=0;d<this.covariances.length;d++)r[d]=Wce.toHalfFloat(this.covariances[d]);i=new fs(r,t.x,t.y,tM,Jh)}else r=new Float32Array(t.x*t.y*2),r.set(this.covariances),i=new fs(r,t.x,t.y,tM,Ki);i.needsUpdate=!0,this.material.uniforms.covariancesTexture.value=i,this.material.uniforms.covariancesTextureSize.value.copy(t);let o=new Uint32Array(n.x*n.y*4);for(let d=0;d<e;d++){let u=d*4,h=d*3,p=d*4;o[p]=NPe(this.colors[u],this.colors[u+1],this.colors[u+2],this.colors[u+3]),o[p+1]=l3(this.centers[h]),o[p+2]=l3(this.centers[h+1]),o[p+3]=l3(this.centers[h+2])}let a=new fs(o,n.x,n.y,U9,Wc);a.internalFormat="RGBA32UI",a.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=a,this.material.uniforms.centersColorsTextureSize.value.copy(n);let s=256*4,l=new Float32Array(256*16);for(let d=0;d<this.meshMatrixWorlds.length;d++)l.set(this.meshMatrixWorlds[d].elements,d*16);let c=new fs(l,s,1,Ar,Ki);c.needsUpdate=!0,this.material.uniforms.meshMatrixWorldsTexture.value=c,this.material.uniformsNeedUpdate=!0,this.splatDataTextures={covariances:{data:r,texture:i,size:t},centerColors:{data:o,texture:a,size:n},meshMatrixWorlds:{data:l,texture:c}}}updateIndexes(e){let t=this.geometry;t.attributes.splatIndex.set(e),t.attributes.splatIndex.needsUpdate=!0,t.instanceCount=e.length}updateUniforms(e,t,n,i){this.splatCount>0&&(IC.set(e.x*this.devicePixelRatio,e.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(IC),this.material.uniforms.basisViewport.value.set(2/IC.x,2/IC.y),this.material.uniforms.focal.value.set(t,n),this.material.uniforms.orthoZoom.value=i,this.material.uniformsNeedUpdate=!0)}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(){return this.splatCount}getCenters(){return this.centers}getColors(){return this.colors}getCovariances(){return this.covariances}dispose(){this.geometry.dispose(),this.material.dispose(),this.splatDataTextures&&(this.splatDataTextures.covariances.texture.dispose(),this.splatDataTextures.centerColors.texture.dispose(),this.splatDataTextures.meshMatrixWorlds.texture.dispose()),this.removeFromParent()}},FH,zPe=new Promise(e=>{FH=e}),NB=!1,RC;function BPe(){if(NB)return;if(RC)return RC;function e(){return ri(this,null,function*(){let t=yield import("./chunk-2ZVURA4K.js");FH(t),NB=!0})}return RC=e(),RC}var NH;zPe.then(e=>NH=e);var VPe=class{constructor(e={}){wv(this,"updateView",function(){let t=new Be,n=[],i=new L(0,0,-1),r=new L(0,0,-1),o=new L,a=new L;return function(s=!1,l){let c=this.updateMatrixWorldsInWorkerIfNeeded(),d=this.cropsChanged();if(!s){r.set(0,0,-1).applyQuaternion(l.quaternion);let h=!1,p=!1;if(r.dot(i)<=.95&&(h=!0),a.copy(l.position).sub(o).length()>=1&&(p=!0),!h&&!p&&!c&&!d&&!this.needsInitialRender)return}this.needsInitialRender=!1,o.copy(l.position),i.copy(r),t.copy(l.matrixWorld).invert(),t.premultiply(this.dummyPerspectiveMatrix),n[0]=l.position.x,n[1]=l.position.y,n[2]=l.position.z;let u=B(B({sort:{view:t.elements,cameraPosition:n,splatRenderCount:this.splatRenderCount,splatSortCount:this.splatRenderCount}},c?{newMatrixWorlds:this.meshMatrixWorlds}:{}),d?{newCropsArray:this.cropsArray}:{});this.sortRunning?this.queuedMessage=u:(this.queuedMessage=null,this.sortRunning=!0,this.sortWorker.postMessage(u))}}()),this.scene=e.scene,this.currentPage=null,this.devicePixelRatio=window.devicePixelRatio,this.sortWorker=null,this.splatRenderCount=0,this.splatSortCount=0,this.splatMesh=null,this.sortRunning=!1,this.meshMatrixWorlds=null,this.meshMatrixWorldsOld=null,this.cropsArray=null,this.splatEntries=null,this.queuedMessage=null,this.needsInitialRender=!0,this.dummyPerspectiveMatrix=new Be().makePerspective(-1,1,-1,1,.1,1e3)}updateSplatMeshUniforms(e,t){let n=new oe;this.splatMesh!==null&&this.splatMesh.getSplatCount()>0&&(e.getSize(n),this.cameraFocalLengthX=t.projectionMatrix.elements[0]*this.devicePixelRatio*n.x*.45,this.cameraFocalLengthY=t.projectionMatrix.elements[5]*this.devicePixelRatio*n.y*.45,this.splatMesh.updateUniforms(n,this.cameraFocalLengthX,this.cameraFocalLengthY,t.isPerspectiveCamera?-1:t.zoom*this.devicePixelRatio))}loadSplat(e={}){this.activePage=this.scene.activePage,e.position&&(e.position=new L().fromArray(e.position)),e.orientation&&(e.orientation=new Dt().fromArray(e.orientation)),e.halfPrecisionCovariances=!!e.halfPrecisionCovariances;let t=[];if(this.splatEntries=t,this.activePage.traverseVisibleEntity(o=>{o.data.type==="Splat"&&t.push(o)}),this.splatMesh&&this.splatMesh.dispose(),t.length===0)return this.splatMesh=null,!1;this.meshMatrixWorlds=t.map(o=>o.matrixWorld),this.meshMatrixWorldsOld=t.map(o=>o.matrixWorld.clone()),this.cropsArray=t.map(o=>o.data.crops.map(a=>a.data));let n=t.map(o=>new NH.GSplineBuffer(new Uint8Array(o.data.buffer).buffer)),i=0,r=[0];for(let o of n)i+=o.getSplatCount(),r.push(i);return this.setupSplatMesh(n,i,e.position,e.orientation,e.halfPrecisionCovariances,this.devicePixelRatio,r,this.meshMatrixWorlds),this.setupSortWorker(i),!0}updateMatrixWorldsInWorkerIfNeeded(){let e=this.splatDataTextures.meshMatrixWorlds.data;for(let t=0;t<this.meshMatrixWorlds.length;t++)e.set(this.meshMatrixWorlds[t].elements,t*16);return this.splatDataTextures.meshMatrixWorlds.texture.needsUpdate=!0,this.meshMatrixWorlds.every((t,n)=>t.equals(this.meshMatrixWorldsOld[n]))?!1:(this.meshMatrixWorldsOld=this.meshMatrixWorlds.map(t=>t.clone()),!0)}cropsChanged(){let e=!1;return this.splatEntries.forEach((t,n)=>{t.data.crops.forEach((i,r)=>{this.cropsArray[n][r]===void 0?(e=!0,this.cropsArray[n][r]=i.data):Object.entries(i.data).forEach(([o,a])=>{Array.isArray(a)&&a.some((s,l)=>s!==this.cropsArray[n][r][o][l])?(e=!0,this.cropsArray[n][r][o]=a):a!==this.cropsArray[n][r]?.[o]&&(e=!0,this.cropsArray[n][r][o]=a)})}),t.data.crops.length!==this.cropsArray[n]?.length&&(this.cropsArray[n].length=t.data.crops.length,e=!0)}),e}setupSplatMesh(e,t,n=new L,i=new Dt,r=!1,o=1,a,s){this.splatMesh=ZC.buildMesh(e,t,r,o,a,s),this.splatMesh.position.copy(n),this.splatMesh.quaternion.copy(i),this.splatMesh.frustumCulled=!1,this.splatMesh.renderOrder=99999,this.splatRenderCount=t,this.splatMesh.onBeforeRender=(l,c,d)=>this.update(l,d)}setupSortWorker(e){this.sortWorker=FPe(e),this.sortWorker.onmessage=t=>{t.data.sortDone?(this.sortRunning=!1,this.splatMesh?.updateIndexes(new Uint32Array(t.data.indexesBuffer)),this.lastSortTime=t.data.sortTime,this.queuedMessage&&(this.sortWorker.postMessage(this.queuedMessage),this.queuedMessage=null)):t.data.sortCanceled?this.sortRunning=!1:t.data.sortSetupPhase1Complete?this.sortWorker.postMessage({positions:this.splatMesh.getCenters().buffer,meshMatrixWorlds:this.splatMesh.meshMatrixWorlds,meshIndexIntervals:this.splatMesh.meshIndexIntervals,cropsArray:this.cropsArray}):t.data.sortSetupComplete&&(this.splatDataTextures=this.splatMesh.getSplatDataTextures(),this.scene.activePage.add(this.splatMesh),this.needsInitialRender=!0)}}update(e,t){this.splatMesh!==null&&(this.updateSplatMeshUniforms(e,t),this.updateView(!1,t))}getSplatMesh(){return this.splatMesh}},gA=new ap;gA.wireframe=!0;var zB=new L,QT=class extends Qc{constructor(e,t){super(),this.data=e,this.sharedAssets=t,this.enableHelpers=!1,this.wireframeState=!1,this.needsTransmissionDirty=!0,this.needsNormalDirty=!0,this._needsTransmission=!1,this._needsNormal=!1,this.geometryCacheChanged=!1,this.splatViewer=null,this.entityByUuid={},this.entityIdentityToEntity={},this.toExpandCloner=new Set,this.toUpdateCloner=new Set,this.pendingCommands=[],this.pathConstraints=new RPe,this.invisibleObjects=new Tf("jflkdsafjasdifjaslk",se(B({},OD.defaultData),{visible:!1,name:"buildin invisible"})),this.needsRecomputeInstances=!1,this.init(e,t),this.matrixAutoUpdate=!1,this.errorPage=new Er("fdasfa",se(B({},Wf.defaultData),{name:""}),{shared:t,scene:this})}markGeometryCacheDirty(){this.geometryCacheChanged=!0}markNeedsUpdateRendererDirty(){this.needsTransmissionDirty=!0,this.needsNormalDirty=!0}needsTransmission(){return this.needsTransmissionDirty&&(this._needsTransmission=DPe(this),this.needsTransmissionDirty=!1),this._needsTransmission}needsNormal(){return this.needsNormalDirty&&(this._needsNormal=EPe(this),this.needsNormalDirty=!1),this._needsNormal}registerInstanceAndSetUuid(e){let t=e.identity.join("-"),n=this.entityIdentityToEntity[t];n&&(e.uuid=n.uuid),this.entityIdentityToEntity[t]=e,this.entityByUuid[e.uuid]=e}markPenumbraSizeDirty(){for(let e of this.children)e instanceof Er&&(e.penumbraSizeArrayCache=null)}findInstance(e){return this.entityIdentityToEntity[e.join("-")]}get bgColor(){return this.activePage.bgColor}get postprocessing(){return this.activePage.data.postprocessing}getWithSortKey(e){let t=this.find(e);if(t===void 0)return;let n=[],i=t;for(;i!==this;){let r=i;i=i.parent;let o=i.children.indexOf(r);n.splice(0,0,o)}return{entity:t,sortKey:n}}getAllSorted(e){let t=[];for(let n of e){let i=this.getWithSortKey(n.id);i!==void 0&&t.push(i)}return t.sort((n,i)=>hU(n.sortKey,i.sortKey)),t.map(n=>n.entity)}nonExistOrDescendantOf(e,t){let n=this.find(e);if(n===void 0)return!0;for(;n;){if(n.uuid===t)return!0;n=n.parent}return!1}find(e){if(this.activePage&&this.activePage.personalCamera.parent){if(e==="f23858d0-4a3b-4bd8-8173-66ed0af7f6fb-personalCamera")return this.activePage.personalCamera;if(e===sg)return this.activePage.personalCamera}if(e===""||e===void 0)return;let t=this.entityByUuid[e];return t===void 0?this.getObjectByProperty("uuid",e):t}find2D(e){for(let t of this.children)if(t instanceof Er&&t.uiScene){let n=t.uiScene.find(e);if(n)return n}}findScene2DfromObject2D(e){for(let t of this.children)if(t instanceof Er&&t.uiScene&&t.uiScene.find(e))return t.uiScene}find2DInUIObjects(e){let t;return this.traverseEntity(n=>{t===void 0&&n instanceof vo&&(t=n.uiCanvas.find(e))}),t}traverse2D(e){for(let t of this.children)t instanceof Er&&t.uiScene&&t.uiScene.traverse(e)}debugEnsureEntity(e){let t=this.find(e);if(t){if(Array.isArray(t.identity)&&this.findInstance(t.identity)===void 0){console.error("not found instance");debugger}}else{console.error("not found");debugger}}addPendingExpandCloner(e){this.toExpandCloner.add(e)}addPendingUpdateCloner(e){this.toUpdateCloner.add(e)}markToExpandCloner(e){this.toExpandCloner.add(e),e.traverseEntityAncestors(t=>{this.toExpandCloner.add(t)})}doPendingExpandCloner(){this.toExpandCloner.forEach(e=>{e.expandCloner(this)}),this.toExpandCloner.clear()}doPendingUpdateCloner(){this.toUpdateCloner.forEach(e=>{e.cloner?.update()}),this.toUpdateCloner.clear()}doPendingUpdates(){this.doPendingExpandCloner(),this.doPendingUpdateCloner(),this.applyPendingCommands()}addPendingCommand(e){this.pendingCommands.push(e)}applyPendingCommands(){this.pendingCommands.forEach(e=>e()),this.pendingCommands.length=0}updateByLibOp(e,t){e.path.length===1&&e.path[0]==="components"&&e.type===1&&this.createChildrenObjects([se(B({},e.data.asset),{id:e.id})],this.invisibleObjects,t)}updateTreeByOp(e,t){if(e.path.length===0&&e.type===7){let n=e.parent===null?this:this.find(e.parent);if(n===void 0)throw new Error("unexpected");let i=this.createObject(e.id,e.data,e.children,n,e.localIndex,t);i.updateVisible(this),i.resetBBoxNeedsUpdate(),Us(i)&&Xc(i.parent)&&(i.invalidateUpstreamBooleanData(),i.parent.invalidateDownstreamBooleanData().recomputeBoolean()),this.markNeedsRecomputeInstancesForAncessors(n),this.markNeedsRecomputeInstancesForChildren(i),this.markToExpandCloner(i),this.markPenumbraSizeDirty(),i.updatePathSnapping()}else if(e.path.length===0&&e.type===8){let n=this.find(e.id);if(n===void 0)throw new Error("unexpected");this.markToExpandCloner(n),n.resetBBoxNeedsUpdate(),this.unregisterObject(n);let i=n.parent;this.markNeedsRecomputeInstancesForAncessors(i),this.markNeedsRecomputeInstancesForChildren(n),this.markPenumbraSizeDirty(),n.parent.remove(n),Xc(n.parent)&&(n.parent.invalidateUpstreamBooleanData(),n.parent.invalidateDownstreamBooleanData().recomputeBoolean()),Us(n)&&(n.freeBooleanPointer(),i instanceof op&&i.invalidateDownstreamBooleanData().recomputeBoolean()),n instanceof qT&&n.detachShape(),this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(n),this.pathConstraints.removeDependencies(n.uuid),n.updatePathSnapping()}else if(e.path.length===0&&e.type===9){let n=this.find(e.id);if(n===void 0)throw new Error("unexpected");this.markNeedsRecomputeInstancesForChildren(n);let i=n.parent;this.markNeedsRecomputeInstancesForAncessors(i),n.cloner?.resetOnMove(),this.markToExpandCloner(n);let r=e.parent===null?this:this.find(e.parent);if(r===void 0)throw new Error("unexpected");r.add(n),this.markNeedsRecomputeInstancesForAncessors(r),this.markToExpandCloner(n),n.invalidateClonerTransform(n),n.updateVisible(this),n.resetBBoxNeedsUpdate(),this.markPenumbraSizeDirty();let o=e.localIndex;r.children.splice(o,0,r.children.pop()),Us(n)&&(n.invalidateUpstreamBooleanData(),Xc(n.parent)?n.parent.invalidateDownstreamBooleanData().recomputeBoolean():i instanceof op&&i.invalidateDownstreamBooleanData().recomputeBoolean()),n.updatePathSnapping()}this.markNeedsUpdateRendererDirty(),this.markGeometryCacheDirty()}get playPage(){return this.find(this.data.publish.playPage)??this.errorPage}updatePage(e){this.activePage&&this.activePage.onDeactive(),this.activePage=this.errorPage;for(let t of this.children)t instanceof Er&&(t.visible=t.uuid===e,t.visible&&(this.activePage=t,this.activePage.onActive(this)));this.activePage!==this.splatViewer?.activePage&&this.reloadSplats()}updateEntityByOp(e,t,n,i){if(t.type===0){if(("overrides"in t.props||"component"in t.props)&&this.markNeedsRecomputeInstances(),"visible"in t.props&&this.markPenumbraSizeDirty(),t.path.includes("overrides")&&"states"in t.props){let{rest:o}=t.props;t=se(B({},t),{props:o}),this.markNeedsRecomputeInstances()}t.path[0]==="pathSnapping"&&t.props.pathId!==void 0&&this.pathConstraints.setConstraint(e,t.props.pathId)}let r=this.find(e);if(r)try{SPe(r,t,n,{scene:this,shared:i}),r instanceof bo&&r.updateGeometryGroupsIfNeeded()}catch(o){console.error(o)}}updateEntity2DByOp(e,t,n,i,r,o=[]){e.updateEntityByOp(t,n,i,r),this.traverseEntity(a=>{(a instanceof vo||a instanceof Er)&&(o.includes(a.frameId??"")||a.frameId===t)&&a.updateEntity2DByOp(t,n,i,r)})}get activeCamera(){return this.activePage.activeCamera}switchActiveCamera(e){this.activePage.switchActiveCamera(e)}isInvisibleObjects(e){return e===this.invisibleObjects||e.hasAnccestor(this.invisibleObjects)}init(e,t){let n=Object.entries(t.data.lib.components).map((i,r)=>({data:i[1].asset.data,children:i[1].asset.children,id:i[0],fi:r}));this.invisibleObjects.updateState(this.invisibleObjects.data,{scene:this,shared:t}),this.add(this.invisibleObjects),this.createChildrenObjects(n,this.invisibleObjects,t),this.createChildrenObjects(e.objects,this,t),this.updatePage(e.publish.playPage),this.activePage.switchToPlayCamera(),this.expandInstances(t,!0),this.traverseEntity(i=>{i instanceof Co&&i.updateUp()}),this.doPendingExpandCloner(),this.applyPendingCommands()}markNeedsRecomputeInstances(){this.needsRecomputeInstances=!0}markNeedsRecomputeInstancesForChildren(e){e.traverseEntity(t=>{(t.data.type==="Component"||t.data.type==="Instance")&&this.markNeedsRecomputeInstances()})}markNeedsRecomputeInstancesForAncessors(e){yn.is(e)&&(e.data.type==="Component"&&this.markNeedsRecomputeInstances(),e.traverseAncestors(t=>{yn.is(t)&&t.data.type==="Component"&&this.markNeedsRecomputeInstances()}))}relativeizeInner(e,t,n,i,r,o,a){if(e){let s=i.find(e);s&&s!==i&&r.forInstancesRec(l=>{l.data=ry(l.data,c=>{let d=c.events.data(a.id),u=l.goUp(o);if(u){let h=[...uU(u.identity),e].join("-"),p=this.entityIdentityToEntity[h];if(p){let m=p.uuid,g=Qr.zoom(d,t);g[n]=m}else console.warn("cannot find instance")}}).data})}}rewriteActions(e,t,n,i,r,o){e.forEach(a=>{a.data.type==="Transition"?this.relativeizeInner(a.data.object,[...t,a.id],"object",n,i,r,o):a.data.type==="Animation"&&this.relativeizeInner(a.data.object,[...t,a.id],"object",n,i,r,o)})}rewriteEventsBeforeGoToPlayMode(){this.traverseEntity(e=>{if(e instanceof If&&typeof e.identity=="string"&&e.data.type==="Component")return e.traverseEntity((t,n)=>{t.data.events.forEach(i=>{if(i.data.type==="GameControl"){let r=!1;if(t.forInstancesRec(o=>{o.data=ry(o.data,a=>{o.isInstanceRoot||(a.events.delete(i.id),r=!0)}).data}),r===!1)for(let o of NM.list)this.rewriteActions(i.data.gameActions[o],["gameActions",o],e,t,n,i)}else i.data.type==="Conditional"?(i.data.condition.type==="Distance"?(this.relativeizeInner(i.data.condition.fromObject,["condition"],"fromObject",e,t,n,i),this.relativeizeInner(i.data.condition.toObject,["condition"],"toObject",e,t,n,i)):i.data.condition.type==="State"?this.relativeizeInner(i.data.condition.object,["condition"],"object",e,t,n,i):i.data.condition.type==="Comparison"&&(i.data.condition.lOperand.type==="Property"&&this.relativeizeInner(i.data.condition.lOperand.value[0],["condition","lOperand","value"],0,e,t,n,i),i.data.condition.rOperand.type==="Property"&&this.relativeizeInner(i.data.condition.rOperand.value[0],["condition","rOperand","value"],0,e,t,n,i)),this.rewriteActions(i.data.inActions,["inActions"],e,t,n,i),this.rewriteActions(i.data.outActions,["outActions"],e,t,n,i)):"actions"in i.data&&this.rewriteActions(i.data.actions,["actions"],e,t,n,i)})}),!0})}expandInstances(e,t,n){let i=new Set;this.traverseEntity(r=>{if(r instanceof If&&r.isInstanceRoot)return r.expandInstanceChildren({scene:this,shared:e,pendingDeletes:i}),t||r.resetBBoxNeedsUpdate(),n&&r.traverseEntity(o=>{n.addClip(o)}),!0});for(let r of i)this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(r),YT(r)}recomputeInstances(e,t){this.needsRecomputeInstances&&(this.needsRecomputeInstances=!1,this.traverseEntity(n=>{n instanceof If&&n.isInstanceRoot&&(n.component=void 0)}),this.expandInstances(e,!1,t))}disposeAndUnregisterEntityRecursivelyIfNotReregistered(e){e.traverseEntity(t=>{let n=typeof t.identity=="string"?t.identity:t.identity.join("-");this.entityIdentityToEntity[n]===t&&(delete this.entityByUuid[t.uuid],delete this.entityIdentityToEntity[n]),t.dispose()})}clearScene(){for(let e of this.children)yn.is(e)&&e.disposeRecursively();this.children.length=0}resetAfterClear(e,t){this.init(e,t)}raycast(e){return this.raycast1(e,!1)}raycast1(e,t){let n=[],i=r=>{for(let o of r.children){let a=o.cloner;if(yn.is(o)&&!o.raycastLock&&(o.visible||a?.object.data.visible))if(t===!0&&o.isInstanceRoot){let s=[];if(e.intersectObject(o,!0,s),s.length){let l=s[0];l.object=o,l.point.applyMatrix4(l.object.matrixWorld);let c=o.matrixWorld.clone().invert();l.point.applyMatrix4(c),n.push(l)}}else(Us(o)||rA(o)&&this.enableHelpers&&o.objectHelper.visible)&&(e.intersectObject(o,!1,n),fA(o,e,n)),i(o)}};return i(this.activePage),n}raycastWithClones(e){let t=[],n=i=>{for(let r of i.children){let o=r.cloner;yn.is(r)&&(r.visible||o?.object.data.visible)&&((Us(r)||rA(r)&&this.enableHelpers&&r.objectHelper.visible)&&(e.intersectObject(r,!1,t),fA(r,e,t,!0)),n(r))}};return n(this),t}forEachEntity(e){for(let t of this.children)yn.is(t)&&e(t)}traverseConcreteEntity(e){for(let t of this.children)yn.is(t)&&t.isConcreteEntity&&t.traverseEntity(e)}traverseEntity(e){for(let t of this.children)yn.is(t)&&t.traverseEntity(e)}updateFont(e,t){this.traverseEntity(n=>{if(n instanceof bo&&n.data.type==="Mesh"&&n.data.geometry.type==="TextGeometry"&&n.data.geometry.font===e){let i=n.geometry,r=n.data.geometry;i.updateFont(e,t).then(()=>{i.update(r);let o=n.invalidateDownstreamBooleanData();Xc(o)&&o.recomputeBoolean()})}})}traverseObject(e){for(let t of this.children)hy.is(t)&&t.traverseObject(e)}traverseVisibleEntity(e){for(let t of this.children)yn.is(t)&&t.visible&&t.traverseVisibleEntity(e)}dispose(){this.clearScene()}createChildrenObjects(e,t,n){let i=0;for(let r of e)this.createObject(r.id,r.data,r.children,t,i,n),i+=1}registerObjectCreatedInLegacy(e){this.entityByUuid[e.uuid]=e}unregisterObject(e){delete this.entityByUuid[e.uuid];for(let t of e.children)this.unregisterObject(t)}createObject(e,t,n,i,r,o){let a={scene:this,shared:o},s=XT(e,t,a);return s&&(this.entityByUuid[e]=s,i.add(s),i.children.splice(r,0,i.children.pop()),n.length>0&&(s.isInstanceRoot?console.error("instance should not have children!"):this.createChildrenObjects(n,s,o)),s.updateState(t,a),s instanceof bo&&s.updateGeometryGroupsIfNeeded(),s.updateVisible(this),s.cloner&&this.toExpandCloner.add(s),t.pathSnapping?.pathId&&this.pathConstraints.setConstraint(e,t.pathSnapping.pathId)),t.type==="Empty"&&t.animations&&s.traverseEntity(l=>{let c=l.dataPatched;if(l instanceof bo&&c.bones&&c.boneInverses){let d=c.bones.map(p=>this.find(p)),u=c.boneInverses.map(p=>new Be().fromArray(p)),h=new NA(d,u);l.bind(h,l.bindMatrix)}else l.matrixAutoUpdate=!0}),s}getCenter(e){let t=[];for(let i=0,r=e.length;i<r;++i){let{id:o,recursive:a}=e[i],s=this.find(o),l=a?s.recursiveBBox:s.singleBBox;t.push(...l.vertices)}let n=new ji;return n.setFromPoints(t),n.getCenter(zB),zB}copyMatrixWorld(e,t){if(e===null){t.identity();return}let n=this.find(e);n?t.copy(n.matrixWorld):t.identity()}copyParentMatrixWorld(e,t){if(e===null){t.identity();return}let n=this.find(e)?.parent;n?t.copy(n.matrixWorld):t.identity()}traverseMaterial(e){this.traverseEntity(t=>{if(t instanceof Ho)if(Array.isArray(t.material))for(let n=0;n<t.material.length;n++)t.material[n]instanceof hu&&e(t.material[n]);else t.material instanceof hu&&e(t.material)})}updateViewPlaneSize(e,t,n=!1){this.traverseConcreteEntity(i=>{i instanceof Co&&i.setViewplaneSize(e,t,n)})}initializeSplatViewer(){this.splatViewer=new VPe({scene:this}),this.reloadSplats()}reloadSplats(){this.splatViewer?.loadSplat()}},$C=(e,t)=>{let n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},UPe=(e,t)=>{let n=t.x-e.x,i=t.y-e.y;return HPe(Math.atan2(i,n))},jPe=(e,t,n)=>{let i={x:0,y:0};return n=vA(n),i.x=e.x-t*Math.cos(n),i.y=e.y-t*Math.sin(n),i},vA=e=>e*(Math.PI/180),HPe=e=>e*(180/Math.PI),GPe=e=>isNaN(e.buttons)?e.pressure!==0:e.buttons!==0,c3=new Map,BB=e=>{c3.has(e)&&clearTimeout(c3.get(e)),c3.set(e,setTimeout(e,100))},$M=(e,t,n)=>{let i=t.split(/[ ,]+/g),r;for(let o=0;o<i.length;o+=1)r=i[o],e.addEventListener?e.addEventListener(r,n,!1):e.attachEvent&&e.attachEvent(r,n)},VB=(e,t,n)=>{let i=t.split(/[ ,]+/g),r;for(let o=0;o<i.length;o+=1)r=i[o],e.removeEventListener?e.removeEventListener(r,n):e.detachEvent&&e.detachEvent(r,n)},zH=e=>(e.preventDefault(),e.type.match(/^touch/)?e.changedTouches:e),UB=()=>{if(typeof window>"u")return;let e=window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return{x:e,y:t}},yA=(e,t)=>{t.top||t.right||t.bottom||t.left?(e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left):(e.style.left=t.x+"px",e.style.top=t.y+"px")},ZT=(e,t,n)=>{let i=BH(e);for(let r in i)if(i.hasOwnProperty(r))if(typeof t=="string")i[r]=t+" "+n;else{let o="";for(let a=0,s=t.length;a<s;a+=1)o+=t[a]+" "+n+", ";i[r]=o.slice(0,-2)}return i},WPe=(e,t)=>{let n=BH(e);for(let i in n)n.hasOwnProperty(i)&&(n[i]=t);return n},BH=e=>{let t={};return t[e]="",["webkit","Moz","o"].forEach(function(n){t[n+e.charAt(0).toUpperCase()+e.slice(1)]=""}),t},d3=(e,t)=>{for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},qPe=(e,t)=>{let n={};for(let i in e)e.hasOwnProperty(i)&&t.hasOwnProperty(i)?n[i]=t[i]:e.hasOwnProperty(i)&&(n[i]=e[i]);return n},bA=(e,t)=>{if(e.length)for(let n=0,i=e.length;n<i;n+=1)t(e[n]);else t(e)},YPe=(e,t,n)=>({x:Math.min(Math.max(e.x,t.x-n),t.x+n),y:Math.min(Math.max(e.y,t.y-n),t.y+n)});typeof window<"u"&&(VH="ontouchstart"in window,UH=!!window.PointerEvent,jH=!!window.MSPointerEvent);var VH,UH,jH,vv={touch:{start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"},MSPointer:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}},yf,fy={};UH?yf=vv.pointer:jH?yf=vv.MSPointer:VH?(yf=vv.touch,fy=vv.mouse):yf=vv.mouse;function pp(){}pp.prototype.on=function(e,t){var n=this,i=e.split(/[ ,]+/g),r;n._handlers_=n._handlers_||{};for(var o=0;o<i.length;o+=1)r=i[o],n._handlers_[r]=n._handlers_[r]||[],n._handlers_[r].push(t);return n};pp.prototype.off=function(e,t){var n=this;return n._handlers_=n._handlers_||{},e===void 0?n._handlers_={}:t===void 0?n._handlers_[e]=null:n._handlers_[e]&&n._handlers_[e].indexOf(t)>=0&&n._handlers_[e].splice(n._handlers_[e].indexOf(t),1),n};pp.prototype.trigger=function(e,t){var n=this,i=e.split(/[ ,]+/g),r;n._handlers_=n._handlers_||{};for(var o=0;o<i.length;o+=1)r=i[o],n._handlers_[r]&&n._handlers_[r].length&&n._handlers_[r].forEach(function(a){a.call(n,{type:r,target:n},t)})};pp.prototype.config=function(e){var t=this;t.options=t.defaults||{},e&&(t.options=qPe(t.options,e))};pp.prototype.bindEvt=function(e,t){var n=this;return n._domHandlers_=n._domHandlers_||{},n._domHandlers_[t]=function(){typeof n["on"+t]=="function"?n["on"+t].apply(n,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},$M(e,yf[t],n._domHandlers_[t]),fy[t]&&$M(e,fy[t],n._domHandlers_[t]),n};pp.prototype.unbindEvt=function(e,t){var n=this;return n._domHandlers_=n._domHandlers_||{},VB(e,yf[t],n._domHandlers_[t]),fy[t]&&VB(e,fy[t],n._domHandlers_[t]),delete n._domHandlers_[t],this};var $T=pp;function yr(e,t){return this.identifier=t.identifier,this.position=t.position,this.frontPosition=t.frontPosition,this.collection=e,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(t),this.options.mode==="dynamic"&&(this.options.restOpacity=0),this.id=yr.id,yr.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}yr.prototype=new $T;yr.constructor=yr;yr.id=0;yr.prototype.buildEl=function(e){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)};yr.prototype.stylize=function(){if(this.options.dataOnly)return this;var e=this.options.fadeTime+"ms",t=WPe("borderRadius","50%"),n=ZT("transition","opacity",e),i={};return i.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},i.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:"rgba(255, 255, 255, .4)",border:"solid 2px rgba(0, 0, 0, .1)"},i.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:"rgba(255, 255, 255, .8)",border:"solid 2px rgba(0, 0, 0, .1)"},d3(i.el,n),this.options.shape==="circle"&&d3(i.back,t),d3(i.front,t),this.applyStyles(i),this};yr.prototype.applyStyles=function(e){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var n in e[t])this.ui[t].style[n]=e[t][n];return this};yr.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)};yr.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)};yr.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()};yr.prototype.show=function(e){var t=this;return t.options.dataOnly||(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout(function(){t.ui.el.style.opacity=1},0),t.showTimeout=setTimeout(function(){t.trigger("shown",t.instance),typeof e=="function"&&e.call(this)},t.options.fadeTime)),t};yr.prototype.hide=function(e){var t=this;if(t.options.dataOnly)return t;if(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout(function(){var n=t.options.mode==="dynamic"?"none":"block";t.ui.el.style.display=n,typeof e=="function"&&e.call(t),t.trigger("hidden",t.instance)},t.options.fadeTime),t.options.restJoystick){let n=t.options.restJoystick,i={};i.x=n===!0||n.x!==!1?0:t.instance.frontPosition.x,i.y=n===!0||n.y!==!1?0:t.instance.frontPosition.y,t.setPosition(e,i)}return t};yr.prototype.setPosition=function(e,t){var n=this;n.frontPosition={x:t.x,y:t.y};var i=n.options.fadeTime+"ms",r={};r.front=ZT("transition",["top","left"],i);var o={front:{}};o.front={left:n.frontPosition.x+"px",top:n.frontPosition.y+"px"},n.applyStyles(r),n.applyStyles(o),n.restTimeout=setTimeout(function(){typeof e=="function"&&e.call(n),n.restCallback()},n.options.fadeTime)};yr.prototype.restCallback=function(){var e=this,t={};t.front=ZT("transition","none",""),e.applyStyles(t),e.trigger("rested",e.instance)};yr.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}};yr.prototype.computeDirection=function(e){var t=e.angle.radian,n=Math.PI/4,i=Math.PI/2,r,o,a;if(t>n&&t<n*3&&!e.lockX?r="up":t>-n&&t<=n&&!e.lockY?r="left":t>-n*3&&t<=-n&&!e.lockX?r="down":e.lockY||(r="right"),e.lockY||(t>-i&&t<i?o="left":o="right"),e.lockX||(t>0?a="up":a="down"),e.force>this.options.threshold){var s={},l;for(l in this.direction)this.direction.hasOwnProperty(l)&&(s[l]=this.direction[l]);var c={};this.direction={x:o,y:a,angle:r},e.direction=this.direction;for(l in s)s[l]===this.direction[l]&&(c[l]=!0);if(c.x&&c.y&&c.angle)return e;(!c.x||!c.y)&&this.trigger("plain",e),c.x||this.trigger("plain:"+o,e),c.y||this.trigger("plain:"+a,e),c.angle||this.trigger("dir dir:"+r,e)}else this.resetDirection();return e};var XPe=yr;function Hi(e,t){var n=this;n.nipples=[],n.idles=[],n.actives=[],n.ids=[],n.pressureIntervals={},n.manager=e,n.id=Hi.id,Hi.id+=1,n.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},n.config(t),(n.options.mode==="static"||n.options.mode==="semi")&&(n.options.multitouch=!1),n.options.multitouch||(n.options.maxNumberOfNipples=1);let i=getComputedStyle(n.options.zone.parentElement);return i&&i.display==="flex"&&(n.parentIsFlex=!0),n.updateBox(),n.prepareNipples(),n.bindings(),n.begin(),n.nipples}Hi.prototype=new $T;Hi.constructor=Hi;Hi.id=0;Hi.prototype.prepareNipples=function(){var e=this,t=e.nipples;t.on=e.on.bind(e),t.off=e.off.bind(e),t.options=e.options,t.destroy=e.destroy.bind(e),t.ids=e.ids,t.id=e.id,t.processOnMove=e.processOnMove.bind(e),t.processOnEnd=e.processOnEnd.bind(e),t.get=function(n){if(n===void 0)return t[0];for(var i=0,r=t.length;i<r;i+=1)if(t[i].identifier===n)return t[i];return!1}};Hi.prototype.bindings=function(){var e=this;e.bindEvt(e.options.zone,"start"),e.options.zone.style.touchAction="none",e.options.zone.style.msTouchAction="none"};Hi.prototype.begin=function(){var e=this,t=e.options;if(t.mode==="static"){var n=e.createNipple(t.position,e.manager.getIdentifier());n.add(),e.idles.push(n)}};Hi.prototype.createNipple=function(e,t){var n=this,i=n.manager.scroll,r={},o=n.options,a={x:n.parentIsFlex?i.x:i.x+n.box.left,y:n.parentIsFlex?i.y:i.y+n.box.top};if(e.x&&e.y)r={x:e.x-a.x,y:e.y-a.y};else if(e.top||e.right||e.bottom||e.left){var s=document.createElement("DIV");s.style.display="hidden",s.style.top=e.top,s.style.right=e.right,s.style.bottom=e.bottom,s.style.left=e.left,s.style.position="absolute",o.zone.appendChild(s);var l=s.getBoundingClientRect();o.zone.removeChild(s),r=e,e={x:l.left+i.x,y:l.top+i.y}}var c=new XPe(n,{color:o.color,size:o.size,threshold:o.threshold,fadeTime:o.fadeTime,dataOnly:o.dataOnly,restJoystick:o.restJoystick,restOpacity:o.restOpacity,mode:o.mode,identifier:t,position:e,zone:o.zone,frontPosition:{x:0,y:0},shape:o.shape});return o.dataOnly||(yA(c.ui.el,r),yA(c.ui.front,c.frontPosition)),n.nipples.push(c),n.trigger("added "+c.identifier+":added",c),n.manager.trigger("added "+c.identifier+":added",c),n.bindNipple(c),c};Hi.prototype.updateBox=function(){var e=this;e.box=e.options.zone.getBoundingClientRect()};Hi.prototype.bindNipple=function(e){var t=this,n,i=function(r,o){n=r.type+" "+o.id+":"+r.type,t.trigger(n,o)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)};Hi.prototype.pressureFn=function(e,t,n){var i=this,r=0;clearInterval(i.pressureIntervals[n]),i.pressureIntervals[n]=setInterval((function(){var o=e.force||e.pressure||e.webkitForce||0;o!==r&&(t.trigger("pressure",o),i.trigger("pressure "+t.identifier+":pressure",o),r=o)}).bind(i),100)};Hi.prototype.onstart=function(e){var t=this,n=t.options,i=e;e=zH(e),t.updateBox();var r=function(o){t.actives.length<n.maxNumberOfNipples?t.processOnStart(o):i.type.match(/^touch/)&&(Object.keys(t.manager.ids).forEach(function(a){if(Object.values(i.touches).findIndex(function(l){return l.identifier===a})<0){var s=[e[0]];s.identifier=a,t.processOnEnd(s)}}),t.actives.length<n.maxNumberOfNipples&&t.processOnStart(o))};return bA(e,r),t.manager.bindDocument(),!1};Hi.prototype.processOnStart=function(e){var t=this,n=t.options,i,r=t.manager.getIdentifier(e),o=e.force||e.pressure||e.webkitForce||0,a={x:e.pageX,y:e.pageY},s=t.getOrCreate(r,a);s.identifier!==r&&t.manager.removeIdentifier(s.identifier),s.identifier=r;var l=function(d){d.trigger("start",d),t.trigger("start "+d.id+":start",d),d.show(),o>0&&t.pressureFn(e,d,d.identifier),t.processOnMove(e)};if((i=t.idles.indexOf(s))>=0&&t.idles.splice(i,1),t.actives.push(s),t.ids.push(s.identifier),n.mode!=="semi")l(s);else{var c=$C(a,s.position);if(c<=n.catchDistance)l(s);else{s.destroy(),t.processOnStart(e);return}}return s};Hi.prototype.getOrCreate=function(e,t){var n=this,i=n.options,r;return/(semi|static)/.test(i.mode)?(r=n.idles[0],r?(n.idles.splice(0,1),r):i.mode==="semi"?n.createNipple(t,e):(console.warn("Coudln't find the needed nipple."),!1)):(r=n.createNipple(t,e),r)};Hi.prototype.processOnMove=function(e){var t=this,n=t.options,i=t.manager.getIdentifier(e),r=t.nipples.get(i),o=t.manager.scroll;if(!GPe(e)){this.processOnEnd(e);return}if(!r){console.error("Found zombie joystick with ID "+i),t.manager.removeIdentifier(i);return}if(n.dynamicPage){var a=r.el.getBoundingClientRect();r.position={x:o.x+a.left,y:o.y+a.top}}r.identifier=i;var s=r.options.size/2,l={x:e.pageX,y:e.pageY};n.lockX&&(l.y=r.position.y),n.lockY&&(l.x=r.position.x);var c=$C(l,r.position),d=UPe(l,r.position),u=vA(d),h=c/s,p={distance:c,position:l},m,g;if(r.options.shape==="circle"?(m=Math.min(c,s),g=jPe(r.position,m,d)):(g=YPe(l,r.position,s),m=$C(g,r.position)),n.follow){if(c>s){let C=l.x-g.x,M=l.y-g.y;r.position.x+=C,r.position.y+=M,r.el.style.top=r.position.y-(t.box.top+o.y)+"px",r.el.style.left=r.position.x-(t.box.left+o.x)+"px",c=$C(l,r.position)}}else l=g,c=m;var v=l.x-r.position.x,b=l.y-r.position.y;r.frontPosition={x:v,y:b},n.dataOnly||yA(r.ui.front,r.frontPosition);var _={identifier:r.identifier,position:l,force:h,pressure:e.force||e.pressure||e.webkitForce||0,distance:c,angle:{radian:u,degree:d},vector:{x:v/s,y:-b/s},raw:p,instance:r,lockX:n.lockX,lockY:n.lockY};_=r.computeDirection(_),_.angle={radian:vA(180-d),degree:180-d},r.trigger("move",_),t.trigger("move "+r.id+":move",_)};Hi.prototype.processOnEnd=function(e){var t=this,n=t.options,i=t.manager.getIdentifier(e),r=t.nipples.get(i),o=t.manager.removeIdentifier(r.identifier);!r||(n.dataOnly||r.hide(function(){n.mode==="dynamic"&&(r.trigger("removed",r),t.trigger("removed "+r.id+":removed",r),t.manager.trigger("removed "+r.id+":removed",r),r.destroy())}),clearInterval(t.pressureIntervals[r.identifier]),r.resetDirection(),r.trigger("end",r),t.trigger("end "+r.id+":end",r),t.ids.indexOf(r.identifier)>=0&&t.ids.splice(t.ids.indexOf(r.identifier),1),t.actives.indexOf(r)>=0&&t.actives.splice(t.actives.indexOf(r),1),/(semi|static)/.test(n.mode)?t.idles.push(r):t.nipples.indexOf(r)>=0&&t.nipples.splice(t.nipples.indexOf(r),1),t.manager.unbindDocument(),/(semi|static)/.test(n.mode)&&(t.manager.ids[o.id]=o.identifier))};Hi.prototype.onDestroyed=function(e,t){var n=this;n.nipples.indexOf(t)>=0&&n.nipples.splice(n.nipples.indexOf(t),1),n.actives.indexOf(t)>=0&&n.actives.splice(n.actives.indexOf(t),1),n.idles.indexOf(t)>=0&&n.idles.splice(n.idles.indexOf(t),1),n.ids.indexOf(t.identifier)>=0&&n.ids.splice(n.ids.indexOf(t.identifier),1),n.manager.removeIdentifier(t.identifier),n.manager.unbindDocument()};Hi.prototype.destroy=function(){var e=this;e.unbindEvt(e.options.zone,"start"),e.nipples.forEach(function(n){n.destroy()});for(var t in e.pressureIntervals)e.pressureIntervals.hasOwnProperty(t)&&clearInterval(e.pressureIntervals[t]);e.trigger("destroyed",e.nipples),e.manager.unbindDocument(),e.off()};var QPe=Hi;function kr(e){var t=this;t.ids={},t.index=0,t.collections=[],t.scroll=UB(),t.config(e),t.prepareCollections();var n=function(){var r;t.collections.forEach(function(o){o.forEach(function(a){r=a.el.getBoundingClientRect(),a.position={x:t.scroll.x+r.left,y:t.scroll.y+r.top}})})};if(typeof window>"u")return t.collections;$M(window,"resize",function(){BB(n)});var i=function(){t.scroll=UB()};return $M(window,"scroll",function(){BB(i)}),t.collections}kr.prototype=new $T;kr.constructor=kr;kr.prototype.prepareCollections=function(){var e=this;e.collections.create=e.create.bind(e),e.collections.on=e.on.bind(e),e.collections.off=e.off.bind(e),e.collections.destroy=e.destroy.bind(e),e.collections.get=function(t){var n;return e.collections.every(function(i){return n=i.get(t),!n}),n}};kr.prototype.create=function(e){return this.createCollection(e)};kr.prototype.createCollection=function(e){var t=this,n=new QPe(t,e);return t.bindCollection(n),t.collections.push(n),n};kr.prototype.bindCollection=function(e){var t=this,n,i=function(r,o){n=r.type+" "+o.id+":"+r.type,t.trigger(n,o)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)};kr.prototype.bindDocument=function(){var e=this;e.binded||(e.bindEvt(document,"move").bindEvt(document,"end"),e.binded=!0)};kr.prototype.unbindDocument=function(e){var t=this;(!Object.keys(t.ids).length||e===!0)&&(t.unbindEvt(document,"move").unbindEvt(document,"end"),t.binded=!1)};kr.prototype.getIdentifier=function(e){var t;return e?(t=e.identifier===void 0?e.pointerId:e.identifier,t===void 0&&(t=this.latest||0)):t=this.index,this.ids[t]===void 0&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]};kr.prototype.removeIdentifier=function(e){var t={};for(var n in this.ids)if(this.ids[n]===e){t.id=n,t.identifier=this.ids[n],delete this.ids[n];break}return t};kr.prototype.onmove=function(e){var t=this;return t.onAny("move",e),!1};kr.prototype.onend=function(e){var t=this;return t.onAny("end",e),!1};kr.prototype.oncancel=function(e){var t=this;return t.onAny("end",e),!1};kr.prototype.onAny=function(e,t){var n=this,i,r="processOn"+e.charAt(0).toUpperCase()+e.slice(1);t=zH(t);var o=function(s,l,c){c.ids.indexOf(l)>=0&&(c[r](s),s._found_=!0)},a=function(s){i=n.getIdentifier(s),bA(n.collections,o.bind(null,s,i)),s._found_||n.removeIdentifier(i)};return bA(t,a),!1};kr.prototype.destroy=function(){var e=this;e.unbindDocument(!0),e.ids={},e.index=0,e.collections.forEach(function(t){t.destroy()}),e.off()};kr.prototype.onDestroyed=function(e,t){var n=this;if(n.collections.indexOf(t)<0)return!1;n.collections.splice(n.collections.indexOf(t),1)};var ZPe=kr,jB=new ZPe,$Pe={create:function(e){return jB.create(e)},factory:jB},HH=new Map,Hv=new Map,jh=class{constructor(e,t,n,i){this.data=t;let{audio:r,volume:o,delay:a,loop:s}=t;if(!r)throw new Error("Missing property");let l=typeof r=="string"?i.getAudio(r).src:r.data;this.audioPlayer=new Iv({src:l,volume:o,delay:a,loop:s}),Hv.has(n.uuid)?Hv.get(n.uuid).push(this):Hv.set(n.uuid,[this]),HH.set(e,this)}playByToggle(){this.data.toggle==="stop"?this.audioPlayer.status==="playing"?this.audioPlayer.stop():(this.audioPlayer.stop(),this.audioPlayer.play()):this.data.toggle==="pause"?this.audioPlayer.status==="playing"?this.audioPlayer.pause():this.audioPlayer.play():(this.audioPlayer.stop(),this.audioPlayer.play())}dispose(){this.audioPlayer.stop()}},_A=class{constructor(e){this.data=e}dispatch(){this.data.playAudio?this.pauseAudio(this.data.playAudio):this.data.object?this.pauseAllAudiosFromObject(this.data.object):this.pauseAllAudios()}pauseAudio(e){let t=HH.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.audioPlayer[this.data.interaction](),this.disposeDelay()},this.data.delay)):t.audioPlayer[this.data.interaction]())}pauseAllAudiosFromObject(e){let t=Hv.get(e);!t?.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(n=>n.audioPlayer[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(n=>n.audioPlayer[this.data.interaction]()))}pauseAllAudios(){let e=[...Hv.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(n=>{n.audioPlayer[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(n=>{n.audioPlayer[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},GH=class{constructor(e,t,n,i,r){if(this.data=t,this.shared=i,this.condition=r,t.interaction==="play")this.interaction=new jh(e,t,n,i);else if(t.interaction==="pause"||t.interaction==="stop")this.interaction=new _A(t);else throw new Error("Missing property")}dispatchBasic(){if(xi(this.shared,this.condition)===!1)return!1;this.interaction instanceof jh?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(xi(this.shared,this.condition)===!1)return!1;this.interaction instanceof jh?this.interaction.audioPlayer.play():this.interaction.dispatch()}dispatchGameControl(e){if(xi(this.shared,this.condition)===!1)return!1;this.interaction instanceof jh&&(e==="start"?this.interaction.audioPlayer.play():this.interaction.audioPlayer.stop())}dispose(){this.interaction.dispose()}},WH=class{constructor(e,t,n,i){this.data=e,this.page=t,this.shared=n,this.condition=i,this.delay=0,this.emission=e.emission,e.delay!==void 0&&(this.delay=e.delay),this.particleSystem=this.page.scene.find(this.data.emitterObjectId)}toggleEmitting(){this.particleSystem.started&&!this.particleSystem.stopped?this.stop(this.delay):this.start(this.delay)}toggleFroze(){this.particleSystem.started&&!this.particleSystem.isFrozen?this.freeze(this.delay):this.unFreeze(this.delay)}start(e=0){if(e){this.delayTimerId=window.setTimeout(()=>{this.start(0),this.clearDelay()},e);return}this.particleSystem.start()}stop(e=0){if(e){this.delayTimerId=window.setTimeout(()=>{this.stop(0),this.clearDelay()},e);return}this.particleSystem.stop()}freeze(e=0){if(e){this.delayTimerId=window.setTimeout(()=>{this.freeze(0),this.clearDelay()},e);return}this.particleSystem.froze()}unFreeze(e=0){if(e){this.delayTimerId=window.setTimeout(()=>{this.unFreeze(0),this.clearDelay()},e);return}this.particleSystem.unFroze()}reset(e=0){if(e){this.delayTimerId=window.setTimeout(()=>{this.reset(0),this.clearDelay()},e);return}this.particleSystem.reset()}reverseFromCurrent(){switch(this.emission){case"emitToggle":this.toggleEmitting();break;case"pauseToggle":this.toggleFroze();break}}dispatchBasic(){if(xi(this.shared,this.condition)===!1||!this.particleSystem)return!1;switch(this.emission){case"start":this.start(this.delay);break;case"emitToggle":this.toggleEmitting();break;case"pause":this.freeze(this.delay);break;case"pauseToggle":this.toggleFroze();break;case"stop":this.stop(this.delay);break;case"reset":this.reset(this.delay);break;default:break}}dispatchConditional(){if(xi(this.shared,this.condition)===!1||!this.particleSystem)return!1;switch(this.emission){case"start":this.start(this.delay);break;case"stop":this.stop(this.delay);break;case"reset":this.reset(this.delay);break;default:break}}dispatchGameControl(e){if(xi(this.shared,this.condition)===!1||!this.particleSystem)return!1;e==="start"?this.start(this.delay):this.stop(this.delay)}dispose(){!this.particleSystem||(this.particleSystem.reset(),this.clearDelay())}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}},KPe="text/plain",JPe="us-ascii",HB=(e,t)=>t.some(n=>n instanceof RegExp?n.test(e):n===e),eOe=(e,{stripHash:t})=>{let n=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!n)throw new Error(`Invalid URL: ${e}`);let{type:i,data:r,hash:o}=n.groups,a=i.split(";");o=t?"":o;let s=!1;a[a.length-1]==="base64"&&(a.pop(),s=!0);let l=(a.shift()||"").toLowerCase(),c=[...a.map(d=>{let[u,h=""]=d.split("=").map(p=>p.trim());return u==="charset"&&(h=h.toLowerCase(),h===JPe)?"":`${u}${h?`=${h}`:""}`}).filter(Boolean)];return s&&c.push("base64"),(c.length>0||l&&l!==KPe)&&c.unshift(l),`data:${c.join(";")},${s?r.trim():r}${o?`#${o}`:""}`};function tOe(e,t){if(t=B({defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0},t),e=e.trim(),/^data:/i.test(e))return eOe(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let o=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,a=0,s="";for(;;){let c=o.exec(i.pathname);if(!c)break;let d=c[0],u=c.index,h=i.pathname.slice(a,u);s+=h.replace(/\/{2,}/g,"/"),s+=d,a=u+d.length}let l=i.pathname.slice(a,i.pathname.length);s+=l.replace(/\/{2,}/g,"/"),i.pathname=s}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=i.pathname.split("/"),a=o[o.length-1];HB(a,t.removeDirectoryIndex)&&(o=o.slice(0,-1),i.pathname=o.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let o of[...i.searchParams.keys()])HB(o,t.removeQueryParameters)&&i.searchParams.delete(o);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let r=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!r.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var nOe=class{constructor({url:e,context:t},n,i,r){if(this.controlsManager=n,this.shared=i,this.condition=r,!e)throw new Error("Missing property");this.url=e.startsWith("mailto:")?e:tOe(e,{removeTrailingSlash:!1,removeSingleSlash:!1,stripWWW:!1}),this.context=t??"tab"}dispatch(){if(xi(this.shared,this.condition)===!1)return!1;cT?window.location.assign(this.url):(this.context==="tab"?window.open(this.url,"_blank"):this.context==="window"?window.open(this.url,"_blank",`width=${window.innerWidth}, height=${window.innerHeight}`):window.open(this.url,"_parent"),this.controlsManager.orbitControls?.onPointerUp(xt[0]),vve())}},qH=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.controlsManager=n,this.shared=i,this.condition=r,this.timeoutIdQueue=[],this.dispatchInner=()=>{this.objects.forEach(this.destroyCallback)},this.destroyCallback=o=>{this.timeoutIdQueue.shift();let a=this.page.scene.find(o);if(a===void 0)return;let s=this.controlsManager.sharedGameControlGlobals.rapierWorld,l=s?a.dataPatched.physics?.fusedBody:!0;if(a.cloner){for(let c of a.cloner.children)l?(c.playModeVisible=!1,c.rigidBody&&a.dataPatched.physics?.rigidBody==="positioned"&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(c.rigidBody.collider(0).handle),s.removeRigidBody(c.rigidBody),c.rigidBody=void 0),c.bvhGeometry&&(c.bvhGeometry=void 0)):this.clone===void 0||this.clone===c?(c.playModeVisible=!1,c.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(c.rigidBody.collider(0).handle),s.removeRigidBody(c.rigidBody),c.rigidBody=void 0)):c.playModeVisible===void 0&&(c.playModeVisible=!0);(l||this.clone===void 0||this.clone===!1)&&(a.visible=!1,a.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(a.rigidBody.collider(0).handle),s.removeRigidBody(a.rigidBody),a.rigidBody=void 0),a.bvhGeometry&&(a.bvhGeometry=void 0))}else a.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(a.rigidBody.collider(0).handle),s.removeRigidBody(a.rigidBody),a.rigidBody=void 0),a.bvhGeometry&&(a.bvhGeometry=void 0),a.visible=!1;s===void 0?this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(c=>c.bvhGeometry!==void 0):this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(c=>c.rigidBody!==void 0),a.destroyedInAction=!0,this.controlsManager.requestRender()},this.objects=[...e.objects]}dispatch(e){if(xi(this.shared,this.condition)===!1)return!1;this.clone=e,this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3)):this.dispatchInner()}dispatchFromStart(){if(xi(this.shared,this.condition)===!1)return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3))}dispose(){this.timeoutIdQueue.forEach(e=>window.clearTimeout(e))}},YH=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.shared=n,this.eventManager=i,this.condition=r,this.shared=n}dispatch(){if(xi(this.shared,this.condition)===!1)return!1;clearTimeout(this.timeoutId),delete this.timeoutId,this.timeoutId=window.setTimeout(()=>{this.shared.reset(this.shared.data,!0),lI(this.page,this.shared,!0),this.eventManager.reset(),this.eventManager.controlsManager.gameControl?.reset(!0),this.page.switchToPlayCamera(),this.eventManager.controlsManager.requestRender(),delete this.timeoutId},(this.data.delay??0)*1e3)}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},XH={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,timelineChangeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0,rewind:!0},KT={duration:1e3,delay:0,endDelay:0,startOnceDelay:0,pingPongDelayCorrection:0,pingPongEndDelayCorrection:0,easing:"easeOutElastic(1, .5)",round:0},iOe=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],KM={CSS:{},springs:{}};function Ws(e,t,n){return Math.min(Math.max(e,t),n)}function Gv(e,t){return e.indexOf(t)>-1}function u3(e,t){return e.apply(null,t)}var Ot={arr:function(e){return Array.isArray(e)},obj:function(e){return Gv(Object.prototype.toString.call(e),"Object")},pth:function(e){return Ot.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return!("isNode"in e)&&(e.nodeType||Ot.svg(e))},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return Ot.hex(e)||Ot.rgb(e)||Ot.hsl(e)},key:function(e){return!XH.hasOwnProperty(e)&&!KT.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function QH(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(n){return parseFloat(n)}):[]}function ZH(e,t){var n=QH(e),i=Ws(Ot.und(n[0])?1:n[0],.1,100),r=Ws(Ot.und(n[1])?100:n[1],.1,100),o=Ws(Ot.und(n[2])?10:n[2],.1,100),a=Ws(Ot.und(n[3])?0:n[3],.1,100),s=Math.sqrt(r/i),l=o/(2*Math.sqrt(r*i)),c=l<1?s*Math.sqrt(1-l*l):0,d=1,u=l<1?(l*s+-a)/c:-a+s;function h(m){var g=t?t*m/1e3:m;return l<1?g=Math.exp(-g*l*s)*(d*Math.cos(c*g)+u*Math.sin(c*g)):g=(d+u*g)*Math.exp(-g*s),m===0||m===1?m:1-g}function p(){var m=KM.springs[e];if(m)return m;for(var g=1/6,v=0,b=0;;)if(v+=g,h(v)===1){if(b++,b>=16)break}else b=0;var _=v*g*1e3;return KM.springs[e]=_,_}return t?h:p}function rOe(e){return e===void 0&&(e=10),function(t){return Math.ceil(Ws(t,1e-6,1)*e)*(1/e)}}var oOe=function(){var e=11,t=1/(e-1);function n(d,u){return 1-3*u+3*d}function i(d,u){return 3*u-6*d}function r(d){return 3*d}function o(d,u,h){return((n(u,h)*d+i(u,h))*d+r(u))*d}function a(d,u,h){return 3*n(u,h)*d*d+2*i(u,h)*d+r(u)}function s(d,u,h,p,m){var g,v,b=0;do v=u+(h-u)/2,g=o(v,p,m)-d,g>0?h=v:u=v;while(Math.abs(g)>1e-7&&++b<10);return v}function l(d,u,h,p){for(var m=0;m<4;++m){var g=a(u,h,p);if(g===0)return u;var v=o(u,h,p)-d;u-=v/g}return u}function c(d,u,h,p){if(!(0<=d&&d<=1&&0<=h&&h<=1))return;var m=new Float32Array(e);if(d!==u||h!==p)for(var g=0;g<e;++g)m[g]=o(g*t,d,h);function v(b){for(var _=0,C=1,M=e-1;C!==M&&m[C]<=b;++C)_+=t;--C;var P=(b-m[C])/(m[C+1]-m[C]),x=_+P*t,E=a(x,d,h);return E>=.001?l(b,x,d,h):E===0?x:s(b,_,_+t,d,h)}return function(b){return d===u&&h===p||b===0||b===1?b:o(v(b),u,p)}}return c}(),$H=function(){var e={linear:function(){return function(i){return i}}},t={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var r,o=4;i<((r=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((r*3-2)/22-i,2)}},Elastic:function(i,r){i===void 0&&(i=1),r===void 0&&(r=.5);var o=Ws(i,1,10),a=Ws(r,.1,2);return function(s){return s===0||s===1?s:-o*Math.pow(2,10*(s-1))*Math.sin((s-1-a/(Math.PI*2)*Math.asin(1/o))*(Math.PI*2)/a)}}},n=["Quad","Cubic","Quart","Quint","Expo"];return n.forEach(function(i,r){t[i]=function(){return function(o){return Math.pow(o,r+2)}}}),Object.keys(t).forEach(function(i){var r=t[i];e["easeIn"+i]=r,e["easeOut"+i]=function(o,a){return function(s){return 1-r(o,a)(1-s)}},e["easeInOut"+i]=function(o,a){return function(s){return s<.5?r(o,a)(s*2)/2:1-r(o,a)(s*-2+2)/2}}}),e}();function JT(e,t){if(Ot.fnc(e))return e;var n=e.split("(")[0],i=$H[n],r=QH(e);switch(n){case"spring":return ZH(e,t);case"cubicBezier":return u3(oOe,r);case"steps":return u3(rOe,r);default:return u3(i,r)}}function KH(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function Ow(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,r=[],o=0;o<n;o++)if(o in e){var a=e[o];t.call(i,a,o,e)&&r.push(a)}return r}function Sw(e){return e.reduce(function(t,n){return t.concat(Ot.arr(n)?Sw(n):n)},[])}function GB(e){return Ot.arr(e)?e:(Ot.str(e)&&(e=KH(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function eI(e,t){return e.some(function(n){return n===t})}function tI(e){var t={};for(var n in e)t[n]=e[n];return t}function CA(e,t){var n=tI(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function Ew(e,t){var n=tI(e);for(var i in t)n[i]=Ot.und(e[i])?t[i]:e[i];return n}function aOe(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function sOe(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=e.replace(t,function(s,l,c,d){return l+l+c+c+d+d}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),r=parseInt(i[1],16),o=parseInt(i[2],16),a=parseInt(i[3],16);return"rgba("+r+","+o+","+a+",1)"}function lOe(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),n=parseInt(t[1],10)/360,i=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100,o=t[4]||1;function a(h,p,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?h+(p-h)*6*m:m<1/2?p:m<2/3?h+(p-h)*(2/3-m)*6:h}var s,l,c;if(i==0)s=l=c=r;else{var d=r<.5?r*(1+i):r+i-r*i,u=2*r-d;s=a(u,d,n+1/3),l=a(u,d,n),c=a(u,d,n-1/3)}return"rgba("+s*255+","+l*255+","+c*255+","+o+")"}function cOe(e){if(Ot.rgb(e))return aOe(e);if(Ot.hex(e))return sOe(e);if(Ot.hsl(e))return lOe(e)}function Kc(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function dOe(e){if(Gv(e,"translate")||e==="perspective")return"px";if(Gv(e,"rotate")||Gv(e,"skew"))return"deg"}function MA(e,t){return Ot.fnc(e)?e(t.target,t.id,t.total):e}function jl(e,t){return e.getAttribute(t)}function nI(e,t,n){var i=Kc(t);if(eI([n,"deg","rad","turn"],i))return t;var r=KM.CSS[t+n];if(!Ot.und(r))return r;var o=100,a=document.createElement(e.tagName),s=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;s.appendChild(a),a.style.position="absolute",a.style.width=o+n;var l=o/a.offsetWidth;s.removeChild(a);var c=l*parseFloat(t);return KM.CSS[t+n]=c,c}function JH(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?nI(e,r,n):r}}function iI(e,t){if(Ot.dom(e)&&!Ot.inp(e)&&(jl(e,t)||Ot.svg(e)&&e[t]))return"attribute";if(Ot.dom(e)&&eI(iOe,t))return"transform";if(Ot.dom(e)&&t!=="transform"&&JH(e,t))return"css";if(e[t]!=null)return"object"}function eG(e){if(Ot.dom(e)){for(var t=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,i=new Map,r;r=n.exec(t);)i.set(r[1],r[2]);return i}}function uOe(e,t,n,i){var r=Gv(t,"scale")?1:0+dOe(t),o=eG(e).get(t)||r;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),i?nI(e,o,i):o}function rI(e,t,n,i){switch(iI(e,t)){case"transform":return uOe(e,t,i,n);case"css":return JH(e,t,n);case"attribute":return jl(e,t);default:return e[t]||0}}function oI(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=Kc(e)||0,r=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+o+i;case"-":return r-o+i;case"*":return r*o+i}}function tG(e,t){if(Ot.col(e))return cOe(e);if(/\s/g.test(e))return e;var n=Kc(e),i=n?e.substr(0,e.length-n.length):e;return t?i+t:i}function aI(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function hOe(e){return Math.PI*2*jl(e,"r")}function pOe(e){return jl(e,"width")*2+jl(e,"height")*2}function mOe(e){return aI({x:jl(e,"x1"),y:jl(e,"y1")},{x:jl(e,"x2"),y:jl(e,"y2")})}function nG(e){for(var t=e.points,n=0,i,r=0;r<t.numberOfItems;r++){var o=t.getItem(r);r>0&&(n+=aI(i,o)),i=o}return n}function fOe(e){var t=e.points;return nG(e)+aI(t.getItem(t.numberOfItems-1),t.getItem(0))}function iG(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return hOe(e);case"rect":return pOe(e);case"line":return mOe(e);case"polyline":return nG(e);case"polygon":return fOe(e)}}function gOe(e){var t=iG(e);return e.setAttribute("stroke-dasharray",t),t}function vOe(e){for(var t=e.parentNode;Ot.svg(t)&&Ot.svg(t.parentNode);)t=t.parentNode;return t}function rG(e,t){var n=t||{},i=n.el||vOe(e),r=i.getBoundingClientRect(),o=jl(i,"viewBox"),a=r.width,s=r.height,l=n.viewBox||(o?o.split(" "):[0,0,a,s]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:a/l[2],h:s/l[3]}}function yOe(e,t){var n=Ot.str(e)?KH(e)[0]:e,i=t||100;return function(r){return{property:r,el:n,svg:rG(n),totalLength:iG(n)*(i/100)}}}function bOe(e,t){function n(s){s===void 0&&(s=0);var l=t+s>=1?t+s:0;return e.el.getPointAtLength(l)}var i=rG(e.el,e.svg),r=n(),o=n(-1),a=n(1);switch(e.property){case"x":return(r.x-i.x)*i.w;case"y":return(r.y-i.y)*i.h;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function WB(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=tG(Ot.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:Ot.str(e)||t?i.split(n):[]}}function oG(e){var t=e?Sw(Ot.arr(e)?e.map(GB):GB(e)):[];return Ow(t,function(n,i,r){return r.indexOf(n)===i})}function aG(e){var t=oG(e);return t.map(function(n,i){return{target:n,id:i,total:t.length,transforms:{list:eG(n)}}})}function _Oe(e,t){var n=tI(t);if(/^spring/.test(n.easing)&&(n.duration=ZH(n.easing)),Ot.arr(e)){var i=e.length,r=i===2&&!Ot.obj(e[0]);r?e={value:e}:Ot.fnc(t.duration)||(n.duration=t.duration/i)}var o=Ot.arr(e)?e:[e];return o.map(function(a,s){var l=Ot.obj(a)&&!Ot.pth(a)?a:{value:a};return Ot.und(l.delay)&&(l.delay=s?0:t.delay),Ot.und(l.endDelay)&&(l.endDelay=s===o.length-1?t.endDelay:0),l}).map(function(a){return Ew(a,n)})}function COe(e){for(var t=Ow(Sw(e.map(function(o){return Object.keys(o)})),function(o){return Ot.key(o)}).reduce(function(o,a){return o.indexOf(a)<0&&o.push(a),o},[]),n={},i=function(o){var a=t[o];n[a]=e.map(function(s){var l={};for(var c in s)Ot.key(c)?c==a&&(l.value=s[c]):l[c]=s[c];return l})},r=0;r<t.length;r++)i(r);return n}function MOe(e,t){var n=[],i=t.keyframes;i&&(t=Ew(COe(i),t));for(var r in t)Ot.key(r)&&n.push({name:r,tweens:_Oe(t[r],e)});return n}function wOe(e,t){var n={};for(var i in e){var r=MA(e[i],t);Ot.arr(r)&&(r=r.map(function(o){return MA(o,t)}),r.length===1&&(r=r[0])),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function xOe(e,t){var n;return e.tweens.map(function(i){var r=wOe(i,t),o=r.value,a=Ot.arr(o)?o[1]:o,s=Kc(a),l=rI(t.target,e.name,s,t),c=n?n.to.original:l,d=Ot.arr(o)?o[0]:c,u=Kc(d)||Kc(l),h=s||u;return Ot.und(a)&&(a=c),r.from=WB(d,h),r.to=WB(oI(a,d),h),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=JT(r.easing,r.duration),r.isPath=Ot.pth(o),r.isColor=Ot.col(r.from.original),r.isColor&&(r.round=1),n=r,r})}var sG={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){if(i.list.set(t,n),t===i.last||r){var o="";i.list.forEach(function(a,s){o+=s+"("+a+") "}),e.style.transform=o}}};function lG(e,t){var n=aG(e);n.forEach(function(i){for(var r in t){var o=MA(t[r],i),a=i.target,s=Kc(o),l=rI(a,r,s,i),c=s||Kc(l),d=oI(tG(o,c),l),u=iI(a,r);sG[u](a,r,d,i.transforms,!0)}})}function POe(e,t){var n=iI(e.target,t.name);if(n){var i=xOe(t,e),r=i[i.length-1];return{type:n,property:t.name,animatable:e,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}function OOe(e,t){return Ow(Sw(e.map(function(n){return t.map(function(i){return POe(n,i)})})),function(n){return!Ot.und(n)})}function cG(e,t){var n=e.length,i=function(o){return o.timelineOffset?o.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map(function(o){let a=o.startOnceDelay??0,s=o.pingPongDelayCorrection??0,l=o.pingPongEndDelayCorrection??0;return i(o)+a+s+l+o.duration*(o.loop??1)})):t.duration,r.delay=n?Math.min.apply(Math,e.map(function(o){let a=o.startOnceDelay??0,s=o.pingPongDelayCorrection??0;return i(o)+a+s+o.delay})):t.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map(function(o){let a=o.startOnceDelay??0,s=o.pingPongDelayCorrection??0,l=o.pingPongEndDelayCorrection??0;return i(o)+a+s+o.duration*(o.loop??1)-o.endDelay-l})):t.endDelay,r}var qB=0;function SOe(e){var t=CA(XH,e),n=CA(KT,e),i=MOe(n,e),r=aG(e.targets),o=OOe(r,i),a=cG(o,n),s=qB;return qB++,Ew(t,{id:s,children:[],animatables:r,animations:o,duration:a.duration,delay:a.delay,endDelay:a.endDelay,startOnceDelay:n.startOnceDelay,pingPongDelayCorrection:n.pingPongDelayCorrection,pingPongEndDelayCorrection:n.pingPongEndDelayCorrection})}var ys=[],YB=[],KC,EOe=function(){function e(){KC=requestAnimationFrame(t)}function t(n){var i=ys.length;if(i){for(var r=0;r<i;){var o=ys[r];o.paused?(ys.splice(r,1),i-=1):(o.tick(n),r++)}e()}else KC=cancelAnimationFrame(KC)}return e}();function DOe(e){document.hidden?(ys.forEach(function(t){return t.pause(e.timeStamp)}),YB=ys.slice(0),Ui.running=ys=[]):YB.forEach(function(t){return t.play(e.timeStamp)})}typeof document<"u"&&document.addEventListener("visibilitychange",DOe);function Ui(e){e===void 0&&(e={});var t=0,n=0,i=0,r,o,a=0,s=null;function l(E){var O=window.Promise&&new Promise(function(S){return s=S});return E.finished=O,O}var c=SOe(e),d=l(c);function u(){var E=c.direction;E!=="alternate"&&(c.direction=E!=="normal"?"normal":"reverse"),c.reversed=!c.reversed,o.forEach(function(O){(O.loop===1||O.loop%2===0)&&(O.reversed=c.reversed)})}function h(){c.direction="normal",c.reversed=!1,o.forEach(function(E){return E.reversed=!1})}function p(E){return c.reversed?c.duration-E:E}function m(){t=0,n=p(c.currentTime)*(1/Ui.speed)}function g(E,O,S=!1){O&&(c.reversed?O.seek(O.duration*O.loop-(E-O.timelineOffset-O.pingPongDelayCorrection),S):O.seek(E-O.timelineOffset-O.startOnceDelay-O.pingPongDelayCorrection,S))}function v(E,O=!1){if(c.reversed)for(var S=a;S--;)g(E,o[S],O);else for(var D=0;D<a;D++)g(E,o[D],O)}function b(E){var O=0,S=c.animations,D=S.length;for(c.direction!=="alternate"&&c.parent?.direction==="alternate"?c.parent?.rewind===!1&&c.reversePlayback===!0&&c.rewind===!1&&(c.parent?.reversed&&c.direction==="alternate"?E=c.duration-c.delay+c.endDelay-E:E=c.duration+c.delay-c.endDelay-E):P(!1,c.parent?.rewind,c.rewind,c.parent?.reversePlayback,c.reversePlayback)&&(c.parent?.reversed&&c.direction==="alternate"?E=c.duration-c.delay+c.endDelay-E:E=c.duration+c.delay-c.endDelay-E);O<D;){var I=S[O],T=I.animatable,R=I.tweens,k=R.length-1,z=R[k];k&&(z=Ow(R,function(pe){return E<pe.end})[0]||z);let Me;c.parent?.reversed&&c.direction==="alternate"?Me=Ws(E-z.start-z.endDelay,0,z.duration)/z.duration:Me=Ws(E-z.start-z.delay,0,z.duration)/z.duration;for(var W=isNaN(Me)?1:z.easing(Me),N=z.to.strings,F=z.round,X=[],V=z.to.numbers.length,G=void 0,Y=0;Y<V;Y++){var ie=void 0;let pe,Ae;c.direction!=="alternate"?c.parent?.rewind===!1&&c.reversePlayback===!0&&c.rewind===!1?(pe=z.to.numbers[Y],Ae=z.from.numbers[Y]||0):(Ae=z.to.numbers[Y],pe=z.from.numbers[Y]||0):P(!0,c.parent?.rewind,c.rewind,c.parent?.reversePlayback,c.reversePlayback)?(pe=z.to.numbers[Y],Ae=z.from.numbers[Y]||0):(Ae=z.to.numbers[Y],pe=z.from.numbers[Y]||0),z.isPath?ie=bOe(z.value,W*Ae):ie=pe+W*(Ae-pe),F&&(z.isColor&&Y>2||(ie=Math.round(ie*F)/F)),X.push(ie)}var te=N.length;if(!te)G=X[0];else{G=N[0];for(var ne=0;ne<te;ne++){var re=N[ne],ye=N[ne+1],he=X[ne];isNaN(he)||(ye?G+=he+ye:G+=he+" ")}}sG[I.type](T.target,I.property,G,T.transforms),I.currentValue=G,O++}}function _(E){c[E]&&!c.passThrough&&c[E](c)}function C(){c.remaining&&c.remaining!==!0&&c.remaining--}let M={0:!1,1:!0,2:!1,3:!0,4:!1,5:!1,6:!1,7:!1,8:!1,9:!0,10:!0,11:!1,12:!1,13:!1,14:!0,15:!0,16:!1,17:!0,18:!0,19:!1,20:!1,21:!1,22:!0,23:!0,24:!1,25:!0,26:!1,27:!0,28:!1,29:!1,30:!1,31:!1};function P(E,O,S,D,I){return M[E<<4|O<<3|S<<2|D<<1|I]}function x(E,O=!1){var S=c.duration;let D=c.delay,I=S-c.endDelay;c.parent?.reversed&&c.direction==="alternate"&&(D=c.endDelay,I=S-c.delay);var T=p(E);if(c.progress=Ws(T/S*100,0,100),O||(c.reversePlayback=T<c.currentTime),a&&v(T,O),!c.began&&c.currentTime>=0&&(c.began=!0,_("begin")),!c.loopBegan&&c.currentTime>0&&(c.loopBegan=!0,_("loopBegin")),(c.reversed||T>=0)&&T<=D&&c.currentTime!==0&&(b(0),_("change")),(T>=I&&c.currentTime!==S+c.pingPongDelayCorrection||!S)&&(b(S),_("change")),T>D&&T<I?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,_("changeBegin")),b(T),_("change")):c.changeBegan?(c.changeCompleted=!0,c.changeBegan=!1,_("change"),a&&_("timelineChangeComplete")):c.began&&T>I&&_("changeComplete"),c.currentTime=Ws(T,0,S+c.pingPongDelayCorrection),c.began&&_("update"),E>=S)if(C(),!c.remaining)c.paused=!0,c.completed||(c.completed=!0,_("loopComplete"),_("complete"),!c.passThrough&&"Promise"in window&&(s(),d=l(c)));else{a?t+=c.duration/Ui.speed:t+=c.duration;for(let R of o)R.setStartTime(0),R.remaining=R.loop;_("loopComplete"),c.loopBegan=!1,c.direction==="alternate"?u():a&&h()}}return c.reset=function(){var E=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.loopBegan=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed=E==="reverse",c.remaining=c.loop,o=c.children,a=o.length;for(var O=a;O--;)c.children[O].reset();b(c.reversed?c.duration:0)},c.setStartTime=function(E){t=E},c.set=function(E,O){return lG(E,O),c},c.tick=function(E){i=E,t||(t=i),x((i+(n-t))*Ui.speed)},c.seek=function(E,O=!1){x(E-t,O)},c.pause=function(E){c.paused=!0,a&&(r=E??performance.now())},c.play=function(E){!c.paused||(c.completed&&c.reset(),c.paused=!1,ys.push(c),a&&r!==void 0&&(t+=(E??performance.now())-r),KC||EOe())},c.reverse=function(){u(),c.completed=!c.reversed,m()},c.restart=function(){c.reset(),c.play()},c.reset(),c.autoplay&&c.play(),c}function XB(e,t){for(var n=t.length;n--;)eI(e,t[n].animatable.target)&&t.splice(n,1)}function AOe(e){for(var t=oG(e),n=ys.length;n--;){var i=ys[n],r=i.animations,o=i.children;XB(t,r);for(var a=o.length;a--;){var s=o[a],l=s.animations;XB(t,l),!l.length&&!s.children.length&&o.splice(a,1)}!r.length&&!o.length&&i.pause()}}function TOe(e,t){t===void 0&&(t={});var n=t.direction||"normal",i=t.easing?JT(t.easing):null,r=t.grid,o=t.axis,a=t.from||0,s=a==="first",l=a==="center",c=a==="last",d=Ot.arr(e),u=parseFloat(d?e[0]:e),h=d?parseFloat(e[1]):0,p=Kc(d?e[1]:e)||0,m=t.start||0+(d?u:0),g=[],v=0;return function(b,_,C){if(s&&(a=0),l&&(a=(C-1)/2),c&&(a=C-1),!g.length){for(var M=0;M<C;M++){if(!r)g.push(Math.abs(a-M));else{var P=l?(r[0]-1)/2:a%r[0],x=l?(r[1]-1)/2:Math.floor(a/r[0]),E=M%r[0],O=Math.floor(M/r[0]),S=P-E,D=x-O,I=Math.sqrt(S*S+D*D);o==="x"&&(I=-S),o==="y"&&(I=-D),g.push(I)}v=Math.max.apply(Math,g)}i&&(g=g.map(function(R){return i(R/v)*v})),n==="reverse"&&(g=g.map(function(R){return o?R<0?R*-1:-R:Math.abs(v-R)}))}var T=d?(h-u)/v:u;return m+T*(Math.round(g[_]*100)/100)+p}}function IOe(e){e===void 0&&(e={});var t=Ui(e);return t.duration=0,t.add=function(n,i){var r=ys.indexOf(t),o=t.children;r>-1&&ys.splice(r,1);function a(h){h.passThrough=!0}for(var s=0;s<o.length;s++)a(o[s]);var l=Ew(n,CA(KT,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.timelineOffset=Ot.und(i)?c:oI(i,c),a(t);var d=Ui(l);a(d),o.push(d),d.parent=t;var u=cG(o,e);return t.delay=u.delay,t.endDelay=u.endDelay,t.duration=u.duration,d.loop===!0&&(t.duration=1/0),t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}Ui.version="3.2.0";Ui.speed=1;Ui.running=ys;Ui.remove=AOe;Ui.get=rI;Ui.set=lG;Ui.convertPx=nI;Ui.path=yOe;Ui.setDashoffset=gOe;Ui.stagger=TOe;Ui.timeline=IOe;Ui.easing=JT;Ui.penner=$H;Ui.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var dG=Ui,QB=new L,ZB=new L,$B=new Dt;function ROe(e,t,n,i){if(i===0)return n.copy(e);if(i===1)return n.copy(t);let r=e.w*t.w+e.x*t.x+e.y*t.y+e.z*t.z;if(r>=1)return n.copy(e);let o=1-r*r;if(o<=Number.EPSILON){let d=1-i;return n.w=d*e.w+i*t.w,n.x=d*e.x+i*t.x,n.y=d*e.y+i*t.y,n.z=d*e.z+i*t.z,n.normalize(),n}let a=Math.sqrt(o),s=Math.atan2(a,r),l=Math.sin((1-i)*s)/a,c=Math.sin(i*s)/a;return n.w=e.w*l+t.w*c,n.x=e.x*l+t.x*c,n.y=e.y*l+t.y*c,n.z=e.z*l+t.z*c,n}function Yr(e,t,n,i,r,o){let a=n[e]!==void 0?n[e]:void 0,s=i[e];if(s==null)return;let l=a!=null?typeof a=="string"?Number(r.getVariable(a)??0):a:t[e],c=typeof s=="string"?Number(r.getVariable(s)??0):s;if(l!==c)return{update:d=>{let u=et.lerp(l,c,d);o?t[e]=Math.trunc(u):t[e]=u},start:()=>{t[e]=l},end:()=>{t[e]=c}}}function sI(e,t,n,i,r,o){let a=n[e]?n[e]:void 0,s=i[e];if(!s)return;let l=t[e],c=[...a??l].map(u=>typeof u=="string"?Number(r.getVariable(u)??0):u),d=[...s].map(u=>typeof u=="string"?Number(r.getVariable(u)??0):u);if(!(c.length!==d.length||cU(c,d)))return{update:u=>{c.forEach((h,p)=>{let m=et.lerp(h,d[p],u);t[e][p]=o?Math.trunc(m):m})},start:()=>{Object.assign(t[e],c)},end:()=>{Object.assign(t[e],d)}}}function JM(e,t,n){return t.forEach((i,r)=>{e.setComponent(r,typeof i=="string"?Number(n.getVariable(i)??0):i)}),e}function KB(e,t,n,i,r){let o=n[e]?n[e]:void 0,a=i[e];if(!a)return;let s=t[e],l=o?JM(new L,o,r):s.clone(),c=JM(new L,a,r);if(!l.equals(c))return{update:d=>{s.lerpVectors(l,c,d)},start:()=>{s.copy(l)},end:()=>{s.copy(c)}}}function JB(e,t,n){return t.forEach((i,r)=>{e.setComponent(r,typeof i=="string"?Number(n.getVariable(i)??0):i)}),e}function ew(e,t,n,i,r){let o=n[e]?n[e]:void 0,a=i[e];if(!a)return;let s=t[e],l=!(s instanceof oe),c=s instanceof oe?s:new oe().fromArray(s),d=o?JB(new oe,o,r):c.clone(),u=JB(new oe,a,r);if(!d.equals(u))return{update:h=>{c.lerpVectors(d,u,h),l&&(t[e]=c.toArray())},start:()=>{c.copy(d),l&&(t[e]=c.toArray())},end:()=>{c.copy(u),l&&(t[e]=c.toArray())}}}function LOe(e,t,n,i){let r=n[e]?n[e]:void 0,o=i[e];if(!o)return;let a=t[e],s=r?new Be().fromArray(r):a.clone(),l=new L,c=new Dt,d=new L;s.decompose(l,c,d);let u=new Be().fromArray(o),h=new L,p=new Dt,m=new L;if(u.decompose(h,p,m),!s.equals(u))return{update:g=>{$B.slerpQuaternions(c,p,g),QB.lerpVectors(l,h,g),ZB.lerpVectors(d,m,g),a.compose(QB,$B,ZB)},start:()=>{a.compose(l,c,d)},end:()=>{a.compose(h,p,m)}}}function kOe(e,t,n,i,r){let o=n[e]?n[e]:void 0,a=i[e];if(!a)return;let s=t[e],l=o?typeof o=="string"?r.getColor(o).clone():new _t().setRGB(o.r,o.g,o.b):s.clone(),c=typeof a=="string"?r.getColor(a).clone():new _t().setRGB(a.r,a.g,a.b);if(l.equals(c))return;let d=s.clone();return t[e]=d,{update:u=>{d.lerpColors(l,c,u)},start:()=>{d.copy(l)},end:()=>{d.copy(c)}}}function LC(e,t,n,i,r){let o=n[e]?n[e]:void 0,a=i[e];if(!a)return;let s=t[e],l=new Kr(s.r,s.g,s.b,s.a),c=o?typeof o=="string"?r.getColor(o).clone():new Kr(o.r,o.g,o.b,o.a):l.clone(),d=typeof a=="string"?r.getColor(a).clone():new Kr(a.r,a.g,a.b,a.a);if(!c.equals(d))return{update:u=>{l.lerpColors(c,d,u);let h=et.lerp(c.a,d.a,u);l.a=h,t[e]={r:l.r,g:l.g,b:l.b,a:l.a}},start:()=>{l.copy(c)},end:()=>{l.copy(d)}}}function mu(e,t,n,i,r){if(typeof t[e]=="number")return Yr(e,t,n??{},i,r);if(Array.isArray(t[e]))return sI(e,t,n??{},i,r)}function FOe(e,t,n,i){let r=[],o=e.cameraType==="OrthographicCamera"?t.orthographic?.zoom:t.perspective?.zoom,a=e.cameraType==="OrthographicCamera"?n.orthographic?.zoom:n.perspective?.zoom;if(a!==void 0){let s=o??e.zoom,l=a;s!==l&&r.push({update:c=>{e.zoom=et.lerp(s,l,c),e.updateProjectionMatrix()},start:()=>{e.zoom=s,e.updateProjectionMatrix()},end:()=>{e.zoom=l,e.updateProjectionMatrix()}})}if(n.targetOffset!==void 0){let s=Yr("targetOffset",e,t,n,i);s&&r.push(s)}return r}function NOe(e,t,n,i){if(n.scaleBaked===void 0)return;let r=(t.scaleBaked??e.data.geometry.scaleBaked).map(s=>typeof s=="string"?Number(i.getVariable(s)??0):s),o=n.scaleBaked.map(s=>typeof s=="string"?Number(i.getVariable(s)??0):s);if(Xh.isEqual(r,o))return;let a=[];return a.push({update:s=>{e.updateGeometryInteractions({scaleBaked:[et.lerp(r[0],o[0],s),et.lerp(r[1],o[1],s),et.lerp(r[2],o[2],s)]},i),e.invalidateDownstreamBooleanData()},start:()=>{e.updateGeometryInteractions({scaleBaked:r},i),e.invalidateDownstreamBooleanData()},end:()=>{e.updateGeometryInteractions({scaleBaked:o},i),e.invalidateDownstreamBooleanData()}}),a}function zOe(e,t,n,i){if(!n.extrusion)return;let r=e.extrusion,o=t.extrusion??{},a=n.extrusion,s=[];return XU.forEach(l=>{let c=mu(l,r,o,a,i);c&&s.push(c)}),s}function BOe(e,t,n,i){let r=[];if(!("geometry"in n))return r;let o=e.geometry.userData.parameters,a="geometry"in t?t.geometry:{},s=n.geometry;if(e instanceof my){let l=NOe(e,a,s,i);l&&r.push(...l)}else{let l={};if(Object.assign(l,Zc(o,T7)),T7.forEach(c=>{let d=mu(c,l,a,s,i);d&&r.push(d)}),e instanceof qT){Object.assign(l,{extrusion:B({},o.extrusion)});let c=zOe(l,a,s,i);c&&r.push(...c)}r.length&&r.push({update:c=>{e.updateGeometryInteractions(l,i),e.updateGeometryGroupsIfNeeded()},start:c=>{e.updateGeometryInteractions(l,i),e.updateGeometryGroupsIfNeeded()},end:c=>{e.updateGeometryInteractions(l,i),e.updateGeometryGroupsIfNeeded()}})}return r}function VOe(e,t,n,i){let r=[];if(n.intensity!==void 0){let o=Yr("intensity",e,t,n,i);o&&r.push(o)}if(n.color!==void 0){let o=kOe("color",e,t,n,i);o&&r.push(o)}return r}function UOe(e,t,n,i){let r=[];if(Array.isArray(e.material)){if(!("materials"in n&&n.materials))return r;let o="materials"in t&&t.materials?t.materials:[],a=n.materials;e.material.forEach((s,l)=>{if(!a[l])return;let c=o[l]??{},d=a[l];typeof c=="string"||typeof d=="string"||r.push(...e9(s,c,d,i))})}else{if(!("material"in n&&n.material))return r;let o="material"in t&&t.material?t.material:{},a=n.material;if(typeof o=="string"||typeof a=="string")return r;r.push(...e9(e.material,o,a,i))}return r}function e9(e,t,n,i){let r=[],o=vf(n,i)||!!t.layers&&vf(t,i);r.push(ZOe(e,o));for(let a of e.layers){let s=t.layers?.data(a.uuid),l=n.layers.data(a.uuid);if(!l||a.type!=="light"&&(!(a.visible??!0)||!(l.visible??!0)))continue;let c=a.getNames().filter(d=>!WU.some(u=>d.includes(u)));for(let d of c)try{let u=a.getValue(d),h;if(d==="colors")h=XOe(a,s,l,d);else if(Array.isArray(u))d==="steps"&&(h=YOe(a,s,l,d));else if(typeof u=="number")h=jOe(a,s,l,d,i);else{if(typeof u=="boolean")continue;u instanceof oe?h=HOe(a,s,l,d):u instanceof L?h=GOe(a,s,l,d,i):u instanceof Kr?h=qOe(a,s,l,d,i):u instanceof _t?h=WOe(a,s,l,d,i):"isTexture"in u&&(h=QOe(a,s,l,d))}h&&(Array.isArray(h)?r.push(...h):r.push(h))}catch(u){console.error(`lerpMaterial: unexpected material layer for ${d}`,u)}}return r}function jOe(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=t?t[i]:e.getValue(i),a=n[i],s=typeof o=="string"?Number(r.getVariable(o)??0):o,l=typeof a=="string"?Number(r.getVariable(a)??0):a;if(s!==l)return{update:c=>{e.setValue(i,et.lerp(s,l,c))},start:()=>{e.setValue(i,s)},end:()=>{e.setValue(i,l)}}}function HOe(e,t,n,i){if(!e.hasValue(i)||!(i in n))return;let r=e.getValue(i),o=t?new oe().fromArray(t[i]):r.clone(),a=new oe().fromArray(n[i]);if(!o.equals(a))return{update:s=>{r.lerpVectors(o,a,s)},start:()=>{r.copy(o)},end:()=>{r.copy(a)}}}function GOe(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=e.getValue(i),a=t?t[i]:void 0,s=n[i],l=a?JM(new L,a,r):o.clone(),c=JM(new L,s,r);if(!l.equals(c))return{update:d=>{o.lerpVectors(l,c,d)},start:()=>{o.copy(l)},end:()=>{o.copy(c)}}}function WOe(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=t?t[i]:void 0,a=n[i],s=e.getValue(i),l=o?typeof o=="string"?r.getColor(o).clone():new _t().setRGB(o.r,o.g,o.b):s.clone(),c=typeof a=="string"?r.getColor(a).clone():new _t().setRGB(a.r,a.g,a.b);if(l.equals(c))return;let d=s.clone();return{update:u=>{e.getValue(i)!==d&&e.setValue(i,d),d.lerpColors(l,c,u)},start:()=>{d.copy(l)},end:()=>{d.copy(c)}}}function qOe(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=t?t[i]:void 0,a=n[i],s=e.getValue(i),l=o?typeof o=="string"?r.getColor(o).clone():new _t().setRGB(o.r,o.g,o.b):s.clone(),c=typeof a=="string"?r.getColor(a).clone():new Kr(a.r,a.g,a.b,a.a);if(l.equals(c))return;let d=s.clone();return{update:u=>{e.getValue(i)!==d&&e.setValue(i,d),d.lerpColors(l,c,u)},start:()=>{d.copy(l)},end:()=>{d.copy(c)}}}function YOe(e,t,n,i="steps"){if(!e.hasValue(i)||!(i in n))return;let r=[],o=e.getValue(i),a=t?t[i]:o,s=n[i];for(let l=0;l<o.length;++l){let c=a[l],d=s[l];c!==d&&r.push({update:u=>{o[l]=et.lerp(c,d,u)},start:()=>{o[l]=c},end:()=>{o[l]=d}})}return r.length?r:void 0}function XOe(e,t,n,i="colors"){if(!e.hasValue(i)||!(i in n))return;let r=[],o=e.getValue(i),a=t?t[i]:o.map(l=>l.toArray()),s=n[i];for(let l=0;l<o.length;++l){let c=[...a[l]],d=[...s[l]];EM.isEqual(c,d)||r.push({update:u=>{o[l].fromArray(EM.lerp(c,d,u))},start:()=>{o[l].fromArray(c)},end:()=>{o[l].fromArray(d)}})}return r.length?r:void 0}function QOe(e,t,n,i="texture"){if(!e.hasValue(i)||!(i in n))return;let r=e.getNode("rotation"),o=t?.[i]?.rotation??0,a=n[i]?.rotation??0;if(r&&o!==a)return{update:v=>{r.value=et.lerp(o,a,v)*et.DEG2RAD},start:()=>{r.value=o*et.DEG2RAD},end:()=>{r.value=a*et.DEG2RAD}};let s=e.getNode("mat");if(!s)return;let l=t?t[i]:s,c=n[i],d=[...l.repeat],u=[...l.offset],h=[...c.repeat],p=[...c.offset],m=l.rotation??0,g=c.rotation??0;if(!Yc.isEqual(d,h)||!Yc.isEqual(u,p)||m!==g)return{update:v=>{s.repeat=Yc.lerp(d,h,v),s.offset=Yc.lerp(u,p,v),s.rotation=et.lerp(m,g,v),s.updateMatrix()},start:()=>{s.repeat=[...d],s.offset=[...u],s.rotation=m,s.updateMatrix()},end:()=>{s.repeat=[...h],s.offset=[...p],s.rotation=g,s.updateMatrix()}}}function ZOe(e,t){return{update:()=>{e.transparent=t}}}var h3=new L,t9=new mr;function $Oe(e,t,n,i,r){let o=[],a,s,l,c,d,u,h,p;if(e instanceof Lr?(a=ew("position",e,t,n,r),a&&o.push(a),l=Yr("rotation",e,t,n,r),l&&o.push(l),c=ew("shear",e,t,n,r),c&&o.push(c)):(p={slide:t.pathSnapping?.slide??e.updatedPathSnapping?.slide??e.dataPatched.pathSnapping?.slide??0,offset:t.pathSnapping?.offset??e.updatedPathSnapping?.offset??e.dataPatched.pathSnapping?.offset??0},u=Yr("slide",p,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,n.pathSnapping??e.dataPatched.pathSnapping,r),u&&o.push(u),h=Yr("offset",p,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,n.pathSnapping??e.dataPatched.pathSnapping,r),h&&o.push(h),!u&&!h&&(a=KB("position",e,t,n,r),a&&o.push(a),s=KB("scale",e,t,n,r),s&&o.push(s),l=KOe(e,t,n,i,r),l&&o.push(l),d=LOe("hiddenMatrix",e,t,n),d&&o.push(d))),a||s||l||d||u||h){let m=e instanceof Lr?()=>{e.updateWorldMatrix(!0)}:()=>{e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD()),e.parent?.matrixWorldFusedFalse&&(e.matrixWorld.multiplyMatrices(e.parent.matrixWorldFusedFalse,e.matrix),e.matrixWorldNeedsUpdate=!1),Us(e)&&Xc(e.parent)&&e.invalidateDownstreamBooleanData(!0),e.updatePathSnapping(Object.assign({},t.pathSnapping,p))};o.push({update:m,start:m,end:m})}return o}function KOe(e,t,n,i,r){let o=t?.rotation?t.rotation.map(d=>(typeof d=="string"?Number(r.getVariable(d)??0):d)*et.DEG2RAD):void 0,a=n.rotation?.map(d=>(typeof d=="string"?Number(r.getVariable(d)??0):d)*et.DEG2RAD);if(!a)return;let s=o?new L().fromArray(o):new L().setFromEuler(e.rotation),l=new L().fromArray(a);if(s.equals(l))return;let c=h3.subVectors(l,s);if(i&&c.toArray().every(d=>Math.abs(d)<2*Math.PI)){let d=new Dt().setFromEuler(t9.setFromVector3(s)),u=new Dt().setFromEuler(t9.setFromVector3(l));return{update:h=>{ROe(d,u,e.quaternion,h)},start:()=>{e.rotation.setFromVector3(s)},end:()=>{e.rotation.setFromVector3(l)}}}else return{update:d=>{h3.lerpVectors(s,l,d),e.rotation.setFromVector3(h3)},start:()=>{e.rotation.setFromVector3(s)},end:()=>{e.rotation.setFromVector3(l)}}}function JOe(e,t,n,i){let r=[];if(!("cloner"in n)||!e.cloner)return r;let o=e.cloner,a="cloner"in t?t.cloner:{},s=n.cloner;BU.forEach(p=>{let m;p==="count"?m=Yr("count",o.parameters,a,s,i,!0):m=mu(p,o.parameters,a??{},s,i),m&&r.push(m)});let l=eSe(o,a,s,i);l?.length&&r.push(...l);let c=tSe(o,a,s,i);c?.length&&r.push(...c);let d=nSe(o,a,s,i);d?.length&&r.push(...d);let u=iSe(o,a,s,i);u?.length&&r.push(...u);let h=rSe(o,a,s,i);return h?.length&&r.push(...h),r.length&&r.push({update:()=>{o.update()}}),r}function eSe(e,t,n,i){if(e.parameters.type!=="radial")return;let r=t.radial,o=n.radial;if(!o)return;let a=e.parameters.radial,s=[];return VU.forEach(l=>{let c=mu(l,a,r??{},o,i);c&&s.push(c)}),s}function tSe(e,t,n,i){if(e.parameters.type!=="linear")return;let r=t.linear,o=n.linear;if(!o)return;let a=[],s=e.parameters.linear;return UU.forEach(l=>{let c=mu(l,s,r??{},o,i);c&&a.push(c)}),a}function nSe(e,t,n,i){if(e.parameters.type!=="grid")return;let r=t.grid,o=n.grid;if(!o)return;let a=[],s=e.parameters.grid;return jU.forEach(l=>{let c;l==="count"?c=sI(l,s,r??{},o,i,!0):c=mu(l,s,r??{},o,i),c&&a.push(c)}),a}function iSe(e,t,n,i){if(e.parameters.type!=="toObject")return;let r=t.toObject,o=n.toObject;if(!o)return;let a=[],s=e.parameters.toObject;return HU.forEach(l=>{let c;l==="count"?c=Yr(l,s,r??{},o,i,!0):c=mu(l,s,r??{},o,i),c&&a.push(c)}),a}function rSe(e,t,n,i){if(!e.parameters.randomness)return;let r=t.randomnessObject,o=n.randomnessObject;if(!o)return;let a=[],s=e.parameters.randomnessObject;return GU.forEach(l=>{let c=mu(l,s,r??{},o,i);c&&a.push(c)}),a}function oSe(e,t){return{update:()=>{e instanceof Dr&&(e.fill.enabled=t)}}}function aSe(e,t){return{update:()=>{e instanceof Dr&&(e.stroke.enabled=t)}}}function sSe(e,t){return{update:()=>{e instanceof Dr&&(e.dropShadow.enabled=t)}}}function lSe(e,t){return{update:()=>{e instanceof Dr&&(e.innerShadow.enabled=t)}}}function cSe(e,t){return{update:()=>{e instanceof Dr&&(e.backgroundBlur.enabled=t)}}}function dSe(e,t){return{update:()=>{e instanceof Dr&&(e.layerBlur.enabled=t)}}}function uSe(e,t,n,i,r){let o=[],a,s,l,c,d,u,h,p,m,g,v,b,_,C,M;if("width"in e&&(a=Yr("width",e,t,n,r),a&&o.push(a)),"height"in e&&(s=Yr("height",e,t,n,r),s&&o.push(s)),e instanceof Dr||e instanceof Wl){let P=B({},t.fill),x=B({},n.fill);P.enabled!==void 0&&P.enabled!==x.enabled&&(o.push(oSe(e,!0)),P.enabled||Object.assign(P,{enabled:!0,color:se(B({},P.color),{a:0})}),x.enabled||Object.assign(x,{enabled:!0,color:se(B({},x.color),{a:0})})),l=LC("color",e.fill,P,x,r),l&&o.push(l)}if(e instanceof Dr){let P=B({},t.stroke),x=B({},n.stroke);(P.enabled||x.enabled)&&(o.push(aSe(e,!0)),P.enabled||Object.assign(P,{enabled:!0,color:se(B({},P.color),{a:0})}),x.enabled||Object.assign(x,{enabled:!0,color:se(B({},x.color),{a:0})})),c=LC("color",e.stroke,P,x,r),c&&o.push(c),d=Yr("thickness",e.stroke,P,x,r),d&&o.push(d)}if(e instanceof Dr){let P=B({},t.dropShadow),x=B({},n.dropShadow);(P.enabled||x.enabled)&&(o.push(sSe(e,!0)),P.enabled||Object.assign(P,{enabled:!0,color:se(B({},P.color),{a:0})}),x.enabled||Object.assign(x,{enabled:!0,color:se(B({},x.color),{a:0})})),u=LC("color",e.dropShadow,P,x,r),u&&o.push(u),h=Yr("blurRadius",e.dropShadow,P,x,r),h&&o.push(h),m=Yr("spread",e.dropShadow,P,x,r),m&&o.push(m),p=ew("offset",e.dropShadow,P,x,r),p&&o.push(p)}if(e instanceof Dr){let P=B({},t.innerShadow),x=B({},n.innerShadow);(P.enabled||x.enabled)&&(o.push(lSe(e,!0)),P.enabled||Object.assign(P,{enabled:!0,color:se(B({},P.color),{a:0})}),x.enabled||Object.assign(x,{enabled:!0,color:se(B({},x.color),{a:0})})),g=LC("color",e.innerShadow,P,x,r),g&&o.push(g),v=Yr("blurRadius",e.innerShadow,P,x,r),v&&o.push(v),_=Yr("spread",e.innerShadow,P,x,r),_&&o.push(_),b=ew("offset",e.innerShadow,P,x,r),b&&o.push(b)}if(e instanceof Dr||e instanceof Wl){let P=B({},t.backgroundBlur),x=B({},n.backgroundBlur);(P.enabled||x.enabled)&&(o.push(cSe(e,!0)),P.enabled||Object.assign(P,{enabled:!0,radius:0}),x.enabled||Object.assign(x,{enabled:!0,radius:0})),C=Yr("radius",e.backgroundBlur,P,x,r),C&&o.push(C)}if(e instanceof Dr){let P=B({},t.layerBlur),x=B({},n.layerBlur);(P.enabled||x.enabled)&&(o.push(dSe(e,!0)),P.enabled||Object.assign(P,{enabled:!0,radius:0}),x.enabled||Object.assign(x,{enabled:!0,radius:0})),M=Yr("radius",e.layerBlur,P,x,r),M&&o.push(M)}if(e instanceof Wl||e instanceof Dy){let P=sI("cornerRadius",e,t,n,r);P&&o.push(P)}return o}function n9(e,t,n,i,r){let o=[];return e.data.visible&&o.push(...$Oe(e,t,n,r,i)),e instanceof Lr?o.push(...uSe(e,t,n,r,i)):(e.data.visible&&o.push(...JOe(e,t,n,i)),Us(e)?(e instanceof bo&&e.data.visible&&o.push(...BOe(e,t,n,i)),e.data.visible&&o.push(...UOe(e,t,n,i))):_Me(e)?e.data.visible&&o.push(...VOe(e,t,n,i)):bMe(e)&&o.push(...FOe(e,t,n,i))),o.length?{update:a=>{o.forEach(s=>s.update(a))},start:a=>{o.forEach(s=>s.start?.(a))},end:a=>{o.forEach(s=>s.end?.(a))}}:void 0}var i9=new L;function lI(e,t,n=!1){let i=[],r=o=>{let a=o.data;delete o.states,o.currentState=null,o.reversibleToState=null,o.currentTransitionEvent=null;for(let s of a.states){let l=B({},s.data);o.states||(o.states={}),o.states[s.id]=Vh.patch(a,l)}o9(e.scene,o,null,t,a.events.find(s=>s.data.type==="Follow"||s.data.type==="LookAt")!==void 0),r9(e)};e.scene.traverse2D(r),e.traverseChildren(o=>{if(n&&(o.rigidBody?.setTranslation(o.position0,!0),o.rigidBody?.setRotation(o.rotation0,!0),o.rigidBody?.setLinvel(i9,!0),o.rigidBody?.setAngvel(i9,!0)),!yn.is(o))return;let a=o.uuid,s=o.data;if(delete o.states,o.uuid===sg)return;let l=!1;i.some(c=>e.scene.find(a)?.isDescendantOf(c))?l=!0:s.physics?.fusedBody===!0&&s.physics.rigidBody==="dynamic"&&i.push(a),o.data=s,o.currentState=null,o.reversibleToState=null,o.currentTransitionEvent=null;for(let c of s.states){let d=B({},c.data);e.data.globalPhysics.usePhysics===!0&&s.physics&&(s.physics.rigidBody==="dynamic"||l)&&(c.data.position!==void 0&&delete d.position,c.data.rotation!==void 0&&delete d.rotation,c.data.hiddenMatrix!==void 0&&delete d.hiddenMatrix),o.states||(o.states={}),o.states[c.id]=Nh.patch(s,d)}o9(e.scene,o,null,t,s.events.find(c=>c.data.type==="Follow"||c.data.type==="LookAt")!==void 0),r9(e),o instanceof vo&&o.frame&&(o.frame.traverse(c=>r(c)),o.uiCanvas?.applySize())}),e.frame&&(e.frame.traverse(o=>r(o)),e.uiCanvas?.applySize())}function r9(e){e.traverseEntity(t=>{for(let n of t.data.events){let i=[];switch(n.data.type){case"Follow":case"MouseHover":case"Scroll":case"MouseDown":case"MouseUp":case"MousePress":case"KeyUp":case"KeyDown":case"KeyPress":case"Collision":i.push(...n.data.actions);break;case"GameControl":for(let r of Object.values(n.data.gameActions))i.push(...r);break;case"DragDrop":i.push(...n.data.dragDropActions.drag,...n.data.dragDropActions.drop);break;case"Conditional":i.push(...n.data.inActions,...n.data.outActions);break}for(let r of i)if(r.data.type==="Create"&&r.data.hideBase==="Yes"){let o=e.scene.find(r.data.object);o&&(o.visible=!1)}}})}function o9(e,t,n,i,r=!1){if(t instanceof bo&&t.removeInteractionGeometry(i),t instanceof Lr?t.changeSelectedState(n,{shared:i},r):t.changeSelectedState(n,{scene:e,shared:i},r),t instanceof bo&&t.updateGeometryGroupsIfNeeded(),t instanceof Co&&t.updateCameraState(t.dataPatched,{scene:e,shared:i}),!(t instanceof Lr)){if(t.cloner)for(let o of t.cloner.children)o.playModeVisible=void 0;t.updateVisible()}}function uG(e){let t;if(e.easing===5){let{control1:n,control2:i}=e;t=`cubicBezier(
			${n[0]}, ${n[1]}, ${i[0]}, ${i[1]}
		)`}else if(e.easing===6){let{mass:n,stiffness:i,damping:r,velocity:o}=e;t=`spring( ${n}, ${i}, ${r}, ${o} )`}else{let n;switch(e.easing){case 0:n=Wd.linear;break;case 1:n=Wd.ease;break;case 2:n=Wd.easeIn;break;case 3:n=Wd.easeOut;break;case 4:n=Wd.easeInOut;break;default:n=Wd.linear}let[i,r,o,a]=n;t=`cubicBezier( ${i}, ${r}, ${o}, ${a} )`}return{duration:Math.max(e.duration,1e-4),easing:t}}function wA(e){let t={delay:0,loop:e.repeat===-1?!0:e.repeat+1};if(e.repeat===0)t.direction="normal",t.rewind=!1;else switch(e.direction){case"pingpong":t.direction="alternate",t.rewind=!1;break;case"pingpong-rewind":t.direction="alternate",t.rewind=!0;break;default:t.direction="normal",t.rewind=!1;break}switch(t.delay=0,t.endDelay=0,t.startOnceDelay=0,t.pingPongDelayCorrection=0,t.pingPongEndDelayCorrection=0,e.delayDirection){case"start-once":t.startOnceDelay=e.delay;break;case"start":t.delay=e.delay;break;case"end":t.endDelay=e.delay;break;case"start-end":case void 0:t.delay=e.delay,t.endDelay=e.delay;break}return t.direction==="alternate"&&(t.delay/=2,t.endDelay/=2,e.delayDirection==="start"?(t.pingPongDelayCorrection=t.delay,typeof t.loop=="number"&&t.loop%2===0&&(t.pingPongEndDelayCorrection=t.delay)):e.delayDirection==="end"?typeof t.loop=="number"&&t.loop%2!==0&&(t.pingPongEndDelayCorrection=t.endDelay):e.delayDirection==="start-end"&&(t.pingPongDelayCorrection=t.delay,t.pingPongEndDelayCorrection=t.endDelay)),t}var hSe={type:"beginState"},pSe={type:"completeState",isfromEntity:!1},a9=class{constructor(e,t,n,i,r,o){if(this.object=e,this.data=i,this.sharedAssets=r,this.allowSlerp=o,this.targets={t:0},this.firstLoop=!0,this._changeBegan=!1,this._changeCompleted=!0,this.onChange=()=>{this.callback&&(this.callback.update(this.targets.t),this.object.requestRender()),this.targets.t===0||this.targets.t===1?this._changeCompleted||(this._changeCompleted=!0,this._changeBegan=!1,this.onChangeComplete()):(this._changeCompleted&&(this._changeCompleted=!1),this._changeBegan||(this._changeBegan=!0,this.onChangeBegin()))},this.onChangeBegin=()=>{this.object.reversibleToState=this.to.id;let a=this.targets.t>.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=a,this.object.dispatchEvent({type:"beginState",state:a}),this.object instanceof Lr||this.object.traverseEntity(s=>{s!==this.object&&s instanceof Co&&s.dispatchEvent(hSe)})},this.onChangeComplete=()=>{this.firstLoop&&(this.onFirstLoop(),this.firstLoop=!1),this.object.reversibleToState=this.to.id;let a=this.targets.t<.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=a,this.object.dispatchEvent({type:"completeState",state:a}),this.object instanceof Lr||this.object.traverseEntity(s=>{s!==this.object&&s instanceof Co&&s.dispatchEvent(pSe)})},this.onFirstLoop=()=>{this.useCurrentState&&(this.callback=n9(this.object,this.from.data,this.to.data,this.sharedAssets,this.allowSlerp))},t===void 0){let a=JC(this.object,this.object.currentState===n?this.object.prevState:this.object.currentState);if(!a)throw new Error("Missing property");this.from=a}else{let a=JC(this.object,t);if(!a)throw new Error("Missing property");this.from=a}if(n===void 0)throw new Error("Missing property");{let a=JC(this.object,n);if(!a)throw new Error("Missing property");this.to=a}this.useCurrentState=t===void 0||n===void 0,this.params=se(B(B({targets:this.targets,t:1,autoplay:!1},wA(i)),uG(i)),{change:this.onChange}),this.callback=n9(this.object,t===void 0?{}:this.from.data,n===void 0?{}:this.to.data,this.sharedAssets,this.allowSlerp)}get changeBegan(){return this._changeBegan}get changeCompleted(){return this._changeCompleted}},hG=class extends Jr{constructor(e,t,n,i){if(super(),this.data=e,this.page=t,this.shared=n,this.condition=i,this.toggleIsForward=!1,this.timelineNeedsRebuild=!1,this.onTimelineChangeComplete=()=>{this.data.tweens[0].data.direction!=="normal"&&(this.toggleIsForward=!this.toggleIsForward),this.timelineNeedsRebuild!==!1&&(this.timeline?.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!1,isRebuild:!0}),this.timeline.play())},!e.object)throw new Error("Missing property");let r=this.page.scene.find(e.object)??this.page.uiCanvas?.find(e.object)??this.page.scene.find2DInUIObjects(e.object);if(!r)throw new Error("Missing property");if(!r.states)throw new Error("Missing property");if(this.object=r,e.tweens.length<2)throw new Error("Missing property");this.tweens=Array(this.data.tweens.length-1),this.startOnceDelay=e.tweens[0].data.delayDirection==="start-once"?e.tweens[0].data.delay:0,this.init()}get playing(){return this.timeline?.paused===!1}get changeBegan(){return this.tweens.some(e=>e.changeBegan)??!1}init(){this.initialCurrentState=JC(this.object,this.object.currentState).id,this.toggleIsForward=!1}get currentState(){return this.data.runMode==="Toggle"?this.initialCurrentState:this.object.currentState}buildTimeline({isForward:e=!0,needsRebuild:t=!1,isRebuild:n=!1}={}){try{let i=wA(this.data.tweens[0].data);n&&typeof i.loop=="number"&&i.loop--,this.timeline?.pause(),this.timeline=dG.timeline(B(B({autoplay:!1},i),i.loop===!0||i.loop>1?{timelineChangeComplete:this.onTimelineChangeComplete}:{}));let r=this.tweens.findIndex(o=>o?.changeBegan);if(t===!0&&(this.timelineNeedsRebuild=!0),e){let o=r===-1?0:r;for(let a=o;a<this.data.tweens.length-1;a++){let s=this.data.tweens[a],l=this.data.tweens[a+1],c;a===o&&(this.object.wasMovedByUser===!0||this.object.previousAction?.changeBegan===!0)?(c=void 0,this.object instanceof Co&&(this.object.wasMovedByUser=!1)):c=s.data.state===void 0?this.currentState:s.data.state;let d=new a9(this.object,c,l.data.state===void 0?this.currentState:l.data.state,l.data,this.shared,this.data.allowSlerp??!1);r!==-1&&a===o&&Object.assign(d.params,{startOnceDelay:0}),this.tweens[a]=d,this.timeline.add(d.params,this.timeline.duration+(a===o?i.delay:0))}this.timeline.duration+=i.endDelay}else{let o=r===-1?this.data.tweens.length-1:r+1;for(let a=o;a>0;a--){let s=this.data.tweens[a],l=this.data.tweens[a-1],c;a===o&&(this.object.wasMovedByUser===!0||this.object.previousAction?.changeBegan===!0)?(c=void 0,this.object instanceof Co&&(this.object.wasMovedByUser=!1)):c=s.data.state===void 0?this.currentState:s.data.state;let d=new a9(this.object,c,l.data.state===void 0?this.currentState:l.data.state,s.data,this.shared,this.data.allowSlerp??!1);r!==-1&&a===o&&Object.assign(d.params,{startOnceDelay:0}),this.tweens[a-1]=d,this.timeline.add(d.params,this.timeline.duration+(a===o?i.endDelay:0))}this.timeline.duration+=i.delay}}catch(i){i instanceof Error&&console.error(i.message)}this.object.previousAction?.playing===!0&&this.object.previousAction.pause(),this.object.previousAction=this}play(){if(xi(this.shared,this.condition)===!1||this.playing)return!1;clearTimeout(this.timeoutId);let e=wA(this.data.tweens[0].data).pingPongDelayCorrection;this.timeoutId=window.setTimeout(()=>{try{this.buildTimeline(),this.timeline.play()}catch(t){t instanceof Error&&console.error(t.message)}},this.startOnceDelay+e)}pause(){this.timeline?.pause(),clearTimeout(this.timeoutId),this.tweens=Array(this.data.tweens.length-1),delete this.timeoutId}stop(){this.pause();let e=this.data.tweens[0].data.state===void 0?this.initialCurrentState:this.data.tweens[0].data.state;this.object instanceof Lr?this.object.changeSelectedState(e,{shared:this.shared}):this.object.changeSelectedState(e,{scene:this.page.scene,shared:this.shared}),this.object.currentState=e}seek(e){this.timeline===void 0&&this.buildTimeline(),this.timeline?.seek(e*this.timeline.duration,!0)}toggle(e){if(xi(this.shared,this.condition)===!1)return!1;clearTimeout(this.timeoutId),this.toggleIsForward=e??!this.toggleIsForward,this.playing?(this.timeline?.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!0}),this.timeline.play()):this.timeoutId=window.setTimeout(()=>{this.timeline?.pause(),this.buildTimeline({isForward:this.toggleIsForward}),this.timeline.play()},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause()}};function JC(e,t){let n,i;if(typeof t=="string"?(n=t,i=e.states?.[n]):t===null&&(n=null,i=e.data),!(n===void 0||i===void 0))return{id:n,data:i}}var mSe={type:"beginState"},s9={type:"completeState",isfromEntity:!1},l9={type:"requestRender"},pG=class extends Jr{constructor(e,t,n,i){super(),this.data=e,this.page=t,this.shared=n,this.condition=i,this.toggleIsForward=!1,this.posStart=new L,this.posEnd=new L,this.qStart=new Dt,this.qEnd=new Dt,this.zoomStart=1,this.zoomEnd=1}init(){}get playing(){return this.animation&&this.animation.began&&!this.animation.completed}buildAnimation(e=!1){if(!this.data.animate)return;let t=this.page.scene.find(this.data.targetCamera);if(!t||!t.visible)throw new ReferenceError("Target camera not founded or not visible");let n={t:0};this.posStart.copy(this.page.activeCamera.position),this.qStart.copy(this.page.activeCamera.quaternion),this.zoomStart=this.page.activeCamera.zoom,this.animation=dG(se(B({targets:n,t:1},uG(this.data)),{update:()=>{n.t===0&&(this.data.runMode==="Toggle"&&!this.toggleIsForward?(this.posEnd.copy(this.fromCamera.position),this.qEnd.copy(this.fromCamera.quaternion),this.zoomEnd=this.fromCamera.zoom,this.switchCamera(this.fromCamera.uuid)):(this.posEnd.copy(t.position),this.qEnd.copy(t.quaternion),this.zoomEnd=t.zoom,this.fromCamera=this.page.activeCamera,this.switchCamera(t.uuid)),this.page.activeCamera.dispatchEvent(mSe));let i=this.page.activeCamera;i.position.lerpVectors(this.posStart,this.posEnd,n.t),i.quaternion.slerpQuaternions(this.qStart,this.qEnd,n.t),i.zoom=this.zoomStart+(this.zoomEnd-this.zoomStart)*n.t,i.wasMovedBySwitchCameraAction=!0,i.updateMatrix(),i.updateMatrixWorld(),i.updateProjectionMatrix(),i.dispatchEvent(l9),n.t===1&&i.dispatchEvent(s9)}}))}switchCamera(e){let t=this.page.activeCamera,n=this.page.scene.find(e);if(!n||!n.visible)throw new ReferenceError("Target camera not founded or not visible");this.page.switchActiveCamera(n),t.dispatchEvent({type:"cameraChange",camera:n})}play(){if(xi(this.shared,this.condition)===!1)return!1;if(!this.playing&&this.page.activeCamera.uuid!==this.data.targetCamera)try{clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{delete this.timeoutId,this.data.animate?(this.buildAnimation(),this.animation?.play()):this.switchCamera(this.data.targetCamera)},this.data.delay*1e3)}catch{}}pause(){this.animation?.pause(),clearTimeout(this.timeoutId),delete this.timeoutId}toggle(e){if(xi(this.shared,this.condition)===!1)return!1;clearTimeout(this.timeoutId),this.toggleIsForward=e??!this.toggleIsForward;try{this.playing?(this.animation?.pause(),this.buildAnimation(!0),this.animation?.play()):this.timeoutId=window.setTimeout(()=>{delete this.timeoutId,this.data.animate?(this.animation?.pause(),this.buildAnimation(),this.animation?.play()):(this.toggleIsForward?(this.fromCamera=this.page.activeCamera,this.switchCamera(this.data.targetCamera)):this.switchCamera(this.fromCamera.uuid),this.page.activeCamera.dispatchEvent(s9),this.page.activeCamera.dispatchEvent(l9))},this.data.delay*1e3)}catch{}}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause(),this.toggleIsForward=!1}},mG=class extends Jr{constructor(e,t,n,i,r){super(),this.data=e,this.page=t,this.animationControls=n,this.shared=i,this.condition=r,this.startOnceDelay=0,this.toggleIsForward=!1;let o=e.object,a=t.scene.find(e.object);a&&Array.isArray(a.identity)&&(o=a.identity[0]),this.data=se(B({},e),{object:o});let s=this.animationControls.clipIdToAction[e.clipId+"/"+o];this.duration=s?.getClip()?.duration??1;let l=s?.getClip()?.tracks[0]?.times.length??1/0;this.leftFrameTime=this.data.crop[0]/l*this.duration,this.rightFrameTime=this.data.crop[1]/l*this.duration,this.startOnceDelay=e.delay}get playing(){return this.threeAnimAction?.isRunning()??!1}play(e=!1){if(xi(this.shared,this.condition)===!1)return!1;window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{if(this.threeAnimAction=this.animationControls.play(this.data),!this.threeAnimAction)return;this.threeAnimAction.reset(),this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime;let t=this.data.object;Object.entries(this.animationControls.clipIdToAction).forEach(([n,i])=>{let r=n.split("/")[1];this.threeAnimAction!==i&&r===t&&i.isRunning()&&(e?i.fadeOut(.2):i.stop())}),e&&this.threeAnimAction?.fadeIn(.2)},this.startOnceDelay)}pause(){this.threeAnimAction&&(this.threeAnimAction.paused=!0),window.clearTimeout(this.timeoutId),delete this.timeoutId}stop(){this.threeAnimAction?.fadeOut(.2)}seek(e){this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction&&(this.threeAnimAction.paused=!0,this.threeAnimAction.time=et.clamp(this.threeAnimAction.time+1/60*e,this.leftFrameTime,this.rightFrameTime-16e-5),this.animationControls.needsUpdate=!0,this.animationControls.requestRender())}toggle(e,t=!1){if(xi(this.shared,this.condition)===!1)return!1;this.toggleIsForward=e??!this.toggleIsForward,this.threeAnimAction&&(this.threeAnimAction._loopCount=0),this.playing?this.threeAnimAction&&(this.threeAnimAction.timeScale=this.toggleIsForward?1:-1,this.toggleIsForward?(this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime)):this.timeoutId=window.setTimeout(()=>{if(this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction){this.toggleIsForward?(this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction.time=this.rightFrameTime,this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime),this.threeAnimAction.paused=!1,this.threeAnimAction.timeScale=this.toggleIsForward?1:-1;let n=this.data.clipId.split("/")[1];Object.entries(this.animationControls.clipIdToAction).forEach(([i,r])=>{let o=i.split("/")[1];this.threeAnimAction!==r&&o===n&&r.isRunning()&&(t?r.fadeOut(.2):r.stop())}),t&&this.threeAnimAction?.fadeIn(.2)}},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){let e=this.animationControls.clipIdToAction[this.data.clipId+"/"+this.data.object]?.getClip();e&&(e.duration=this.duration),this.pause()}},fG=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.eventManager=n,this.shared=i,this.condition=r,this.timeOutId=-1,this.scene=t.scene}dispatch(){if(xi(this.shared,this.condition)===!1)return!1;this.data.target!==this.page.uuid&&(window.clearTimeout(this.timeOutId),this.timeOutId=window.setTimeout(()=>{this.play()},this.data.delay*1e3))}dispose(){window.clearTimeout(this.timeOutId)}play(){if(this.scene.children.every(t=>t.uuid!==this.data.target))return;this.data.transition==="fade"&&this.data.duration>0&&this.eventManager.eventContext.renderer.renderFromSceneForSceneTransitionPass(this.scene,this.scene.activeCamera,this.data.duration*1e3),this.eventManager.deactivate(),this.eventManager.controlsManager.deactivate();let e=this.scene.activeCamera;this.scene.updatePage(this.data.target),this.scene.traverseVisibleEntity(t=>{t.type==="ParticleSystem"&&(t.sleep(),t.wakeUp(),t.data.autoPlay?t.start():t.stop())}),this.scene.activePage.switchToPlayCamera(),this.scene.activeCamera.copyViewPlaneSize(e),lI(this.scene.activePage,this.shared),this.eventManager.activate(),this.eventManager.controlsManager.activate(this.eventManager)}},gG=class{constructor(e,t,n,i){this.data=e,this.page=t,this.shared=n,this.condition=i,this.evaluatedCondition=!1}checkConditions(){this.evaluatedCondition=xi(this.shared,this.condition)}dispatch(){if(this.evaluatedCondition===!1)return!1;let e=this.shared.getVariable(this.data.variableId),t=Mj(this.data.expression,this.shared,za.typeOfVariable(e));t!==void 0&&this.shared.updateVariable(this.data.variableId,typeof t=="string"?{textValue:t}:t)}dispose(){}},vG=class{constructor(e,t,n,i){this.data=e,this.page=t,this.shared=n,this.condition=i,this.timeoutId=null}dispatchInner(){if(xi(this.shared,this.condition)===!1)return!1;let e=this.shared.getDynamicVariablePlayState(this.data.variableId);if(this.data.mode==="PlayPause")this.shared.getDynamicVariableToggleIsForward(this.data.variableId)===void 0&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,e==="Playing"?"Paused":"Playing");else if(this.data.mode==="Play"&&e!=="Playing")this.shared.getDynamicVariableToggleIsForward(this.data.variableId)===void 0&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing");else if(this.data.mode==="Stop"&&e!=="Stopped")this.shared.setDynamicVariablePlayState(this.data.variableId,"Stopped");else if(this.data.mode==="Pause"&&e!=="Paused")this.shared.setDynamicVariablePlayState(this.data.variableId,"Paused");else if(this.data.mode==="Restart")this.shared.setDynamicVariablePlayState(this.data.variableId,"Restarted");else if(this.data.mode==="Toggle"){let t=this.shared.getDynamicVariableToggleIsForward(this.data.variableId);e==="Playing"?this.shared.setDynamicVariableToggleIsForward(this.data.variableId,t===void 0?!1:!t):(this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!t),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing"))}}dispatch(){let e=this.data.delay,t=this.shared.getDynamicVariablePlayState(this.data.variableId);this.data.mode==="PlayPause"&&t==="Playing"&&(e=this.data.pauseDelay),e!==0?(this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{this.timeoutId=null,this.dispatchInner()},e)):this.dispatchInner()}dispose(){this.timeoutId&&window.clearTimeout(this.timeoutId)}};function xi(e,t){if(t===void 0)return!0;if(t.expression.length===0)return!1;let n=Mj(t.expression,e,"boolean");return t.negate?!n:!!n}function Go(e,t,n,i,r,o){let a={Audio:[],Video:[],Particles:[],Link:[],Destroy:[],Create:[],Reset:[],Transition:[],SwitchCamera:[],Animation:[],SceneTransition:[],SetVariable:[],DynamicVariablePlay:[]},s=l=>({id:c,data:d})=>{try{d.type==="Audio"?na[e.type].includes("Audio")&&a.Audio.push(new GH(c,d,o,i,l)):d.type==="Video"&&!(o instanceof Lr)?na[e.type].includes("Video")&&a.Video.push(new bG(c,d,o,i,l)):d.type==="Particles"?na[e.type].includes("Particles")&&a.Particles.push(new WH(d,n,i,l)):d.type==="Link"?na[e.type].includes("Link")&&a.Link.push(new nOe(d,r.controlsManager,i,l)):d.type==="Create"?na[e.type].includes("Create")&&a.Create.push(new _G(d,n,r.controlsManager,i,l)):d.type==="Destroy"?na[e.type].includes("Destroy")&&a.Destroy.push(new qH(d,n,r.controlsManager,i,l)):d.type==="Reset"?na[e.type].includes("Reset")&&a.Reset.push(new YH(d,n,i,r,l)):d.type==="Transition"?na[e.type].includes("Transition")&&a.Transition.push(new hG(d,n,i,l)):d.type==="SwitchCamera"?na[e.type].includes("SwitchCamera")&&a.SwitchCamera.push(new pG(d,n,i,l)):d.type==="SceneTransition"?na[e.type].includes("SceneTransition")&&a.SceneTransition.push(new fG(d,n,r,i,l)):d.type==="Animation"?na[e.type].includes("Animation")&&a.Animation.push(new mG(d,n,r.animationControls,i,l)):d.type==="SetVariable"?na[e.type].includes("SetVariable")&&a.SetVariable.push(new gG(d,n,i,l)):d.type==="DynamicVariablePlay"?na[e.type].includes("DynamicVariablePlay")&&a.DynamicVariablePlay.push(new vG(d,n,i,l)):d.type==="Conditional"&&na[e.type].includes("Conditional")&&(d.ifActions.forEach(s({expression:d.condition,negate:!1})),d.elseActions.forEach(s({expression:d.condition,negate:!0})))}catch{}};return t.forEach(s()),a}function Rr(e){Object.values(e).forEach(t=>{t.forEach(n=>{(n instanceof GH||n instanceof bG||n instanceof WH||n instanceof mG||n instanceof hG||n instanceof _G||n instanceof qH||n instanceof pG||n instanceof fG||n instanceof YH||n instanceof gG||n instanceof vG)&&n.dispose()})})}function fSe(e,t){let n;if("material"in e){let i=e.material;Array.isArray(i)?n=e.material[0].layers.find(r=>r.uuid===t):n=e.material.layers.find(r=>r.uuid===t)}if(n)return n.color.texture.image.img instanceof HTMLVideoElement?n.color.texture.image.img:void 0}var yG=new Map,Wv=new Map,Rf=class{constructor(e,t,n){this.data=t,this.delay=0,this.status="stopped";let{layerId:i,loop:r,volume:o,delay:a}=t;if(this.object=n,i===void 0)throw new Error("Missing property");let s=fSe(n,i);s&&(this.videoElement=s,this.videoElement.loop=r===1/0,cT&&(this.videoElement.autoplay=!0),o!==void 0&&(this.videoElement.volume=o)),a!==void 0&&(this.delay=a),Wv.has(n.uuid)?Wv.get(n.uuid).push(this):Wv.set(n.uuid,[this]),yG.set(e,this),this.pause()}mute(){!this.videoElement||(this.videoElement.muted=!0)}unMute(){!this.videoElement||(this.videoElement.muted=!1)}play(e){if(!this.videoElement)return;let t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);e?(this.mute(),this.delay+=150):t?(this.mute(),window.setTimeout(()=>{this.unMute()},100)):this.unMute(),this.delayTimerId=window.setTimeout(()=>{if(!this.videoElement)return;let n=this.videoElement.play();n!==void 0&&n.then(i=>{}).catch(i=>{this.play()}),this.clearDelay()},this.delay),this.status="playing"}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}pause(){!this.videoElement||(this.videoElement.pause(),this.status="paused")}stop(){!this.videoElement||(this.videoElement.pause(),this.videoElement.currentTime=0,this.status="stopped",this.clearDelay())}playByToggle(){this.data.toggle==="stop"?this.status==="playing"?this.stop():(this.stop(),this.play()):this.data.toggle==="pause"?this.status==="playing"?this.pause():this.play():(this.stop(),this.play())}dispose(){!this.videoElement||(this.stop(),this.videoElement.muted=!0)}},xA=class{constructor(e){this.data=e}dispatch(){this.data.playVideo?this.pauseVideo(this.data.playVideo):this.data.object?this.pauseAllVideosFromObject(this.data.object):this.pauseAllVideos()}pauseVideo(e){let t=yG.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t[this.data.interaction](),this.disposeDelay()},this.data.delay)):t[this.data.interaction]())}pauseAllVideosFromObject(e){let t=Wv.get(e);!t?.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(n=>n[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(n=>n[this.data.interaction]()))}pauseAllVideos(){let e=[...Wv.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(n=>{n[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(n=>{n[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},bG=class{constructor(e,t,n,i,r){if(this.data=t,this.shared=i,this.condition=r,t.interaction==="play")this.interaction=new Rf(e,t,n);else if(t.interaction==="pause"||t.interaction==="stop")this.interaction=new xA(t);else throw new Error("Missing property")}dispatchBasic(){if(xi(this.shared,this.condition)===!1)return!1;this.interaction instanceof Rf?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(xi(this.shared,this.condition)===!1)return!1;this.interaction instanceof Rf?this.interaction.play():this.interaction.dispatch()}dispose(){this.interaction.dispose()}},c9=(()=>{let e,t,n,i;function r(s){!e&&!d9()&&t?.sharedGameControlGlobals.createdObjects.length>0&&(e=requestAnimationFrame(o)),s&&(t=s,i=s.requestRender)}function o(s){let l=n?s-n:0,c=t.sharedGameControlGlobals.createdObjects,d=t.sharedGameControlGlobals.nCreatedPerAction,u=c.length,h=0;for(;h<u;){let p=c[h];p.userData.createdTime===void 0&&(p.userData.createdTime=s),p.userData.lifetime===void 0&&p.userData.quantity===void 0||p.userData.lifetime&&s-p.userData.createdTime<p.userData.lifetime||p.userData.quantity&&d[p.userData.actionId]<=p.userData.quantity?(p.userData.velocity&&(p.position.addScaledVector(p.userData.velocity,l/1e3),p.updateMatrix(),i()),h++):(d[p.userData.actionId]>p.userData.quantity&&d[p.userData.actionId]--,c.splice(h,1),p.removeFromParent(),t.sharedGameControlGlobals.rapierWorld&&p.rigidBody?(t.sharedGameControlGlobals.colliderToEntity.delete(p.rigidBody.collider(0).handle),t.sharedGameControlGlobals.rapierWorld.removeRigidBody(p.rigidBody)):(p.bvhGeometry=void 0,t.sharedGameControlGlobals.entitiesWithTransformAnim=t.sharedGameControlGlobals.entitiesWithTransformAnim.filter(m=>m.bvhGeometry!==void 0)),u--,i())}e=h>0?requestAnimationFrame(o):void 0,n=h>0?s:void 0}function a(){d9()?e&&(cancelAnimationFrame(e),e=void 0,n=void 0):r()}return typeof document<"u"&&document.addEventListener("visibilitychange",a),r})();function d9(){return!!document&&document.hidden}var u9=new Dt,gSe=new L,vSe=new L,_G=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.controlsManager=n,this.shared=i,this.condition=r,this.intervalId=null,this.timeoutIdQueue=[],this.uniqueId=et.generateUUID(),this.dispatch=()=>{if(xi(this.shared,this.condition)===!1)return!1;this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3)):this.dispatchInner()},this.dispatchFromStart=()=>{if(xi(this.shared,this.condition)===!1)return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3))},this.dispatchThrottled=rve(this.dispatch,1e3/this.data.creationSpeed),this.dispatchStart=()=>{this.intervalId===null&&(this.intervalId=window.setInterval(this.dispatch,1e3/this.data.creationSpeed))},this.dispatchStop=()=>{this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null)},this.dispatchInner=()=>{this.timeoutIdQueue.shift();let a=new yo(this.object);if(a.playModeVisible=!0,a.expand(),this.data.coordinateSystem!=="world"){let l=this.data.coordinateSystem,c=this.page.scene.find(l);c&&(c.updateMatrixWorldSVD(),a.hiddenMatrix.copy(c.matrixWorldRigid))}a.scale.copy(this.object.scale),a.position.fromArray(this.data.position),a.rotation.fromArray(this.data.rotation),a.updateMatrix(),this.page.add(a);let s=this.controlsManager.sharedGameControlGlobals;s.createdObjects.push(a),s.nCreatedPerAction[this.uniqueId]===void 0?s.nCreatedPerAction[this.uniqueId]=1:s.nCreatedPerAction[this.uniqueId]++,a.updateWorldMatrix(!0,!0),a.traverseObject(this.traverseObjectCB),c9(),this.controlsManager.requestRender()},this.traverseObjectCB=a=>{a.hasNonUniformScale&&a.updateMatrixWorldSVD();let s;if(this.controlsManager.sharedGameControlGlobals.rapierWorld){if(a instanceof Gs)if(a.objectForSample){if(a.objectForSample.dataPatched.physics.fusedBody)return;s=a.object}else return a.object.dataPatched.physics.fusedBody===!0&&a.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(a instanceof yo)s=a.object;else if(s=a,s.dataPatched.cloner?.hideBase)return!0}else{if(a instanceof Gs)return;a instanceof yo?s=a.object:s=a}this.data.destroy==="Time"?a.userData.lifetime=this.data.lifetime*1e3:this.data.destroy==="Quantity"&&(a.userData.quantity=this.data.destroyAfterQuantity,a.userData.actionId=this.uniqueId);let l=new L().fromArray(this.data.velocity),c=s.dataPatched;if(!(c.physics.enabled==="visibility"?!c.visible:!c.physics.enabled)&&(this.controlsManager.sharedGameControlGlobals.rapierWorld?(this.controlsManager.addRigidBody(a,s,{fromCreate:!0,dynamic:this.data.dynamic}),this.data.destroy==="Collision"&&(a.rigidBody?.collider(0).setActiveEvents(1),a.userData.hasCollisionDestroy=!0),a.matrixWorld.decompose(gSe,u9,vSe),l.applyQuaternion(u9),this.data.velocity.some(d=>d!==0)&&this.data.dynamic&&a.rigidBody?.setLinvel(l.divideScalar(this.controlsManager.pixelsPerMeter),!0)):("geometry"in a.object&&this.controlsManager.addBoundsTree(a),this.data.velocity.some(d=>d!==0)&&this.data.dynamic&&(a.userData.velocity=l)),s.dataPatched.physics?.fusedBody===!0))return!0};let o=this.page.scene.find(this.data.object);if(!o)throw new Error("Missing Property");if(this.object=o,this.data.coordinateSystem!=="world"&&!this.page.scene.find(this.data.coordinateSystem))throw new Error("Missing Property");c9(n)}dispose(){this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null),this.timeoutIdQueue.forEach(e=>window.clearTimeout(e)),this.dispatchThrottled.cancel(),this.page.remove(...this.controlsManager.sharedGameControlGlobals.createdObjects),this.controlsManager.sharedGameControlGlobals.createdObjects=[]}},CG=200,p3=.02,m3=.3,ySe=65,rke=new L,h9=new L,p9=new L,bSe=new L,Fo=new L,ia=new L,Ud=new L,f3=new Be,m9=new Be,_Se=new Be,oke=new Be,Fs=new Dt,Dc=new Dt,El=new mr(0,0,0,"YXZ"),CSe=new L(1,0,0),Ns=new L(0,1,0),MSe=new L(0,0,1),f9=new L(1,1,1),ake=new ua,wSe=1,xSe=.025,PSe=16e-6,g9=12,OSe=20,Pr=new vs,ls=new ji,SSe={type:"requestRender"},ESe={type:"updateMatrix"},v9=Math.PI/6,PA=class extends Jr{constructor(e,t,n,i,r,o,a,s,l){super(),this.object=e,this.domElement=t,this.data=n,this.gloabalPhysics=i,this.controlsManager=r,this.cameraFollow=o,this.camera=a,this.page=s,this.sharedAssets=l,this.enableDamping=!0,this.hiddenMatrix0=new Be,this.target0=new L,this.zoom0=1,this.rotForce=1,this.moveForce=1,this.pixelsPerMeter=CG,this.euler0=new mr(0,0,0,"YXZ"),this.position0Cam=new L,this.quat0Cam=new Dt,this.scale0Cam=new L,this.hiddenMatrix0Cam=new Be,this.threshEndTranslate=.01,this.threshEndRotate=1e-8,this.threshEndRotVel=.005,this.collider={type:"capsule",radius:40,segment:new vs(new L(0,-40,0),new L(0,40,0)),matrix:new Be,position:new L,rotation:new Dt},this.euler=new mr(0,0,0,"YXZ"),this.eulerDelta=new L,this.lastPosition=new L,this.lastCameraQuaternion=new Dt,this.lastCameraPosition=new L,this.PI_2=Math.PI/2,this.prevMouse=new oe,this.velocityTarget=new L,this.velocity=new L,this.directionXZ=new L,this.rotVelocityStick=new L,this.rotVelocityTarget=new L,this.rotVelocity=new L,this.rotDirection=new L,this.nonColliderRotOffset=new Be,this.nonColliderPosOffset=new Be,this.firstPointerId=-1,this.rot=new L,this.path=[],this.movementState={moveNegZ:0,movePosZ:0,moveNegX:0,movePosX:0,moveNegY:0,movePosY:0,rotPosX:0,rotNegX:0,rotPosY:0,rotNegY:0,jump:0,run:0},this.vrEulerYOffset=0,this.onObject=!1,this.actionState={},this.keyAssignments=[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","ArrowUp"],["rotPosY","ArrowLeft"],["rotNegX","ArrowDown"],["rotNegY","ArrowRight"],["jump"," "]],this.collisionEnabled=!0,this.offsetMatrix=new Be,this.objectToTarget=new L,this.objectToTarget0=new L,this.objectToCamXZ=new L,this.objectToCamXZ0=new L,this.targetToCamera=new L,this.targetToCamera0=new L,this.cameraPolarAxis0=new L,this.targetPos=new L,this.targetQuat=new Dt,this.lerpFactorPos=new L().setScalar(.3),this.lerpFactorPosStart=.3,this.lerpFactorPosEnd=.3,this.lerpFactorRotStart=.3,this.lerpFactorRotEnd=.3,this.lerpFactorPosCamera=.3,this.lerpFactorRotCamera=.3,this.objXZQuat=new Dt,this.objXZQuatInv=new Dt,this.objXZRotMat=new Be,this.isFirstPerson=!1,this.didHit=!1,this.groundVelocity=new L,this.pushedVelocity=new L,this.groundYRotation=0,this.objectRealQuat=new Dt,this.colliderWorldQuat=new Dt,this.groundNormal=new L,this.groundTilt=new Dt,this.groundTiltInv=new Dt,this.lastHitObj=null,this.isFirstFrame=!0,this.rotationAccumWhenOrientWithCamera=0,this.navMeshPathDest=null,this.position=new L,this.quaternion=new Dt,this.scale=new L,this.initialAction=!0,this.onPointerDown=m=>{m.target!==this.domElement||this.firstPointerId!==-1||(this.firstPointerId=m.pointerId,this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),this.rotBy!=="keys"&&!Na&&!n7&&this.domElement.requestPointerLock(),this.prevMouse.set(m.clientX,m.clientY))},this.onPointerUp=m=>{this.firstPointerId=-1,this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),m.pointerType==="mouse"&&this.domElement.ownerDocument.exitPointerLock()},this.onPointerMove=m=>{if(m.pointerId!==this.firstPointerId)return;let g=m.clientX-this.prevMouse.x,v=m.clientY-this.prevMouse.y;this.prevMouse.set(m.clientX,m.clientY),m.pointerType==="mouse"&&this.rotBy!=="keys"&&(n7&&fve<15.5&&!Na?(this.eulerDelta.y=-g*this.mouseOrbitSensitivity,this.eulerDelta.x=-v*this.mouseOrbitSensitivity):(this.eulerDelta.y=-m.movementX*this.mouseOrbitSensitivity,this.eulerDelta.x=-m.movementY*this.mouseOrbitSensitivity)),m.pointerType!=="mouse"&&this.rotByTouch==="drag"&&(this.eulerDelta.y=-g*this.mouseOrbitSensitivity*5,this.eulerDelta.x=-v*this.mouseOrbitSensitivity*5),this.controlsManager.requestRender()},this.onPointerlockChange=m=>{this.domElement.ownerDocument.pointerLockElement===this.domElement?PA.isLocked=!0:PA.isLocked=!1},this.onPointerlockError=()=>{console.error("SPE.GameControls: Unable to use Pointer Lock API")},this.handleVisibilityChange=()=>{if(document?.hidden)for(let m in this.movementState)this.movementState[m]=0},this.onKeyDown=m=>{!(m.target instanceof HTMLInputElement)&&(m.code==="ArrowLeft"||m.code==="ArrowUp"||m.code==="ArrowRight"||m.code==="ArrowDown"||m.code==="Space")&&m.preventDefault();for(let g of this.keyAssignments)if(m.key.toUpperCase()===g[1]||m.key===g[1]){this.movementState[g[0]]=1;break}this.controlsManager.requestRender()},this.onKeyUp=m=>{for(let g of this.keyAssignments)if(m.key.toUpperCase()===g[1]||m.key===g[1]||m.code.slice(3,m.code.length).toUpperCase()===g[1]){this.movementState[g[0]]=0;break}},this.copyVRGamePadValues=(m,g)=>{for(let v=2;v<4;v++){let b=m.axes[v];g===0?v===2?this.movementState.movePosX=b:this.movementState.movePosZ=b:(m.buttons[3].pressed?this.movementState.jump=1:this.movementState.jump=0,v===2?(Math.abs(this.movementState.rotPosY)<.3&&Math.abs(b)>=.3&&(this.vrEulerYOffset+=b<0?1:-1),this.movementState.rotPosY=b):this.moveMode==="fly"&&(this.movementState.moveNegY=b))}},this.sharedGameControlGlobals=r.sharedGameControlGlobals,e===a&&(this.isFirstPerson=!0),this.hiddenMatrix0.copy(this.object.hiddenMatrix),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.euler0.setFromQuaternion(this.quaternion,"YXZ");let c=this.euler0.clone(),d=c.y;if(this.objectRealQuat.copy(this.quaternion),c.y=0,this.quaternion.setFromEuler(c),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),c.set(0,d,0),this.quaternion.setFromEuler(c),this.rot.setFromEuler(c),this.object.matrixAutoUpdate=!1,(this.isFirstPerson||this.cameraFollow===!0)&&(this.target0.copy(this.camera.getTarget()),this.zoom0=this.camera.zoom),this.cameraFollow===!0){this.position0Cam.copy(this.camera.position),this.quat0Cam.copy(this.camera.quaternion),this.scale0Cam.copy(this.camera.scale),this.hiddenMatrix0Cam.copy(this.camera.hiddenMatrix),this.camera.parent?(this.camera.hiddenMatrix.copy(this.camera?.parent.matrixWorld),this.camera.matrix.copy(this.camera.matrixWorld)):this.camera.hiddenMatrix.identity(),this.camera.matrix.copy(this.camera.matrixWorld),this.camera.matrix.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.matrixAutoUpdate=!1,this.offsetMatrix.copy(this.object.matrix).invert().multiply(this.camera.matrix);let m=new L(0,0,-1).applyQuaternion(this.camera.quaternion),g=new L().subVectors(this.position,this.camera.position);this.objectToCamXZ.copy(g),this.objectToCamXZ.y=0,this.objectToCamXZ0.copy(this.objectToCamXZ);let v,b;Math.abs(m.y)<1e-6?(g.y=0,m.y=0,b=g.projectOnVector(m)):g.y/m.y>0?b=m.multiplyScalar(g.y/m.y):b=m.multiplyScalar(g.length()),this.targetToCamera0.copy(b).negate(),v=this.camera.position.clone().add(b),this.objectToTarget0.subVectors(v,this.position);let _=new mr().setFromQuaternion(this.camera.quaternion,"YXZ");this.cameraPolarOffset=-_.x,_.x=0,_.z=0,_.y-=Math.PI/2,this.cameraPolarAxis0.set(0,0,-1).applyEuler(_)}if(this.object instanceof Co&&(this.object.matrixAutoUpdate=!1),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.rotByTouch=n.rotByTouch??"joystick",this.rotBy=n.rotBy??"keys",this.rotationMode=n.rotationMode??"normal",this.moveMode=n.moveMode??"walk",this.collisionEnabled=n.collisionEnabled,this.speedTranslate=(n.speedTranslate??250)*wSe,this.speedOrbit=(n.speedRotate??100)*xSe,this.mouseOrbitSensitivity=(n.speedRotate??100)*PSe,this.keyAssignments=n.keyAssignments.map(m=>{let g=[m[0],m[1]];return g[1]==="\u25B2"?g[1]="ArrowUp":g[1]==="\u25C0"?g[1]="ArrowLeft":g[1]==="\u25BC"?g[1]="ArrowDown":g[1]==="\u25B6"?g[1]="ArrowRight":g[1]==="\u21E7"?g[1]="Shift":g[1]==="\u21B5"?g[1]="Enter":g[1]==="Space"?g[1]=" ":g[1]==="\u2318"?g[1]="Meta":g[1]==="Ctrl"?g[1]="Control":g[1]==="Esc"&&(g[1]="Escape"),g}),n.rotBy==="mouse"){let m;m=this.keyAssignments.findIndex(g=>g[0]==="rotNegX"),m!==-1&&(this.keyAssignments[m][1]=""),m=this.keyAssignments.findIndex(g=>g[0]==="rotPosX"),m!==-1&&(this.keyAssignments[m][1]=""),m=this.keyAssignments.findIndex(g=>g[0]==="rotPosY"),m!==-1&&(this.keyAssignments[m][1]=""),m=this.keyAssignments.findIndex(g=>g[0]==="rotNegY"),m!==-1&&(this.keyAssignments[m][1]="")}this.lerpFactorPosStart=1-.02**(1/((n.delayPos[0]??.3)*60)),this.lerpFactorPosEnd=1-.02**(1/((n.delayPos[1]??.3)*60)),this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.lerpFactorRotStart=1-.02**(1/((n.delayRot[0]??.3)*60)),this.lerpFactorRotEnd=1-.02**(1/((n.delayRot[1]??.3)*60)),this.lerpFactorPosCamera=1-.02**(1/((n.delayPosCamera??.3)*60)),this.lerpFactorRotCamera=1-.02**(1/((n.delayRotCamera??.3)*60)),this.gravity=(this.gloabalPhysics.gravity??Hf.defaultData.gravity)*g9,this.usePhysics=this.gloabalPhysics.usePhysics??Hf.defaultData.usePhysics,this.jumpPower=n.jumpPower*OSe,this.resetYPosition=this.position.y+Math.abs(n.resetYPosition)*(this.gravity>0?1:-1),this.alignToGround=n.alignToGround??!1,this.orientMode=n.autoOrientMove?n.orientMode:"none",this.orientWith=n.orientWith??zM.defaultDataThirdPerson.orientWith,this.slopeThresh=ySe*Math.PI/180,n.collider.type==="capsule"?(this.collider.radius=n.collider.radius,this.collider.segment.start.y=n.collider.height/2-n.collider.radius,this.collider.segment.end.y=-this.collider.segment.start.y,this.offset=n.collider.height*p3/this.pixelsPerMeter,this.stepThresh=n.collider.height*m3/this.pixelsPerMeter,this.colliderHeight=n.collider.height):n.collider.type==="sphere"?(this.collider.radius=n.collider.radius,this.collider.segment.start.y=0,this.collider.segment.end.y=0,this.offset=2*n.collider.radius*p3/this.pixelsPerMeter,this.stepThresh=2*n.collider.radius*m3/this.pixelsPerMeter,this.colliderHeight=n.collider.radius*2):(this.offset=n.collider.height*p3/this.pixelsPerMeter,this.stepThresh=n.collider.height*m3/this.pixelsPerMeter,this.colliderHeight=n.collider.height),this.collider.type=n.collider.type;let u=new L().fromArray(n.collider.position),h=new Dt().setFromEuler(new mr().fromArray([...n.collider.rotation,"XYZ"]));this.collider.position.copy(u).multiply(this.scale),this.collider.rotation.copy(h),this.collider.matrix.compose(u,h,f9),n.cameraXAxis!==void 0&&(this.cameraXAxis=n.cameraXAxis,this.cameraYAxis=n.cameraYAxis,this.minPolarAngle=n.cameraRotXLimits[0],this.maxPolarAngle=n.cameraRotXLimits[1],this.minAzimuthAngleRel=n.cameraRotYLimits[0],this.maxAzimuthAngleRel=n.cameraRotYLimits[1]),this.forwardDir=n.forwardDirection??"-z",this.isFirstPerson&&(this.forwardDir="-z"),this.runMultiplier=n.runMultiplier??2;let p=n.navmesh.destinationHelperRadius*2;if(p>0){let m=new yt;m.push({fi:0,data:se(B({},Sr.defaultData("light","phong")),{alpha:0}),id:"layer1"}),m.push({fi:0,data:se(B({},Sr.defaultData("color")),{color:n.navmesh.destinationHelperColor,alpha:n.navmesh.destinationHelperColor.a}),id:"layer2"});let g=new FT({layers:m},{scene:this.page.scene,shared:this.sharedAssets});this.navMeshPathDest=new Ji(ij.create({parameters:{width:p,height:p/10,hollow:.7}}),g),this.navMeshPathDest.material.userData.opacity0=n.navmesh.destinationHelperColor.a}this.activate()}reset(e=!1){if(this.object.hiddenMatrix.copy(this.hiddenMatrix0),e){this.object.updateMatrix(),this.object.updateMatrixWorld(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity();let t=new mr().setFromQuaternion(this.quaternion,"YXZ"),n=t.y;this.objectRealQuat.copy(this.quaternion),t.y=0,this.quaternion.setFromEuler(t),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),t.set(0,n,0),this.quaternion.setFromEuler(t),this.rot.setFromEuler(t),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.velocityTarget.set(0,0,0),this.velocity.set(0,0,0)}else this.object instanceof Co?this.object.matrixAutoUpdate=!0:this.object.updateMatrix();this.cameraFollow===!0&&(this.camera.quaternion.copy(this.quat0Cam),this.camera.position.copy(this.position0Cam),this.camera.scale.copy(this.scale0Cam),this.camera.hiddenMatrix.copy(this.hiddenMatrix0Cam),this.camera.matrixAutoUpdate=!0),this.controlsManager.requestRender()}activate(){this.instantiateActions(),this.domElement.ownerDocument.addEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.addEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.addEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.addEventListener("visibilitychange",this.handleVisibilityChange)}deactivate(){this.disposeActions(),this.domElement.ownerDocument.removeEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.removeEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.removeEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.removeEventListener("visibilitychange",this.handleVisibilityChange)}dispose(){this.deactivate(),this.navMeshPathDest?.parent&&this.page.remove(this.navMeshPathDest)}instantiateActions(){let e=this.data,t=this.sharedAssets;e.gameActions!==void 0&&(this.actions={},NM.list.forEach(n=>{this.actions[n]=Go(se(B({},e),{disabled:!1,type:"GameControl"}),e.gameActions[n],this.page,t,this.controlsManager.eventManager,this.object)})),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"),this.initialAction&&(this.initialAction=!1)}disposeActions(){this.initialAction=!1,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),Rr(this.actions.idle),Rr(this.actions.move),Rr(this.actions.run),Rr(this.actions.jump)}dispatchStartEvent(e){this.actions[e]!==void 0&&(this.actionState[e]||(this.actionState[e]=!0,this.actions[e].Transition.forEach(t=>{t.play()}),this.actions[e].Animation.forEach(t=>{t.play(this.initialAction===!1)}),this.actions[e].Create.forEach(t=>{t.dispatchStart()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("start")}),this.actions[e].Particles.forEach(t=>{t.dispatchGameControl("start")})))}dispatchStopEvent(e){this.actions[e]!==void 0&&(!this.actionState[e]||(this.actionState[e]=!1,this.actions[e].Transition.forEach(t=>{t.stop(),t.object.currentState!==null&&t.object.changeSelectedState(null,{scene:this.page.scene,shared:this.sharedAssets})}),this.actions[e].Create.forEach(t=>{t.dispatchStop()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("stop")}),this.actions[e].Particles.forEach(t=>{t.dispatchGameControl("stop")})))}get colliderWorldPosition(){return Fo.copy(this.collider.position).applyQuaternion(this.objectRealQuat).add(this.position)}update(e,t,n){if(this.gravity<0?this.position.y<this.resetYPosition:this.position.y>this.resetYPosition)return this.reset(!0),!0;this.sharedGameControlGlobals.gamePads.forEach(this.copyVRGamePadValues);let i=(this.isFirstFrame?16.6:e)/1e3;this.isFirstFrame&&(this.isFirstFrame=!1);let r=i*60,o=!1;if(this.usePhysics&&this.collisionEnabled){let s=ia.set(0,(this.velocity.y===0?this.pixelsPerMeter*Math.max(Math.abs(this.gravity)/(10*g9),1)*(this.gravity>0?1:-1):this.velocity.y)*i,0).divideScalar(this.pixelsPerMeter),l=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter),this.colliderWorldQuat,s,this.object.rigidBody?.collider(0).shape,1,!1,16,void 0,void 0,this.object.rigidBody);if(l){this.onObject=!0,this.groundNormal.set(l.normal2.x,l.normal2.y,l.normal2.z).applyQuaternion(this.colliderWorldQuat).negate(),this.alignToGround&&this.groundTiltAdjustment(this.groundNormal),Math.acos(this.groundNormal.y)<this.slopeThresh&&(o=!0),l.collider.parent()?.bodyType()===0&&Math.acos(this.groundNormal.y)*(180/Math.PI)>45&&(this.onObject=!1);let c=l.collider.parent();this.groundYRotation=0,this.groundVelocity.set(0,0,0);for(let d of this.sharedGameControlGlobals.entitiesWithTransformAnim)if(d.rigidBody===c&&d.userData.isFollowingObj!==this.object.uuid){(d.hasNonUniformScale?d.matrixWorldRigid:d.matrixWorld).decompose(Fo,Dc,ia),this.groundVelocity.subVectors(Fo,d.prevT),this.object.getWorldPosition(ia).add(this.collider.position).sub(Fo),this.groundYRotation=El.setFromQuaternion(Dc).y-d.prevR.y,Ud.copy(ia).applyAxisAngle(Ns,this.groundYRotation),this.groundVelocity.add(Ud.sub(ia)).divideScalar(i);break}}else this.onObject=!1}if(this.moveMode==="walk"&&this.collisionEnabled&&(this.movementState.jump===1&&this.onObject&&(this.velocityTarget.y=this.jumpPower,this.movementState.jump=0,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("jump"),this.onObject=!1),this.onObject?this.velocityTarget.y/=2:this.velocityTarget.y+=this.gravity*r),this.moveMode==="fly"&&(this.velocityTarget.y=(this.movementState.movePosY-this.movementState.moveNegY)*this.speedTranslate),this.directionXZ.z=this.movementState.movePosZ-this.movementState.moveNegZ,this.directionXZ.x=this.movementState.movePosX-this.movementState.moveNegX,this.forwardDir==="+z"&&this.directionXZ.multiplyScalar(-1),this.directionXZ.manhattanLength()>0&&(this.path=[]),this.navMeshPathDest){let s=this.navMeshPathDest.material;if(this.moveMode==="walk"&&this.path.length>1){this.navMeshPathDest.position.copy(this.path[this.path.length-1]),this.navMeshPathDest.parent||this.page.add(this.navMeshPathDest);let l=Fo.subVectors(this.path[1],this.position),c=ia.subVectors(this.path[1],this.path[0]);l.dot(c)<0?this.path.shift():(this.directionXZ.x=c.x,this.directionXZ.z=c.z),s.opacity=s.userData.opacity0}else s.opacity-=.05*s.userData.opacity0,this.navMeshPathDest.material.opacity<=0&&this.navMeshPathDest.parent&&this.page.remove(this.navMeshPathDest)}this.directionXZ.normalize(),this.movementState.run?this.moveForce=this.runMultiplier:this.moveForce=1,this.velocityTarget.z=this.directionXZ.z*this.speedTranslate*this.moveForce,this.velocityTarget.x=this.directionXZ.x*this.speedTranslate*this.moveForce,(this.moveMode==="walk"?this.velocityTarget.x+this.velocityTarget.z===0:this.velocityTarget.manhattanLength()===0)?this.lerpFactorPos.setScalar(this.lerpFactorPosEnd):this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.moveMode==="walk"&&(this.lerpFactorPos.y=1),this.didHit===!1&&this.pushedVelocity.manhattanLength()===0||this.usePhysics===!1?(this.velocity.x+=(this.velocityTarget.x-this.velocity.x)*(1-(1-this.lerpFactorPos.x)**r),this.velocity.y+=(this.velocityTarget.y-this.velocity.y)*(1-(1-this.lerpFactorPos.y)**r),this.velocity.z+=(this.velocityTarget.z-this.velocity.z)*(1-(1-this.lerpFactorPos.z)**r)):this.velocity.copy(this.velocityTarget),(this.moveMode==="walk"?this.velocity.x**2+this.velocity.z**2<this.speedTranslate:this.velocity.lengthSq()<this.speedTranslate)?(this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.onObject&&(this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"))):(this.dispatchStopEvent("idle"),this.onObject&&(this.dispatchStopEvent("jump"),this.movementState.run?(this.dispatchStopEvent("move"),this.dispatchStartEvent("run")):(this.dispatchStopEvent("run"),this.dispatchStartEvent("move"))));let a=bSe.copy(this.velocity);if(this.orientMode!=="none"&&this.isFirstPerson===!1){let s=ia.copy(a);s.y=0,a.set(0,a.y,s.length()*(this.forwardDir==="+z"?1:-1))}if(this.directionXZ.manhattanLength()>0&&this.orientMode!=="none"&&this.isFirstPerson===!1)if(this.orientWith==="camera"&&this.path.length<=1){let s=Fo;this.camera.getWorldDirection(s);let l=Ud.copy(Ns).multiplyScalar(s.dot(Ns));s.sub(l);let c=ia.copy(this.directionXZ);c.x*=-1,this.rot.y=s.angleTo(c)*(s.cross(c).y>0?-1:1)+this.rotationAccumWhenOrientWithCamera}else this.rot.y=(this.path.length>1?0:this.euler.y)+Math.atan2(-this.directionXZ.z,this.directionXZ.x)+Math.PI/2*(this.forwardDir==="+z"?1:-1);if(El.setFromVector3(this.rot),this.moveMode==="walk"&&(El.x=0),a.applyEuler(El),o&&(Dc.setFromUnitVectors(Ns,this.groundNormal),a.applyQuaternion(Dc)),n){let s=El.set(0,this.vrEulerYOffset*v9,0);n.applyEuler(s),a.x+=n.x,a.z+=n.z,this.nonColliderPosOffset.elements[13]+=n.y*i}if(this.usePhysics===!0){let s=ia;this.pushedVelocity.set(0,0,0);for(let l of this.sharedGameControlGlobals.entitiesWithTransformAnim){let c=Ud.setFromMatrixPosition(l.matrixWorld).sub(l.prevT).divideScalar(i).divideScalar(this.pixelsPerMeter),d=l.rigidBody.collider(0).castCollider(c,this.object.rigidBody.collider(0),Fo.copy(a).divideScalar(this.pixelsPerMeter),i,!1);c.multiplyScalar(this.pixelsPerMeter);let u=yn.is(l)?l:l.object;if(d!==null&&this.lastHitObj!==u){let h;l instanceof yo&&(h=l);let p=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(p)for(let m of p)m.data.target==="character"&&(m.dispatch(h),u.dispatchEvent(SA));this.lastHitObj=u}if(d!==null){this.pushedVelocity.copy(c),s.copy(d.normal1).applyQuaternion(l.quaternion);break}}if(this.pushedVelocity.manhattanLength()!==0){let l=s.dot(a);l<0&&a.addScaledVector(s,-l),a.add(this.pushedVelocity)}else a.add(this.groundVelocity)}if(this.rotDirection.y=Number(this.movementState.rotPosY)-Number(this.movementState.rotNegY),this.rotDirection.x=Number(this.movementState.rotPosX)-Number(this.movementState.rotNegX),this.rotDirection.normalize(),this.rotationMode==="normal"&&(this.movementState.rotPosX||this.movementState.rotNegX)||this.rotationMode==="steer"&&(this.movementState.rotPosX||this.movementState.rotNegX)&&(this.movementState.movePosZ||this.movementState.moveNegZ||this.moveMode==="walk")?this.rotVelocityStick.x=-this.rotDirection.x*this.speedOrbit*this.rotForce:this.rotVelocityStick.x=0,this.rotationMode==="normal"&&(this.movementState.rotPosY||this.movementState.rotNegY)||this.rotationMode==="steer"&&(this.movementState.rotPosY||this.movementState.rotNegY)&&(this.movementState.movePosZ||this.movementState.moveNegZ)?this.rotVelocityStick.y=-this.rotDirection.y*this.speedOrbit*this.rotForce:this.rotVelocityStick.y=0,this.rotVelocityTarget.subVectors(this.eulerDelta.divideScalar(i),this.rotVelocityStick),this.rotVelocityTarget.manhattanLength()===0?this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotEnd)**r):this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotStart)**r),this.euler.x+=this.rotVelocity.x*i,this.euler.y+=this.rotVelocity.y*i+this.groundYRotation,this.rotVelocityTarget.y===0&&this.directionXZ.manhattanLength()===0?this.rotationAccumWhenOrientWithCamera=0:(this.cameraFollow===!1||this.cameraYAxis==="Locked")&&(this.rotationAccumWhenOrientWithCamera+=this.rotVelocity.y*i),this.isFirstPerson===!1&&this.orientMode!=="none"&&this.directionXZ.manhattanLength()>0){if(this.orientMode==="radial"){this.objectToCamXZ.copy(this.objectToCamXZ0).applyAxisAngle(Ns,this.euler.y-this.euler0.y);let s=ia.copy(this.objectToCamXZ).normalize(),l=Ud.copy(a).multiplyScalar(i);l.y=0;let c=l.sub(Fo.copy(s).multiplyScalar(l.dot(s))).cross(s).y;this.euler.y-=Math.atan2(c,this.objectToCamXZ.length())}}else this.rot.y+=this.rotVelocity.y*i+this.groundYRotation,this.rotVelocityTarget.y!==0&&(this.cameraFollow===!1||this.cameraYAxis==="Locked")&&(this.euler.y=this.rot.y);if(this.cameraFollow===!0&&(this.moveMode==="walk"?this.cameraXAxis==="Limit"?this.euler.x=et.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):this.euler.x=et.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset,this.PI_2+this.cameraPolarOffset):this.cameraXAxis==="Limit"&&(this.euler.x=et.clamp(this.euler.x,-this.PI_2,this.PI_2))),this.moveMode==="fly"?this.rot.x=this.euler.x:this.isFirstPerson&&(t?(El.copy(t),El.y=0):(El.copy(this.euler),El.y=0),this.nonColliderRotOffset.makeRotationFromEuler(El)),t&&(this.moveMode==="walk"?(this.rot.y=t.y,this.rot.x=0,this.rot.z=0):this.rot.setFromEuler(t),this.rot.y+=this.vrEulerYOffset*v9),Fs.setFromAxisAngle(CSe,this.rot.x),Dc.setFromAxisAngle(Ns,this.rot.y),Dc.multiply(Fs),Fs.setFromAxisAngle(MSe,this.rot.z),Dc.multiply(Fs),this.quaternion.copy(Dc),this.objectRealQuat.multiplyQuaternions(this.quaternion,this.objXZQuat),this.colliderWorldQuat.copy(this.objectRealQuat).multiply(this.collider.rotation),this.collisionEnabled)if(this.usePhysics){let s=ia.copy(a).multiplyScalar(i/this.pixelsPerMeter),l=null;this.didHit=!1;let c=new L;for(let d=0;d<5;d++){let u=s.length(),h=Ud.copy(s).normalize();if(l=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(c),this.colliderWorldQuat,h,this.object.rigidBody?.collider(0).shape,u,!1,24,void 0,void 0,this.object.rigidBody),l!==null){this.didHit=!0;let p=this.sharedGameControlGlobals.colliderToEntity.get(l.collider.handle);if(p!==this.lastHitObj&&d===0){this.lastHitObj=p;let b=this.sharedGameControlGlobals.entityToCollisionEvents[p?.uuid];if(b){for(let _ of b)if(_.data.target==="character"){let C=(this.sharedGameControlGlobals.rapierWorld?.getCollider(l.collider.handle))._parent,M;if(p.cloner){for(let P of p.cloner.children)if(P.rigidBody===C){M=P;break}}_.dispatch(M),p.dispatchEvent(SA)}}}let m=h9.set(l.normal2.x,l.normal2.y,l.normal2.z).applyQuaternion(this.colliderWorldQuat),g=p9.copy(h).multiplyScalar(l.toi).dot(m),v=l.toi;if(v===0&&(this.position.y+=this.offset*this.pixelsPerMeter),g>this.offset&&(v=l.toi*(g-this.offset)/g,c.addScaledVector(h,v)),s.copy(h).multiplyScalar(u-v),Math.acos(-m.y)>this.slopeThresh){let b=this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(c),_=Ud.copy(l.witness2).applyQuaternion(this.colliderWorldQuat);_.y=0;let C=b.add(_);C.y+=this.stepThresh;let M=this.sharedGameControlGlobals.rapierWorld.castShape(C,this.colliderWorldQuat,s,this.object.rigidBody?.collider(0).shape,1,!1,24,void 0,void 0,this.object.rigidBody);M!==null&&M.toi===0&&(m.y=0,m.normalize())}s.addScaledVector(m,-s.dot(m))}else{d===0&&this.directionXZ.manhattanLength()!==0&&(this.lastHitObj=null),c.add(s);break}}this.position.addScaledVector(c,this.pixelsPerMeter),this.object.rigidBody?.setTranslation(Fo.copy(this.position).divideScalar(this.pixelsPerMeter),!0),this.object.rigidBody?.setRotation(Fs.copy(this.quaternion).premultiply(this.groundTilt).multiply(this.objXZQuat),!0)}else{let s=this.onObject?1:5,l=a.multiplyScalar(i/s);for(let c=0;c<s;c++)this.position.add(l),this.collisionAdjustment(i/s)}else this.position.addScaledVector(a,i);if(this.moveMode==="walk"&&this.onObject&&(this.velocityTarget.y=0,this.velocity.y=0),this.quaternion.premultiply(this.groundTilt).multiply(this.objXZQuat),this.object.matrix.compose(this.position,this.quaternion,this.scale),this.object.matrixWorldNeedsUpdate=!0,this.object.matrix.multiply(this.nonColliderPosOffset).multiply(this.nonColliderRotOffset),this.quaternion.premultiply(this.groundTiltInv).multiply(this.objXZQuatInv),this.cameraFollow===!0){this.updateFollowArms();let s=this.objectToTarget.add(this.position),l=this.targetToCamera.add(s);f3.lookAt(l,s,Ns).setPosition(l),f3.decompose(this.targetPos,this.targetQuat,Fo),this.camera.quaternion.slerp(this.targetQuat,1-(1-this.lerpFactorRotCamera)**r),this.camera.position.lerp(this.targetPos,1-(1-this.lerpFactorPosCamera)**r),this.camera.updateMatrix(),this.camera.updateMatrixWorld(),this.cameraYAxis==="Limit"&&this.orientMode==="cartesian"&&(this.euler.y=et.clamp(this.euler.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel)),this.euler.x=et.clamp(this.euler.x,-this.PI_2+(this.cameraPolarOffset<0?this.cameraPolarOffset:0),this.PI_2+(this.cameraPolarOffset>0?this.cameraPolarOffset:0))}return this.eulerDelta.set(0,0,0),this.object.dispatchEvent(ESe),this.path.length<2&&this.lastPosition.distanceToSquared(this.position)<this.threshEndTranslate&&Math.abs(this.rotVelocity.x)<this.threshEndRotVel&&Math.abs(this.rotVelocity.y)<this.threshEndRotVel&&(this.camera===void 0||this.isFirstPerson||this.lastCameraPosition.distanceToSquared(this.camera.position)<this.threshEndTranslate&&8*(1-this.lastCameraQuaternion.dot(this.camera.quaternion))<this.threshEndRotate)&&(this.moveMode==="fly"||this.onObject===!0||this.collisionEnabled===!1)&&(this.navMeshPathDest===null||this.navMeshPathDest.material.opacity<-.04*this.navMeshPathDest?.material?.userData.opacity0)?!1:(this.camera&&(this.lastCameraPosition.copy(this.camera.position),this.lastCameraQuaternion.copy(this.camera.quaternion)),this.lastPosition.copy(this.position),this.object.dispatchEvent(SSe),!0)}updateFollowArms(){this.objectToTarget.copy(this.objectToTarget0),this.targetToCamera.copy(this.targetToCamera0);let e=Fs.setFromAxisAngle(Ns,this.cameraYAxis==="Limit"&&this.orientMode!=="radial"?et.clamp(this.euler.y-this.euler0.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel):this.euler.y-this.euler0.y);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&this.objectToTarget.applyQuaternion(e);let t;this.cameraXAxis==="Limit"?t=et.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):t=et.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset+1e-6,this.PI_2+this.cameraPolarOffset-1e-6);let n=Fo.copy(this.cameraPolarAxis0);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&n.applyQuaternion(e);let i=Dc.setFromAxisAngle(n,t);this.cameraYAxis!=="Locked"&&this.targetToCamera.applyQuaternion(e),this.cameraXAxis!=="Locked"&&this.targetToCamera.applyQuaternion(i)}groundTiltAdjustment(e){Ns.angleTo(e)*180/Math.PI<15||Ns.angleTo(e)*180/Math.PI>85?Fs.identity():Fs.setFromUnitVectors(Ns,e),this.groundTilt.slerp(Fs,.06),this.groundTiltInv.copy(this.groundTilt).invert()}collisionAdjustment(e){let t=p9.set(0,0,0);this.object.matrix.compose(this.position,this.quaternion,this.scale);let n=f3.multiplyMatrices(this.object.matrix,this.objXZRotMat).multiply(this.collider.matrix).decompose(Fo,Fs,ia).compose(Fo,Fs,f9);this.sharedGameControlGlobals.entitiesWithTransformAnim.forEach(r=>{if(r===this.object||r.isDescendantOf(this.object))return;ls.makeEmpty(),r.updateMatrixWorldSVD();let o=r.matrixWorldRigid,a=m9.copy(o).invert(),s=_Se.copy(m9).multiply(n);Pr.copy(this.collider.segment),Pr.start.applyMatrix4(s),Pr.end.applyMatrix4(s);let l=h9.copy(this.position).applyMatrix4(a);ls.expandByPoint(Pr.start),ls.expandByPoint(Pr.end),ls.min.addScalar(-this.collider.radius),ls.max.addScalar(this.collider.radius),r.bvhGeometry.boundsTree.shapecast({traverseBoundsOrder(c){return c.distanceToPoint(Pr.end)},intersectsBounds:c=>c.intersectsBox(ls),intersectsTriangle:c=>{let d=Fo,u=ia,h=c.closestPointToSegment(Pr,d,u);if(h<this.collider.radius){let p=this.collider.radius-h,m=u.sub(d).normalize(),g=Ud.copy(l);g.addScaledVector(m,p);let v=g.applyMatrix4(o).sub(this.position);t.add(v),Pr.start.addScaledVector(m,p),Pr.end.addScaledVector(m,p)}}})}),ls.makeEmpty(),Pr.copy(this.collider.segment),Pr.start.applyMatrix4(n),Pr.end.applyMatrix4(n),ls.expandByPoint(Pr.start),ls.expandByPoint(Pr.end),ls.min.addScalar(-this.collider.radius),ls.max.addScalar(this.collider.radius),this.sharedGameControlGlobals.staticMeshBVH?.shapecast({traverseBoundsOrder(r){return r.distanceToPoint(Pr.end)},intersectsBounds:r=>r.intersectsBox(ls),intersectsTriangle:r=>{let o=Fo,a=ia,s=r.closestPointToSegment(Pr,o,a);if(s<this.collider.radius){let l=this.collider.radius-s,c=a.sub(o).normalize();this.alignToGround&&this.groundTiltAdjustment(c),t.addScaledVector(c,l),Pr.start.addScaledVector(c,l),Pr.end.addScaledVector(c,l)}}}),this.onObject=Math.abs(t.y)>Math.abs(e*this.velocity.y*.25),this.onObject&&this.dispatchStopEvent("jump");let i=Math.max(0,t.length()-1e-5);t.normalize().multiplyScalar(i),this.position.add(t)}},MG=PA;MG.isLocked=!1;var DSe=id(L9());function Vc(e,t){let n=new pt;if(!e.getAttribute("position"))return n.setAttribute("position",new Je([],3)),n.setIndex([]),n;let{positions:i,triIndices:r}=Mw(e.getAttribute("position"),e.getIndex());return n.setAttribute("position",new Je(i,3)),n.setIndex(r),t&&n.applyMatrix4(t),n}var ASe=new Be,TSe=new Be,Dl=[[0,0,0],[0,0,0],[0,0,0]];function wG(e){let t=e.elements;Dl[0][0]=t[0],Dl[0][1]=t[4],Dl[0][2]=t[8],Dl[1][0]=t[1],Dl[1][1]=t[5],Dl[1][2]=t[9],Dl[2][0]=t[2],Dl[2][1]=t[6],Dl[2][2]=t[10];let{u:n,v:i}=(0,DSe.SVD)(Dl),r=ASe.set(n[0][0],n[0][1],n[0][2],0,n[1][0],n[1][1],n[1][2],0,n[2][0],n[2][1],n[2][2],0,0,0,0,1),o=TSe.set(i[0][0],i[0][1],i[0][2],0,i[1][0],i[1][1],i[1][2],0,i[2][0],i[2][1],i[2][2],0,0,0,0,1);return r.multiply(o.transpose())}var ISe=class extends OV{constructor(){super(),this.layers.enable(3),this.layers.enable(8)}setFromCamera(e,t){t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):t.isPerspectiveCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):console.error("Raycaster: Unsupported camera type.")}intersectVisibleObjects(e,t=!0,n=[]){return e.forEach(i=>{i.visible&&this.intersectObject(i,t,n)}),n}createRaycastLineHelper(){let e=new pu({color:65280,linewidth:10}),t=new L(this.ray.origin.x,this.ray.origin.y,this.ray.origin.z),n=new L(this.ray.direction.x,this.ray.direction.y,this.ray.direction.z),i=this.camera.far-this.camera.near,r=new L().addVectors(t,n.multiplyScalar(i)),o=new pt;return o.setFromPoints([t,r]),new sM(o,e)}},xG=e=>e instanceof Tf||e instanceof If;function RSe(e,t){return e.distance-t.distance}function PG(e,t,n){if(!(!Bc(t)||!t.visible)){Us(t)&&t.raycast(e,n);for(let i of t.children)PG(e,i,n)}}function eM(e,t,n,i=!1){if(!i&&!n.some(o=>tw(e,o)!==void 0))return[];let r=[];return t.children.forEach(o=>PG(e,o,r)),r.sort(RSe),r}function OA(e){let t=[];if(e.length){let n=e[0].object;Bc(n)&&t.push(n);let i=n.parent;for(;i;)xG(i)&&t.push(i),i=i.parent}return t}function Uc(e,t,n,i){let r=e.frame;if(r){let o=t[0]*r.width,a=(1-t[1])*r.height;for(let s of n){let l=s===r.uuid?r:r.find(s);if(l?.intersects(o,a))return i(l),!0}}return!1}function tw(e,t){if(Us(t)){if(t.visible){let n=[];return t.raycast(e,n),n.length?n[0]:void 0}}else if(xG(t))return OG(e,t)}function OG(e,t){if(!(!Bc(t)||!t.visible)){if(Us(t)){let n=[];if(t.raycast(e,n),n.length)return n[0]}for(let n of t.children){let i=OG(e,n);if(i)return i}}}function LSe(e,t,n){return{x:(e-(n.left+window.scrollX))/n.width*2-1,y:-((t-(n.top+window.scrollY))/n.height)*2+1}}function kSe(e,t,n){return{x:(e-(n.left+window.scrollX))/n.width,y:1-(t-(n.top+window.scrollY))/n.height}}var FSe=class{constructor(e,t,n,i,r,o,a,s){this.renderer=e,this.publish=t,this.scene=n,this.getCamera=i,this.sharedAssets=r,this.requestRender=o,this.isExport=a,this.frame=s,this.raycaster=new ISe,this._useWindowEvents=!1,this.pointerWorld={x:0,y:0},this.pointerScreen={x:0,y:0},this._useWindowEvents=t.mouseEventTarget==="window",this.domElement=e.domElement,this.eventElement=this._useWindowEvents?window:e.domElement,this._domRect=this.domElement.getBoundingClientRect()}get stopRaycast(){return this.publish.stopRaycast}get page(){return this.scene.activePage}set useWindowEvents(e){this._useWindowEvents=e,this.eventElement=e?window:this.renderer.domElement}get useWindowEvents(){return this._useWindowEvents}set domRect(e){this._domRect=e}get domRect(){return this._domRect}updateRaycaster(e){let{pageX:t,pageY:n}=e.touches?.length>0?e.touches[0]:e;this.pointerWorld=LSe(t,n,this._domRect),this.pointerScreen=kSe(t,n,this._domRect),this.raycaster.setFromCamera(this.pointerWorld,this.getCamera())}},Js=class{constructor(e){this.eventContext=e,this.domEventsNeeded=new Set,this.hasVideoAction=!1}connect(){}disconnect(){}},cI=[["start","Start"],["keyDown","KeyDown"],["keyUp","KeyUp"],["mouseDown","MouseDown"],["mouseUp","MouseUp"],["mouseHover","MouseHover"],["collision","Collision"],["lookAt","LookAt"],["follow","Follow"],["scroll","Scroll"]],SG=e=>cI.find(([t,n])=>n===e)?.[0],Ay=e=>cI.find(([t])=>t===e)?.[1],NSe=(e,t)=>{let n=SG(e);if(n){let i=new CustomEvent(n,{bubbles:!0});return Object.defineProperty(i,"target",{writable:!1,value:t}),i}},zSe=class extends Js{constructor(){super(...arguments),this.objectsPerEvents=new Map,this.splineEvents={},this.onBeginEvent=e=>{if(!e.eventName||!e.target||e.eventName==="Scroll")return;let t=this.splineEvents[SG(e.eventName)]?.[e.target.uuid];if(!t)return;e.eventName==="Scroll"&&e.deltaY!==void 0&&Object.assign(t,{deltaY:e.deltaY});let{domElement:n}=this.eventContext;n.dispatchEvent(t)}}connect(){let{page:e}=this.eventContext;e.traverseEntity(t=>{if(t.data?.events.length){for(let[n,i]of cI)if(t.data.events.some(r=>r.data.type===i&&!r.data.disabled)){this.objectsPerEvents.has(n)?this.objectsPerEvents.get(n)?.push(t):this.objectsPerEvents.set(n,[t]);let r={id:t.uuid,name:t.name},o=NSe(i,r),a=this.splineEvents[n];a?a[t.uuid]=o:this.splineEvents[n]={[t.uuid]:o}}}}),this.objectsPerEvents.forEach(t=>{t.forEach(n=>{n.addEventListener("beginEvent",this.onBeginEvent)})})}disconnect(){this.objectsPerEvents.forEach(e=>{e.forEach(t=>{t.removeEventListener("beginEvent",this.onBeginEvent)})})}},BSe=class{constructor(e,t,n,i,r,o){if(this.id=e,this.data=t,this.object=n,this.entered=!1,this.alreadyPlayedNonTogglingActions=new Set,(t.type==="KeyDown"||t.type==="KeyUp"||t.type==="KeyPress")&&!t.key)throw new Error("Missing property");this.actions=Go(t,t.actions,i,r,o,n)}disconnect(){Rr(this.actions)}dispatchHeld(e){this.actions.Create.forEach(t=>{e&&t.dispatchThrottled.cancel(),t.dispatchThrottled()})}dispatch(e=!1){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this?(t.object.currentTransitionEvent=this,t.init()):t.data.runMode==="Once"&&this.alreadyPlayedNonTogglingActions.add(t)}),this.data.type==="MousePress"||this.data.type==="KeyPress"?this.entered||(this.entered=!0,this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatchStart())):(this.actions.Transition.some(t=>t.playing&&t.data.runMode!=="Toggle")||this.actions.Transition.forEach(t=>{this.alreadyPlayedNonTogglingActions.has(t)===!1&&(t.data.runMode==="Toggle"?t.toggle():t.play())}),this.actions.SwitchCamera.some(t=>t.playing&&t.data.runMode!=="Toggle")||this.actions.SwitchCamera.forEach(t=>{t.data.runMode==="Toggle"?t.toggle():t.play()}),this.actions.Animation.forEach(t=>{t.data.runMode==="Toggle"?t.toggle():t.play()})),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),e===!1&&this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}dispatchRelease(){this.entered&&(this.entered=!1,this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.Particles.forEach(e=>e.reverseFromCurrent()),this.actions.Animation.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()),this.actions.Create.forEach(e=>e.dispatchStop()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},VSe=class extends Js{constructor(e,t,n){super(e),this.eventManager=t,this.useForRaycastProperty=n,this.objectsPerTypes={MouseDown:[],MouseUp:[],MousePress:[],KeyDown:[],KeyUp:[],KeyPress:[]},this.canvasMouseEvents=[],this.eventsPerObjects={MouseDown:{},MouseUp:{},MousePress:{},KeyDown:{},KeyUp:{},KeyPress:{}},this.heldKeys={},this.heldKeysPress={},this._prevObjects=[],this.sceneInterects=null,this.onCanvasRaycast=i=>{if(this.useForRaycastProperty===!0&&this.sceneInterects===null){this.eventContext.updateRaycaster(i);let{raycaster:r,page:o}=this.eventContext,a=eM(r,o,[],!0);this.sceneInterects=a,a.length&&(this.eventContext.sharedAssets.raycastProperty={x:a[0].point.x,y:a[0].point.y,z:a[0].point.z,objX:a[0].object.matrixWorld.elements[12],objY:a[0].object.matrixWorld.elements[13],objZ:a[0].object.matrixWorld.elements[14]})}},this.onCanvasMouseDown=i=>{(i.target===this.eventContext.domElement||i.target.tagName==="SPLINE-VIEWER")&&this.canvasMouseEvents.forEach(r=>{(r.data.type==="MouseDown"||r.data.type==="MousePress")&&(this.onCanvasRaycast(i),r.dispatch())})},this.onCanvasMouseUp=i=>{(i.target===this.eventContext.domElement||i.target.tagName==="SPLINE-VIEWER")&&this.canvasMouseEvents.forEach(r=>{r.data.type==="MouseUp"?(this.onCanvasRaycast(i),r.dispatch()):r.data.type==="MousePress"&&r.dispatchRelease()})},this.onMouseDown=i=>{xt.length>1||(this.eventContext.updateRaycaster(i),this.handleMouseEvent("MouseDown"))},this.onMouseUp=i=>{xt.length>1||(this.eventContext.updateRaycaster(i),this.handleMouseEvent("MouseUp"))},this.onMousePressDown=i=>{xt.length>1||(this.eventContext.updateRaycaster(i),this.handleMousePressEvent())},this.onMousePressRelease=i=>{xt.length>1||(this.eventContext.updateRaycaster(i),this.handleMousePressEvent(!0))},this.onKeyDown=i=>{this.heldKeys[i.key]||(this.handleKeyEvent(i,"KeyDown"),this.handleKeyEventHeld(i,"KeyDown",!0)),this.heldKeys[i.key]=!0},this.onKeyUp=i=>{this.handleKeyEvent(i,"KeyUp"),this.handleKeyEventHeld(i,"KeyUp",!0)},this.onKeyPressDown=i=>{this.heldKeysPress[i.key]?this.handleKeyEventHeld(i,"KeyPress"):(this.handleKeyEvent(i,"KeyPress"),this.handleKeyEventHeld(i,"KeyPress",!0)),this.heldKeysPress[i.key]=!0},this.onKeyPressUp=i=>{this.handleKeyEvent(i,"KeyPress",!0)},this.releaseHeldKey=i=>{delete this.heldKeys[i.key]},this.releaseHeldKeyPress=i=>{delete this.heldKeysPress[i.key]},this._onUserEvent=({eventName:i,target:r,reverse:o})=>{if(!i||!r)return;let a=Ay(i);a&&(a==="MouseDown"||a==="MouseUp"||a==="MousePress"?(r.dispatchEvent({type:"beginEvent",eventName:a}),this.eventsPerObjects[a]?.[r.uuid]?.forEach(s=>{s.dispatchUserEvent(o)})):(a==="KeyDown"||a==="KeyUp"||a==="KeyPress")&&(r.dispatchEvent({type:"beginEvent",eventName:a}),this.eventsPerObjects[a]?.[r.uuid]?.forEach(s=>{s.dispatchUserEvent()})))}}connect(){let{page:e,sharedAssets:t,domElement:n}=this.eventContext,i=(r,o)=>{if(!r.data?.events.length)return;let a=["MouseDown","MouseUp","MousePress","KeyDown","KeyUp","KeyPress"];for(let s of a){let l=this.eventsPerObjects[s];r.data.events.filter(({data:c})=>c.type===s&&c.disabled!==!0).forEach(({id:c,data:d})=>{try{let u=new BSe(c,d,r,e,t,this.eventManager);u.actions.Video.length&&(this.hasVideoAction=!0),(d.type==="MouseDown"||d.type==="MouseUp"||d.type==="MousePress")&&(d.mode==="Canvas"||d.mode==="Window")?this.canvasMouseEvents.push(u):l[r.uuid]?l[r.uuid].some(h=>h.id===u.id)||l[r.uuid].push(u):l[r.uuid]=[u]}catch{}}),l[r.uuid]?.length&&this.objectsPerTypes[s].push(r instanceof Lr&&(s==="MouseDown"||s==="MouseUp"||s==="MousePress")?o:r)}};e.traverseEntity(r=>{(r instanceof vo||r instanceof Er)&&r.frame?.traverse(o=>{i(o,r)}),i(r)}),this.heldKeys={},this.heldKeysPress={},this.domEventsNeeded.clear(),n.addEventListener("pointerdown",this.onCanvasMouseDown),n.addEventListener("pointerup",this.onCanvasMouseUp),(this.objectsPerTypes.MouseDown?.length||this.useForRaycastProperty)&&(this.domEventsNeeded.add("pointerdown"),n.addEventListener("pointerdown",this.onMouseDown)),this.objectsPerTypes.MouseUp?.length&&(this.domEventsNeeded.add("pointerup"),n.addEventListener("pointerup",this.onMouseUp)),this.objectsPerTypes.MousePress?.length&&(this.domEventsNeeded.add("pointerdown"),n.addEventListener("pointerdown",this.onMousePressDown),this.domEventsNeeded.add("pointerup"),n.addEventListener("pointerup",this.onMousePressRelease)),this.objectsPerTypes.KeyDown?.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.releaseHeldKey)),this.objectsPerTypes.KeyUp?.length&&(this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyUp)),this.objectsPerTypes.KeyPress?.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyPressDown),document.addEventListener("keyup",this.releaseHeldKeyPress),this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyPressUp)),Object.entries(this.objectsPerTypes).forEach(([r,o])=>{o.forEach(a=>{a.addEventListener("userEvent",this._onUserEvent)})})}disconnect(){let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),this.heldKeys={},this.heldKeysPress={},e.removeEventListener("pointerdown",this.onCanvasMouseDown),e.removeEventListener("pointerup",this.onCanvasMouseUp),e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerdown",this.onMousePressDown),e.removeEventListener("pointerup",this.onMouseUp),e.removeEventListener("pointerup",this.onMousePressRelease),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("keydown",this.onKeyPressDown),document.removeEventListener("keyup",this.onKeyPressUp),document.removeEventListener("keyup",this.releaseHeldKey),Object.values(this.eventsPerObjects).forEach(t=>{Object.values(t).forEach(n=>{n.forEach(i=>{i.disconnect()})})}),this.canvasMouseEvents.forEach(t=>{t.disconnect()}),Object.entries(this.objectsPerTypes).forEach(([t,n])=>{n.forEach(i=>{i.removeEventListener("userEvent",this._onUserEvent)})})}handleMouseEvent(e){let{stopRaycast:t,raycaster:n,page:i,pointerScreen:r}=this.eventContext,o=this.objectsPerTypes[e],a=o.filter(s=>!(s instanceof Lr));if(!(!o.length&&!this.useForRaycastProperty)&&!(i.uiCanvas&&Uc(i,[r.x,r.y],Object.keys(this.eventsPerObjects[e]),s=>{this.handleObjectMouseEventDispatch(s,e)}))){if(t||this.useForRaycastProperty){let s;if(this.sceneInterects===null?s=eM(n,i,a,this.useForRaycastProperty):(s=this.sceneInterects,this.sceneInterects=null),this.useForRaycastProperty&&s.length&&(this.eventContext.sharedAssets.raycastProperty={x:s[0].point.x,y:s[0].point.y,z:s[0].point.z,objX:s[0].object.matrixWorld.elements[12],objY:s[0].object.matrixWorld.elements[13],objZ:s[0].object.matrixWorld.elements[14]}),t){let l=[s[0]?.uv?.x??0,s[0]?.uv?.y??0];OA(s).forEach(c=>{c instanceof vo&&Uc(c,l,Object.keys(this.eventsPerObjects[e]),d=>{this.handleObjectMouseEventDispatch(d,e)}),this.eventsPerObjects[e][c.uuid]&&this.handleObjectMouseEventDispatch(c,e)})}}t||a.forEach(s=>{let l=tw(n,s);l&&(this.handleObjectMouseEventDispatch(s,e),s instanceof vo&&Uc(s,[l?.uv?.x??0,l?.uv?.y??0],Object.keys(this.eventsPerObjects[e]),c=>{this.handleObjectMouseEventDispatch(c,e)}))})}}handleMousePressEvent(e=!1){let t="MousePress",n=this.objectsPerTypes[t],i=n.filter(o=>!(o instanceof Lr)),r=[];if(n.length){if(!e){let{stopRaycast:o,raycaster:a,page:s,pointerScreen:l}=this.eventContext,c=!1;if(s.uiCanvas&&(c=Uc(s,[l.x,l.y],Object.keys(this.eventsPerObjects[t]),d=>{r.push(d)})),o&&!c){let d=eM(a,s,i);r=OA(d),d.forEach(u=>{u.object instanceof vo&&Uc(u.object,[u?.uv?.x??0,u?.uv?.y??0],Object.keys(this.eventsPerObjects[t]),h=>{r.push(h)})})}else i.forEach(d=>{let u=tw(a,d);u&&(r.push(d),d instanceof vo&&Uc(d,[u?.uv?.x??0,u?.uv?.y??0],Object.keys(this.eventsPerObjects[t]),h=>{r.push(h)}))})}this._prevObjects.length&&this._prevObjects.forEach(o=>{r.includes(o)||this.handleObjectMouseEventDispatchRelease(o,t)}),r.length&&r.forEach(o=>{this.handleObjectMouseEventDispatch(o,t)}),this._prevObjects=r}}handleObjectMouseEventDispatch(e,t){e.dispatchEvent({type:"beginEvent",eventName:t}),this.eventsPerObjects[t]?.[e.uuid]?.forEach(n=>{n.dispatch()})}handleObjectMouseEventDispatchRelease(e,t){e.dispatchEvent({type:"beginEvent",eventName:t}),this.eventsPerObjects[t]?.[e.uuid]?.forEach(n=>{n.dispatchRelease()})}handleKeyEvent(e,t,n=!1){this.objectsPerTypes[t].forEach(i=>{let r=this.eventsPerObjects[t][i.uuid];r.some(({data:o})=>"key"in o&&o.key===e.key)&&i.dispatchEvent({type:"beginEvent",eventName:t}),r.forEach(o=>{"key"in o.data&&o.data.key===e.key&&(n?o.dispatchRelease():o.dispatch(!0))})})}handleKeyEventHeld(e,t,n=!1){this.objectsPerTypes[t].forEach(i=>{this.eventsPerObjects[t][i.uuid].forEach(r=>{"key"in r.data&&r.data.key===e.key&&r.dispatchHeld(n)})})}},USe=new L,jSe=new L,EG=class{constructor(e,t,n,i,r){this.actionsIn=Go(e,e.inActions,n,i,r,t),this.actionsOut=Go(e,e.outActions,n,i,r,t)}disconnect(){Rr(this.actionsIn),Rr(this.actionsOut)}},HSe=class extends EG{constructor(e,t,n,i,r,o){super(t,n,i,r,o),this.id=e,this.data=t,this.object=n,this.stage="out",this.objects=[],this.onUpdateMatrixWorld=()=>{for(let h of this.objects)if(!h.visible)return;let c=USe.setFromMatrixPosition(this.objects[0].matrixWorld),d=jSe.setFromMatrixPosition(this.objects[1].matrixWorld),u=c.distanceTo(d)<=this.distance?"in":"out";if(this.stage!==u){this.stage=u;let h=u==="in"?this.actionsIn:this.actionsOut;h.Audio.forEach(p=>p.dispatchConditional()),h.Particles.forEach(p=>p.dispatchConditional()),h.Video.forEach(p=>p.dispatchConditional()),h.Link.forEach(p=>p.dispatch()),h.Create.forEach(p=>p.dispatch()),h.Destroy.forEach(p=>p.dispatch()),h.Reset.forEach(p=>p.dispatch()),h.Transition.forEach(p=>{p.object.currentTransitionEvent!==this&&(p.object.currentTransitionEvent=this),p.init()}),h.Transition.forEach(p=>p.play()),h.Animation.forEach(p=>p.play()),h.SwitchCamera.forEach(p=>p.play()),h.SceneTransition.forEach(p=>p.dispatch()),h.SetVariable.forEach(p=>p.checkConditions()),h.SetVariable.forEach(p=>p.dispatch()),h.DynamicVariablePlay.forEach(p=>p.dispatch())}};let{distance:a,fromObject:s,toObject:l}=t.condition;this.distance=a;for(let c of[s,l]){if(!c)throw new Error("Missing property");let d=i.find(c);if(!d)throw new Error("Missing property");this.objects.push(d)}}connect(){window.setTimeout(()=>{this.objects.forEach(e=>{e.addEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)}),this.onUpdateMatrixWorld()},0)}disconnect(){super.disconnect(),this.stage="out",this.objects.forEach(e=>{e.removeEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)})}},GSe=class extends EG{constructor(e,t,n,i,r,o){super(t,n,i,r,o),this.id=e,this.data=t,this.object=n,this.onBegin=({target:l,state:c})=>{this.toState!==c&&(this.actionsOut.Audio.forEach(d=>d.dispatchConditional()),this.actionsOut.Particles.forEach(d=>d.dispatchConditional()),this.actionsOut.Video.forEach(d=>d.dispatchConditional()),this.actionsOut.Link.forEach(d=>d.dispatch()),this.actionsOut.Create.forEach(d=>d.dispatch()),this.actionsOut.Destroy.forEach(d=>d.dispatch()),this.actionsOut.Reset.forEach(d=>d.dispatch()),this.actionsIn.Transition.forEach(d=>d.pause()),this.object.currentTransitionEvent=this,this.actionsOut.Transition.forEach(d=>d.play()),this.actionsOut.Animation.forEach(d=>d.play()),this.actionsIn.SwitchCamera.forEach(d=>d.pause()),this.actionsOut.SwitchCamera.forEach(d=>d.play()),this.actionsOut.SceneTransition.forEach(d=>d.dispatch()),this.actionsOut.SetVariable.forEach(d=>d.checkConditions()),this.actionsOut.SetVariable.forEach(d=>d.dispatch()),this.actionsOut.DynamicVariablePlay.forEach(d=>d.dispatch()))},this.onComplete=({target:l,state:c})=>{this.toState===c&&(this.actionsIn.Audio.forEach(d=>d.dispatchConditional()),this.actionsIn.Particles.forEach(d=>d.dispatchConditional()),this.actionsIn.Video.forEach(d=>d.dispatchConditional()),this.actionsIn.Link.forEach(d=>d.dispatch()),this.actionsIn.Create.forEach(d=>d.dispatch()),this.actionsIn.Destroy.forEach(d=>d.dispatch()),this.actionsIn.Reset.forEach(d=>d.dispatch()),this.actionsOut.Transition.forEach(d=>d.pause()),this.actionsOut.Transition.forEach(d=>d.pause()),this.object.currentTransitionEvent=this,this.actionsIn.Transition.forEach(d=>d.play()),this.actionsIn.Animation.forEach(d=>d.play()),this.actionsOut.SwitchCamera.forEach(d=>d.pause()),this.actionsIn.SwitchCamera.forEach(d=>d.play()),this.actionsIn.SceneTransition.forEach(d=>d.dispatch()),this.actionsIn.SetVariable.forEach(d=>d.checkConditions()),this.actionsIn.SetVariable.forEach(d=>d.dispatch()),this.actionsIn.DynamicVariablePlay.forEach(d=>d.dispatch()))};let{condition:a}=t;if(!a.object)throw new Error("Missing property");let s=i.find(a.object)??i.scene.find2D(a.object);if(!s)throw new Error("Missing property");if(this.toObject=s,a.state&&!this.toObject.states?.[a.state])throw new Error("Missing property");this.toState=a.state}connect(){Fh(this.actionsOut).forEach(e=>{this.actionsOut[e]?.length&&this.toObject.addEventListener("beginState",this.onBegin)}),Fh(this.actionsIn).forEach(e=>{this.actionsIn[e]?.length&&this.toObject.addEventListener("completeState",this.onComplete)})}disconnect(){super.disconnect(),Fh(this.actionsOut).forEach(e=>{this.actionsIn[e]?.length&&this.toObject.removeEventListener("beginState",this.onBegin)}),Fh(this.actionsIn).forEach(e=>{this.actionsIn[e]?.length&&this.toObject.removeEventListener("completeState",this.onComplete)})}},WSe=class extends Js{constructor(e,t){super(e),this.eventManager=t,this.eventsPerConditions={Comparison:[],Distance:[],State:[]},this.hasVideoAction=!1}connect(){super.connect();let{page:e,sharedAssets:t}=this.eventContext;e.traverseEntity(n=>{if(n.data?.events.length){for(let{id:i,data:r}of n.data.events)if(!r.disabled&&r.type==="Conditional")try{let o;r.condition.type==="Comparison"||(r.condition.type==="Distance"?o=new HSe(i,r,n,e,t,this.eventManager):r.condition.type==="State"&&(o=new GSe(i,r,n,e,t,this.eventManager))),o&&(this.eventsPerConditions[r.condition.type].push(o),(o.actionsIn.Video.length||o.actionsOut.Video.length)&&(this.hasVideoAction=!0))}catch{}}}),Object.values(this.eventsPerConditions).forEach(n=>n.forEach(i=>i.connect()))}disconnect(){super.disconnect(),Object.values(this.eventsPerConditions).forEach(e=>e.forEach(t=>t.disconnect()))}},yv=new L,jd=new L,xh=new L,y9=new Fa,qSe=.01,Nn=new L,hr=new L,b9=new L,Hh=new Dt,g3=new mr,YSe=new Be,v3=new fr,Km=new L,Al=new L,Jm=.2;function y3(e,t){!t||(t[0]<t[1]&&(e.x=Math.min(Math.max(e.x,t[0]),t[1])),t[2]<t[3]&&(e.y=Math.min(Math.max(e.y,t[2]),t[3])),t[4]<t[5]&&(e.z=Math.min(Math.max(e.z,t[4]),t[5])))}var XSe=function(){let e=new Be;return(t,n,i)=>{let r=t.obj;e.copy(r.hiddenMatrix),r.parent!==null&&e.premultiply(r.parent.matrixWorld),e.invert(),r.position.copy(n),t.reference==="global"&&y3(r.position,t.limits),r.position.applyMatrix4(e),t.reference==="parent"?y3(r.position,t.limits):t.reference==="local"&&(Hh.copy(t.quat0).invert(),r.position.sub(t.position0),r.position.applyQuaternion(Hh),y3(r.position,t.limits),Hh.invert(),r.position.applyQuaternion(Hh),r.position.add(t.position0)),e.multiply(i??r.matrixWorld).decompose(Nn,r.quaternion,hr),r.updateMatrix(),r.hasNonUniformScale&&(r.updateMatrixWorld(),r.updateMatrixWorldSVD()),r instanceof Ho&&Xc(r.parent)&&r.invalidateDownstreamBooleanData(!0)}}(),QSe=class{constructor(e,t,n,i,r,o,a){this.object=e,this.id=t,this.data=n,this.dropDestIds=[],this.activeIdx=null,this.wasDragEventTriggered=!1,this.resetDampingFactor=this.data.resetSpeed===0?1:8/this.data.resetSpeed+1,this.snapDampingFactor=this.data.snapSpeed===0?1:8/this.data.snapSpeed+1,this.actionsDrag=Go(n,n.dragDropActions.drag,i,r,o,this.object),this.actionsDrop=Go(n,n.dragDropActions.drop,i,r,o,this.object);let s=[];this.data.objects.forEach(l=>{let c=i.find(l);!c||c.data.visible!==!1&&(s.push(c),a[c.uuid]&&a[c.uuid].forEach(d=>{let u=i.find(d);!u||u.data.visible!==!1&&s.push(u)}))}),this.data.dropDestinations.forEach(l=>{let c=i.find(l);!c||c.data.visible!==!1&&(this.dropDestIds.push(c.uuid),a[c.uuid]&&a[c.uuid].forEach(d=>{let u=i.find(d);!u||u.data.visible!==!1&&this.dropDestIds.push(u.uuid)}))}),this.dragItems=s.map(l=>(this.data.planeMode==="locked"&&(l.userData.lockedPlane=!0),l.userData.worldPosition0=new L().setFromMatrixPosition(l.matrixWorld),{obj:l,fromPosition:new L().setFromMatrixPosition(l.matrixWorld),pointStart:new L,pointEnd:new L,paused:!0,currentDampingFactor:this.data.dampingFactor,reset:!1,position0:new L().copy(l.position),quat0:new Dt().copy(l.quaternion),snapped:!1,orientationMatrix:new Be,limits:this.data.limits,reference:this.data.referenceFrame}))}get activeDragItem(){return this.activeIdx!==null?this.dragItems[this.activeIdx]:null}dispose(){Rr(this.actionsDrag),Rr(this.actionsDrop),this.dragItems.forEach(e=>{e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart),e.obj.recursiveBBoxNeedsUpdate=!0,e.obj.userData.lockedPlane=void 0,e.obj.position.copy(e.position0),e.obj.quaternion.copy(e.quat0),e.obj.updateMatrix()})}},ZSe=class extends Js{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.lastDropDestination=null,this.dragTimeout=null,this.onPointerDown=n=>{if(xt.length>1)return;this.eventContext.updateRaycaster(n);let{raycaster:i,page:r}=this.eventContext,o=r.raycastWithClones(i);if(this.lastDropDestination=null,o.length===0){this.activeEvent=null;return}for(let a of this.events){let s=0;for(let{obj:l,pointEnd:c,pointStart:d}of a.dragItems){if(l===o[0].object||l===o[0].object.object||yn.is(l)&&l.isAncestorOf(o[0].object.uuid)){if(a.activeIdx=s,a.activeDragItem.reset=!1,a.activeDragItem.currentDampingFactor=a.data.dampingFactor,a.activeDragItem.snapped=!1,a.data.cursor==="hand"&&this.setCursor("grabbing"),this.eventManager.controlsManager.usePhysics){a.activeDragItem.obj.rigidBody&&a.activeDragItem.obj.rigidBody.setBodyType(2,!0);let u=a.activeDragItem.obj;l.hasNonUniformScale&&l.updateMatrixWorldSVD(),(u.hasNonUniformScale?u.matrixWorldRigid:u.matrixWorld).decompose(Nn,Hh,hr),g3.setFromQuaternion(Hh),u.prevR===void 0?(u.prevR=g3.clone(),u.prevT=Nn.clone()):(u.prevR.copy(g3),u.prevT.copy(Nn)),this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.push(a.activeDragItem.obj)}this.calcPlaneIntersectPos(l,d,a.data.plane,a.data.referenceFrame),c.copy(d),(this.eventManager.controlsManager.usePhysics&&l.data.physics?.rigidBody==="dynamic"||a.data.drop===!1||a.data.resetOnSnapFail===!1)&&a.activeDragItem.fromPosition.setFromMatrixPosition(a.activeDragItem.obj.matrixWorld),this.activeEvent=a,this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!1);return}s++}}this.activeEvent=null},this.onPointerMove=n=>{if(xt.length>1)return;this.eventContext.updateRaycaster(n);let{raycaster:i,page:r}=this.eventContext,o=r.raycastWithClones(i);if(xt.length===0){let a=!1;for(let s of this.events){for(let{obj:l}of s.dragItems)if(l===o[0]?.object||l===o[0]?.object?.object||yn.is(l)&&l.isAncestorOf(o[0]?.object.uuid)){switch(a=!0,s.data.cursor){case"hand":this.setCursor("grab");break;case"move":this.setCursor("move");break;default:break}break}if(a)break}a||this.setCursor("default");return}if(this.activeEvent&&this.activeEvent.activeDragItem){let a=this.activeEvent.activeDragItem;a.snapped=!1;let s;if(this.activeEvent.data.drop&&(s=o.filter(l=>a.obj!==l.object&&!a.obj.isAncestorOf(l.object.uuid)&&!(l.object instanceof Tf)&&(this.activeEvent.data.dropOn==="all"||this.activeEvent.dropDestIds.some(c=>c===l.object.uuid||r.scene.find(c).isAncestorOf(l.object.uuid))))[0]),s){let l=b9.copy(s.face.normal).applyMatrix3(v3.getNormalMatrix(s.object.matrixWorld));if(this.activeEvent.data.snapTo==="center")a.fromPosition.setFromMatrixPosition(s.object.matrixWorld);else if(this.activeEvent.data.snapTo==="surface"){if(a.fromPosition.copy(s.point),this.activeEvent.data.snapSurfaceMode==="bbox"){Nn.copy(l).applyMatrix3(v3.setFromMatrix4(a.obj.matrixWorld).transpose());let c=a.obj;Nn.x>Jm?hr.x=-c.recursiveBBox.min.x:Nn.x<-Jm&&(hr.x=-c.recursiveBBox.max.x),Nn.y>Jm?hr.y=-c.recursiveBBox.min.y:Nn.y<-Jm&&(hr.y=-c.recursiveBBox.max.y),Nn.z>Jm?hr.z=-c.recursiveBBox.min.z:Nn.z<-Jm&&(hr.z=-c.recursiveBBox.max.z),hr.applyMatrix3(v3.invert())}else hr.copy(l).multiplyScalar(this.activeEvent.data.snapSurfaceOffset);a.fromPosition.add(hr)}this.activeEvent.data.autoOrient&&(Nn.set(0,1,0).cross(l),Nn.length()<1e-4&&Nn.set(-1,0,0).cross(l),hr.crossVectors(b9,Nn),a.orientationMatrix.makeBasis(Nn,hr,l)),a.pointStart.copy(a.fromPosition),a.pointEnd.copy(a.pointStart),a.currentDampingFactor=this.activeEvent.snapDampingFactor,a.snapped=!0,this.lastDropDestination!==s.object&&(this.lastDropDestination=s.object,this.activeEvent.actionsDrop.Transition.forEach(c=>{c.play()}),this.activeEvent.actionsDrop.Animation.forEach(c=>{c.play()}),this.activeEvent.actionsDrop.Audio.forEach(c=>{c.dispatchGameControl("start")}),this.activeEvent.actionsDrop.Particles.forEach(c=>{c.dispatchGameControl("start")}),this.activeEvent.actionsDrop.Create.forEach(c=>{c.dispatchThrottled()}))}else a.orientationMatrix.makeRotationFromQuaternion(a.quat0),this.lastDropDestination=null,a.currentDampingFactor=this.activeEvent.data.dampingFactor,this.calcPlaneIntersectPos(a.obj,a.pointEnd,this.activeEvent.data.plane,this.activeEvent.data.referenceFrame),this.activeEvent.actionsDrop.Transition.forEach(l=>{l.stop(),l.object.currentState!==null&&l.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrop.Animation.forEach(l=>{l.stop()}),this.activeEvent.actionsDrop.Audio.forEach(l=>{l.dispatchGameControl("stop")}),this.activeEvent.actionsDrop.Particles.forEach(l=>{l.dispatchGameControl("stop")});this.activeEvent.actionsDrag.Create.forEach(l=>{l.dispatchThrottled()}),this.activeEvent.actionsDrag.SetVariable.forEach(l=>l.checkConditions()),this.activeEvent.actionsDrag.SetVariable.forEach(l=>l.dispatch()),this.activeEvent.actionsDrag.DynamicVariablePlay.forEach(l=>l.dispatch()),this.activeEvent.wasDragEventTriggered===!1&&(this.activeEvent.wasDragEventTriggered=!0,this.activeEvent.actionsDrag.Transition.forEach(l=>{l.play()}),this.activeEvent.actionsDrag.Animation.forEach(l=>{l.play()}),this.activeEvent.actionsDrag.Audio.forEach(l=>{l.dispatchGameControl("start")}),this.activeEvent.actionsDrag.Particles.forEach(l=>{l.dispatchGameControl("start")})),this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>{!this.activeEvent||(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Audio.forEach(l=>{l.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Particles.forEach(l=>{l.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Transition.forEach(l=>{l.stop(),l.object.currentState!==null&&l.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(l=>{l.stop()}))},500),this.updateDragItem(a),a.obj.dispatchEvent({type:"requestRender"})}},this.onPointerUp=n=>{if(this.activeEvent&&this.activeEvent.activeDragItem){this.activeEvent.data.cursor==="hand"&&this.setCursor("grab");let i=this.activeEvent.activeDragItem.obj.data.physics?.rigidBody==="dynamic";this.activeEvent.activeDragItem.snapped===!1&&this.activeEvent.data.drop&&this.activeEvent.data.resetOnSnapFail&&(this.eventManager.controlsManager.usePhysics===!1||!i)&&(this.activeEvent.activeDragItem.reset=this.activeEvent.data.resetOnSnapFail,this.activeEvent.activeDragItem.paused=!1,this.activeEvent.activeDragItem.currentDampingFactor=this.activeEvent.resetDampingFactor),this.eventManager.controlsManager.usePhysics&&i&&(this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.pop(),this.activeEvent.activeDragItem.obj.rigidBody.setBodyType(0,!0),this.activeEvent.activeDragItem.paused=!0),this.activeEvent.wasDragEventTriggered===!0&&(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Transition.forEach(r=>{r.stop(),r.object.currentState!==null&&r.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(r=>{r.stop()}),this.activeEvent.actionsDrag.Audio.forEach(r=>{r.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Particles.forEach(r=>{r.dispatchGameControl("stop")}),this.activeEvent.actionsDrop.SetVariable.forEach(r=>r.checkConditions()),this.activeEvent.actionsDrop.SetVariable.forEach(r=>r.dispatch()),this.activeEvent.actionsDrop.DynamicVariablePlay.forEach(r=>r.dispatch())),this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!0)}}}connect(){let e={};if(this.eventContext.page.traverseEntity(n=>{n.component&&(e[n.component.uuid]?e[n.component.uuid].push(n.uuid):e[n.component.uuid]=[n.uuid])}),this.eventContext.page.traverseEntity(n=>{n.data?.events.filter(i=>i.data.type==="DragDrop"&&!i.data.disabled).forEach(i=>{this.events.push(new QSe(n,i.id,i.data,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager,e))})}),!this.events.length)return;this.domEventsNeeded.clear(),this.domEventsNeeded.add("pointerdown");let t=this.eventContext.domElement;t.addEventListener("pointerdown",this.onPointerDown),t.addEventListener("pointermove",this.onPointerMove),t.addEventListener("pointerup",this.onPointerUp),this.domEventsNeeded.add("pointermove")}disconnect(){if(!this.events.length)return;this.domEventsNeeded.clear();let e=this.eventContext.domElement;e.removeEventListener("pointerdown",this.onPointerDown),e.removeEventListener("pointermove",this.onPointerMove),e.removeEventListener("pointerup",this.onPointerUp),this.events.forEach(t=>t.dispose())}setCursor(e){this.eventContext.domElement.style.cursor=e}onAnimationFrameDamping(){for(let e of this.events)for(let t of e.dragItems)t.paused||this.updateDragItem(t,!0)}calcPlaneIntersectPos(e,t,n,i){let{getCamera:r,raycaster:o}=this.eventContext;r().getWorldDirection(jd),jd.negate();let a=Hh.identity();switch(i==="parent"?YSe.multiplyMatrices(e.parent.matrixWorld,e.hiddenMatrix).decompose(Nn,a,hr):i==="local"&&e.matrixWorld.decompose(Nn,a,hr),n){case"x":Nn.set(1,0,0).applyQuaternion(a),Km.copy(jd).cross(Nn),Al.copy(Nn).cross(Km);break;case"y":Nn.set(0,1,0).applyQuaternion(a),Km.copy(jd).cross(Nn),Al.copy(Nn).cross(Km);break;case"z":Nn.set(0,0,1).applyQuaternion(a),Km.copy(jd).cross(Nn),Al.copy(Nn).cross(Km);break;case"xy":Al.set(0,0,1).applyQuaternion(a);break;case"yz":Al.set(1,0,0).applyQuaternion(a);break;case"xz":Al.set(0,1,0).applyQuaternion(a);break;case"adaptive":jd.angleTo(hr.set(0,1,0))>Math.PI/6?(Nn.crossVectors(hr.set(0,1,0),jd),Al.crossVectors(Nn,hr)):Al.set(0,1,0);break;default:Al.copy(jd);break}xh.setFromMatrixPosition(e.matrixWorld);let s=e.userData.lockedPlane?e.userData.worldPosition0:xh;if(y9.setFromNormalAndCoplanarPoint(Al,s),!!o.ray.intersectPlane(y9,t)&&(n==="x"||n==="y"||n==="z")){let l=hr.subVectors(t,s).dot(Nn);t.copy(s).addScaledVector(Nn,l)}}updateDragItem(e,t=!1){xh.setFromMatrixPosition(e.obj.matrixWorld),e.reset==="current"?yv.subVectors(e.fromPosition,xh).divideScalar(e.currentDampingFactor):e.reset==="original"?(yv.subVectors(e.obj.userData.worldPosition0,xh).divideScalar(e.currentDampingFactor),e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart)):yv.subVectors(e.pointEnd,e.pointStart).add(e.fromPosition).sub(xh).divideScalar(e.currentDampingFactor),e.paused=e.currentDampingFactor>1?yv.length()<qSe:!0,(this.activeEvent&&this.activeEvent.data.dampingFactor===1||t)&&XSe(e,yv.add(xh),this.activeEvent?.data.drop&&this.activeEvent?.data.autoOrient?e.orientationMatrix:null),e.obj.dispatchEvent({type:"beginEvent",eventName:"DragDrop"}),this.eventManager.requestRender()}},ef=new L,b3=new L,Ac=new L,Tc=new L,_9=new Fa,$Se=.01,KSe={type:"requestRender"},JSe=function(){let e=new L,t=new L;return(n,i,r)=>r>0?(e.subVectors(n,i),e.length()<=r?n:t.copy(i).add(e.normalize().multiplyScalar(r))):i}(),C9=function(){let e=new Be;return(t,n)=>{t.position.copy(n),t.parent!==null&&(e.copy(t.parent.matrixWorld).invert(),t.position.applyMatrix4(e)),e.copy(t.hiddenMatrix).invert(),t.position.applyMatrix4(e),t.updateMatrix(),t.hasNonUniformScale&&(t.updateMatrixWorld(),t.updateMatrixWorldSVD()),t instanceof Ho&&Xc(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),e2e=class{constructor(e,t,n,i,r,o){this.data=e,this.id=t,this.object=n,this.paused=!1,this.currentDampingFactor=1,this.snapComplete=!1,this.isReset=!1,this.worldPosition0=new L,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data=B(B(B({},aD.defaultData),e),e.resetOnPointerLeave===void 0&&{resetOnPointerLeave:!1}),e.target===void 0||e.target==="cursor"||(this.target=i.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.resetDampingFactor=80/this.data.resetSpeed+1,this.object.getWorldPosition(this.worldPosition0),this.actions=Go(e,e.actions,i,r,o,n)}},t2e=class extends Js{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.pairOfEventListeners=[],this.onMouseMove=n=>{if(!(xt.length>1)){this.eventContext.updateRaycaster(n);for(let i of this.events)i.target===void 0&&this.updateSingleEvent(i)}},this.onMouseEnter=n=>{for(let i of this.events)i.target===void 0&&(i.isReset=!1,i.currentDampingFactor=i.data.dampingFactor)},this.onMouseLeave=n=>{for(let i of this.events)i.target===void 0&&(i.data.resetOnPointerLeave&&(i.isReset=!0,i.currentDampingFactor=i.resetDampingFactor),this.updateSingleEvent(i))},this.onTargetChange=n=>()=>{this.updateSingleEvent(n)}}connect(){let{page:e}=this.eventContext;if(e.traverseEntity(i=>{let r=i.data?.events.find(o=>o.data.type==="Follow"&&!o.data.disabled);r&&(!e.data.globalPhysics.usePhysics||i.dataPatched.physics?.rigidBody!=="dynamic")&&this.events.push(new e2e(r.data,r.id,i,e,this.eventContext.sharedAssets,this.eventManager))}),!this.events.length)return;let{domElement:t,eventElement:n}=this.eventContext;this.domEventsNeeded.clear(),Na&&(this.domEventsNeeded.add("pointerdown"),t.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),n.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents||(t.addEventListener("pointerenter",this.onMouseEnter),t.addEventListener("pointerleave",this.onMouseLeave));for(let i of this.events)if(i.target!==void 0){let r=i.target,o=this.onTargetChange(i);this.pairOfEventListeners.push([r,o]),r.addEventListener("requestRender",o)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),Na&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave);for(let[n,i]of this.pairOfEventListeners)n.removeEventListener("requestRender",i);for(let n of this.events)n.paused=!0,n.isReset=!1,Rr(n.actions)}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e,!0)}updateSingleEvent(e,t=!1){this.events.forEach(a=>{a.actions.Create.forEach(s=>{s.dispatchThrottled()})});let{plane:n,limitDistance:i,limitDistanceEnabled:r}=e.data;if(e.object.getWorldPosition(Ac),e.isReset)Tc.copy(e.worldPosition0);else if(e.target)e.target.getWorldPosition(Tc);else{let{getCamera:a,raycaster:s}=this.eventContext;if(n==="custom"?(a().getWorldDirection(b3),b3.negate(),ef.copy(b3)):n==="xy"?ef.set(0,0,1):n==="xz"?ef.set(0,1,0):n==="yz"&&ef.set(1,0,0),_9.setFromNormalAndCoplanarPoint(ef,Ac),!s.ray.intersectPlane(_9,Tc))return}if(!e.isReset){if(Tc.distanceTo(e.worldPosition0)>i&&r&&e.target)if(e.snapComplete=!1,e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&e.timeoutId!==null&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,e.data.resetAfterDistanceLimit)Tc.copy(e.worldPosition0),e.currentDampingFactor=e.resetDampingFactor;else return;else if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},e.data.snapDelay*1e3)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),e.delayFinished===!1)return}e.data.enabledTranslation[0]===!1&&(Tc.x=Ac.x),e.data.enabledTranslation[1]===!1&&(Tc.y=Ac.y),e.data.enabledTranslation[2]===!1&&(Tc.z=Ac.z);let o=JSe(Ac,Tc,e.wasOutside?0:e.data.maxDelta);if(e.currentDampingFactor>1){let a=ef.subVectors(o,Ac).divideScalar(e.currentDampingFactor);Ac.add(a),t&&C9(e.object,Ac),e.paused=a.length()<$Se}else C9(e.object,o),e.paused=!0;e.object?.dispatchEvent({type:"beginEvent",eventName:"Follow"}),e.object.dispatchEvent(KSe)}},bv=new L,kC=new L,_v=new Be,tf=new Dt,Hd=new Dt,Cv=new L,Mv=new L,Ph=new L,Ic=new L,_3=new Fa,n2e=1e-6,i2e={type:"requestRender"},r2e={type:"changeRotation"},M9=function(){let e=new Be;return function(t,n){t.parent!==null?e.multiplyMatrices(t.parent.matrixWorld,t.hiddenMatrix):e.copy(t.hiddenMatrix),n.premultiply(wG(e).invert()),t.rotation.setFromRotationMatrix(n),t.updateMatrix(),t instanceof Ho&&Xc(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),o2e=class{constructor(e,t,n,i){this.id=t,this.object=n,this.paused=!1,this.currentDampingFactor=1,this.isReset=!1,this.worldQuaternion0=new Dt,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data=B(B(B({},sD.defaultData),e),e.resetOnPointerLeave===void 0&&{resetOnPointerLeave:!1}),e.target===void 0||e.target==="cursor"||(this.target=i.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.object.getWorldQuaternion(this.worldQuaternion0),this.resetDampingFactor=80/this.data.resetSpeed+1}},a2e=class extends Js{constructor(){super(...arguments),this.events=[],this.pairOfEventListeners=[],this.pairOfUserEventListeners=[],this.onMouseMove=e=>{if(!(xt.length>1)){this._lastMouseEvent=e,this.eventContext.updateRaycaster(e);for(let t of this.events)t.target===void 0&&this.updateSingleEvent(t)}},this.onMouseEnter=e=>{for(let t of this.events)t.target===void 0&&(t.isReset=!1,t.currentDampingFactor=t.data.dampingFactor)},this.onMouseLeave=e=>{for(let t of this.events)t.target===void 0&&(t.data.resetOnPointerLeave&&(t.isReset=!0,t.currentDampingFactor=t.resetDampingFactor),this.updateSingleEvent(t))},this.onScroll=e=>{if(this._lastMouseEvent){let t=new PointerEvent("pointermove",{clientX:this._lastMouseEvent.clientX,clientY:this._lastMouseEvent.clientY,bubbles:!0,cancelable:!0,view:window});this.eventContext.eventElement.dispatchEvent(t)}},this.onTargetChange=e=>()=>{this.updateSingleEvent(e)},this.createUserEventListener=e=>({eventName:t,target:n})=>{if(!t||!n)return;let i=Ay(t);i&&i==="LookAt"&&this.updateSingleEvent(e)}}connect(){let{page:e}=this.eventContext;if(e.traverseEntity(i=>{let r=i.data?.events.find(o=>o.data.type==="LookAt"&&!o.data.disabled);r&&(!e.data.globalPhysics.usePhysics||i.dataPatched.physics?.rigidBody!=="dynamic")&&this.events.push(new o2e(r.data,r.id,i,e))}),!this.events.length)return;let{domElement:t,eventElement:n}=this.eventContext;this.domEventsNeeded.clear(),Na&&(this.domEventsNeeded.add("pointerdown"),t.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),n.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents?n.addEventListener("scroll",this.onScroll):(t.addEventListener("pointerenter",this.onMouseEnter),t.addEventListener("pointerleave",this.onMouseLeave));for(let i of this.events){if(i.target!==void 0){let a=this.onTargetChange(i),s=i.target;this.pairOfEventListeners.push([s,a]),s.addEventListener("requestRender",a)}let r=this.createUserEventListener(i),o=i.object;this.pairOfUserEventListeners.push([o,r]),o.addEventListener("userEvent",r)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),Na&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave),t.removeEventListener("scroll",this.onScroll);for(let[n,i]of this.pairOfEventListeners)n.removeEventListener("requestRender",i);for(let[n,i]of this.pairOfUserEventListeners)n.removeEventListener("userEvent",i);for(let n of this.events)n.paused=!0,n.isReset=!1}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e)}updateSingleEvent(e){let{tilt:t,axis:n,distance:i,plane:r,limitDistance:o,enabledRotation:a,limitDistanceEnabled:s}=e.data,{getCamera:l,raycaster:c}=this.eventContext,{object:d,target:u}=e;if(d.getWorldPosition(Cv),!e.isReset)if(e.target)e.target.getWorldPosition(Mv);else{if(r==="custom"?(l().getWorldDirection(kC),kC.negate(),_3.setFromNormalAndCoplanarPoint(kC,Cv)):(r==="xy"?bv.set(0,0,1):r==="xz"?bv.set(0,1,0):r==="yz"&&bv.set(1,0,0),_3.setFromNormalAndCoplanarPoint(bv,Cv)),!c.ray.intersectPlane(_3,Mv))return;i>0&&(r==="custom"||r===void 0)&&Mv.addScaledVector(kC,i)}if(e.isReset||(u?t==="target"?Ph.copy(u.up).applyMatrix4(_v.extractRotation(u.matrixWorld)).normalize():a.some(h=>h===!1)?(n==="x"?(Ic.set(0,0,1),a[2]===!1&&Ic.set(0,1,0)):n==="y"?(Ic.set(1,0,0),a[0]===!1&&Ic.set(0,0,1)):(Ic.set(0,1,0),a[1]===!1&&Ic.set(1,0,0)),Ph.copy(Ic).applyQuaternion(e.worldQuaternion0).normalize()):Ph.set(0,1,0):r==="custom"?Ph.set(0,1,0):Ph.copy(bv)),e.isReset)Hd.copy(e.worldQuaternion0);else if(Cv.distanceTo(Mv)>o&&s&&u)if(e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&e.timeoutId!==null&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,e.data.resetAfterDistanceLimit)Hd.copy(e.worldQuaternion0),e.currentDampingFactor=e.resetDampingFactor;else return;else{if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},e.data.snapDelay*1e3)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),e.delayFinished===!1)return;s2e(_v,Mv,Cv,Ph,n,Ic),Hd.setFromRotationMatrix(_v),tf.setFromUnitVectors(Ic.applyQuaternion(Hd),Ph),a.some(h=>h===!1)&&t!=="target"&&Hd.premultiply(tf).normalize()}e.currentDampingFactor>1?(d.updateWorldMatrix(!0,!1),tf.setFromRotationMatrix(wG(d.matrixWorld)),tf.slerp(Hd,1/e.currentDampingFactor),M9(d,_v.makeRotationFromQuaternion(tf)),e.paused=8*(1-tf.dot(Hd))<n2e):(M9(d,_v.makeRotationFromQuaternion(Hd)),e.paused=!0),e.object?.dispatchEvent({type:"beginEvent",eventName:"LookAt"}),d.dispatchEvent(i2e),d.dispatchEvent(r2e)}},cs=new L,ur=new L,Bi=new L;function s2e(e,t,n,i,r,o){let a=e.elements;Bi.subVectors(t,n),Bi.lengthSq()===0&&(Bi.z=1),Bi.normalize(),ur.crossVectors(i,Bi),ur.lengthSq()===0&&(Math.abs(i.z)===1?Bi.x+=1e-4:Bi.z+=1e-4,Bi.normalize(),ur.crossVectors(i,Bi)),ur.normalize(),cs.crossVectors(Bi,ur),r==="x"?o.z===1?[ur,cs,Bi]=[Bi,ur,cs]:(ur.negate(),[ur,Bi]=[Bi,ur]):r==="y"?o.x===1?[ur,cs,Bi]=[cs,Bi,ur]:(ur.negate(),[cs,Bi]=[Bi,cs]):o.x===1&&(ur.negate(),[ur,cs]=[cs,ur]),a[0]=ur.x,a[4]=cs.x,a[8]=Bi.x,a[1]=ur.y,a[5]=cs.y,a[9]=Bi.y,a[2]=ur.z,a[6]=cs.z,a[10]=Bi.z}var l2e=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.entered=!1,this.actions=Go(t,t.actions,i,r,o,n)}disconnect(){Rr(this.actions)}dispatchEnter(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered||(this.entered=!0,this.actions.Transition.forEach(e=>e.playFromCurrent()),this.actions.Animation.forEach(e=>e.play()),this.actions.Create.forEach(e=>e.dispatch()),this.actions.Particles.forEach(e=>e.dispatchBasic()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.SwitchCamera.forEach(e=>e.playFromCurrent()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()))}dispatchLeave(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered&&(this.entered=!1,this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.Particles.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Particles.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatch()),this.actions.Particles.forEach(t=>t.dispatchBasic()),this.actions.Destroy.forEach(t=>t.dispatch()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},c2e=class extends Js{constructor(e,t){super(e),this.eventManager=t,this.eventsPerObjects={},this.objects=[],this.objects2D=[],this._prevObjects=[],this.onMouseDown=n=>{xt.length>1||(this.eventContext.updateRaycaster(n),this.handleMouseHoverEvent())},this.onMouseUp=n=>{xt.length>1||this.handleMouseHoverEvent(!0)},this.onMouseMove=n=>{xt.length>1||(this.eventContext.updateRaycaster(n),this.handleMouseHoverEvent())},this.onUserEvent=({eventName:n,target:i,reverse:r})=>{if(!n||!i)return;let o=Ay(n);o&&o==="MouseHover"&&(i.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),this.eventsPerObjects[i.uuid]?.forEach(a=>a.dispatchUserEvent(r)))}}connect(){let{page:e,sharedAssets:t}=this.eventContext,n=(r,o)=>{if(!(!r.visible||!r.data?.events.length)){for(let{id:a,data:s}of r.data.events)if(!s.disabled&&s.type==="MouseHover")try{let l=new l2e(a,s,r,e,t,this.eventManager);this.eventsPerObjects[r.uuid]?this.eventsPerObjects[r.uuid].push(l):this.eventsPerObjects[r.uuid]=[l]}catch{}this.eventsPerObjects[r.uuid]?.length&&this.objects.push(r instanceof Lr?o:r)}};if(e.traverseEntity(r=>{(r instanceof vo||r instanceof Er)&&r.frame?.traverse(o=>{n(o,r)}),n(r)}),!this.objects.length)return;let{domElement:i}=this.eventContext;this.domEventsNeeded.clear(),Na&&(this.domEventsNeeded.add("pointerdown"),i.addEventListener("pointerdown",this.onMouseDown),this.domEventsNeeded.add("pointerup"),i.addEventListener("pointerup",this.onMouseUp)),this.domEventsNeeded.add("pointermove"),i.addEventListener("pointermove",this.onMouseMove),this.objects.forEach(r=>{r.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),Na&&(e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerup",this.onMouseUp)),e.removeEventListener("pointermove",this.onMouseMove),Object.values(this.eventsPerObjects).forEach(t=>{t.forEach(n=>{n.disconnect()})}),this.objects.forEach(t=>{t.removeEventListener("userEvent",this.onUserEvent)})}handleMouseHoverEvent(e=!1){let t=[];if(!e){let{stopRaycast:n,raycaster:i,page:r,pointerScreen:o}=this.eventContext,a=!1;if(r.uiCanvas&&(a=Uc(r,[o.x,o.y],Object.keys(this.eventsPerObjects),s=>{t.push(s)})),n&&!a){let s=eM(i,r,this.objects);t=OA(s),s.forEach(l=>{l.object instanceof vo&&Uc(l.object,[l?.uv?.x??0,l?.uv?.y??0],Object.keys(this.eventsPerObjects),c=>{t.push(c)})})}else this.objects.forEach(s=>{let l=tw(i,s);l&&(t.push(s),s instanceof vo&&Uc(s,[l?.uv?.x??0,l?.uv?.y??0],Object.keys(this.eventsPerObjects),c=>{t.push(c)}))})}this._prevObjects.length&&this._prevObjects.forEach(n=>{t.includes(n)||(n.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),this.eventsPerObjects[n.uuid]?.forEach(i=>i.dispatchLeave()))}),t.length&&t.forEach(n=>{n.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),this.eventsPerObjects[n.uuid]?.forEach(i=>i.dispatchEnter())}),this._prevObjects=t}},d2e=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.scrollCounter=0,this.actions=Go(t,t.actions,i,r,o,n)}connect(){this.scrollCounter=0}disconnect(){Rr(this.actions)}dispatch(e){this.actions.Transition.forEach(i=>{i.object.currentTransitionEvent!==this&&(i.object.currentTransitionEvent=this,i.init())});let t=e>0?1:-1;this.scrollCounter+=t,this.scrollCounter=Math.min(Math.max(this.scrollCounter,0),this.data.steps);let n=this.scrollCounter/this.data.steps;this.actions.Transition.forEach(i=>i.seek(n)),this.actions.Animation.forEach(i=>i.seek(t)),this.actions.Create.forEach(i=>i.dispatchThrottled()),this.actions.SetVariable.forEach(i=>i.checkConditions()),this.actions.SetVariable.forEach(i=>i.dispatch()),this.actions.DynamicVariablePlay.forEach(i=>i.dispatch())}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},u2e=class{constructor(e,t,n,i,r,o,a){this.id=e,this.data=t,this.object=n,this.domElement=o,this.eventManager=a,this.scrollStart=0,this.scrollEnd=0,this.actions=Go(t,t.actions,i,r,a,n)}computeScrollBounds(){let e=this.domElement.getBoundingClientRect(),t=document.body,n=document.documentElement,i=window.pageYOffset||n.scrollTop||t.scrollTop,r=n.clientTop||t.clientTop||0,o=Math.round(e.top+i-r);if(this.data.startFrom==="enter"){let a=window.innerHeight,s=e.height,l=this.data.enterAnchor,c=l==="top"?a:l==="bottom"?a-s:a-s*.5;this.scrollStart=o-c}else this.scrollStart=0;this.scrollStart+=this.data.startOffset??0,this.scrollEnd=this.scrollStart+(this.data.endAfter??400),this.box=e,this.computeScroll({x:window.scrollX,y:window.scrollY})}connect(){this.computeScrollBounds()}disconnect(){Rr(this.actions)}handleResize(){this.computeScrollBounds()}get isInvalidBox(){return this.box===void 0||this.box.width===0&&this.box.height===0&&this.box.top===0&&this.box.bottom===0}computeScroll({x:e,y:t}){this.actions.Transition.forEach(r=>{r.object.currentTransitionEvent!==this&&(r.object.currentTransitionEvent=this,r.init())});let n=this.scrollEnd-this.scrollStart,i=Math.min(1,Math.max(0,(t-this.scrollStart)/n));this.actions.Transition.forEach(r=>r.seek(i)),this.actions.Animation.forEach(r=>r.seek(i)),this.actions.Create.forEach(r=>r.dispatchThrottled()),this.actions.SetVariable.forEach(r=>r.checkConditions()),this.actions.SetVariable.forEach(r=>r.dispatch()),this.actions.DynamicVariablePlay.forEach(r=>r.dispatch())}dispatch(e){this.isInvalidBox&&this.computeScrollBounds(),this.computeScroll(e)}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},h2e=class extends Js{constructor(e,t){super(e),this.managers=t,this.wheelEventsPerObject=new Map,this.scrollEventsPerObject=new Map,this.isInview=!0,this.handleResize=()=>{[...this.scrollEventsPerObject.entries()].forEach(([n,i])=>{i.forEach(r=>r.handleResize())})},this.onScroll=n=>{if(!this.isInview)return;let i={y:window.scrollY,x:window.scrollX};[...this.scrollEventsPerObject.entries()].forEach(([r,o])=>{r.dispatchEvent({type:"beginEvent",eventName:"Scroll",scroll:i}),o.forEach(a=>a.dispatch(i))})},this.onWheel=n=>{!this.isInview||n.ctrlKey||[...this.wheelEventsPerObject.entries()].forEach(([i,r])=>{i.dispatchEvent({type:"beginEvent",eventName:"Scroll",deltaY:n.deltaY}),r.forEach(o=>o.dispatch(n.deltaY))})},this.onUserEvent=({eventName:n,target:i,reverse:r})=>{if(!n||!i)return;let o=Ay(n);o&&o==="Scroll"&&(i.dispatchEvent({type:"beginEvent",eventName:"Scroll"}),this.wheelEventsPerObject.get(i)?.forEach(a=>{a.dispatchUserEvent(r)}))}}connect(){let{page:e,sharedAssets:t,domElement:n,isExport:i}=this.eventContext,r=o=>{if(o.data?.events.length){for(let{id:a,data:s}of o.data.events)if(!s.disabled&&s.type==="Scroll")if(s.trigger==="load"||!i){let l=new d2e(a,s,o,e,t,this.managers);this.wheelEventsPerObject.has(o)?this.wheelEventsPerObject.get(o)?.push(l):this.wheelEventsPerObject.set(o,[l])}else{let l=new u2e(a,s,o,e,t,n,this.managers);this.scrollEventsPerObject.has(o)?this.scrollEventsPerObject.get(o)?.push(l):this.scrollEventsPerObject.set(o,[l])}}};e.traverseEntity(o=>{(o instanceof vo||o instanceof Er)&&o.frame?.traverse(a=>{r(a)}),r(o)}),this.intersectionObserver=new IntersectionObserver(o=>{let a=o[0];a&&(this.isInview=a.isIntersecting)},{root:null}),this.intersectionObserver.observe(this.eventContext.domElement),[...this.wheelEventsPerObject.entries()].forEach(([o,a])=>{a.forEach(s=>s.connect()),o.addEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([o,a])=>{a.forEach(s=>s.connect()),o.addEventListener("userEvent",this.onUserEvent)}),[...this.wheelEventsPerObject.values()].some(o=>o.length)&&(this.domEventsNeeded.add("wheel"),window.addEventListener("wheel",this.onWheel)),[...this.scrollEventsPerObject.values()].some(o=>o.length)&&(this.domEventsNeeded.add("scroll"),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.handleResize))}disconnect(){window.removeEventListener("wheel",this.onWheel),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.handleResize),this.intersectionObserver.unobserve(this.eventContext.domElement),this.domEventsNeeded.clear(),[...this.wheelEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(n=>n.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(n=>n.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)})}},p2e=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.actions=Go(t,t.actions,i,r,o,n)}disconnect(){Rr(this.actions)}dispatch(){this.actions.Transition.forEach(e=>{e.play()}),this.actions.Animation.forEach(e=>{e.play()}),this.actions.SwitchCamera.forEach(e=>{e.play()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.Create.forEach(e=>{e.dispatchFromStart()}),this.actions.Destroy.forEach(e=>{e.dispatchFromStart()})}dispatchAfter(e){this.actions.Audio.forEach(t=>{(t.interaction.data.triggerAfter??"any")===e&&(t.interaction instanceof jh?t.interaction.audioPlayer.play():t.interaction instanceof _A&&t.interaction.dispatch())}),this.actions.Video.forEach(t=>{let n=t.interaction.data.triggerAfter??"autoplay";n===e&&(t.interaction instanceof Rf?t.interaction.play(n==="autoplay"):t.interaction instanceof xA&&t.interaction.dispatch())}),this.actions.Particles.forEach(t=>{(t.data.triggerAfter??"any")===e&&t.dispatchBasic()})}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.Reset.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.interaction instanceof jh?t.interaction.audioPlayer.play():t.interaction instanceof _A&&t.interaction.dispatch()}),this.actions.Video.forEach(t=>{t.interaction instanceof Rf?t.interaction.play():t.interaction instanceof xA&&t.interaction.dispatch()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()})}},m2e=class extends Js{constructor(e,t){super(e),this.eventManager=t,this.eventsPerObject=new Map,this.eventsAfterPerObject=new Map,this.onMouseDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.dispatchAfter("mouseDown")})})},this.onKeyDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.dispatchAfter("keyDown")})})},this.onAny=()=>{let{domElement:n,isExport:i}=this.eventContext,r=i?document:n;r.removeEventListener("pointerdown",this.onAny),r.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([o,a])=>{o.dispatchEvent({type:"beginEvent",eventName:"Start"}),a.forEach(s=>{s.dispatchAfter("any")})})},this.onSceneTransitionAudioVideoPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.actions.Audio.forEach(o=>{o.interaction instanceof jh&&o.interaction.audioPlayer.play()}),r.actions.Video.forEach(o=>{let a=o.interaction.data.triggerAfter??"autoplay";o.interaction instanceof Rf&&o.interaction.play(a==="autoplay")}),r.actions.Particles.forEach(o=>{o.dispatchBasic()})})})},this.onPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.dispatchAfter("autoplay")})})},this.onUserEvent=({eventName:n,target:i,reverse:r})=>{if(!n||!i)return;let o=Ay(n);o&&o==="Start"&&(i instanceof Lr||i.dispatchEvent({type:"beginEvent",eventName:"Start"}),this.eventsPerObject.get(i)?.forEach(a=>{a.dispatchUserEvent(r)}),this.eventsAfterPerObject.get(i)?.forEach(a=>{a.dispatchUserEvent(r)}))}}connect(){let{sharedAssets:e,page:t}=this.eventContext,n=i=>{if(i.data?.events.length)for(let{id:r,data:o}of i.data.events){if(o.disabled||o.type!=="Start")continue;let a=new p2e(r,o,i,t,e,this.eventManager);(a.actions.Transition.length||a.actions.Animation.length||a.actions.SwitchCamera.length||a.actions.Create.length||a.actions.Destroy.length||a.actions.SceneTransition.length||a.actions.Reset.length||a.actions.SetVariable.length||a.actions.DynamicVariablePlay.length)&&(this.eventsPerObject.has(i)?this.eventsPerObject.get(i)?.push(a):this.eventsPerObject.set(i,[a])),a.actions.Audio.length&&(this.eventsAfterPerObject.has(i)?this.eventsAfterPerObject.get(i)?.push(a):this.eventsAfterPerObject.set(i,[a])),a.actions.Video.length&&(this.hasVideoAction=!0,this.eventsAfterPerObject.has(i)?this.eventsAfterPerObject.get(i)?.push(a):this.eventsAfterPerObject.set(i,[a])),a.actions.Particles.length&&(this.eventsAfterPerObject.has(i)?this.eventsAfterPerObject.get(i)?.push(a):this.eventsAfterPerObject.set(i,[a]))}};if(t.traverseEntity(i=>{(i instanceof vo||i instanceof Er)&&i.frame?.traverse(r=>{n(r)}),n(i)}),[...this.eventsAfterPerObject.values()].some(i=>i.length)){if(this.eventManager.activateCount===0){let{domElement:i,isExport:r}=this.eventContext,o=r?document:i;o.addEventListener("pointerdown",this.onMouseDown,{once:!0}),o.addEventListener("mousedown",this.onMouseDown,{once:!0}),document.addEventListener("keydown",this.onKeyDown,{once:!0}),o.addEventListener("pointerdown",this.onAny),o.addEventListener("mousedown",this.onAny),document.addEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([a,s])=>{a.addEventListener("userEvent",this.onUserEvent)})}else this.onSceneTransitionAudioVideoPlay();this.onPlay()}[...this.eventsPerObject.entries()].forEach(([i,r])=>{i.dispatchEvent({type:"beginEvent",eventName:"Start"}),r.forEach(o=>o.dispatch()),i.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if([...this.eventsAfterPerObject.values()].some(e=>e.length)){let{domElement:e,isExport:t}=this.eventContext,n=t?document:e;n.removeEventListener("pointerdown",this.onMouseDown),n.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keydown",this.onKeyDown),n.removeEventListener("pointerdown",this.onAny),n.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([i,r])=>{i.removeEventListener("userEvent",this.onUserEvent),r.forEach(o=>o.disconnect())})}[...this.eventsPerObject.entries()].forEach(([e,t])=>{e.removeEventListener("userEvent",this.onUserEvent),t.forEach(n=>n.disconnect())}),this.eventsPerObject.clear(),this.eventsAfterPerObject.clear()}},f2e=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.initialDisabled=!1,this.alreadyPlayedNonTogglingActions=new Set,this.actions=Go(t,t.actions,i,r,o,n),this.target=t.target}disconnect(){Rr(this.actions)}dispatch(e){this.initialDisabled||(this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this?(t.object.currentTransitionEvent=this,t.init()):t.data.runMode==="Once"&&this.alreadyPlayedNonTogglingActions.add(t)}),this.object.dispatchEvent({type:"beginEvent",eventName:"Collision"}),this.actions.Transition.forEach(t=>{this.alreadyPlayedNonTogglingActions.has(t)===!1&&(t.data.runMode==="Toggle"?t.toggle():t.play())}),this.actions.Animation.forEach(t=>{t.data.runMode==="Toggle"?t.toggle():t.play()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch(e??!1)}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}))}},g2e=class extends Js{constructor(e,t,n,i,r){super(e),this.sharedVariables=t,this.eventManager=n,this.needsMouse=i,this.needsRaycast=r,this.dynamicVars=[],this.variablesToWatch=[],this.prevMouseProperty=null,this.prevRaycastProperty=null,this.pauseTime=0,this.isOutOfFocus=!1,this.events=[],this.onFrame=o=>{let a=this.eventContext.sharedAssets;if(this.rafId=window.requestAnimationFrame(this.onFrame),this.isOutOfFocus)return;let s=new Date,l=[],c=[];for(let h=0;h<this.propertiesToWatch.length;h++){let{objectId:p,property:m,prevValue:g}=this.propertiesToWatch[h],v=this.eventContext.scene.find(p),b=cD.propertyPaths[m];if(b[0]==="width"||b[0]==="height"||b[0]==="depth")v=v.geometry.userData.parameters[b[0]];else for(let _=0;_<b.length;_++)v=v[b[_]];g===null?this.propertiesToWatch[h].prevValue=v instanceof L?v.clone():v:(v instanceof L?!v.equals(g):g!==v)&&(c.push({objId:p,property:m}),v instanceof L?this.propertiesToWatch[h].prevValue.copy(v):this.propertiesToWatch[h].prevValue=v)}for(let h=0;h<this.variablesToWatch.length;h++){let{id:p,prevValue:m}=this.variablesToWatch[h],g=a.getVariable(p);g!==m&&(l.push(p),this.variablesToWatch[h].prevValue=g)}for(let h=0;h<this.dynamicVars.length;h++){let{id:p,expectedTime:m,last:g,data:v,timerSeconds:b,startValue:_}=this.dynamicVars[h],C=1e3;if((v.dynamicVariableType==="timer"||v.dynamicVariableType==="stopwatch")&&v.format==="number3decimal"?C=1:v.dynamicVariableType==="counter"?C=v.updateInterval:v.dynamicVariableType==="random"&&(C=v.isStatic?1/0:v.updateInterval),m===-1){this.dynamicVars[h].last=o,this.dynamicVars[h].expectedTime=o+C;continue}if(!((a.getDynamicVariablePlayState(p)==="Stopped"||a.getDynamicVariablePlayState(p)==="Restarted")&&(this.dynamicVars[h].last=o,this.dynamicVars[h].expectedTime=o+C,v.dynamicVariableType==="counter"&&a.getVariable(p)!==_&&(a.updateVariable(p,_),this.eventManager.requestRender()),(v.dynamicVariableType==="timer"||v.dynamicVariableType==="stopwatch")&&this.dynamicVars[h].timerSeconds!==_&&(this.dynamicVars[h].timerSeconds=_,a.updateVariable(p,ps.getFormattedTimerTime(_,v)),this.eventManager.requestRender()),a.getDynamicVariablePlayState(p)==="Restarted"&&a.setDynamicVariablePlayState(p,"Playing"),a.getDynamicVariablePlayState(p)==="Stopped"))){if(a.getDynamicVariablePlayState(p)==="Paused"){this.dynamicVars[h].deltaToExpectedTime===void 0&&(this.dynamicVars[h].deltaToExpectedTime=Math.max(this.dynamicVars[h].expectedTime-o,0)),this.dynamicVars[h].last=o-(C-this.dynamicVars[h].deltaToExpectedTime),this.dynamicVars[h].expectedTime=o+this.dynamicVars[h].deltaToExpectedTime;continue}else this.dynamicVars[h].deltaToExpectedTime=void 0;if(o>=m)if(this.dynamicVars[h].last=o,this.dynamicVars[h].expectedTime+=C,v.dynamicVariableType==="random"){let M=v.min+Math.random()*(v.max-v.min),P=v.decimals;M=Math.round(M*Math.pow(10,P))/Math.pow(10,P),a.updateVariable(p,M),l.push(p),this.eventManager.requestRender()}else if(v.dynamicVariableType==="counter"){let M=a.getVariable(p),P=a.getDynamicVariableToggleIsForward(p)??!0,x=a.getVariable(p)+v.increment*(P?1:-1);v.hasEnd&&(x=v.increment>0?et.clamp(x,_,v.endValue):et.clamp(x,v.endValue,_),x===_&&a.setDynamicVariableToggleIsForward(p,void 0),v.repeat?x===v.endValue&&(x=_):(x===_||x===v.endValue)&&a.setDynamicVariablePlayState(p,"Paused")),x!==M&&(l.push(p),a.updateVariable(p,x),this.eventManager.requestRender())}else if(v.dynamicVariableType==="time")a.updateVariable(p,Hz(s,v)),l.push(p),this.eventManager.requestRender();else{let M=za.isTextValue(v.endValue)?w9(v.endValue.textValue):v.endValue,P=a.getDynamicVariableToggleIsForward(p)??!0,x=b+(o-g)/1e3*(v.dynamicVariableType==="timer"?-1:1)*(P?1:-1);x=Math.max(x,0),v.hasEnd&&(x=v.dynamicVariableType==="stopwatch"?et.clamp(x,_,M):et.clamp(x,M,_),x===_&&a.setDynamicVariableToggleIsForward(p,void 0),v.repeat?Math.abs(x-M)<(v.format==="number3decimal"?1e-4:.1)&&(x=_):(Math.abs(x-_)<(v.format==="number3decimal"?1e-4:.1)||Math.abs(x-M)<(v.format==="number3decimal"?1e-4:.1))&&a.setDynamicVariablePlayState(p,"Paused")),x!==b&&(l.push(p),this.dynamicVars[h].timerSeconds=x,a.updateVariable(p,ps.getFormattedTimerTime(x,v)),this.eventManager.requestRender())}}}let d=!1;a.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=a.mouseProperty,d=!0);let u=!1;a.raycastProperty!==this.prevRaycastProperty&&(this.prevRaycastProperty=a.raycastProperty,u=!0),this.events.forEach(h=>{(l.includes(h.data.variableId)||c.find(p=>p.objId===h.data.objectId&&p.property===h.data.property)||h.data.variableId==="mouseProperty"&&d||h.data.variableId==="raycastProperty"&&u)&&(h.dispatch(),this.eventManager.requestRender())})},this.onBlur=()=>{this.pause()},this.onFocus=()=>{this.resume()}}pause(){this.isOutOfFocus||(this.isOutOfFocus=!0,this.pauseTime=Date.now())}resume(){if(!this.isOutOfFocus)return;this.isOutOfFocus=!1;let e=Date.now()-this.pauseTime;for(let t=0;t<this.dynamicVars.length;t++)this.dynamicVars[t].last+=e,this.dynamicVars[t].expectedTime+=e}connect(){this.eventContext.page.traverseEntity(t=>{t.data?.events.filter(n=>n.data.type==="VariableChange"&&!n.data.disabled).forEach(n=>{this.events.push(new v2e(n.id,n.data,t,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),this.propertiesToWatch=this.events.filter(t=>t.data.variableId==="objectProperty"&&t.data.objectId!==null).map(t=>({objectId:t.data.objectId,property:t.data.property,prevValue:null}));let e=this.eventContext.sharedAssets;this.sharedVariables.forEach(({id:t,data:n})=>{if(!("dynamicVariableType"in n)){this.events.find(r=>r.data.variableId===t)&&this.variablesToWatch.push({id:t,prevValue:e.getVariable(t)});return}let i;if(n.dynamicVariableType==="timer"||n.dynamicVariableType==="stopwatch"){let r;if(za.isTextValue(n.value)&&Array.isArray(n.value.textValue)){let o=n.value.textValue;o.length===3?r=o[2]+o[1]*60+o[0]*3600:r=o[1]+o[0]*60}else r=n.value;i=r,this.dynamicVars.push({id:t,last:-1,expectedTime:-1,data:n,timerSeconds:r,startValue:i})}else n.dynamicVariableType==="time"&&e.updateVariable(t,Hz(new Date,n)),n.dynamicVariableType==="counter"&&(i=za.isTextValue(n.value)?w9(n.value.textValue):n.value),this.dynamicVars.push({id:t,last:-1,expectedTime:-1,data:n,startValue:i})}),this.rafId=window.requestAnimationFrame(this.onFrame),window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus)}disconnect(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=void 0),this.events.forEach(e=>e.dispose())}},v2e=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.actions=Go(t,t.actions,i,r,o,n)}dispatch(){let e=this.actions;e.Audio.forEach(t=>t.dispatchConditional()),e.Particles.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch())}dispose(){Rr(this.actions)}};function w9(e){return e.length===3?e[2]+e[1]*60+e[0]*3600:e[1]+e[0]*60}var y2e="https://unpkg.com/@splinetool/runtime@1.1.7/build/",b2e="https://unpkg.com/@splinetool/navmesh-wasm@1.1.7/build/",_2e=`
(async function() {
	const [wasmImport, wasmBinary] = await Promise.all([
		import('${y2e}' + 'navmesh.js'),
		fetch('${b2e}' + 'navmesh.wasm').then((res) => res.arrayBuffer()),
	]);
	const wasmModule = wasmImport.default;
	self.module = await wasmModule({ wasmBinary });
	postMessage('ready');
})();
`,C2e=`
(async function() {
	const [wasmImport, wasmBinary] = await Promise.all([
		import(self.location.origin + '/_libraries/navmesh.js'),
		fetch(self.location.origin + '/_libraries/navmesh.wasm').then((res) => res.arrayBuffer()),
	]);
	const wasmModule = wasmImport.default;
	self.module = await wasmModule({ wasmBinary });
	postMessage('ready');
})();
`,M2e=`

onmessage = function(messageEvent) {
	const meshData = messageEvent.data;
	const positions = meshData[0];
	const offset = meshData[1];
	const indices = meshData[2];
	const indicesLength = meshData[3];
	const parameters = meshData[4];

	const module = self.module;
	const rc = new module.rcConfig();
	rc.cs = parameters.cs;
	rc.ch = parameters.ch;
	rc.borderSize = parameters.borderSize ? parameters.borderSize : 0;
	rc.tileSize = parameters.tileSize ? parameters.tileSize : 0;
	rc.walkableSlopeAngle = parameters.walkableSlopeAngle;
	rc.walkableHeight = parameters.walkableHeight;
	rc.walkableClimb = parameters.walkableClimb;
	rc.walkableRadius = parameters.walkableRadius;
	rc.maxEdgeLen = parameters.maxEdgeLen;
	rc.maxSimplificationError = parameters.maxSimplificationError;
	rc.minRegionArea = parameters.minRegionArea;
	rc.mergeRegionArea = parameters.mergeRegionArea;
	rc.maxVertsPerPoly = parameters.maxVertsPerPoly;
	rc.detailSampleDist = parameters.detailSampleDist;
	rc.detailSampleMaxError = parameters.detailSampleMaxError;

	if (!self.navMesh) {
		self.navMesh = new module.NavMesh();
	}
	self.navMesh.build(positions, offset, indices, indicesLength, rc);

	const navmeshData = navMesh.getNavmeshData();
	const arrView = new Uint8Array(module.HEAPU8.buffer, navmeshData.dataPointer, navmeshData.size);
	const ret = new Uint8Array(navmeshData.size);
	ret.set(arrView);
	navMesh.freeNavmeshData(navmeshData);

	postMessage(ret);
}
`,x9=.001,w2e={cs:6,ch:2,walkableSlopeAngle:90,walkableHeight:20,walkableClimb:5,walkableRadius:0,maxEdgeLen:12,maxSimplificationError:1.3,minRegionArea:8,mergeRegionArea:20,maxVertsPerPoly:6,detailSampleDist:6,detailSampleMaxError:1},DG,fn,Wr;_ve.then(e=>{DG=e,fn=new e.Vec3,Wr=new e.Vec3});var x2e=new L,P2e=class{constructor(e=!1,t=!1){this.usePhysics=e,this.isExport=t,this.onPointerDown=n=>{if(xt.length!==1)return;let{raycaster:i,page:r}=this.eventContext;this.eventContext.updateRaycaster(n);let o=r.raycastWithClones(i);if(o.length!==0){if(this.gameControl){let a=x2e.copy(this.gameControl.colliderWorldPosition);a.y-=this.gameControl.colliderHeight/2,this.gameControl.path=this.computePath(a,o[0].point)}this.eventContext.requestRender()}},this.traverseWithPhysics=(n,i)=>r=>{let o;if(r instanceof Gs)if(r.objectForSample){if(r.objectForSample.dataPatched.physics.fusedBody)return;o=r.object}else return r.object.dataPatched.physics.fusedBody===!0&&r.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(r instanceof yo)o=r.object;else if(o=r,o.dataPatched.cloner?.disabled===!1&&o.dataPatched.cloner?.hideBase&&o.dataPatched.physics?.fusedBody!==!0)return!0;if(i&&!o.userData.navmesh)return;let a=o.dataPatched;if(!a.visible&&a.physics?.enabled!==!0)return!0;r.updateMatrixWorldSVD();let s=nw(a),l=o.userData.hasDestroy,c=o.userData.hasDrag,d=!1,u=!1;for(let h of a.events)h.data.disabled!==!0&&(h.data.type==="GameControl"?d=!0:h.data.type==="Follow"&&(u=!0));if(d||s||u||l||c)return!0;if(this.usePhysics&&a.physics?.rigidBody==="dynamic"){if(this.usePhysics&&a.physics?.fusedBody)return!0}else if("geometry"in r&&r.geometry&&n.push(Vc(r.geometry,r.matrixWorld)),this.usePhysics&&a.physics?.fusedBody)return r.traverseObject((h,p)=>{if(p===0)return;let m;if(h instanceof Gs)if(h.objectForSample){if(h.objectForSample.dataPatched.physics.fusedBody)return;m=h.object}else return h.object.dataPatched.physics.fusedBody===!0&&h.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(h instanceof yo)m=h.object;else if(m=h,h.dataPatched.cloner?.hideBase)return!0;let g=m.dataPatched;if(!g.visible&&g.physics?.enabled!==!0)return!0;"geometry"in h&&h.geometry&&n.push(Vc(h.geometry,h.matrixWorld))}),!0},this.traverseNoPhysics=(n,i)=>r=>{let o;if(r instanceof Gs)return;r instanceof yo?o=r.object:o=r;let a=o.dataPatched;if(a.physics.enabled==="visibility"?!a.visible:!a.physics.enabled)return!0;if(i&&!o.userData.navmesh)return;let s=r.geometry,l=o.userData.hasDestroy===!0,c=o.userData.hasDrag===!0;if(nw(a)||l||c||o.dataPatched.events.some(d=>d.data.disabled!==!0&&d.data.type==="GameControl"))return!0;s&&n.push(Vc(s,r.matrixWorld))},this.navmeshWasm=DG,this.navMesh=new this.navmeshWasm.NavMesh,this._workerURL=URL.createObjectURL(new Blob([(t?_2e:C2e)+M2e])),this._worker=new Worker(this._workerURL)}init(e,t,n){this.gameControl=t,this.eventContext=n,this.setDefaultQueryExtent(new L().setScalar(e.ch*e.walkableRadius*1.2)),this._worker.onmessage=()=>{this.createNavMesh(n.page,e,i=>{this.buildFromNavmeshData(i.data)})},this.eventContext.renderer.domElement.addEventListener("pointerdown",this.onPointerDown)}createNavMesh(e,t,n){t.objects.forEach(l=>{let c=e.scene.find(l);c.traverseEntity(d=>{d.userData.navmesh=!0}),c.cloner?.traverseObject(d=>{d.userData.navmesh=!0})});let i=[],r=(this.usePhysics?this.traverseWithPhysics:this.traverseNoPhysics)(i,t.zones==="custom");if(e.traverseChildren(r),t.objects.forEach(l=>{let c=e.scene.find(l);c.traverseEntity(d=>{d.userData.navmesh=void 0}),c.cloner?.traverseObject(d=>{d.userData.navmesh=void 0})}),i.length===0)return!1;let o=Uh(i),{positions:a,triIndices:s}=Mw(o.getAttribute("position"),o.getIndex());return this._worker.postMessage([a,a.length/3,s,s.length,B(B({},w2e),t)]),this._worker.onmessage=n,!0}createDebugNavGeometry(){let e,t,n=this.navMesh.getDebugNavMesh(),i=n.getTriangleCount(),r=new Uint32Array(i*3),o=new Float32Array(i*3*3);for(e=0;e<i*3;e++)r[e]=e;for(e=0;e<i;e++)for(t=0;t<3;t++){let s=n.getTriangle(e).getPoint(t);o[e*9+t*3+0]=s.x,o[e*9+t*3+1]=s.y,o[e*9+t*3+2]=s.z}let a=new pt;return a.setIndex(new St(r,1)),a.setAttribute("position",new St(o,3)),a}getClosestPoint(e){return fn.x=e.x,fn.y=e.y,fn.z=e.z,this.navMesh.getClosestPoint(fn)}getClosestPointToRef(e,t){fn.x=e.x,fn.y=e.y,fn.z=e.z;let n=this.navMesh.getClosestPoint(fn);t.set(n.x,n.y,n.z)}getRandomPointAround(e,t){return fn.x=e.x,fn.y=e.y,fn.z=e.z,this.navMesh.getRandomPointAround(fn,t)}getRandomPointAroundToRef(e,t,n){fn.x=e.x,fn.y=e.y,fn.z=e.z;let i=this.navMesh.getRandomPointAround(fn,t);n.set(i.x,i.y,i.z)}moveAlong(e,t){return fn.x=e.x,fn.y=e.y,fn.z=e.z,Wr.x=t.x,Wr.y=t.y,Wr.z=t.z,this.navMesh.moveAlong(fn,Wr)}moveAlongToRef(e,t,n){return fn.x=e.x,fn.y=e.y,fn.z=e.z,Wr.x=t.x,Wr.y=t.y,Wr.z=t.z,this.navMesh.moveAlong(fn,Wr)}computePath(e,t){let n=this.getClosestPoint(t);if(Wr.x=n.x,Wr.y=n.y,Wr.z=n.z,Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)+Math.pow(t.z-n.z,2))>this.getDefaultQueryExtent().y)return[];this.getClosestPoint(e);let i=this.navMesh.computePath(fn,Wr),r=i.getPointCount(),o=[];for(let a=0;a<r;a++){let s=i.getPoint(a);o.push(new L(s.x,s.y,s.z))}return o}createCrowd(e,t){return new O2e(this,e,t)}setDefaultQueryExtent(e){fn.x=e.x,fn.y=e.y,fn.z=e.z,this.navMesh.setDefaultQueryExtent(fn)}getDefaultQueryExtent(){return this.navMesh.getDefaultQueryExtent()}buildFromNavmeshData(e){let t=e.length*e.BYTES_PER_ELEMENT,n=this.navmeshWasm._malloc(t),i=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,n,t);i.set(e);let r=new this.navmeshWasm.NavmeshData;r.dataPointer=i.byteOffset,r.size=e.length,this.navMesh.buildFromNavmeshData(r),this.navmeshWasm._free(i.byteOffset)}getNavmeshData(){let e=this.navMesh.getNavmeshData(),t=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,e.dataPointer,e.size),n=new Uint8Array(e.size);return n.set(t),this.navMesh.freeNavmeshData(e),n}getDefaultQueryExtentToRef(e){let t=this.navMesh.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}dispose(){this.navMesh.destroy(),this._worker.terminate(),URL.revokeObjectURL(this._workerURL),this.eventContext?.renderer.domElement.removeEventListener("pointerdown",this.onPointerDown)}addCylinderObstacle(e,t,n){return fn.x=e.x,fn.y=e.y,fn.z=e.z,this.navMesh.addCylinderObstacle(fn,t,n)}addBoxObstacle(e,t,n){return fn.x=e.x,fn.y=e.y,fn.z=e.z,Wr.x=t.x,Wr.y=t.y,Wr.z=t.z,this.navMesh.addBoxObstacle(fn,Wr,n)}removeObstacle(e){this.navMesh.removeObstacle(e)}isSupported(){return this.navmeshWasm!==void 0}},O2e=class{constructor(e,t,n){this.navmeshWasmWrapper=e,this.transforms=[],this.agents=new Array,this.reachRadii=new Array,this._agentDestinationArmed=new Array,this._agentDestination=new Array,this.crowd=new this.navmeshWasmWrapper.navmeshWasm.Crowd(t,n,this.navmeshWasmWrapper.navMesh.getNavMesh())}onReachTarget(e,t){}addAgent(e,t,n){let i=new this.navmeshWasmWrapper.navmeshWasm.dtCrowdAgentParams;i.radius=t.radius,i.height=t.height,i.maxAcceleration=t.maxAcceleration,i.maxSpeed=t.maxSpeed,i.collisionQueryRange=t.collisionQueryRange,i.pathOptimizationRange=t.pathOptimizationRange,i.separationWeight=t.separationWeight,i.updateFlags=7,i.obstacleAvoidanceType=0,i.queryFilterType=0,i.userData=0;let r=this.crowd.addAgent(new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z),i);return this.transforms.push(n),this.agents.push(r),this.reachRadii.push(t.reachRadius?t.reachRadius:t.radius),this._agentDestinationArmed.push(!1),this._agentDestination.push(new L(0,0,0)),r}getAgentPosition(e){return this.crowd.getAgentPosition(e)}getAgentPositionToRef(e,t){let n=this.crowd.getAgentPosition(e);t.set(n.x,n.y,n.z)}getAgentVelocity(e){return this.crowd.getAgentVelocity(e)}getAgentVelocityToRef(e,t){let n=this.crowd.getAgentVelocity(e);t.set(n.x,n.y,n.z)}getAgentNextTargetPath(e){return this.crowd.getAgentNextTargetPath(e)}getAgentNextTargetPathToRef(e,t){let n=this.crowd.getAgentNextTargetPath(e);t.set(n.x,n.y,n.z)}getAgentState(e){return this.crowd.getAgentState(e)}overOffmeshConnection(e){return this.crowd.overOffmeshConnection(e)}agentGoto(e,t){this.crowd.agentGoto(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z));let n=this.agents.indexOf(e);n>-1&&(this._agentDestinationArmed[n]=!0,this._agentDestination[n].set(t.x,t.y,t.z))}agentTeleport(e,t){this.crowd.agentTeleport(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z))}updateAgentParameters(e,t){let n=this.crowd.getAgentParameters(e);t.radius!==void 0&&(n.radius=t.radius),t.height!==void 0&&(n.height=t.height),t.maxAcceleration!==void 0&&(n.maxAcceleration=t.maxAcceleration),t.maxSpeed!==void 0&&(n.maxSpeed=t.maxSpeed),t.collisionQueryRange!==void 0&&(n.collisionQueryRange=t.collisionQueryRange),t.pathOptimizationRange!==void 0&&(n.pathOptimizationRange=t.pathOptimizationRange),t.separationWeight!==void 0&&(n.separationWeight=t.separationWeight),this.crowd.setAgentParameters(e,n)}removeAgent(e){this.crowd.removeAgent(e);let t=this.agents.indexOf(e);t>-1&&(this.agents.splice(t,1),this.transforms.splice(t,1),this.reachRadii.splice(t,1),this._agentDestinationArmed.splice(t,1),this._agentDestination.splice(t,1))}getAgents(){return this.agents}update(e){if(this.navmeshWasmWrapper.navMesh.update(),e<=x9)return;let t=1/60,n=10;if(t<=x9)this.crowd.update(e);else{let i=Math.floor(e/t);n&&i>n&&(i=n),i<1&&(i=1);let r=e/i;for(let o=0;o<i;o++)this.crowd.update(r)}for(let i=0;i<this.agents.length;i++){let r=this.agents[i],o=this.getAgentPosition(r);if(this.transforms[i].copy(o),this._agentDestinationArmed[i]){let a=o.x-this._agentDestination[i].x,s=o.z-this._agentDestination[i].z,l=this.reachRadii[i],c=this._agentDestination[i].y-this.reachRadii[i],d=this._agentDestination[i].y+this.reachRadii[i],u=a*a+s*s;o.y>c&&o.y<d&&u<l*l&&(this.onReachTarget(r,this._agentDestination[i]),this._agentDestinationArmed[i]=!1)}}}setDefaultQueryExtent(e){let t=new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z);this.crowd.setDefaultQueryExtent(t)}getDefaultQueryExtent(){return this.crowd.getDefaultQueryExtent()}getDefaultQueryExtentToRef(e){let t=this.crowd.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}getCorners(e){let t,n=this.crowd.getCorners(e),i=n.getPointCount(),r=[];for(t=0;t<i;t++){let o=n.getPoint(t);r.push(new L(o.x,o.y,o.z))}return r}dispose(){this.crowd.destroy()}};function S2e(e){let t=!1;return e.scene.objects.forEach(n=>{n.data.type==="Page"&&!t&&n.data.publish.gameControlObject&&ay.traverseModuleInstances(e,n.id,(i,r,o)=>{for(let a of o)a.data.type==="GameControl"&&a.data.navmesh.enabled&&(t=!0)})}),t}var E2e={type:"change"},P9={type:"changeZoom"},D2e={type:"changePan"},nf={type:"start"},rf={type:"end",changed:!0},A2e={type:"end",changed:!1},C3=new Dt,O9=new oe,T2e=2*Math.PI,I2e=1e-8,R2e=.01,M3=new L,FC=new oe,w3=new L,NC=new Dt,S9=new Be,L2e={type:"requestRender"},AG=class extends Jr{constructor(e,t,n={isPlayMode:!1,isExport:!1}){super(),this.object=e,this.domElement=t,this.options=n,this.enabled=!0,this.useKeyEvents=!0,this.enableDamping=!1,this.enableZoom=!0,this.enableRotate=!0,this.enablePan=!0,this.autoRotate=!1,this.rotationLimitsMode=0,this.panLimitsMode=0,this.rotationSoftLimit=2,this.panSoftLimit=2,this.hoverRotatePanMode=0,this.zoomLimitsEnabled=!1,this.mouseButtons=[0,5],this.mouseButtonsPlay=[3,4,5],this.touches=[null,rs.DOLLY_ROTATE,rs.PAN],this.offset=new L,this.eye=new L,this.lastPosition=new L,this.lastQuaternion=new Dt,this.current=new oe,this.overShoot=new oe,this.overRatio=new oe,this.spherical=new mN,this.sphericalDelta=new mN,this.panOffset=new L,this.panLeftV=new L,this.panUpV=new L,this.panV=new L,this.rotateStart=new oe,this.rotateEnd=new oe,this.rotateDelta=new oe,this.panStart=new oe,this.panEnd=new oe,this.panDelta=new oe,this.dollyStart=new oe,this.dollyEnd=new oe,this.dollyDelta=new oe,this.rotationRangeFactor=new oe,this.panRangeFactor=new oe,this.state=-1,this.zoomChanged=!1,this.isPointerDown=!1,this.isThetaFlipped=!1,this.prevScale=0,this.scale=1,this.gesture=!1,this.timer=-1,this.timerHover=-1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPhi=0,this.maxPhi=Math.PI,this.minTheta=-1/0,this.maxTheta=1/0,this.minH=0,this.maxH=Math.PI,this.minV=-1/0,this.maxV=1/0,this.autoRotateClockwise=!0,this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.resetHoverEffectOnPointerLeave=!1,this.hasChange=!1,this.useWindowEvents=!1,this.isTouchZoom=!0,this.autoRotateSpeed=2,this.dampingFactor=.125,this.zoomSpeed=2,this.rotateSpeed=1,this.panSpeed=1,this.hoverRotatePanStrength=.1,this.hoverRotateDamping=this.dampingFactor,this.thetaIsFree=!1,this.phiIsFree=!1,this.needsUpdate=!0,this.onCameraChange=i=>{this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange),this.object=i.camera,this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)},this.update=()=>{this.object.updateWorldMatrix(!0,!1),this.object.matrixWorld.decompose(w3,NC,M3),this.offset.copy(w3).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.autoRotate&&this.state===-1&&this.rotateLeft((this.autoRotateClockwise===!0?1:-1)*this.getAutoRotationAngle()),this.rotationLimitsMode!==0&&this.applyLimits(this.sphericalDelta,this.rotationLimitsMode,this.rotationSoftLimit,this.maxTheta,this.minTheta,this.maxPhi,this.minPhi,this.rotationRangeFactor),this.rotationLimitsMode!==2&&(this.spherical.phi+=this.sphericalDelta.phi),(this.rotationLimitsMode!==1||this.autoRotate===!0)&&(this.spherical.theta+=this.sphericalDelta.theta),this.spherical.radius*=this.scale,this.zoomLimitsEnabled&&this.object.isPerspectiveCamera&&(this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius))),this.panLimitsMode!==0&&(this.target.applyQuaternion(C3.copy(NC).invert()),this.panOffset.applyQuaternion(C3),this.applyLimits(this.panOffset,this.panLimitsMode,this.panSoftLimit,this.maxH,this.minH,this.maxV,this.minV,this.panRangeFactor),this.target.applyQuaternion(NC),this.panOffset.applyQuaternion(NC)),this.panLimitsMode===2&&(this.panOffset.y=0),this.panLimitsMode===1&&(this.panOffset.x=0),this.state===-1&&!this.gesture?(this.panOffset.multiplyScalar(1-this.dampingFactor),this.target.add(this.panOffset)):(this.target.add(this.panOffset),this.panOffset.set(0,0,0)),this.offset.setFromSpherical(this.spherical),w3.copy(this.target).add(this.offset),this.object.position.copy(this.target).add(this.offset),this.object.parent&&(S9.copy(this.object.parent.matrixWorld).invert(),this.object.position.applyMatrix4(S9));let i=this.spherical.phi%T2e;if(this.eye.copy(this.offset).normalize(),this.object.up.copy(qn.DEFAULT_UP).applyAxisAngle(this.eye,this.object.angleOffsetFromUp),i>0&&i>Math.PI||i<0&&i>-Math.PI?(this.object.up.negate(),this.object.lookAt(this.target),this.object.isUpVectorFlipped=!0):(this.object.lookAt(this.target),this.object.isUpVectorFlipped=!1),this.state===-1||this.enableDamping===!0){let r=this.hoverRotatePanMode===1?this.hoverRotateDamping:this.dampingFactor;this.sphericalDelta.theta*=1-r,this.sphericalDelta.phi*=1-r}else this.sphericalDelta.set(0,0,0);return this.scale=1,this.zoomChanged||this.lastPosition.distanceToSquared(this.object.position)>R2e||8*(1-this.lastQuaternion.dot(this.object.quaternion))>I2e?(this.dispatchEvent(E2e),this.object.dispatchEvent(L2e),this.lastPosition.copy(this.object.position),this.lastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0):(this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.object.wasMovedBySwitchCameraAction=!1,this.sphericalDelta.set(0,0,0),this.panOffset.set(0,0,0),!1)},this.onPointerDown=i=>{this.enabled!==!1&&(i.pointerType==="touch"||i.pointerType==="pen"&&Na?this.onPointerDownTouch(i):this.onPointerDownMouse(i),this.state!==-1&&(this.isPointerDown=!0,this.dispatchEvent(nf),this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp),i.stopPropagation(),i.pointerType==="touch"||i.pointerType==="pen"&&Na||this.domElement.setPointerCapture(i.pointerId)))},this.onPointerLeave=i=>{this.resetHoverEffectOnPointerLeave&&!this.useWindowEvents?(this.hoverRotatePanMode===1?(this.sphericalDelta.theta=-this.spherical.theta,this.sphericalDelta.phi=-this.spherical.phi,M3.subVectors(this.position0,this.target0),this.spherical.setFromVector3(M3),this.sphericalDelta.theta+=this.spherical.theta,this.sphericalDelta.phi+=this.spherical.phi,this.sphericalDelta.theta/=8,this.sphericalDelta.phi/=8):this.hoverRotatePanMode===2&&this.panOffset.subVectors(this.target0,this.target).divideScalar(8),this.update()):this.pointerLeaveEvent=i},this.onPointerEnter=i=>{this.resetHoverEffectOnPointerLeave||this.pointerLeaveEvent===void 0?FC.set(i.clientX-this.domElement.clientWidth/2,i.clientY-this.domElement.clientHeight/2):FC.set(i.clientX-this.pointerLeaveEvent.clientX,i.clientY-this.pointerLeaveEvent.clientY),this.hoverRotatePanMode===1?(this.rotateDelta.copy(FC).multiplyScalar(this.rotateSpeed*this.hoverRotatePanStrength).rotateAround(O9,-this.object.angleOffsetFromUp),this.rotateLeft(2*Math.PI*this.rotateDelta.x/this.domElement.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/this.domElement.clientHeight),this.rotateStart.set(i.clientX,i.clientY)):this.hoverRotatePanMode===2&&(this.panDelta.copy(FC).multiplyScalar(this.panSpeed*this.hoverRotatePanStrength),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.set(i.clientX,i.clientY)),this.update()},this.onPointerMove=i=>{this.enabled!==!1&&(this.checkRaycastLock()||(i.pointerType==="touch"||i.pointerType==="pen"&&Na?this.onPointerMoveTouch(i):this.onPointerMoveMouse(i),i.stopPropagation()))},this.onPointerUp=i=>{this.isPointerDown=!1,xt.length===0&&(this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)),xt.length>1&&i.preventDefault(),this.hasChange?this.dispatchEvent(rf):this.dispatchEvent(A2e),this.state=-1,i&&(i.stopPropagation(),i.pointerType==="touch"||i.pointerType==="pen"&&Na||this.domElement.releasePointerCapture(i.pointerId))},this.onPointerDownMouse=i=>{let r;switch(this.useKeyEvents?r=this.mouseButtons[i.button]:r=this.mouseButtonsPlay[i.button],r){case 0:if(i.altKey===!0&&!i.shiftKey&&!X_(i)){if(this.enableRotate===!1)return;this.handleMouseDownRotate(i),this.state=0}else if(this.key===" "){if(this.enablePan===!1)return;this.handleMouseDownPan(i),this.state=2}break;case 4:if(this.enablePan===!1)return;this.handleMouseDownPan(i),this.state=2;break;case 3:if(X_(i)||i.shiftKey){if(this.enablePan===!1)return;this.handleMouseDownPan(i),this.state=2}else{if(this.enableRotate===!1)return;this.handleMouseDownRotate(i),this.state=0}break;case 5:if(X_(i)||i.shiftKey){if(this.enableRotate===!1)return;this.handleMouseDownRotate(i),this.state=0}else{if(this.enablePan===!1)return;this.handleMouseDownPan(i),this.state=2}break;default:this.state=-1}},this.onPointerMoveMouse=i=>{switch(this.state){case 0:if(this.enableRotate===!1)return;this.handleMouseMoveRotate(i);break;case 1:if(this.enableZoom===!1)return;this.handleMouseMoveDolly(i);break;case 2:if(this.enablePan===!1)return;this.handleMouseMovePan(i);break}this.object.wasMovedByUser=!0},this.onPointerDownTouch=i=>{switch(xt.length>1&&i.preventDefault(),this.touches[xt.length-1]){case rs.ROTATE:if(this.enableRotate===!1){this.state=-1;return}this.handleTouchStartRotate(),this.state=3;break;case rs.PAN:if(this.enablePan===!1){this.state=-1;return}this.handleTouchStartPan(),this.state=4;break;case rs.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this.handleTouchStartDollyPan(),this.state=5;break;case rs.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this.handleTouchStartDollyRotate(),this.state=6;break;default:this.state=-1}},this.onPointerMoveTouch=i=>{switch(xt.length>1&&i.preventDefault(),this.state){case 3:if(this.enableRotate===!1)return;this.handleTouchMoveRotate(i),this.update();break;case 4:if(this.enablePan===!1)return;this.handleTouchMovePan(i),this.update();break;case 5:if(this.enableZoom===!1&&this.enablePan===!1)return;this.handleTouchMoveDollyPan(i),this.update();break;case 6:if(this.enableZoom===!1&&this.enableRotate===!1)return;this.handleTouchMoveDollyRotate(i),this.update();break;default:this.state=-1}this.object.wasMovedByUser=!0},this.dispatchEndDebounced=lT(()=>this.dispatchEvent(rf),33),this.onMouseWheel=i=>{this.enabled===!1||this.enableZoom===!1&&this.enablePan===!1||this.checkRaycastLock()||(!this.options.isExport&&this.domElement.clientHeight===document.body.clientHeight&&this.domElement.clientWidth===document.body.clientWidth&&i.preventDefault(),this.dispatchEvent(nf),this.handleMouseWheel(i),this.dispatchEndDebounced(),this.object.wasMovedByUser=!0)},this.onGesture=i=>{if(i.preventDefault(),this.enabled!==!1&&!this.checkRaycastLock()&&!cT)if(i.type==="gesturechange"){if(this.enableZoom===!1||this.isTouchZoom===!1)return;this.dispatchEvent(nf),i.scale>this.prevScale?this.dollyIn(this.getZoomScale()):i.scale<this.prevScale&&this.dollyOut(this.getZoomScale()),this.prevScale=i.scale,this.update(),this.object.wasMovedByUser=!0}else this.dispatchEvent(rf)},this.onContextMenu=i=>{i.preventDefault()},this.onTouchEnd=i=>{i.preventDefault()},this.onKeyDown=i=>{this.enabled!==!1&&(this.key=i.key,i.key===" "&&this.dispatchEvent(nf))},this.onKeyUp=i=>{this.enabled!==!1&&(this.key=void 0,this.state!==-1&&i.key==="Alt"&&this.onPointerUp(xt[0]),i.key===" "&&this.dispatchEvent(rf))},this.onPointerHover=i=>{i.pointerType!=="mouse"||this.enabled===!1||this.state!==-1||this.hoverRotatePanMode===2&&this.isPanOverShoot||this.hoverRotatePanMode===1&&this.isRotateOverShoot||(this.isPointerDown=!0,this.hoverRotatePanMode===2?this.handleMouseMovePan(i,this.hoverRotatePanStrength):this.hoverRotatePanMode===1&&this.handleMouseMoveRotate(i,this.hoverRotatePanStrength))},this.onBeginState=()=>{this.enabled=!1,this.needsUpdate=!1},this.onCompleteState=i=>{i.isfromEntity&&this.options.isPlayMode||(this.enabled=!0,this.needsUpdate=!0,this.object.updateUp(),this.object.getTarget(this.target))},this.target=this.object.getTarget(),this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.quat0=this.object.quaternion.clone(),this.isUpVectorFlipped0=this.object.isUpVectorFlipped,this.offset.copy(this.object.position).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.addEventListenersToCamera()}dispatchEvent(e){e.type==="start"?this.hasChange=!1:this.hasChange=!0,super.dispatchEvent(e)}addEventListenersToCamera(){this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)}removeEventListenersFromCamera(){this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange)}updateUseWindowEvents(e){if(window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("pointermove",this.onPointerHover),this.useWindowEvents=e,this.hoverRotatePanMode!==0&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover)),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.hoverRotatePanMode!==0&&!this.useWindowEvents){let t=this.useWindowEvents?window:this.domElement;t.addEventListener("pointerleave",this.onPointerLeave),t.addEventListener("pointerenter",this.onPointerEnter)}}fromJSON(e,t){this.setEnableDampingSpeed(e.enableDamping),this.enablePan=e.enablePan,this.enableZoom=e.enableZoom,this.enableRotate=e.enableRotate,this.rotationLimitsMode=e.rotationLimitsMode,this.thetaIsFree=e.rotationHorizontalOffset.min===e.rotationHorizontalOffset.max&&e.rotationHorizontalOffset.min===Math.PI,this.phiIsFree=e.rotationVerticalOffset.min===e.rotationVerticalOffset.max&&e.rotationVerticalOffset.min===Math.PI,this.panLimitsMode=e.panLimitsMode,this.panSoftLimit=e.panSoftLimit,this.rotationSoftLimit=e.rotationSoftLimit,this.hoverRotatePanMode=e.hoverRotatePanMode,this.hoverRotateDamping=e.hoverRotateDamping??this.dampingFactor,this.useWindowEvents=t==="window",this.hoverRotatePanMode!==0&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover));let n=e.hoverRotatePanStrength/100;this.hoverRotatePanStrength=n**2,this.zoomLimitsEnabled=e.zoomLimitsEnabled,this.minZoom=e.zoomLimits.min,this.maxZoom=Math.max(e.zoomLimits.min,e.zoomLimits.max),this.minDistance=1e3/e.zoomLimits.max,this.maxDistance=Math.max(this.minDistance,1e3/e.zoomLimits.min),this.autoRotate=e.autoRotate,this.autoRotateSpeed=e.autoRotateSpeed,this.autoRotateClockwise=e.autoRotateClockwise;let i=this.object.getTarget().applyQuaternion(C3.copy(this.object.quaternion).invert());this.minV=-e.panVerticalOffset.min+i.y,this.maxV=e.panVerticalOffset.max+i.y,this.minH=-e.panHorizontalOffset.min+i.x,this.maxH=e.panHorizontalOffset.max+i.x,this.panRangeFactor.set(this.maxH-this.minH,this.maxV-this.minV).divideScalar(2),this.rotationRangeFactor.setScalar(Math.PI).divideScalar(4),this.minPhi=Tl(this.spherical.phi-e.rotationVerticalOffset.min),this.maxPhi=Tl(this.spherical.phi+e.rotationVerticalOffset.max),this.minTheta=Tl(Tl(this.spherical.theta)-e.rotationHorizontalOffset.min),this.maxTheta=Tl(Tl(this.spherical.theta)+e.rotationHorizontalOffset.max),this.isThetaFlipped=this.minTheta>this.maxTheta,e.orbitTouches===1&&(this.touches[0]=rs.ROTATE),e.panTouches===1&&(this.touches[0]=rs.PAN),e.orbitTouches===2&&(this.touches[1]=rs.DOLLY_ROTATE),e.panTouches===2&&(this.touches[1]=rs.DOLLY_PAN),e.orbitTouches===3&&(this.touches[2]=rs.ROTATE),e.panTouches===3&&(this.touches[2]=rs.PAN),this.isTouchZoom=e.isTouchZoom,this.resetHoverEffectOnPointerLeave=e.resetHoverEffectOnPointerLeave??!1}connect(){if(this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("wheel",this.onMouseWheel),window.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("keyup",this.onKeyUp,!1),this.domElement.addEventListener("gesturestart",this.onGesture),this.domElement.addEventListener("gesturechange",this.onGesture),this.domElement.addEventListener("gestureend",this.onGesture),this.domElement.addEventListener("touchend",this.onTouchEnd),this.hoverRotatePanMode!==0&&!this.useWindowEvents){let e=this.useWindowEvents?window:this.domElement;e.addEventListener("pointerleave",this.onPointerLeave),e.addEventListener("pointerenter",this.onPointerEnter)}this.pointerLeaveEvent=void 0}dispose(){this.removeEventListenersFromCamera(),this.domElement.removeEventListener("contextmenu",this.onContextMenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("wheel",this.onMouseWheel),window.removeEventListener("keydown",this.onKeyDown,!1),window.removeEventListener("keyup",this.onKeyUp,!1),this.domElement.removeEventListener("pointermove",this.onPointerHover),window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("gesturestart",this.onGesture),this.domElement.removeEventListener("gesturechange",this.onGesture),this.domElement.removeEventListener("gestureend",this.onGesture),this.domElement.removeEventListener("touchend",this.onTouchEnd),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)}applyLimits(e,t,n,i,r,o,a,s){this.overShoot.set(0,0);let l,c,d;e instanceof L?(l=e.x,c=e.y,this.current.set(this.target.x,this.target.y),d=!0):(l=e.theta,c=e.phi,this.current.set(Tl(this.spherical.theta),Tl(this.spherical.phi)),d=!1),n===0&&(this.current.x+=l,this.current.y+=c),(t===3||t===2)&&(!d&&this.isThetaFlipped?this.current.x>i&&this.current.x<0?this.overShoot.x=i-this.current.x:this.current.x<r&&this.current.x>0&&(this.overShoot.x=r-this.current.x):this.current.x>i?this.overShoot.x=i-this.current.x:this.current.x<r&&(this.overShoot.x=r-this.current.x)),(t===3||t===1)&&(this.current.y>o?this.overShoot.y=o-this.current.y:this.current.y<a&&(this.overShoot.y=a-this.current.y)),d||(this.overShoot.x=Tl(this.overShoot.x),this.overShoot.y=Tl(this.overShoot.y)),n!==0?(this.overRatio.copy(this.overShoot).divide(s),this.overRatio.x=Math.min(Math.abs(this.overRatio.x),1),this.overRatio.y=Math.min(Math.abs(this.overRatio.y),1),n===1&&(this.overRatio.x=E9(Math.abs(this.overRatio.x)),this.overRatio.y=E9(Math.abs(this.overRatio.y))),this.isPointerDown||n===1?n===2&&(this.overRatio.x>.9&&!this.thetaIsFree||this.overRatio.y>.9&&!this.phiIsFree)?this.isPointerDown=!1:(l*this.overShoot.x<0&&!this.thetaIsFree&&(l*=1-this.overRatio.x),c*this.overShoot.y<0&&!this.phiIsFree&&(c*=1-this.overRatio.y)):n===2&&(!d&&(this.overRatio.x>.002&&!this.thetaIsFree||this.overRatio.y>.002&&!this.phiIsFree)||d&&(Math.abs(this.overShoot.x)>2||Math.abs(this.overShoot.y)>2)?(this.thetaIsFree||(l=this.overShoot.x*.05),this.phiIsFree||(c=this.overShoot.y*.05),d?this.isPanOverShoot=!0:this.isRotateOverShoot=!0):d?this.isPanOverShoot=!1:this.isRotateOverShoot=!1)):(l+=this.overShoot.x,c+=this.overShoot.y),e instanceof L?(e.x=l,e.y=c):(this.thetaIsFree||(e.theta=l),this.phiIsFree||(e.phi=c))}setEnableDampingSpeed(e){this.enableDamping=e,this.rotateSpeed=e===!0?.2:1}stopDamping(){this.sphericalDelta.theta=0,this.sphericalDelta.phi=0}getAutoRotationAngle(){return 2*Math.PI/60/60*this.autoRotateSpeed}getZoomScale(){return Math.pow(.95,this.zoomSpeed)}rotateLeft(e){this.sphericalDelta.theta-=e}rotateUp(e){this.sphericalDelta.phi-=e}panLeft(e,t){this.panLeftV.setFromMatrixColumn(t,0),this.panLeftV.multiplyScalar(-e),this.panOffset.add(this.panLeftV)}panUp(e,t){this.panUpV.setFromMatrixColumn(t,1),this.panUpV.multiplyScalar(e),this.panOffset.add(this.panUpV)}pan(e,t){let n=this.domElement;if(n&&this.object.isPerspectiveCamera){let i=this.object.position;this.panV.copy(i).sub(this.target);let r=this.panV.length();r*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*e*r/n.clientHeight,this.object.matrixWorld),this.panUp(2*t*r/n.clientHeight,this.object.matrixWorld)}else n&&this.object.isOrthographicCamera&&(this.panLeft(e*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrixWorld),this.panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrixWorld));this.dispatchEvent(D2e)}dollyOut(e){this.object.isPerspectiveCamera?this.scale/=e:this.object.isOrthographicCamera&&(this.object.zoom*=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(P9)}dollyIn(e){this.object.isPerspectiveCamera?this.scale*=e:this.object.isOrthographicCamera&&(this.object.zoom/=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(P9)}zoomOut(e=this.getZoomScale()){this.dispatchEvent(nf),this.dollyOut(e),this.dispatchEvent(rf)}zoomIn(e=this.getZoomScale()){this.dispatchEvent(nf),this.dollyIn(e),this.dispatchEvent(rf)}handleMouseDownRotate(e){this.rotateStart.set(e.clientX,e.clientY)}handleMouseDownDolly(e){this.dollyStart.set(e.clientX,e.clientY)}handleMouseDownPan(e){this.panStart.set(e.clientX,e.clientY)}handleMouseMoveRotate(e,t=1){e.movementX!==void 0?this.rotateDelta.set(e.movementX,e.movementY):(this.rotateEnd.set(e.clientX,e.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd)),this.rotateDelta.multiplyScalar(this.rotateSpeed*t).rotateAround(O9,-this.object.angleOffsetFromUp);let n=this.domElement,i=this.useWindowEvents?window.innerHeight:n.clientHeight,r=2*Math.PI*this.rotateDelta.x/i,o=2*Math.PI*this.rotateDelta.y/i;this.rotateLeft(r),this.rotateUp(o),this.update()}handleMouseMoveDolly(e){this.dollyEnd.set(e.clientX,e.clientY),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.dollyOut(this.getZoomScale()):this.dollyDelta.y<0&&this.dollyIn(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.update()}handleMouseMovePan(e,t=1){e.movementX!==void 0?this.panDelta.set(e.movementX,e.movementY):(this.panEnd.set(e.clientX,e.clientY),this.panDelta.subVectors(this.panEnd,this.panStart),this.panStart.copy(this.panEnd)),this.panDelta.multiplyScalar(this.panSpeed*t),this.pan(this.panDelta.x,this.panDelta.y),this.update()}handleMouseWheel(e){if(mve===!1&&X_(e)===!1&&gve(e)===!0){if(this.enablePan===!1)return;this.gesture?(this.panDelta.set(-e.deltaX,-e.deltaY).multiplyScalar(this.panSpeed),this.panDelta.x=Math.min(Math.abs(this.panDelta.x),100)*(this.panDelta.x<0?-1:1),this.panDelta.y=Math.min(Math.abs(this.panDelta.y),100)*(this.panDelta.y<0?-1:1),e.altKey?this.pan(0,this.panDelta.y):e.shiftKey?this.pan(this.panDelta.x,0):this.pan(this.panDelta.x,this.panDelta.y),this.update()):(this.gesture=!0,this.isPointerDown=!0),window.clearTimeout(this.timer),this.timer=window.setTimeout(()=>{this.gesture=!1,this.isPointerDown=!1},30)}else{if(this.enableZoom===!1)return;e.deltaY===0?e.deltaX<0?this.dollyIn(this.getZoomScale()):e.deltaX>0&&this.dollyOut(this.getZoomScale()):e.deltaY<0?this.dollyIn(this.getZoomScale()):e.deltaY>0&&this.dollyOut(this.getZoomScale()),this.update(),this.gesture=!1,this.isPointerDown=!1}}handleTouchStartRotate(){if(xt.length===2){let e=.5*(xt[0].pageX+xt[1].pageX),t=.5*(xt[0].pageY+xt[1].pageY);this.rotateStart.set(e,t)}else this.rotateStart.set(xt[0].pageX,xt[0].pageY)}handleTouchStartPan(){if(xt.length===2){let e=.5*(xt[0].pageX+xt[1].pageX),t=.5*(xt[0].pageY+xt[1].pageY);this.panStart.set(e,t)}else this.panStart.set(xt[0].pageX,xt[0].pageY)}handleTouchStartDolly(){let e=xt[0].pageX-xt[1].pageX,t=xt[0].pageY-xt[1].pageY,n=Math.sqrt(e*e+t*t);this.dollyStart.set(0,n)}handleTouchStartDollyPan(){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchStartDolly(),this.enablePan&&this.handleTouchStartPan()}handleTouchStartDollyRotate(){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchStartDolly(),this.enableRotate&&this.handleTouchStartRotate()}handleTouchMoveRotate(e){if(xt.length===2){let n=mE(e),i=.5*(e.pageX+n.x),r=.5*(e.pageY+n.y);this.rotateEnd.set(i,r)}else{if(e.pointerId!==xt[0].pointerId)return;this.rotateEnd.set(e.pageX,e.pageY)}this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;t&&(this.rotateLeft(2*Math.PI*this.rotateDelta.x/t.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/t.clientHeight)),this.rotateStart.copy(this.rotateEnd)}handleTouchMovePan(e){if(xt.length===2){let t=mE(e),n=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);this.panEnd.set(n,i)}else{if(e.pointerId!==xt[0].pointerId)return;this.panEnd.set(e.pageX,e.pageY)}this.panDelta.subVectors(this.panEnd,this.panStart).multiplyScalar(this.panSpeed),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd)}handleTouchMoveDolly(e){let t=mE(e),n=e.pageX-t.x,i=e.pageY-t.y,r=Math.sqrt(n*n+i*i);this.dollyEnd.set(0,r),this.dollyDelta.set(0,Math.pow(this.dollyEnd.y/this.dollyStart.y,this.zoomSpeed)),this.dollyOut(this.dollyDelta.y),this.dollyStart.copy(this.dollyEnd)}handleTouchMoveDollyPan(e){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchMoveDolly(e),this.enablePan&&this.handleTouchMovePan(e)}handleTouchMoveDollyRotate(e){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchMoveDolly(e),this.enableRotate&&this.handleTouchMoveRotate(e)}checkRaycastLock(){if(this.object.data.raycastLock){if(this.options.isPlayMode)return!1;{let e=this.options?.showCameraLock;return e&&e(),!0}}else return!1}};function Tl(e){let t=Math.PI*2;for(;e<=-Math.PI;)e+=t;for(;e>Math.PI;)e-=t;return e}function E9(e){return 1-Math.pow(1-e,4)}var D9=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.page=i,this.currentIntersectedObjects=[],this.alreadyPlayedNonTogglingActions=new Set,this.actions=Go(t,t.actions,i,r,o,n),this.target=t.target,this.triggeringObjects=[];for(let a of t.triggeringObjects){let s=i.scene.find(a);s&&this.triggeringObjects.push(s)}}isValidTriggeringObject(e){return this.target==="all"?!0:this.triggeringObjects.some(t=>t===e||t.isAncestorOf(e.uuid)||e.isAncestorOf(t.uuid))}disconnect(){Rr(this.actions)}dispatch(){this.object.destroyedInAction||(this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this?(e.object.currentTransitionEvent=this,e.init()):e.data.runMode==="Once"&&this.alreadyPlayedNonTogglingActions.add(e)}),this.object.dispatchEvent({type:"beginEvent",eventName:"Trigger"}),this.actions.Transition.forEach(e=>{this.alreadyPlayedNonTogglingActions.has(e)===!1&&(e.data.runMode==="Toggle"?e.toggle():e.play())}),this.actions.SwitchCamera.forEach(e=>{e.data.runMode==="Toggle"?e.toggle():e.play()}),this.actions.Link.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>{e.dispatch()}),this.actions.Create.forEach(e=>{e.dispatch()}),this.actions.Destroy.forEach(e=>{e.dispatch(!1)}),this.actions.Audio.forEach(e=>{e.dispatchBasic()}),this.actions.Particles.forEach(e=>{e.dispatchBasic()}),this.actions.Video.forEach(e=>{e.dispatchBasic()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()))}},xn;Mve.then(e=>xn=e);var Qi=new L,zs=new Dt,Gd=new L,x3=new mr(0,0,0,"YXZ"),A9=new mr(0,0,0,"XYZ"),Bs=new L,P3=new L,O3=new L(1,1,1),of=new Dt,zC=new Be,T9=new Be,k2e={type:"updateMatrix"},I9=new Dt,S3=new ua,SA={type:"beginEvent",eventName:"Collision"},F2e={type:"beginEvent",eventName:"Trigger"};function N2e(e){if(ay.physicsEnabled(e.scene.objects))return!0;let t=!1;return e.scene.objects.traverse((n,i)=>{if(i.events){if(Array.isArray(i.events)){for(let r of i.events)if(r.data.disabled!==!0&&r.data.type==="GameControl"&&r.data.collisionEnabled){t=!0;break}}else for(let r of Object.values(i.events))if(r.disabled!==!0&&r.type==="GameControl"&&r.collisionEnabled){t=!0;break}}}),t}var nw=e=>e.states.some(t=>t.data.position!==void 0||t.data.rotation!==void 0||t.data.hiddenMatrix!==void 0||t.data.cloner!==void 0||t.data.pathSnapping!==void 0),z2e=class{constructor(e){this.eventContext=e,this.isEnabled=!1,this.gameControl=null,this.joysticks=[],this.joystickToGameControls=[],this.sharedGameControlGlobals={entitiesWithTransformAnim:[],entityToCollisionEvents:{},colliderToEntity:new Map,triggers:[],gamePads:[],createdObjects:[],nCreatedPerAction:{}},this.sensorToTriggerEvent={},this.eventManager=void 0,this.needsCollisionDetection=!1,this.initializationCounter=-1,this.rigidBodyToMesh=new Map,this.nActiveRigidBodies=0,this.collisionEvents=[],this.isExport=!1,this.processRigidBody=t=>{if(t.bodyType()!==xn.RigidBodyType.Dynamic)return;t.isSleeping()||this.nActiveRigidBodies++;let[n,i,r]=this.rigidBodyToMesh.get(t.handle);if(Qi.copy(t.translation()).multiplyScalar(this.pixelsPerMeter),zs.copy(t.rotation()),n.matrixWorld.compose(Qi,zs,i),n.hasNonUniformScale&&n.matrixWorld.multiply(n.shearScale),n.dispatchEvent(k2e),r){let o=n.cloner;if(o&&o.objectForSample===void 0){o.matrixWorld.copy(n.matrixWorld);for(let a of o.children)a.updateMatrixWorld(!0)}for(let a of n.children)a.updateMatrixWorld(!0)}},this.accumulator=0,this.handleCollisionEvents=(t,n,i)=>{if(i===!1)return;let r,o;if(this.sensorToTriggerEvent[t]?(r=this.sensorToTriggerEvent[t],o=this.sharedGameControlGlobals.colliderToEntity.get(n)):this.sensorToTriggerEvent[n]&&(r=this.sensorToTriggerEvent[n],o=this.sharedGameControlGlobals.colliderToEntity.get(t)),r&&o&&r.isValidTriggeringObject(o)){r.dispatch();return}for(let a=this.sharedGameControlGlobals.createdObjects.length-1;a>=0;a--){let s=this.sharedGameControlGlobals.createdObjects[a];if(s.userData.hasCollisionDestroy&&(s.rigidBody?.collider(0).handle===t||s.rigidBody?.collider(0).handle===n)){this.sharedGameControlGlobals.createdObjects.splice(a,1),s.removeFromParent(),requestAnimationFrame(()=>this.sharedGameControlGlobals.rapierWorld?.removeRigidBody(s.rigidBody));break}}if(this.gameControl?.object!==void 0&&this.gameControl.object===this.sharedGameControlGlobals.colliderToEntity.get(t)){let a=this.sharedGameControlGlobals.colliderToEntity.get(n),s=this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid];if(s===void 0)return;for(let l of s)l.data.target==="character"&&this.dispatchCollisionEvent(l,a,n)}else if(this.gameControl?.object!==void 0&&this.gameControl.object===this.sharedGameControlGlobals.colliderToEntity.get(n)){let a=this.sharedGameControlGlobals.colliderToEntity.get(t),s=this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid];if(s===void 0)return;for(let l of s)l.data.target==="character"&&this.dispatchCollisionEvent(l,a,t)}else{let a=this.sharedGameControlGlobals.colliderToEntity.get(t),s=this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid];if(s!==void 0)for(let d of s)d.data.target==="scene"&&this.dispatchCollisionEvent(d,a,t);let l=this.sharedGameControlGlobals.colliderToEntity.get(n),c=this.sharedGameControlGlobals.entityToCollisionEvents[l?.uuid];if(c!==void 0)for(let d of c)d.data.target==="scene"&&this.dispatchCollisionEvent(d,l,n)}},this.isExport=e.isExport,this.sharedAssets=e.sharedAssets,this.renderer=e.renderer,this.requestRender=e.requestRender,this.domElement=this.renderer.domElement,this.pixelsPerMeter=CG,this.gravity=this.page.data.globalPhysics.gravity}get page(){return this.eventContext.page}attachVRControllers(e){e.forEach(t=>{t.addEventListener("connected",n=>{"gamepad"in n.data&&"axes"in n.data.gamepad&&this.sharedGameControlGlobals.gamePads.push(n.data.gamepad)})})}markIsDestroyTarget(){this.page.traverseVisibleEntity(e=>{let t=e.dataPatched;for(let n of t.events){if(n.data.disabled===!0)continue;let i=n.data.actions?.find(r=>r.data.type==="Destroy")?.data;if(i)for(let r of i.objects){let o=this.page.scene.find(r);o&&(o.userData.hasDestroy=!0)}}})}markIsDragObject(){this.page.traverseVisibleEntity(e=>{let t=e.dataPatched;for(let n of t.events)if(!(n.data.disabled===!0||n.data.type!=="DragDrop"))for(let i of n.data.objects){let r=this.page.scene.find(i);r&&(r.userData.hasDrag=!0)}})}initBVH(){let e=[];if(this.page.traverseChildren(t=>{let n,i=t instanceof YC,r=t instanceof QC;if(t instanceof Gs||i||r)return;t instanceof yo?n=t.object:n=t;let o=n.dataPatched;if(o.physics?.enabled==="visibility"?!o.visible:!o.physics?.enabled)return!0;let a=t.geometry,s=n.userData.hasDestroy===!0,l=n.userData.hasDrag===!0;if(nw(o)||s||l||n.dataPatched.events.some(c=>c.data.disabled!==!0&&c.data.type==="GameControl"))return t.updateMatrixWorldSVD(),this.addBoundsTree(t),!0;a&&e.push(Vc(a,t.matrixWorld))}),e.length>0){let t=Uh(e,!1);this.sharedGameControlGlobals.staticMeshBVH=new Uv(t)}}addRigidBody(e,t,n){let i=[],r="geometry"in e?e.geometry:void 0,o=t.dataPatched;if(r?.getAttribute("position")!==void 0&&i.push(Vc(r,e.shearScale)),o.physics.fusedBody){let a=this.gatherChildrenGeom(e,i);e.traverseObject(a),e.children.forEach(l=>l.updateMatrixWorld(!0));let s=e.cloner;s&&s.objectForSample===void 0&&o.physics.rigidBody==="dynamic"&&(s.traverseObject(a),s.children.forEach(l=>l.updateMatrixWorld(!0)))}if(i.length>0){let a,s=!n.fromCreate&&o.physics.rigidBody==="dynamic"||n.fromCreate&&n.dynamic;s?(a=xn.RigidBodyDesc.dynamic(),a.setLinearDamping(o.physics.damping).setAngularDamping(o.physics.damping).setAdditionalMass(1e-9).setGravityScale(o.physics.gravityScale).enabledRotations(...o.physics.enabledRotation).enabledTranslations(...o.physics.enabledTranslation)):(n.hasTransformAnim||n.hasFollow||n.hasDrag)&&!n.fromCreate?(a=xn.RigidBodyDesc.kinematicPositionBased(),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)):a=xn.RigidBodyDesc.fixed();let l=Uh(i);(e.hasNonUniformScale?e.matrixWorldRigid:e.matrixWorld).decompose(Qi,zs,Gd),e.position0=Qi.clone().divideScalar(this.pixelsPerMeter),e.rotation0=zs.clone(),Qi.divideScalar(this.pixelsPerMeter),a.setTranslation(Qi.x,Qi.y,Qi.z).setRotation(zs),r?l?.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter):l?.scale(Gd.x/this.pixelsPerMeter,Gd.y/this.pixelsPerMeter,Gd.z/this.pixelsPerMeter);let c=this.sharedGameControlGlobals.rapierWorld.createRigidBody(a);s&&this.rigidBodyToMesh.set(c.handle,[e,Gd.clone(),o.physics.fusedBody]);let d=!(o.geometry===void 0||o.geometry.type==="SubdivGeometry"||o.geometry.type==="NonParametricGeometry"||o.geometry.type==="BooleanGeometry"||o.geometry.type==="VectorGeometry"||o.geometry.type==="StarGeometry"||o.geometry.type==="RectangleGeometry"||o.geometry.type==="EllipseGeometry"||o.geometry.type==="TriangleGeometry"||o.geometry.type==="TorusGeometry"||o.geometry.type==="HelixGeometry");try{this.addCollider(c,o.physics,l,t,d)}catch{try{this.addCollider(c,o.physics,l,t,!1)}catch(u){console.error(u)}}e.rigidBody=c}}addBoundsTree(e){let t=[];if(e.geometry?.getAttribute("position")!==void 0&&e.geometry?.getAttribute("position").count>0&&t.push(Vc(e.geometry,e.shearScale)),e.traverseObject(this.gatherChildrenGeom(e,t)),e.children.forEach(n=>n.updateMatrixWorld(!0)),t.length>0){let n=Uh(t,!1);e.bvhGeometry=n,e.bvhGeometry.boundsTree=new Uv(n),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)}}addCollider(e,t,n,i,r=!0){if(n?.getAttribute("position").count===0||n?.getIndex()?.count===0)return;let o;n&&(t.colliderType==="trimesh"?o=xn.ColliderDesc.trimesh(n.getAttribute("position").array,n.getIndex().array):o=xn.ColliderDesc.convexMesh(n.getAttribute("position").array,r?n.getIndex().array:void 0)),o.setFrictionCombineRule(xn.CoefficientCombineRule.Average).setRestitutionCombineRule(xn.CoefficientCombineRule.Average).setDensity(t.density).setFriction(t.friction).setRestitution(t.restitution);let a=this.sharedGameControlGlobals.rapierWorld.createCollider(o,e);this.sharedGameControlGlobals.colliderToEntity.set(a.handle,i),this.sharedGameControlGlobals.entityToCollisionEvents[i.uuid]?.some(s=>s.target==="scene")&&a.setActiveEvents(xn.ActiveEvents.COLLISION_EVENTS)}gatherChildrenGeom(e,t){return(n,i)=>{if(i===0)return;let r;if(n instanceof Gs)if(n.objectForSample){if(n.objectForSample.dataPatched.physics.fusedBody)return;r=n.object}else return n.object.dataPatched.physics.fusedBody===!0&&n.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(n instanceof yo)r=n.object;else if(r=n,r.dataPatched.cloner?.hideBase)return!0;let o=r.dataPatched;if(o.physics.enabled==="visibility"?!o.visible:!o.physics.enabled)return!0;i===1?e.hasNonUniformScale?n.matrixWorld.multiplyMatrices(e.shearScale,n.hiddenMatrix):n.matrixWorld.copy(n.hiddenMatrix):n.matrixWorld.multiplyMatrices(n.parent.matrixWorld,n.hiddenMatrix),n.matrixWorld.multiply(n.matrix);let a=n.geometry;a?.getAttribute("position")!==void 0&&t.push(Vc(a,n.matrixWorld))}}activate(e){if(this.isEnabled)return;this.isEnabled=!0,this.eventManager=e,this.usePhysics=this.page.data.globalPhysics.usePhysics;let t=this.page.playCamera,n=!1,i=5,r=8,o=9,a="drag",s=this.page.data.publish.gameControlObject,l=s!==null?this.page.find(s):null,c=null;if(l)for(let h of l.data.events){if(h.data.disabled||h.data.type!=="GameControl")continue;let p=l;for(;this.usePhysics&&(p=p.parent)?.parent!==null;)p.data.physics?.fusedBody;h.data.collisionEnabled&&(this.needsCollisionDetection=!0),c===null&&(c=h.data)}if(this.page.traverseEntity(h=>{for(let p of h.dataPatched.events)if(p.data.disabled===!1&&p.data.type==="Trigger")return this.needsCollisionDetection=!0,!0}),l&&c&&(l.data.visible===!0||l.data.physics.enabled===!0)){n=n||c.camera===t.uuid||l.uuid===t.uuid;let h=new MG(l,this.renderer.domElement,c,this.eventContext.page.data.globalPhysics,this,l.uuid!==t.uuid&&c.camera===t.uuid,t,this.page,this.sharedAssets);this.gameControl=h,i=c.joystickPosLoc,r=c.joystickRotLoc,o=c.jumpTouchButtonLoc,a=c.rotByTouch,Na&&c.touchControl&&(this.joystickToGameControls[i]="pos",c.moveMode==="walk"&&(this.joystickToGameControls[o]="jmp"),a==="joystick"&&(this.joystickToGameControls[r]="rot"))}if(this.gameControl&&this.gameControl.data.navmesh.enabled){let h=this.gameControl.data;if(!this.navigationMeshWrapper){this.navigationMeshWrapper=new P2e(this.usePhysics,this.isExport);let p;h.collider.type==="sphere"?p=h.collider.radius*2:p=h.collider.height,p=Math.floor(p/h.navmesh.ch-1),this.navigationMeshWrapper.init(se(B({},h.navmesh),{walkableHeight:p}),this.gameControl,this.eventContext)}}if(n===!1){let{enableRotate:h,enablePan:p,enableZoom:m,autoRotate:g,hoverRotatePanMode:v}=this.eventManager.publish.orbitControls;(h||p||m||g||v!==0)&&(this.orbitControls=new AG(t,this.renderer.domElement,{isExport:this.isExport,isPlayMode:!0}),this.orbitControls.addEventListener("change",this.requestRender),this.orbitControls.addEventListener("end",this.requestRender),this.orbitControls.addEventListener("start",this.requestRender),this.orbitControls.fromJSON(this.eventManager.publish.orbitControls,this.eventManager.publish.mouseEventTarget),this.orbitControls.useKeyEvents=!1,this.orbitControls.addEventListenersToCamera(),this.orbitControls.connect(),this.orbitControls.update())}let d=this.renderer.domElement.width/this.renderer.getPixelRatio(),u=this.renderer.domElement.height/this.renderer.getPixelRatio();this.joystickToGameControls.forEach((h,p)=>{let m=document.body.appendChild(document.createElement("div")),[g,v,b]=this.eventManager.eventContext.publish.joystickSizeAndXYOffset[p],_=(d-5*g)/4+g,C={},M=h==="jmp",P=M?0:g;p<10?(p<5?C.top=P/2:C.bottom=P/2,C.left=P/2+p%5*_):p===10?(C.left=P/2,C.top=u/2):(C.right=P/2,C.top=u/2),C.top?C.top-=v[1]:C.bottom+=v[1],C.left?C.left+=v[0]:C.right-=v[0];for(let O in C)C[O]+="px";if(M){let O=m.appendChild(document.createElement("div"));Object.assign(O.style,C,{position:"absolute",width:g+"px",height:g+"px",backgroundColor:`rgba(255,255,255,${b==="show"?.4:0})`,zIndex:"9999",borderRadius:g+"px",border:b==="show"?"solid 2px rgba(0, 0, 0, .1)":"none",display:"flex",alignItems:"center",justifyContent:"center",touchAction:"none"});let S=g/16*16*.4;b==="show"&&(O.innerHTML=`
						<svg width="${S}" height="${g*.4}" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M2 10L8 4L14 10" stroke="black" stroke-opacity="40%" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
						</svg>
					`),O.addEventListener("pointerdown",()=>{this.gameControl.movementState.jump=1,this.requestRender()}),O.addEventListener("touchend",D=>D.preventDefault()),this.joysticks[p]=[void 0,m];return}let x={zone:m,mode:"static",position:C,size:g};b==="hide"&&(x.restOpacity=0);let E=$Pe.create(x);E.on("move",(O,S)=>{let D=this.gameControl;h==="pos"?S.force<.2?D.moveForce=0:(D.movementState.movePosZ=Math.sin(-S.angle.radian),D.movementState.movePosX=Math.cos(-S.angle.radian),S.force>1.2?D.movementState.run=1:D.movementState.run=0,S.force<.3?D.moveForce=(S.force-.2)/.1:D.moveForce=1):h==="rot"&&(S.force<.2?D.rotForce=0:(D.movementState.rotPosX=S.vector.y,D.movementState.rotPosY=-S.vector.x,S.force<.3?D.rotForce=(S.force-.2)/.1:D.rotForce=1)),this.requestRender()}),E.on("end",(O,S)=>{let D=this.gameControl;h==="pos"?(D.movementState.movePosZ=0,D.movementState.movePosX=0,D.moveForce=1):h==="rot"&&(D.movementState.rotPosX=0,D.movementState.rotPosY=0,D.rotForce=1)}),this.joysticks[p]=[E,m]}),this.markIsDestroyTarget(),this.markIsDragObject(),this.rebuildBVH(),this.initializationCounter++,window.setTimeout(()=>{this.collisionEvents.forEach(h=>h.initialDisabled=!1)},80)}initPhysics(){this.sharedGameControlGlobals.rapierWorld?.free(),this.sharedGameControlGlobals.rapierWorld=new xn.World(new xn.Vector3(0,this.gravity,0)),this.events=new xn.EventQueue(!0);let e=[],t=[];if(this.page.traverseChildren(a=>{let s;if(a instanceof Gs)if(a.objectForSample){if(a.objectForSample.dataPatched.physics.fusedBody)return;s=a.object}else return a.object.dataPatched.physics.fusedBody===!0&&a.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(a instanceof yo)s=a.object;else{if(a instanceof QC||a instanceof YC)return;if(s=a,s.dataPatched.cloner?.disabled===!1&&s.dataPatched.cloner?.hideBase&&s.dataPatched.physics?.fusedBody!==!0)return!0}let l=s.dataPatched,c;for(let v of l.events)v.data.disabled!==!0&&v.data.type==="GameControl"&&(c=v.data);if(!l.physics||(l.physics.enabled==="visibility"?!l.visible:!l.physics.enabled))return!0;a.updateMatrixWorldSVD();let d=nw(l),u=!1,h=s.userData.hasDestroy,p=s.userData.hasDrag,m=!1;for(let v of l.events)if(v.data.disabled!==!0){if(v.data.type==="Collision"){u=!0;let b=new f2e(v.id,v.data,s,this.page,this.sharedAssets,this.eventManager);b.initialDisabled=!0,this.collisionEvents.push(b),this.sharedGameControlGlobals.entityToCollisionEvents[s.uuid]&&this.sharedGameControlGlobals.entityToCollisionEvents[s.uuid].every(_=>_.id!==v.id)?this.sharedGameControlGlobals.entityToCollisionEvents[s.uuid].push(b):this.sharedGameControlGlobals.entityToCollisionEvents[s.uuid]=[b]}else if(v.data.type==="Follow"){m=!0;let b=v.data.target;a.traverseVisible(_=>{_.userData.isFollowingObj=b})}}l.physics.rigidBody==="dynamic"&&l.physics.fusedBody===!1&&(a.matrixWorldFusedFalse=a.matrixWorld.clone());let g=a.geometry;if(c!==void 0){let v=xn.RigidBodyDesc.kinematicPositionBased();(a.hasNonUniformScale?a.matrixWorldRigid:a.matrixWorld).decompose(Qi,zs,Gd),a.position0=Qi.clone().divideScalar(this.pixelsPerMeter),a.rotation0=zs.clone(),Qi.divideScalar(this.pixelsPerMeter),v.setTranslation(Qi.x,Qi.y,Qi.z).setRotation(zs);let b=this.sharedGameControlGlobals.rapierWorld.createRigidBody(v);a.rigidBody=b;let _;c.collider.type==="sphere"?_=xn.ColliderDesc.ball(c.collider.radius/this.pixelsPerMeter):c.collider.type==="capsule"?_=xn.ColliderDesc.capsule((c.collider.height/2-c.collider.radius)/this.pixelsPerMeter,c.collider.radius/this.pixelsPerMeter):_=xn.ColliderDesc.cuboid(c.collider.width/this.pixelsPerMeter/2,c.collider.height/this.pixelsPerMeter/2,c.collider.depth/this.pixelsPerMeter/2),_.setFrictionCombineRule(xn.CoefficientCombineRule.Average).setRestitutionCombineRule(xn.CoefficientCombineRule.Average).setDensity(l.physics.density).setFriction(l.physics.friction).setRestitution(l.physics.restitution);let C=this.sharedGameControlGlobals.rapierWorld.createCollider(_,b);this.sharedGameControlGlobals.colliderToEntity.set(C.handle,s),Qi.fromArray(c.collider.position).multiply(Gd.setFromMatrixScale(s.matrixWorld)).divideScalar(this.pixelsPerMeter),C.setTranslationWrtParent(Qi);let M=new Dt().setFromEuler(new mr().setFromVector3(new L().fromArray(c.collider.rotation)));C.setRotationWrtParent(M),C.setActiveEvents(xn.ActiveEvents.COLLISION_EVENTS),this.generateSensorColliderDescs(s,!0)}else l.physics.rigidBody==="dynamic"||d||m||h||p||u?(this.addRigidBody(a,s,{hasFollow:m,hasTransformAnim:d,hasDrag:p}),this.generateSensorColliderDescs(s,l.physics.fusedBody)):(g&&e.push(Vc(g,a.matrixWorld)),l.physics.fusedBody&&a.traverseObject((v,b)=>{if(b===0)return;let _;if(v instanceof Gs)if(v.objectForSample){if(v.objectForSample.dataPatched.physics.fusedBody)return;_=v.object}else return v.object.dataPatched.physics.fusedBody===!0&&v.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else{if(v instanceof QC||v instanceof YC)return;if(v instanceof yo)_=v.object;else if(_=v,_.dataPatched.cloner?.hideBase)return!0}let C=_.dataPatched;if(C.physics.enabled==="visibility"?!C.visible:!C.physics.enabled)return!0;let M=v.geometry;M?.getAttribute("position")!==void 0&&e.push(Vc(M,v.matrixWorld))}),this.generateSensorColliderDescs(s,l.physics.fusedBody,t));if(l.physics?.fusedBody===!0||c)return!0}),e.length===0)return;let n=Uh(e);n.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter);let i=xn.RigidBodyDesc.fixed(),r=this.sharedGameControlGlobals.rapierWorld.createRigidBody(i),o=xn.ColliderDesc.trimesh(n.getAttribute("position").array,n.getIndex().array).setFrictionCombineRule(xn.CoefficientCombineRule.Multiply).setRestitutionCombineRule(xn.CoefficientCombineRule.Multiply).setFriction(1).setRestitution(1);this.sharedGameControlGlobals.rapierWorld.createCollider(o,r);for(let[a,s]of t){let l=this.sharedGameControlGlobals.rapierWorld.createCollider(a,r);this.sensorToTriggerEvent[l.handle]=s}}updatePositions(){return this.nActiveRigidBodies=0,this.sharedGameControlGlobals.rapierWorld.forEachRigidBody(this.processRigidBody),this.nActiveRigidBodies>0}rebuildBVH(){this.usePhysics?this.initPhysics():(this.page.traverseEntity(e=>{for(let t of e.dataPatched.events)if(t.data.type==="Trigger"&&t.data.disabled!==!0){let n=new D9(t.id,t.data,e,this.page,this.sharedAssets,this.eventManager),i=new Be().compose(Bs.fromArray(t.data.position),of.setFromEuler(A9.fromArray(t.data.rotation)),O3);if(t.data.triggerZone==="box"){let r=new ji;r.min.fromArray(t.data.size).multiplyScalar(-.5),r.max.fromArray(t.data.size).multiplyScalar(.5),this.sharedGameControlGlobals.triggers.push([r,i,e,n])}else this.sharedGameControlGlobals.triggers.push([t.data.radius,i,e,n])}}),this.needsCollisionDetection&&this.initBVH())}disconnectEvents(){this.collisionEvents.forEach(e=>e.disconnect()),this.sharedGameControlGlobals.triggers.forEach(e=>e[3].disconnect()),this.sharedGameControlGlobals.triggers.length=0}deactivate(){if(this.isEnabled){this.isEnabled=!1,this.page.traverse(e=>{let t=e;t.matrixWorldFusedFalse&&(t.matrixWorldFusedFalse=void 0),t.rigidBody&&(t.rigidBody=void 0),t.position0&&(t.position0=void 0),t.rotation0&&(t.rotation0=void 0)}),this.sharedGameControlGlobals.rapierWorld?.free(),this.sharedGameControlGlobals.rapierWorld=void 0,this.sharedGameControlGlobals.staticMeshBVH=void 0,this.accumulator=0,this.sharedGameControlGlobals.entitiesWithTransformAnim=[],this.disconnectEvents(),this.gameControl?.reset(),this.gameControl?.dispose(),this.gameControl=null,this.initializationCounter=-1,this.joysticks.forEach(([e,t])=>{e?.destroy(),t.remove()}),this.joystickToGameControls=[],this.joysticks=[],this.orbitControls&&(this.orbitControls.dispose(),this.orbitControls=void 0),this.navigationMeshWrapper?.dispose(),this.navigationMeshWrapper=void 0;for(let e of Object.values(this.sharedGameControlGlobals.entityToCollisionEvents))e.forEach(t=>t.disconnect());this.sharedGameControlGlobals.entityToCollisionEvents={},this.page.updateMatrixWorld(!0)}}update(e,t,n){if(!this.isEnabled)return!0;let i=!0;if(this.orbitControls!==void 0&&this.orbitControls.needsUpdate&&(i=!this.orbitControls.update()),this.initializationCounter>=0&&this.initializationCounter<2?(this.initializationCounter++,i=!1):this.initializationCounter===2&&this.gameControl&&(i=!this.gameControl.update(e,t,n)&&i),this.usePhysics===!1&&this.checkTrigger(),this.usePhysics){let r=.016666666666666666;if(e===0)i=this.stepPhysics()&&i;else{let o=e/1e3;o<r&&o>r*.55&&(o=r),this.accumulator+=o;let a=performance.now(),s=0,l=6;for(;this.accumulator>=r&&s<l&&(i=this.stepPhysics()&&i,this.accumulator-=r,s++,!(performance.now()-a>r*1e3)););this.accumulator=this.accumulator%r}}return i}stepPhysics(){for(let e of this.sharedGameControlGlobals.entitiesWithTransformAnim){(e.hasNonUniformScale?e.matrixWorldRigid:e.matrixWorld).decompose(Qi,zs,Gd),x3.setFromQuaternion(zs);let t=e;t.prevR===void 0?(t.prevR=x3.clone(),t.prevT=Qi.clone()):(t.prevR.copy(x3),t.prevT.copy(Qi)),e.rigidBody&&(e.rigidBody.setNextKinematicTranslation(Qi.divideScalar(this.pixelsPerMeter)),e.rigidBody.setNextKinematicRotation(zs))}return this.sharedGameControlGlobals.rapierWorld.step(this.events),this.events?.drainCollisionEvents(this.handleCollisionEvents),!this.updatePositions()}dispatchCollisionEvent(e,t,n){let i=(this.sharedGameControlGlobals.rapierWorld?.getCollider(n))._parent,r;if(t.cloner){for(let o of t.cloner.children)if(o.rigidBody===i){r=o;break}}e.dispatch(r),t.dispatchEvent(SA)}updateUseWindowEvents(e){this.orbitControls?.updateUseWindowEvents(e)}generateSensorColliderDescs(e,t,n){let i=T9.copy(e.matrixWorld).invert();e.traverseEntity((r,o)=>{if(t===!1&&o===1)return!0;for(let a of r.dataPatched.events)if(a.data.type==="Trigger"&&a.data.disabled!==!0){let s=new D9(a.id,a.data,r,this.page,this.sharedAssets,this.eventManager),l;if(a.data.triggerZone==="box"?l=xn.ColliderDesc.cuboid(...a.data.size.map(c=>c/(2*this.pixelsPerMeter))):l=xn.ColliderDesc.ball(a.data.radius/this.pixelsPerMeter),l.setDensity(0).setSensor(!0).setActiveEvents(xn.ActiveEvents.COLLISION_EVENTS),Bs.fromArray(a.data.position),of.setFromEuler(A9.fromArray(a.data.rotation)),zC.compose(Bs,of,O3).premultiply(r.matrixWorld),n?(zC.decompose(Bs,of,P3),l.setActiveCollisionTypes(xn.ActiveCollisionTypes.KINEMATIC_FIXED|xn.ActiveCollisionTypes.DYNAMIC_FIXED)):(zC.premultiply(i).decompose(Bs,of,P3),e.rigidBody.bodyType()===xn.RigidBodyType.Dynamic||(e.rigidBody.bodyType()===xn.RigidBodyType.Fixed?l.setActiveCollisionTypes(xn.ActiveCollisionTypes.KINEMATIC_FIXED|xn.ActiveCollisionTypes.DYNAMIC_FIXED):l.setActiveCollisionTypes(xn.ActiveCollisionTypes.KINEMATIC_KINEMATIC|xn.ActiveCollisionTypes.DYNAMIC_KINEMATIC))),Bs.divideScalar(this.pixelsPerMeter),l.setTranslation(Bs.x,Bs.y,Bs.z),l.setRotation(of),n)n.push([l,s]);else{let c=this.sharedGameControlGlobals.rapierWorld.createCollider(l,e.rigidBody);this.sensorToTriggerEvent[c.handle]=s}}})}checkTrigger(){let e;for(let t=0;t<this.sharedGameControlGlobals.triggers.length;t++){let[n,i,r,o]=this.sharedGameControlGlobals.triggers[t];for(let a=0;a<this.sharedGameControlGlobals.entitiesWithTransformAnim.length;a++){let s=this.sharedGameControlGlobals.entitiesWithTransformAnim[a];if(r===s||o.isValidTriggeringObject(yn.is(s)?s:s.object)===!1)continue;let l=T9.copy(r.matrixWorld).decompose(Bs,I9,P3).compose(Bs,I9,O3).multiply(i),c=zC.copy(s.matrixWorld).invert().multiply(l);n instanceof ji?e=s.bvhGeometry.boundsTree.intersectsBox(n,c):(S3.radius=n,S3.center.setFromMatrixPosition(c),e=s.bvhGeometry.boundsTree.intersectsSphere(S3)),e?o.currentIntersectedObjects.indexOf(s)===-1&&(o.currentIntersectedObjects.push(s),o.dispatch(),r.dispatchEvent(F2e)):o.currentIntersectedObjects=o.currentIntersectedObjects.filter(d=>d!==s)}}}};function B2e(e){let t=this._clip.duration,n=this._clip.start??0,i=this.loop,r=this.time+e,o=this._loopCount,a=i===DA;if(e===0)return o===-1?r:a&&(o&1)===1?t-(r-n):r;if(i===j9){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<n){let s=Math.floor((r-n)/(t-n));r-=(t-n)*s,o+=Math.abs(s);let l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a||(r=e>0?t:n,this.repetitions===1&&(r=t)),this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){let c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=r;if(a&&(o&1)===1)return t-(r-n)}return r}var R9=!1,V2e=class{constructor(e,t,n,i){this.scene=e,this.requestRender=t,this.updateDisplayProgress=n,this.animationInspectorState=i,this.clipIdToAction={},this.activeClip=null,this.needsUpdate=!1,this.addClip=r=>{r.data.type==="Empty"&&r.data.animations&&r.data.animations.forEach((o,a)=>{let s=o[0]+"/";if(Array.isArray(r.identity)?s+=r.identity[0]:s+=r.uuid,this.clipIdToAction[s])return;let l=V3.parse(JSON.parse(o[2]));r.animations[a]=l;let c=this.mixer.clipAction(l,r);R9===!1&&(Object.getPrototypeOf(c)._updateTime=B2e,R9=!0),c.clampWhenFinished=!0,this.clipIdToAction[s]=c})},this.mixer=new Nce(e),this.scene.traverseEntity(this.addClip)}deleteClip(e,t){let n=this.scene.find(t);if(!n)return;let i=n.animations.find(o=>o.uuid===e);if(!i)return;let r=this.clipIdToAction[e];!r||(r.stop(),this.mixer.uncacheClip(i),delete this.clipIdToAction[e],n.animations=n.animations.filter(o=>o.uuid!==e))}get isPlaying(){return Object.values(this.clipIdToAction).some(e=>e.isRunning())}playFromInspector(e){this.mixer.stopAllAction();let t=this.clipIdToAction[e];!t||(t.play(),this.activeClip=t.getClip(),this.requestRender())}onExitPlayMode(){Object.values(this.clipIdToAction).forEach(e=>{e.repetitions=1/0,e.loop=H9}),this.mixer.stopAllAction(),this.requestRender()}play(e){let t=e.clipId+"/"+e.object,n=this.clipIdToAction[t];if(n)return e&&(e.repeat>=0&&(n.repetitions=e.repeat+1),e.direction==="pingpong"&&e.repeat!==0&&(n.loop=DA)),n.play(),n.paused=!1,this.requestRender(),n}resumeFromInspector(e){let t=this.clipIdToAction[e];!t||(t.play(),t.paused=!1,this.requestRender())}pauseFromInspector(e){let t=this.clipIdToAction[e];!t||(t.paused=!0)}stop(){this.mixer.stopAllAction(),this.requestRender()}update(e){if(this.needsUpdate)this.needsUpdate=!1;else if(this.isPlaying===!1||this.animationInspectorState?.isScrubbing)return;this.mixer.update(e/1e3),this.activeClip&&this.updateDisplayProgress(Math.round(this.mixer.time/this.activeClip.duration*this.maxFrames%this.maxFrames)),this.requestRender()}get maxFrames(){return this.activeClip?.tracks[0]?.times.length??0}setProgressFromInspector(e,t){if(!this.clipIdToAction[t])return;this.activeClip!==this.clipIdToAction[t].getClip()&&this.playFromInspector(t);let n=this.clipIdToAction[t].paused;this.clipIdToAction[t].paused=!1,this.mixer.setTime(Math.min(this.maxFrames?e/this.maxFrames:0,.9999)*this.activeClip.duration),this.requestRender(),n&&(this.clipIdToAction[t].paused=!0)}},E3=new WeakMap,U2e=class extends _y{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){let r=new U3(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,o=>{this.decodeDracoFile(o,t).catch(i)},n,i)}decodeDracoFile(e,t,n,i){let r={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n};return this.decodeGeometry(e,r).then(t)}decodeGeometry(e,t){let n=JSON.stringify(t);if(E3.has(e)){let s=E3.get(e);if(s.key===n)return s.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i,r=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(r,o).then(s=>(i=s,new Promise((l,c)=>{i._callbacks[r]={resolve:l,reject:c},i.postMessage({type:"decode",id:r,taskConfig:t,buffer:e},[e])}))).then(s=>this._createGeometry(s.geometry));return a.catch(()=>!0).then(()=>{i&&r&&this._releaseTask(i,r)}),E3.set(e,{key:n,promise:a}),a}_createGeometry(e){let t=new pt;e.index&&t.setIndex(new St(e.index.array,1));for(let n=0;n<e.attributes.length;n++){let i=e.attributes[n],r=i.name,o=i.array,a=i.itemSize;t.setAttribute(r,new St(o,a))}return t}_loadLibrary(e,t){let n=new U3(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((i,r)=>{n.load(e,i,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{let i=n[0];e||(this.decoderConfig.wasmBinary=n[1]);let r=j2e.toString(),o=["/* draco decoder */",i,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(r){let o=r.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,r){return i._taskLoad>r._taskLoad?-1:1});let n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}};function j2e(){let e,t;onmessage=function(a){let s=a.data;switch(s.type){case"init":e=s.decoderConfig,t=new Promise(function(d){e.onModuleLoaded=function(u){d({draco:u})},DracoDecoderModule(e)});break;case"decode":let l=s.buffer,c=s.taskConfig;t.then(d=>{let u=d.draco,h=new u.Decoder,p=new u.DecoderBuffer;p.Init(new Int8Array(l),l.byteLength);try{let m=n(u,h,p,c),g=m.attributes.map(v=>v.array.buffer);m.index&&g.push(m.index.array.buffer),self.postMessage({type:"decode",id:s.id,geometry:m},g)}catch(m){console.error(m),self.postMessage({type:"error",id:s.id,error:m.message})}finally{u.destroy(p),u.destroy(h)}});break}};function n(a,s,l,c){let d=c.attributeIDs,u=c.attributeTypes,h,p,m=s.GetEncodedGeometryType(l);if(m===a.TRIANGULAR_MESH)h=new a.Mesh,p=s.DecodeBufferToMesh(l,h);else if(m===a.POINT_CLOUD)h=new a.PointCloud,p=s.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());let g={index:null,attributes:[]};for(let v in d){let b=self[u[v]],_,C;if(c.useUniqueIDs)C=d[v],_=s.GetAttributeByUniqueId(h,C);else{if(C=s.GetAttributeId(h,a[d[v]]),C===-1)continue;_=s.GetAttribute(h,C)}g.attributes.push(r(a,s,h,v,b,_))}return m===a.TRIANGULAR_MESH&&(g.index=i(a,s,h)),a.destroy(h),g}function i(a,s,l){let c=l.num_faces()*3,d=c*4,u=a._malloc(d);s.GetTrianglesUInt32Array(l,d,u);let h=new Uint32Array(a.HEAPF32.buffer,u,c).slice();return a._free(u),{array:h,itemSize:1}}function r(a,s,l,c,d,u){let h=u.num_components(),p=l.num_points()*h,m=p*d.BYTES_PER_ELEMENT,g=o(a,d),v=a._malloc(m);s.GetAttributeDataArrayForAllPoints(l,u,g,m,v);let b=new d(a.HEAPF32.buffer,v,p).slice();return a._free(v),{name:c,array:b,itemSize:h}}function o(a,s){switch(s){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}var ou;function H2e(){return ou||(ou=new U2e,ou.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.2/").preload()),ou.decoderPending}function G2e(e){return ri(this,null,function*(){if(ou){let t={attributeIDs:ou.defaultAttributeIDs,attributeTypes:ou.defaultAttributeTypes,useUniqueIDs:!1},n;try{n=yield ou.decodeGeometry(new Int8Array(e).buffer,t)}catch(i){console.error(i)}if(n)return{index:n.index?{array:n.index.array}:void 0,attributes:Object.entries(n.attributes).map(([i,r])=>({name:i,itemSize:r.itemSize,array:r.array}))}}return null})}function W2e(e,t){return ri(this,null,function*(){let[n,i]=PU(rD.deserialize(new Uint8Array(e)));return $U(n),t&&t(n),i.result().data})}function q2e(e){let t=[];return e.scene.objects.traverse((n,i)=>{i.type==="Mesh"&&i.geometry.type==="NonParametricGeometry"&&i.geometry.data.draco!==void 0&&t.push(i)}),t}function Y2e(e){return ri(this,null,function*(){for(let t of e){let n=yield G2e(t.geometry.data.draco);if(n){let i=t.geometry.data;n.index&&(i.index={array:n.index.array,itemSize:1,normalized:!1,type:"Uint32Array"});let r={};n.attributes.forEach(({name:o,array:a,itemSize:s})=>{r[o]={array:a,itemSize:s,type:"Float32Array",normalized:!1}}),i.attributes=r,i.draco=void 0}}})}var X2e=class{constructor(e,t,n,i,r,o,a,s){this.eventId=e,this.id=t,this.data=n,this.dataEvent=i,this.object=r,this.stage=!1,this.actions=Go(i,n.actions,o,a,s,r)}disconnect(){Rr(this.actions)}dispatchIn(){this.actions.Audio.forEach(e=>e.dispatchBasic()),this.actions.Particles.forEach(e=>e.dispatchBasic()),this.actions.Video.forEach(e=>e.dispatchBasic()),this.actions.Create.forEach(e=>e.dispatch()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.Link.forEach(e=>e.dispatch()),this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.actions.Transition.forEach(e=>e.toggle()),this.actions.Animation.forEach(e=>e.play()),this.actions.SwitchCamera.forEach(e=>e.play()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch())}dispatchOut(){this.actions.Transition.forEach(e=>{e.toggle()})}},Q2e=class extends Js{constructor(e,t){super(e),this.eventManager=t,this.breakpoints=[],this.resize=(n,i)=>{this.breakpoints.forEach(r=>{let o=lD.deviceToSize(r.data.size),a=r.dataEvent.orientation==="horizontal"?n:i,s;switch(r.data.operator){case"<":s=a<o[0];break;case">":s=a>o[0];break;case"<>":s=a>o[0]&&a<o[1];break}r.stage!==s&&(r.stage=s,r.stage?r.dispatchIn():r.dispatchOut())})},this.onResizeObserver=new ResizeObserver(n=>{for(let i of n){let{width:r,height:o}=i.contentRect;this.resize(r,o)}})}connect(){let{page:e,sharedAssets:t,domElement:n}=this.eventContext;this.onResizeObserver.observe(n);let i=r=>{if(!(!r.visible||!r.data?.events.length))for(let{data:o,id:a}of r.data.events)o.disabled||o.type==="Resize"&&o.breakpoints.forEach(({data:s,id:l})=>{try{let c=new X2e(a,l,s,o,r,e,t,this.eventManager);this.breakpoints.push(c)}catch{}})};e.traverseEntity(r=>{(r instanceof vo||r instanceof Er)&&r.frame?.traverse(o=>{i(o)}),i(r)})}disconnect(){this.onResizeObserver.disconnect(),this.breakpoints.forEach(e=>{e.disconnect()}),this.breakpoints=[]}},Z2e=class{constructor(e,t,n,i,r){this.publish=e,this.controlsManager=t,this.animationControls=n,this.eventContext=i,this.sharedVariables=r,this.isEnabled=!1,this.activateCount=0,this.needsMouse=!1,this.needsRaycast=!1,this.onTouchMovePreventScroll=o=>{let a=window.parent!==window,s=document.documentElement.scrollHeight>document.documentElement.clientHeight||document.documentElement.scrollWidth>document.documentElement.clientWidth;(o.touches.length>1||this.preventTouchScroll||a===!1&&s===!1)&&o.preventDefault()},this.onMouseWheelPreventScroll=o=>{this.preventScroll&&o.preventDefault()},this.onMouseMove=o=>{this.eventContext.sharedAssets.mouseProperty=se(B({},this.getMousePosition(o)),{pressed:o.buttons>0})},this.onMouseDown=o=>{this.eventContext.sharedAssets.mouseProperty=se(B({},this.getMousePosition(o)),{pressed:!0})},this.onMouseUp=o=>{this.eventContext.sharedAssets.mouseProperty=se(B({},this.getMousePosition(o)),{pressed:!1})},this.getMousePosition=o=>{let{domRect:a}=this.eventContext,{pageX:s,pageY:l}=o.touches?.length>0?o.touches[0]:o;return{x:s-(a.left+window.scrollX),y:l-(a.top+window.scrollY)}},this.stopRaycast=e.stopRaycast,this.preventScroll=e.preventScroll,this.preventTouchScroll=e.preventTouchScroll,this.hideCursor=e.hideCursor,this.requestRender=i.requestRender}activate(){if(this.isEnabled)return;this.isEnabled=!0,this.initializeActionsDependentStates(),this.needsMouse&&(this.eventContext.domElement.addEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.addEventListener("pointerdown",this.onMouseDown)),this.handlers={Spline:new zSe(this.eventContext),VariableChange:new g2e(this.eventContext,this.sharedVariables,this,this.needsMouse,this.needsRaycast),Conditional:new WSe(this.eventContext,this),Start:new m2e(this.eventContext,this),Basic:new VSe(this.eventContext,this,this.needsRaycast),MouseHover:new c2e(this.eventContext,this),Scroll:new h2e(this.eventContext,this),Follow:new t2e(this.eventContext,this),DragDrop:new ZSe(this.eventContext,this),LookAt:new a2e(this.eventContext),Resize:new Q2e(this.eventContext,this)};let{page:e,domElement:t}=this.eventContext;this.hideCursor&&(t.style.cursor="none"),e.traverseEntity(n=>{n.addEventListener("requestRender",this.requestRender)}),Object.values(this.handlers).forEach(n=>n.connect()),t.addEventListener("wheel",this.onMouseWheelPreventScroll),t.addEventListener("touchmove",this.onTouchMovePreventScroll),this.activateCount++}deactivate(){if(!this.isEnabled)return;this.isEnabled=!1,this.eventContext.domElement.removeEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.removeEventListener("pointerdown",this.onMouseDown),this.eventContext.domElement.removeEventListener("pointerup",this.onMouseUp),this.eventContext.sharedAssets.mouseProperty=null,this.eventContext.sharedAssets.raycastProperty=null;let{page:e,domElement:t}=this.eventContext;t.style.cursor="",Object.values(this.handlers).forEach(n=>n.disconnect()),this.controlsManager.gameControl?.disposeActions(),this.controlsManager.disconnectEvents(),e.traverseEntity(n=>{n.removeEventListener("requestRender",this.requestRender),n.destroyedInAction=!1}),t.removeEventListener("touchmove",this.onTouchMovePreventScroll),t.removeEventListener("wheel",this.onMouseWheelPreventScroll),this.animationControls.onExitPlayMode()}get isPaused(){return this.isEnabled}pause(){this.deactivate()}resume(){this.activate()}reset(){this.deactivate(),this.activate(),this.controlsManager.page.updateMatrixWorld(!0),this.controlsManager.rebuildBVH()}updateUseWindowEvents(e){let t=this.isEnabled;t&&this.deactivate(),this.eventContext.useWindowEvents=e,t&&this.activate()}initializeActionsDependentStates(){let e=this.eventContext.sharedAssets;e.resetDynamicVariablePlayState();let t=n=>{if(n.data.type==="Conditional"&&(n.data.ifActions.forEach(t),n.data.elseActions.forEach(t)),n.data.type==="Conditional"||n.data.type==="SetVariable")for(let i of n.data.type==="Conditional"?n.data.condition:n.data.expression)"id"in i&&Array.isArray(i.id)&&(i.id[0]==="mouse"&&(this.needsMouse=!0),i.id[0]==="raycast"&&(this.needsRaycast=!0));n.data.type==="DynamicVariablePlay"&&n.data.variableId!==""&&(n.data.mode==="Play"||n.data.mode==="PlayPause"||n.data.mode==="Toggle")&&e.setDynamicVariablePlayState(n.data.variableId,"Stopped")};this.eventContext.page.traverseEntity(n=>{if(n.data?.events.length)for(let i of n.data.events)if(i.data.type==="VariableChange"&&(i.data.variableId==="mouseProperty"&&(this.needsMouse=!0),i.data.variableId==="raycastProperty"&&(this.needsRaycast=!0)),i.data.type==="Conditional")for(let r of["inActions","outActions"])i.data[r].forEach(t);else if(i.data.type==="DragDrop")for(let r of["drag","drop"])i.data.dragDropActions[r].forEach(t);else if(i.data.type==="GameControl")for(let r of["idle","move","jump","run"])i.data.gameActions[r].forEach(t);else if(i.data.type==="Resize")for(let r of i.data.breakpoints)r.data.actions.forEach(t);else i.data.type==="LookAt"||i.data.actions.forEach(t)})}},$2e=class{constructor(e,t,n,i,r){this._aspect=1,this.enableResponsive=!1,this._renderer=e,this._camera=t,this._frameSize=new oe().copy(n),this._editorSize=new oe().copy(i),this._aspect=t.aspect,this._fov=r??t.fov}set frameSize(e){this._frameSize.copy(e)}updateRenderer(){!this._renderer||this._renderer.setSize(this._frameSize.x,this._frameSize.y)}updateViewport(){if(!this._renderer||!this._camera||this._camera.cameraType!=="PerspectiveCamera")return;let e=this._frameSize.x,t=this._frameSize.y,n=this._editorSize.y;this._aspect=e/t,t<=n&&(this._camera.zoom*=n/t),this._renderer.setViewport(0,0,e,t)}updateCamera(e=!0){if(this._camera)if(this._camera.cameraType==="PerspectiveCamera"){let t=this._frameSize.y,n=this._editorSize.y,i=this._fov;if(e&&t>n){let r=K2e(t,1080,2160,1,15)/100;i*=t/n,i*=1-r}this._camera.aspect=this._aspect,this._camera.fov=i,this._camera.updateProjectionMatrix()}else this._camera.setViewplaneSize(this._frameSize.x,this._frameSize.y,this.enableResponsive)}setCamera(e){this._camera=e,this._aspect=e.aspect,this._fov=e.fov}revert(){let e=window.innerWidth,t=window.innerHeight;this._renderer&&(this._renderer.setViewport(0,0,e,t),this._renderer.setSize(e,t)),this._camera&&(this._camera.aspect=e/t,this._camera.fov=this._fov,this._camera.setViewplaneSize(e,t,this.enableResponsive),this._camera.updateProjectionMatrix())}};function K2e(e,t,n,i,r){return(e-t)/(n-t)*(r-i)+i}var J2e=class{get sharedAssets(){return this.shared}constructor(e,t={}){this.shared=new NT(e.shared,t),this.scene=new QT(e.scene,this.sharedAssets),this.shared.setEntityOpContext({scene:this.scene,shared:this.shared})}reset(e,t){this.scene.clearScene(),this.sharedAssets.reset(e.shared),this.scene.resetAfterClear(e.scene,this.sharedAssets)}resetPersonalCameraFromDocumentData(){for(let e of this.scene.children)e instanceof Er&&!e.uiScene&&e.personalCamera.updateState(e.data.camera,{scene:this.scene,shared:this.shared})}dispose(){this.scene.dispose(),this.shared.dispose()}gc(){this.shared.geometryCache.startGc(),this.shared.geometryCache2.startGc(),this.scene.traverseEntity(e=>{e instanceof bo&&e.markGeometryAsReachable(this.shared)}),this.shared.geometryCache.endGc(),this.shared.geometryCache2.endGc()}},eEe=class{constructor({x:e=10,y:t=10}){this._startTime=0;let n=document.getElementById("spe-perfs");n?this.element=n:(this.element=document.createElement("div"),document.body.appendChild(this.element),this.element.style.position="absolute",this.element.style.zIndex="10000",this.element.style.fontFamily="monospace",this.element.style.background="black",this.element.style.color="white",this.element.style.padding="10px",this.element.style.opacity="0.5",this.element.style.fontSize="11px",this.element.setAttribute("id","spe-perfs")),this.element.style.left=`${e}px`,this.element.style.top=`${t}px`}dispose(){this.element.parentElement?.removeChild(this.element)}start(){this._startTime=performance.now()}end(){let e=performance.now()-this._startTime;this.element.innerHTML=e.toFixed(3)+" ms"}};function tEe(e){let t;if(e.index)for(let n=0;n<e.index.array.length;n+=3)t=e.index.array[n],e.index.array[n]=e.index.array[n+2],e.index.array[n+2]=t}function qv(e){return e instanceof my?"SubdivObject":e.geometry.type==="NonParametricGeometry"?"NonParametric":"Mesh"}function nEe(e,t){let n={};return e.traverseEntity(i=>{if(!i.visible||!(i instanceof Ho)||i.type!=="Mesh"||Array.isArray(i.material)||i.states&&Object.keys(i.states).length)return;let r=i.parent;for(;r;){if(r instanceof Ho&&i.states&&Object.keys(i.states).length)return;r=r.parent}let o=i.material.uuid,a=t.shared.materials[o];if(a){if(!_o.isMergable(a))return}else{let l=t.scene.objects.get(i.uuid)?.data;if(l&&"material"in l&&typeof l.material!="string"){if(!_o.isMergable(l.material))return;o=_o.getHash(l.material)}}n[o]||(n[o]={});let s=n[o][qv(i)];if(s){if(s.push(i),i.cloner)for(let l of i.cloner.children)s.push(l)}else if(n[o][qv(i)]=[i],i.cloner)for(let l of i.cloner.children)n[o][qv(i)].push(l)}),n}function iEe(e){let t=0;return Object.values(e).forEach(n=>{Object.values(n).forEach(i=>{let r=i.length;r>t&&(t=r)})}),t}function rEe(e,t){let n=nEe(t,e),i=iEe(n),r=new Array(i),o=0,a=new Array(i),s=0,l=new Array(i),c=0,d=new Array(i),u=0;for(let[h,p]of Object.entries(n))for(let m of Object.values(p)){if(s=0,c=0,m.forEach(v=>{v instanceof Ho&&(a[s++]=v.geometry.clone(),l[c++]=v)}),c<2)continue;for(let v=0;v<c;v++)l[v].updateWorldMatrix(!0,!1),a[v].applyMatrix4(l[v].matrixWorld),l[v].matrixWorld.determinant()<0&&tEe(a[v]);let g=Uh(a.slice(0,s),!1);if(g){let v;switch(h){case"SubdivObject":{console.warn("Turning subdiv object into mesh"),v=new Ji(g,l[0].material);break}default:{v=new Ji(g,l[0].material);break}}v.castShadow=l[0].castShadow,v.receiveShadow=l[0].receiveShadow,t.add(v);let b=_=>{u=0;for(let C of _)C.children&&b(C.children),C instanceof Ho&&(Array.isArray(C.material)||n[C.material.uuid]&&n[C.material.uuid][qv(C)]&&n[C.material.uuid][qv(C)].length>1||(d[u++]=C));for(let C=0;C<u;C++)t.attach(d[C])};for(let _=0;_<c;_++){let C=l[_];b(C.children),r[o++]=C}}}for(let h=0;h<o;h++)r[h].removeFromParent()}var oEe=id(Cne(),1),aEe=new oe;function sEe(e){let t="The Spline Runtime only accepts .splinecode files that are generated from Spline export panel.";e.endsWith(".spline")?console.warn(t+" The .spline files are only meant to be used by the Editor."):e.endsWith(".splinecode")||console.warn(t)}var TG=class{constructor(e,{renderOnDemand:t,renderMode:n="auto"}={}){this._viewportMode=1,this._viewportWidth=window.innerWidth,this._viewportHeight=window.innerHeight,this._proxyObjectCache=new Map,this._variablesCache=new Map,this._isPaused=!1,this._renderRequested=!1,this._skipRender=!1,this.time=performance.now(),this.dt=0,this.currentTAAFrame=0,this.disposed=!1,this._requestRenderAutoMode=()=>{this._skipRender=!1},this.requestRender=()=>{this._renderRequested=!0},this.render=i=>{if(this.time=i,this._lastTime&&(this.dt=this.time-this._lastTime),this._lastTime=this.time,this._perfs?.start(),!this._renderer){this._perfs?.end();return}if(!this._isPaused&&(this.renderMode==="manual"&&!this._renderRequested||this.renderMode==="auto"&&this._skipRender)){this._perfs?.end();return}if(this._renderRequested=!1,this._skipRender=!0,this._controls&&(this._skipRender=this._controls.update(this.dt)),this._eventManager&&(this._eventManager.handlers?.Start.hasVideoAction||this._eventManager.handlers?.Basic.hasVideoAction||this._eventManager.handlers?.Conditional.hasVideoAction)&&(this._skipRender=!1),this._animationControls?.update(this.dt),this._skipRender?(this.currentTAAFrame++,this.currentTAAFrame<32?this._skipRender=!1:this.currentTAAFrame=0):this.currentTAAFrame=0,this._scene?.traverseVisibleEntity(r=>{r.type==="ParticleSystem"&&(r.update(this.dt),this._skipRender=!1)}),this._scene&&this._scene.activeCamera!==this._camera&&(this._camera=this._scene.activeCamera),this._eventManager?.isEnabled&&((this._eventManager.handlers?.Follow).onAnimationFrameDamping(),(this._eventManager.handlers?.LookAt).onAnimationFrameDamping(),(this._eventManager.handlers?.DragDrop).onAnimationFrameDamping()),this._scene&&this._camera){if(this._scene.pathConstraints.applyConstraints(this._scene),this._renderer.sceneTransitionTimeRemaining>0){this._renderer.sceneTransitionTimeRemaining-=this.dt;let r=1-this._renderer.sceneTransitionTimeRemaining/this._renderer.sceneTransitionDuration;this._renderer.pipeline.sceneTransitionPass.uniforms.mixRatio.value=r,this._skipRender=!1}else this._renderer.pipeline.sceneTransitionFromTexture=null;this._renderer.renderSplineScene(this._scene,this._camera)}this.canvas.dispatchEvent(this._renderedEvent),this._perfs?.end()},this._resize=()=>{if(this._renderer){if(this._viewportMode===1&&this._frameView&&(this._frameView.frameSize=aEe.set(this._viewportWidth,this._viewportHeight)),this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1),this._camera=this._scene?.activeCamera,this._scene?.updateViewPlaneSize(this._frameView?.frameSize?.x??this._viewportWidth,this._frameView?.frameSize?.y??this._viewportHeight,this._frameView?.enableResponsive??!1),this._camera){let i=Object.values(this._data?.frames??{})[0].preset??"fullscreen";this._frameView?.setCamera(this._camera),this._frameView?.updateCamera(i!=="fullscreen"),this._camera.cameraType==="PerspectiveCamera"&&(this._camera.aspect=this._viewportWidth/this._viewportHeight),this._camera.updateProjectionMatrix()}this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect()),this._requestRenderAutoMode()}},this._debouncedResize=lT(this._resize,10),this._onScroll=i=>{this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect())},this.canvas=e,this.renderMode=t?"auto":n,this._renderedEvent=new CustomEvent("rendered",{bubbles:!0}),Object.defineProperty(this._renderedEvent,"target",{writable:!1,value:this}),window.location.search.includes("perfs")&&(this._perfs=new eEe({x:10,y:10})),yve(e)}load(e,t,n){return ri(this,null,function*(){sEe(e),this.disposed=!1;let i=yield(yield fetch(e,n)).arrayBuffer();yield this.start(i,{variables:t})})}start(i){return ri(this,arguments,function*(e,{interactive:t=!0,variables:n}={}){if(this.disposed)return;let r=yield W2e(e);this._data=r;let o=q2e(r);r.version&&(0,oEe.default)(r.version,"1.1.7")>0&&console.warn("Your .splinecode file is more recent than the library. Please upgrade @splinetool/runtime to the latest version."),yield Promise.all([o.length&&H2e(),lB(r)&&r_e(),KCe(r)&&e_e(),ay.physicsEnabled(r.scene.objects)&&wve(),rB(r)&&BCe(),FB(r)&&BPe(),NCe(r)&&FCe(),OB(r)&&Uxe(),S2e(r)&&Cve()].filter(Boolean)),o.length&&(yield Y2e(o)),this._eventManager?.deactivate(),this._controls?.deactivate(),this._scene?.dispose();let a=new J2e(r);if(a.resetPersonalCameraFromDocumentData(),this._scene=a.scene,this._sharedAssetsManager=a.sharedAssets,this._camera=this._scene.activeCamera,window.location.search.includes("merge-geometries")){let c=performance.now();rEe(r,a.scene);let d=performance.now();console.log("Merged geometries in ",d-c," ms")}lB(r)&&this._scene.traverse(c=>{Xc(c)&&c.recomputeBoolean()}),this._sharedAssetsManager.setRequestRender(()=>{this._requestRenderAutoMode(),this._scene?.traverse(c=>{c instanceof Gs&&c.pendingMediaLoad&&c.update()})}),this._scene?.traverse(c=>{c.type==="ParticleSystem"&&(c.wakeUp(),c.data.autoPlay?c.start():c.stop())});let s=Object.keys(r.shared.fonts).map(c=>this._sharedAssetsManager.getFont(c).loadingPromise);if(Promise.all(s).then(()=>{a.scene.markNeedsUpdateRendererDirty(),this._requestRenderAutoMode()}),rB(r)&&N2e(r)&&(yield Promise.all(s)),OB(r)){let c=[];this._scene.traverseEntity(d=>{(d instanceof vo||d instanceof Er)&&d.uiCanvas&&c.push(d.uiCanvas)}),yield Promise.all(c.map(d=>d.promise))}this._scene.rewriteEventsBeforeGoToPlayMode(),lI(this._scene.activePage,this._sharedAssetsManager),this._renderer||(this._renderer=new Axe({canvas:this.canvas,antialias:!1,alpha:!0,stencil:!1,depth:!1,powerPreference:"high-performance"}),this._renderer.hdTransmission=r.scene.publish.hdTransmission===!0,this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.pipeline.enableUIOverlay(),this._renderer.pipeline.addEventListener("smaaloaded",this._requestRenderAutoMode)),FB(r)&&this._scene.initializeSplatViewer(),r.scene.blueNoiseTextureData!==void 0&&this._renderer.pipeline.updateBlueNoiseTexture(r.scene.blueNoiseTextureData);let l=Object.values(r.frames)[0];if(this._frameView?this._frameView.setCamera(this._camera):(l.preset==="fullscreen"?(this._viewportMode=1,this.canvas.style.display="block",this.canvas.parentElement&&(this._viewportWidth=this.canvas.parentElement.clientWidth||300,this.canvas.style.width="100%"),this.canvas.parentElement&&(this._viewportHeight=this.canvas.parentElement.clientHeight||150,this.canvas.style.height="100%")):(this._viewportMode=2,this._viewportWidth=l.size[0],this._viewportHeight=l.size[1],this.canvas.style.width=`${this._viewportWidth}px`,this.canvas.style.height=`${this._viewportHeight}px`),this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1),this._frameView=new $2e(this._renderer,this._camera,new oe(this._viewportWidth,this._viewportHeight),new oe(window.innerWidth,window.innerHeight)),this._frameView.enableResponsive=(l.allowResponsive??!1)&&l.preset==="fullscreen"),t){let c=new FSe(this._renderer,this.data.scene.publish,this._scene,()=>this._scene.activeCamera,this._sharedAssetsManager,this._requestRenderAutoMode,!0,l);this._scene.updateMatrixWorld(!0),this._controls=new z2e(c),this._animationControls=new V2e(this._scene,this._requestRenderAutoMode),this._eventManager=new Z2e(r.scene.publish,this._controls,this._animationControls,c,r.shared.variables),this._eventManager.activate(),this._controls.activate(this._eventManager)}this._resize(),n!==void 0&&this.setVariables(n),this.dt===0&&(this.render(performance.now()),setTimeout(()=>{this._renderer?.setAnimationLoop(this.render)},0)),this._resizeObserverTimeout=setTimeout(()=>{!this._resizeObserver&&this.canvas.parentElement&&(this._resizeObserver=new ResizeObserver(()=>{this._viewportWidth=this.canvas.clientWidth,this._viewportHeight=this.canvas.clientHeight,this._debouncedResize()}),this._resizeObserver.observe(this.canvas.parentElement))},300),document.addEventListener("scroll",this._onScroll)})}setVariables(e){if(this._data!==void 0){let t=Object.entries(e);for(let[n,i]of t)this.setVariable(n,i)}}setVariable(e,t){let n=this._getVariableByName(e);if(n&&!("dynamicVariableType"in n.data)){let i=t;typeof n.data.value=="number"?i=typeof t=="number"?t:typeof t=="boolean"?t===!0?1:0:parseFloat(t):typeof n.data.value=="boolean"?i=typeof t=="number"?!!t:typeof t=="boolean"?t:t.toLocaleLowerCase()==="false"?!1:!!t:typeof n.data.value!="string"&&n.data.value.textValue!==void 0&&(i=t.toString());let r=typeof i=="string"?{textValue:i}:i;this._sharedAssetsManager?.updateVariable(n.id,r),this.requestRender(),this._requestRenderAutoMode()}else n===void 0?console.warn(`No variable named ${e} was found in your Spline file. Make sure to create it from Spline editor.`):"dynamicVariableType"in n.data&&console.warn(`Dynamic variables like ${e} cannot be updated from code.`)}getVariables(){let e={};return this._data&&this._data.shared.variables.forEach(t=>{e[t.data.name]===void 0&&(e[t.data.name]=this._getVariableValue(this._sharedAssetsManager.getVariable(t.id)))}),e}getVariable(e){let t=this._getVariableByName(e);if(t){let n=this._sharedAssetsManager.getVariable(t.id);return this._getVariableValue(n)}}_getVariableValue(e){return typeof e!="string"&&za.isTextValue(e)?za.getDisplayedValue(e):e}_getVariableByName(e){if(this._data){if(this._variablesCache.has(e))return this._variablesCache.get(e);let t=this._data.shared.variables.find(n=>n.data.name===e);return t&&this._variablesCache.set(e,t),t}}findObjectById(e){let t=this._scene?.getObjectByProperty("uuid",e);return this._createProxyObject(t)}findObjectByName(e){let t=this._scene?.getObjectByName(e);return this._createProxyObject(t)}getAllObjects(){let e=[];return this._scene?.traverseEntity(t=>{if(t.uuid!==sg&&!this._scene.isInvisibleObjects(t)&&!(t instanceof Er)){let n=this._createProxyObject(t);n&&e.push(n)}}),e}getSplineEvents(){return(this._eventManager?.handlers?.Spline).splineEvents}emitEvent(e,t){(this.findObjectById(t)||this.findObjectByName(t))?.emitEvent(e)}emitEventReverse(e,t){(this.findObjectById(t)||this.findObjectByName(t))?.emitEventReverse(e)}addEventListener(e,t){this.canvas.addEventListener(e,t)}removeEventListener(e,t){this.canvas.removeEventListener(e,t)}setZoom(e){this._controls?.orbitControls instanceof AG&&this._controls?.orbitControls.zoomOut(e)}get eventManager(){return this._eventManager}get controls(){return this._controls}setSize(e,t){this._viewportWidth=e,this._viewportHeight=t,this._viewportMode=2,this._resize()}setBackgroundColor(e){let{r:t,g:n,b:i,a:r}={r:0,g:0,b:0,a:1},o=new Kr(t,n,i,r);try{o.setStyle(e)}catch{console.error("This is not a valid css color",e)}this._scene?.activePage.setBackgroundColor(o),this._requestRenderAutoMode()}dispose(){this.disposed=!0,this._eventManager?.deactivate(),this._scene?.dispose(),this._sharedAssetsManager?.dispose(),this._proxyObjectCache.forEach(e=>{xN.unsubscribe(e)}),this._variablesCache.clear(),this._renderer?.setAnimationLoop(null),this._renderer?.dispose(),this._renderer=void 0,this._sharedAssetsManager?.dispose(),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=void 0),this._resizeObserverTimeout!==void 0&&clearTimeout(this._resizeObserverTimeout),this.canvas.style.width="",this.canvas.style.height="",this.canvas.removeAttribute("width"),this.canvas.removeAttribute("height"),this._frameView&&(this._frameView=void 0),this._controls?.deactivate(),this.dt=0,bve(this.canvas),document.removeEventListener("scroll",this._onScroll)}get isStopped(){return this._isPaused}stop(){this._isPaused||(this._renderer?.setAnimationLoop(null),this._isPaused=!0,this._eventManager?.pause(),this._controls?.orbitControls&&(this._controls.orbitControls.enabled=!1))}play(){!this._isPaused||(this._isPaused=!1,this._eventManager?.resume(),this._controls?.orbitControls&&(this._controls.orbitControls.enabled=!0),this._renderer?.setAnimationLoop(this.render))}setGlobalEvents(e){this._eventManager?.updateUseWindowEvents(e)}get data(){return this._data}_createProxyObject(e){if(e==null)return;if(this._proxyObjectCache.has(e.uuid))return this._proxyObjectCache.get(e.uuid);let t;e.traverseAncestors(r=>{r instanceof Er&&(t=r.name)});let n={name:e.name,uuid:e.uuid,visible:e.visible,intensity:e.intensity,position:e.position,rotation:e.rotation,scale:e.scale,type:e.data.type,page:t,parentUuid:e.parent instanceof Er||e instanceof QT?void 0:e.parent?.uuid,emitEvent(r){e.dispatchEvent({type:"userEvent",eventName:r})},emitEventReverse(r){e.dispatchEvent({type:"userEvent",eventName:r,reverse:!0})}},i=xN(n,(r,o)=>{typeof e[r]!="object"&&Object.getOwnPropertyDescriptor(e,r)?.writable&&(e[r]=o),this._requestRenderAutoMode(),e.updateMatrix()});return this._proxyObjectCache.set(e.uuid,i),i}setUIWasmUrl(e){iH.skiaWasmUrl=e}};var lEe=["canvas3d"];en.registerPlugin(Gt);var IG=(()=>{let t=class t{constructor(){}ngAfterViewInit(){this.initSplineApp()}initSplineApp(){let i=this.canvas3d.nativeElement;this.app=new TG(i),this.app.load("https://prod.spline.design/6N1KtSU3kHo8ZfKe/scene.splinecode").then(()=>{let r=this.app.findObjectByName("dataCenter");this.setupAnimation(r),console.log(r)})}setupAnimation(i){en.set(i.rotation,{x:.4056873972148343,y:.3189655249857517,z:-.1063573513778691,duration:2}),en.timeline({scrollTrigger:{trigger:".section-b",start:"0% 85%",end:"10% 50%",scrub:!0}}).to("#animateImg",{top:"110%",left:"-50%"}).to(i.rotation,{x:.4,y:0,z:0,duration:2}),en.timeline({scrollTrigger:{trigger:".section-c",start:"0% 90%",end:"80% 50%",scrub:!0}}).to("#animateImg",{top:"195%",left:"0%"}).to(i.rotation,{x:0,y:0,z:0,duration:2})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["app-services-page"]],viewQuery:function(r,o){if(r&1&&dn(lEe,7),r&2){let a;Kt(a=Jt())&&(o.canvas3d=a.first)}},decls:365,vars:0,consts:[["canvas3d",""],["id","animateImg"],[1,"service-page-section"],[1,"app-breadcrumb"],[1,"app-container"],[1,"app-breadcrumb-wrapper"],[1,"breadcrumb-links"],["routerLink","","routerLinkActive","active",1,"breadcrumb-items"],[1,"animate-section"],[1,"service-header","section-a","section-margin"],[1,"service-header-content"],[1,"row"],[1,"col-12","col-md-7"],[1,"header-main-title"],[1,"btn","btn-primary"],[0,"xlink","href","#arrowUpRightIcon"],[1,"header-chat"],["href","#"],[1,"header-links"],[1,"d-flex","align-items-center","justify-content-end"],[1,"mx-2"],["href","#",1,"active"],[1,"service-row","section-b","section-margin"],[1,"col-md-6"],[1,"service-row-content"],[1,"title-label"],[1,"title-main"],[1,"mb-4"],[1,"line","mb-4"],[1,"text-light"],[1,"service-row","section-c","section-margin"],[1,"service-body"],[1,"service-card-hero","section-margin"],[1,"row","gx-3","gx-lg-5"],[1,"col-md-4"],[1,"service-card","d-flex"],[1,"icon-wrapper"],[0,"xlink","href","#arrowCheckIcon"],[1,"service-content"],[1,"card-title","mb-4"],[1,"security-section","section-margin"],["id","accordionExample",1,"security-accordion","mb-3"],[1,"security-item"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"security-accordion-btn","collapsed"],[1,"icon"],[0,"xlink","href","#accPlusIcon"],["id","collapseOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"security-accordion-btn","collapsed"],["id","collapseTwo","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"security-accordion-btn","collapsed"],["id","collapseThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseFour",1,"security-accordion-btn","collapsed"],["id","collapseFour","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"security-accordion-btn","collapsed"],["id","collapseFive","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSix","aria-expanded","false","aria-controls","collapseSix",1,"security-accordion-btn","collapsed"],["id","collapseSix","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSeven","aria-expanded","false","aria-controls","collapseSeven",1,"security-accordion-btn","collapsed"],["id","collapseSeven","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"security-content"],[1,"security-img"],["src","../../../assets/images/pages/services-page/accordion-img-1.png","width","100%","height","100%","alt",""],[1,"security-title"],[1,"latest-news","section-margin"],[1,"lastest-news-hero-list"],[1,"row","gx-4","gutter-5"],[1,"latest-news-card","d-flex","align-items-center","column-gap-3","column-gap-lg-4"],[1,"card-image"],["src","../../../assets/images/pages/services-page/service-news-1.png","width","100%","height","100%","alt","news-1"],[1,"card-content","d-flex","align-items-end"],[1,"card-desc"],[1,"card-title","box-title"],[1,"card-para"],["src","../../../assets/images/pages/services-page/service-news-2.png","width","100%","height","100%","alt","news-1"],["src","../../../assets/images/pages/services-page/service-news-3.png","width","100%","height","100%","alt","news-1"],["src","../../../assets/images/pages/services-page/service-news-4.png","width","100%","height","100%","alt","news-1"],[1,"case-study-contact"],[1,"row","flex-column-reverse","flex-lg-row","align-items-center"],[1,"col-12","col-lg-7"],[1,"case-study-contact-wrapper"],["action","#"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"input-wrapper","mb-4"],["for","FormControlInput1",1,"form-label"],["type","email","id","FormControlInput1","placeholder","your full name",1,"form-control"],["for","FormControlInput2",1,"form-label"],["type","text","id","FormControlInput2","placeholder","your email add",1,"form-control"],[1,"col-12"],["for","FormControlTextarea1",1,"form-label"],["id","FormControlTextarea1","rows","6","placeholder","write your message",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"col-12","col-lg-5"],[1,"case-study-contact-desc"],[1,"case-study-title","mb-4"],[1,"line"],[1,"case-study-para","mb-5"],[1,"case-study-contact-info","d-flex","flex-wrap","justify-content-start","justify-content-lg-between"],[1,"case-study-contact-info-item","d-flex","align-items-center","mb-3"],["src","../../../assets/images/pages/case-study/icon/phone.svg","alt",""],[1,"case-study-contact-info-desc"],["src","../../../assets/images/pages/case-study/icon/mail.svg","alt",""]],template:function(r,o){r&1&&(f(0,"div",1),A(1,"canvas",null,0),y(),f(3,"section",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"ul")(9,"li")(10,"a",7)(11,"span"),w(12,"Cybersecurity "),y()()()()()()()(),f(13,"div",8)(14,"div",4)(15,"div",9)(16,"div",4)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"h1"),w(22,"Secure your company\u2019s future"),y()()()()(),f(23,"button",14)(24,"span"),w(25,"start free consultation"),y(),Z(),f(26,"svg"),A(27,"use",15),y()(),ee(),f(28,"div",16)(29,"a",17),w(30,"Live Chat: Online \u2014 click here"),y()(),f(31,"div",18)(32,"ul",19)(33,"li")(34,"span"),w(35," Shanghai: 16:45:55 GMT +8"),y()(),f(36,"li",20)(37,"span"),w(38,"|"),y()(),f(39,"li")(40,"a",17),w(41,"info@seirim.com"),y()(),f(42,"li",20)(43,"span"),w(44,"|"),y()(),f(45,"li")(46,"a",17),w(47,"English"),y()(),f(48,"li",20)(49,"span"),w(50,"|"),y()(),f(51,"li")(52,"a",17),w(53,"\u4E2D\u6587"),y()(),f(54,"li",20)(55,"span"),w(56,"|"),y()(),f(57,"li")(58,"a",17),w(59,"Light"),y()(),f(60,"li",20)(61,"span"),w(62,"|"),y()(),f(63,"li")(64,"a",21),w(65,"Dark"),y()()()()()(),f(66,"div",22)(67,"div",11),A(68,"div",23),f(69,"div",23)(70,"div",24)(71,"div",25),w(72,"the threat landscape"),y(),f(73,"div",26)(74,"h2",27),w(75,"Why you need security now"),y()(),A(76,"div",28),f(77,"p",29),w(78,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam, illo quibusdam voluptatum ea omnis molestiae accusamus asperiores alias. Explicabo quod neque aspernatur, tenetur veritatis mollitia ab commodi voluptatum dolor fugit sed quo quibusdam provident officia quos obcaecati ratione officiis sit ad cupiditate esse. Sunt voluptatem suscipit quaerat et ullam recusandae, minima est corrupti dolorum ipsa eum dolore deleniti excepturi quos ipsam, dolor, cumque consectetur porro non iusto nihil ut accusantium. Hic porro alias asperiores architecto corrupti, dolores, aliquam laudantium a eligendi, suscipit ratione nisi minus odio aliquid labore? Voluptatibus, nam amet quod animi, tenetur illo facilis molestiae totam expedita reiciendis ea omnis nisi ratione quis assumenda quisquam quibusdam. Voluptatum laborum dolores tempore reprehenderit unde facilis aperiam quia dicta, impedit"),y()()()()(),f(79,"div",30)(80,"div",11)(81,"div",23)(82,"div",24)(83,"div",25),w(84,"the threat landscape"),y(),f(85,"div",26)(86,"h2",27),w(87,"Why you need security now"),y()(),A(88,"div",28),f(89,"p",29),w(90,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam, illo quibusdam voluptatum ea omnis molestiae accusamus asperiores alias. Explicabo quod neque aspernatur, tenetur veritatis mollitia ab commodi voluptatum dolor fugit sed quo quibusdam provident officia quos obcaecati ratione officiis sit ad cupiditate esse. Sunt voluptatem suscipit quaerat et ullam recusandae, minima est corrupti dolorum ipsa eum dolore deleniti excepturi quos ipsam, dolor, cumque consectetur porro non iusto nihil ut accusantium. Hic porro alias asperiores architecto corrupti, dolores, aliquam laudantium a eligendi, suscipit ratione nisi minus odio aliquid labore? Voluptatibus, nam amet quod animi, tenetur illo facilis molestiae totam expedita reiciendis ea omnis nisi ratione quis assumenda quisquam quibusdam. Voluptatum laborum dolores tempore reprehenderit unde facilis aperiam quia dicta, impedit"),y()()(),A(91,"div",23),y()()()(),f(92,"div",31)(93,"div",4)(94,"div",32)(95,"div",33)(96,"div",34)(97,"div",35)(98,"div",36),Z(),f(99,"svg"),A(100,"use",37),y()(),ee(),f(101,"div",38)(102,"h3",39),w(103,"Prevent Ransomware"),y(),f(104,"p",27),w(105,"Nunc sed blandit libero volutpat sed cras ornare. Mauris pellentesque pulvinar pellentesque habitant. "),y()()()(),f(106,"div",34)(107,"div",35)(108,"div",36),Z(),f(109,"svg"),A(110,"use",37),y()(),ee(),f(111,"div",38)(112,"h3",39),w(113,"Reduce and Mitigate Risk"),y(),f(114,"p",27),w(115,"Nunc sed blandit libero volutpat sed cras ornare. Mauris pellentesque pulvinar pellentesque habitant. "),y()()()(),f(116,"div",34)(117,"div",35)(118,"div",36),Z(),f(119,"svg"),A(120,"use",37),y()(),ee(),f(121,"div",38)(122,"h3",39),w(123,"Increase Resilience"),y(),f(124,"p",27),w(125,"Nunc sed blandit libero volutpat sed cras ornare. Mauris pellentesque pulvinar pellentesque habitant. "),y()()()(),f(126,"div",34)(127,"div",35)(128,"div",36),Z(),f(129,"svg"),A(130,"use",37),y()(),ee(),f(131,"div",38)(132,"h3",39),w(133,"Protect Client and Supplier Data"),y(),f(134,"p",27),w(135,"Nunc sed blandit libero volutpat sed cras ornare. Mauris pellentesque pulvinar pellentesque habitant. "),y()()()(),f(136,"div",34)(137,"div",35)(138,"div",36),Z(),f(139,"svg"),A(140,"use",37),y()(),ee(),f(141,"div",38)(142,"h3",39),w(143,"Minimize Losses"),y(),f(144,"p",27),w(145,"Nunc sed blandit libero volutpat sed cras ornare. Mauris pellentesque pulvinar pellentesque habitant. "),y()()()()()(),f(146,"div",40)(147,"div",25),w(148,"Engage"),y(),f(149,"div",26)(150,"h2"),w(151,"Deploy our skills and expertise for your security"),y()(),f(152,"div",41)(153,"div",42)(154,"button",43)(155,"span"),w(156," Cybersecurity Consulting"),y(),f(157,"div",44),Z(),f(158,"svg"),A(159,"use",45),y()()(),ee(),f(160,"div",46)(161,"div",47)(162,"p"),w(163,"SEIRIM is a tight-knit group of professionals with most of us having worked together for over 8+ years. We are highly experienced and skilled in our respective specialties and are dedicated to satisfying our clients with great communication, work and results."),y()()()(),f(164,"div",42)(165,"button",48)(166,"span"),w(167,"Risk Assessment and Management"),y(),f(168,"div",44),Z(),f(169,"svg"),A(170,"use",45),y()()(),ee(),f(171,"div",49)(172,"div",47)(173,"p"),w(174,"We work with an Agile approach - continuously delivering and communicating results, and always remaining responsive and flexible to client input. Our project managers share progress with clients daily, and are available anytime for calls and discussions on work."),y()()()(),f(175,"div",42)(176,"button",50)(177,"span"),w(178,"Vulnerability Scanning and Remediation"),y(),f(179,"div",44),Z(),f(180,"svg"),A(181,"use",45),y()()(),ee(),f(182,"div",51)(183,"div",47)(184,"p"),w(185,"We almost always work hourly because it allows the most flexibility and efficiency to arrive at the best solutions faster. It is also more economical for clients. We can work project-based but it requires more upfront requirements decisions, contract limitations etc. Rates available by discussion."),y()()()(),f(186,"div",42)(187,"button",52)(188,"span"),w(189,"Penetration Testing?"),y(),f(190,"div",44),Z(),f(191,"svg"),A(192,"use",45),y()()(),ee(),f(193,"div",53)(194,"div",47)(195,"p"),w(196,"Both! SEIRIM is made up of roughly 50/50 Chinese and foreign team members, and our client base and projects are also relatively proportioned. We regularly cater to the needs of foreign firms building for the China market and vice versa."),y()()()(),f(197,"div",42)(198,"button",54)(199,"span"),w(200,"Ransomware Protection"),y(),f(201,"div",44),Z(),f(202,"svg"),A(203,"use",45),y()()(),ee(),f(204,"div",55)(205,"div",47)(206,"p"),w(207,"Projects must succeed in regards to client satisfaction of the project owner (the client), the utility and joy experienced by the users or audience of the application, and also technically behind the scenes projects must match up to our own high standards."),y()()()(),f(208,"div",42)(209,"button",56)(210,"span"),w(211,"Incident Response"),y(),f(212,"div",44),Z(),f(213,"svg"),A(214,"use",45),y()()(),ee(),f(215,"div",57)(216,"div",47)(217,"p"),w(218,"Projects must succeed in regards to client satisfaction of the project owner (the client), the utility and joy experienced by the users or audience of the application, and also technically behind the scenes projects must match up to our own high standards."),y()()()(),f(219,"div",42)(220,"button",58)(221,"span"),w(222,"System Hardening"),y(),f(223,"div",44),Z(),f(224,"svg"),A(225,"use",45),y()()(),ee(),f(226,"div",59)(227,"div",47)(228,"div",60)(229,"div",61),A(230,"img",62),y(),f(231,"h3",63),w(232,"Facilisi etiam dignissim"),y(),f(233,"p"),w(234,"Nisl pretium fusce id velit ut tortor pretium. Posuere urna nec tincidunt praesent semper feugiat nibh sed pulvinar. Lorem donec massa sapien faucibus. Proin gravida hendrerit lectus a. "),y(),f(235,"ul")(236,"li")(237,"span"),w(238,"Elit sed vulputate mi sit amet mauris. Nunc mattis enim ut tellus elementum sagittis vitae et leo. Faucibus interdum posuere lorem ipsum dolor sit amet consectetur."),y()(),f(239,"li")(240,"span"),w(241,"Nunc mattis enim ut tellus elementum sagittis vitae et leo. "),f(242,"a",17),w(243,"Faucibus interdum"),y(),w(244," posuere lorem ipsum dolor sit amet consectetur."),y()()()()()()()()(),f(245,"div",64)(246,"div",25),w(247,"leadership"),y(),f(248,"div",26)(249,"h2"),w(250,"Latest News"),y()(),f(251,"div",65)(252,"div",66)(253,"div",23)(254,"ul")(255,"li")(256,"div",67)(257,"div",68),A(258,"img",69),y(),f(259,"div",70)(260,"div",71)(261,"div",25),w(262,"Cybersecurity"),y(),f(263,"h3",72),w(264,"Incident Response for Ransomware Attack - Health Care Company"),y(),f(265,"p",73),w(266,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo."),y()(),f(267,"div",36),Z(),f(268,"svg"),A(269,"use",15),y()()()()(),ee(),f(270,"li")(271,"div",67)(272,"div",68),A(273,"img",74),y(),f(274,"div",70)(275,"div",71)(276,"div",25),w(277,"Cybersecurity"),y(),f(278,"h3",72),w(279,"Risk Assessment and Consulting - B2B Industrial Corporation"),y(),f(280,"p",73),w(281,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo."),y()(),f(282,"div",36),Z(),f(283,"svg"),A(284,"use",15),y()()()()()()(),ee(),f(285,"div",23)(286,"ul")(287,"li")(288,"div",67)(289,"div",68),A(290,"img",75),y(),f(291,"div",70)(292,"div",71)(293,"div",25),w(294,"Cybersecurity"),y(),f(295,"h3",72),w(296,"Protecting Your Smart Home and Devices "),y(),f(297,"p",73),w(298,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo."),y()(),f(299,"div",36),Z(),f(300,"svg"),A(301,"use",15),y()()()()(),ee(),f(302,"li")(303,"div",67)(304,"div",68),A(305,"img",76),y(),f(306,"div",70)(307,"div",71)(308,"div",25),w(309,"Cybersecurity"),y(),f(310,"h3",72),w(311,"Affordable Strategies to Stay Safe Online"),y(),f(312,"p",73),w(313,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo."),y()(),f(314,"div",36),Z(),f(315,"svg"),A(316,"use",15),y()()()()()()()()()()(),ee(),f(317,"div",77)(318,"div",4)(319,"div",78)(320,"div",79)(321,"div",80)(322,"form",81)(323,"div",82)(324,"div",83)(325,"div",84)(326,"label",85),w(327,"Email"),y(),A(328,"input",86),y()(),f(329,"div",83)(330,"div",84)(331,"label",87),w(332,"Name"),y(),A(333,"input",88),y()(),f(334,"div",89)(335,"div",84)(336,"label",90),w(337,"Message"),y(),A(338,"textarea",91),y()()(),f(339,"button",92)(340,"span"),w(341,"submit"),y(),Z(),f(342,"svg"),A(343,"use",15),y()()()()(),ee(),f(344,"div",93)(345,"div",94)(346,"h1",95),w(347," Get secure "),y(),A(348,"div",96),f(349,"div",97)(350,"p"),w(351,"Secure your digital presence with our expert Cybersecurity Services. Based in Shanghai, China, we offer comprehensive cybersecurity solutions to protect against evolving threats."),y()(),f(352,"div",98)(353,"div",99)(354,"div",36),A(355,"img",100),y(),f(356,"div",101)(357,"p"),w(358,"+86 152 2188 2181"),y()()(),f(359,"div",99)(360,"div",36),A(361,"img",102),y(),f(362,"div",101)(363,"p"),w(364,"info@seirim.com"),y()()()()()()()()()()())},styles:['.service-page-section[_ngcontent-%COMP%]{background-color:var(--bg-2)}.service-page-section[_ngcontent-%COMP%]   .section-margin[_ngcontent-%COMP%]{margin-bottom:5rem}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]{z-index:111}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .service-header-content[_ngcontent-%COMP%]{position:relative}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .service-header-content[_ngcontent-%COMP%]   .header-main-title[_ngcontent-%COMP%]{position:relative;z-index:1;margin-bottom:3rem}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .service-header-content[_ngcontent-%COMP%]   .header-main-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--white);font-size:8rem;font-style:normal;font-weight:var(--fw-300);line-height:7.6875rem;letter-spacing:.2625rem}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .service-header-content[_ngcontent-%COMP%]   .headear-bg[_ngcontent-%COMP%]{position:absolute;top:-5.5rem;right:0;width:57rem;height:37rem;transform:rotate(-.063deg);z-index:0}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0;margin-bottom:4.5rem}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .header-chat[_ngcontent-%COMP%]{width:100%;text-align:right;padding-bottom:1rem}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .header-chat[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--white);font-size:.88563rem;font-style:normal;font-weight:var(--fw-400);line-height:1.5625rem;text-transform:uppercase;transition:.3s all ease-in-out}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .header-chat[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--tech-blue-1)}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]{padding:1rem 0;border-top:1px solid rgba(255,255,255,.5019607843)}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white);font-size:.88563rem;font-style:normal;font-weight:400;line-height:1.5625rem;text-transform:uppercase}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{color:var(--tech-blue-1)}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:.3s all ease-in-out}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--tech-blue-1)}.service-page-section[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{margin-bottom:.5rem}.service-page-section[_ngcontent-%COMP%]   .title-main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--white);font-size:2.8125rem;font-style:normal;font-weight:400;line-height:100%;margin-bottom:2.5rem}.service-page-section[_ngcontent-%COMP%]   .service-row[_ngcontent-%COMP%]   .service-row-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain}.service-page-section[_ngcontent-%COMP%]   .service-row[_ngcontent-%COMP%]   .service-row-content[_ngcontent-%COMP%]{max-width:34rem}.service-page-section[_ngcontent-%COMP%]   .service-row[_ngcontent-%COMP%]   .service-row-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:1.0625rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem;letter-spacing:.05313rem}.service-page-section[_ngcontent-%COMP%]   .service-row[_ngcontent-%COMP%]   .service-row-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]{margin-bottom:4rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:2.75rem;height:1.75rem;margin-right:1rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{border-bottom:1px solid #142974}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--white);font-size:1.5625rem;font-style:normal;font-weight:var(--fw-500);line-height:100%}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:1.0625rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem;letter-spacing:.05313rem;margin-top:0}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .title-main[_ngcontent-%COMP%]{max-width:36rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]{position:relative;width:100%;height:auto;border:0;border-radius:0!important}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .security-accordion-btn[_ngcontent-%COMP%]{color:var(--white);font-size:1.5625rem;font-style:normal;font-weight:var(--fw-400);line-height:100%;box-shadow:none;padding:1.8rem 0;text-transform:uppercase;display:flex;justify-content:space-between;width:100%;background-color:transparent}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .security-accordion-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:rotate(45deg);transition:.3s all ease-in-out}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .security-accordion-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5625rem;height:1.5625rem;--fill-color: var(--tech-blue-1)}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .security-accordion-btn[_ngcontent-%COMP%]:after{display:none}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .security-accordion-btn.collapsed[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:rotate(0)}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:.5rem 0}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]{width:50.1875rem;height:auto}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   .security-title[_ngcontent-%COMP%]{color:var(--white);font-size:1.5625rem;font-style:normal;font-weight:var(--fw-400);line-height:100%}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:1.0625rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;margin-bottom:.5rem;padding-left:1.8rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--white);font-size:1.0625rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--tech-blue-1)}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";position:absolute;top:.7rem;left:0;width:.6875rem;height:.6875rem;background-color:var(--tech-blue-1)}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:.05rem;background:linear-gradient(200deg,#0782f4,#13324e)}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]:last-child:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:.05rem;background:linear-gradient(200deg,#0782f4,#13324e)}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]{padding-bottom:1.8rem;margin-bottom:1.8rem;border-bottom:1px solid #0a304b;cursor:pointer}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]:hover   .box-title[_ngcontent-%COMP%]{color:var(--tech-blue-1)!important}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{min-width:10.5625rem;height:9.625rem;overflow:hidden}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]{width:95%}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{margin-bottom:0}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:var(--white);font-size:1.5625rem;font-style:normal;font-weight:var(--fw-500);line-height:130%;margin-bottom:.7rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-para[_ngcontent-%COMP%]{color:var(--white);font-size:1.0625rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem;letter-spacing:.05313rem;margin:0}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:5%}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.72919rem;height:.696rem;transform:rotate(45deg)}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   .latest-news-card[_ngcontent-%COMP%]{margin-bottom:0}@media screen and (max-width: 1300px){.service-page-section[_ngcontent-%COMP%]   .section-margin[_ngcontent-%COMP%]{margin-bottom:3.5rem}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .service-header-content[_ngcontent-%COMP%]   .header-main-title[_ngcontent-%COMP%]{margin-bottom:2.5rem}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .service-header-content[_ngcontent-%COMP%]   .header-main-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:6rem;line-height:6rem}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .service-header-content[_ngcontent-%COMP%]   .headear-bg[_ngcontent-%COMP%]{top:-5rem;width:51rem;height:31rem}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-bottom:4rem}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.6rem}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .header-chat[_ngcontent-%COMP%]{padding-bottom:.8rem}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .header-chat[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.78563rem}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]{padding:.8rem 0}.service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .service-page-section[_ngcontent-%COMP%]   .service-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.78563rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{font-size:.6rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .title-main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.3rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-row[_ngcontent-%COMP%]   .service-row-wrapper[_ngcontent-%COMP%]   .service-row-image[_ngcontent-%COMP%]{width:40rem;height:30rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-row[_ngcontent-%COMP%]   .service-row-wrapper[_ngcontent-%COMP%]   .service-row-content[_ngcontent-%COMP%]{max-width:29rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-row[_ngcontent-%COMP%]   .service-row-wrapper[_ngcontent-%COMP%]   .service-row-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.6rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]{margin-bottom:3.5rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-right:.5rem;margin-top:-.3rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.975rem;line-height:1.5rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .title-main[_ngcontent-%COMP%]{max-width:36rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .security-accordion-btn[_ngcontent-%COMP%]{font-size:1.25rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .security-accordion-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;--fill-color: var(--tech-blue-1)}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:.5rem 0}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]{width:50.1875rem;height:auto}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   .security-title[_ngcontent-%COMP%]{font-size:1.5625rem;font-style:normal;font-weight:var(--fw-400);line-height:100%}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.0625rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;padding-left:1.8rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.0625rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--tech-blue-1)}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";position:absolute;top:.7rem;left:0;width:.6875rem;height:.6875rem;background-color:var(--tech-blue-1)}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:.05rem;background:linear-gradient(200deg,#0782f4,#13324e)}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .security-section[_ngcontent-%COMP%]   .security-accordion[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]:last-child:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:.05rem;background:linear-gradient(200deg,#0782f4,#13324e)}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{min-width:10rem;height:8.2rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{font-size:.65rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.3rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-para[_ngcontent-%COMP%]{font-size:.8rem;line-height:1.5rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:5%}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.72919rem;height:.696rem;transform:rotate(45deg)}}@media screen and (max-width: 1100px){.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]{margin-bottom:3rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-right:.5rem;margin-top:-.3rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem!important}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.785rem;line-height:1.5rem;margin-bottom:1rem!important}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{min-width:9rem;height:8rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{font-size:.6rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-para[_ngcontent-%COMP%]{font-size:.785rem;line-height:1.3rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:5%}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.72919rem;height:.696rem;transform:rotate(45deg)}}@media screen and (max-width: 991px){.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]{margin-bottom:3rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:2.5rem;height:1rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.3rem;margin-bottom:1rem!important}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{min-width:8rem;height:7rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.3rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]   .card-para[_ngcontent-%COMP%]{font-size:.6rem;line-height:1.2rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:5%}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.6rem;height:.6rem;transform:rotate(45deg)}}@media screen and (max-width: 767px){.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .service-card-hero[_ngcontent-%COMP%]   .service-card[_ngcontent-%COMP%]{margin-bottom:2.5rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .latest-news-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{min-width:7rem;height:6rem}.service-page-section[_ngcontent-%COMP%]   .service-body[_ngcontent-%COMP%]   .latest-news[_ngcontent-%COMP%]   .lastest-news-hero-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   .latest-news-card[_ngcontent-%COMP%]{margin-bottom:1.8rem}}@media (min-width: 992px){.service-page-section[_ngcontent-%COMP%]   .gutter-5[_ngcontent-%COMP%]{--bs-gutter-x: 4rem}}#animateImg[_ngcontent-%COMP%]{position:absolute;top:0%;right:0%;z-index:1;object-fit:contain;transition:all cubic-bezier(.19,1,.22,1) .5s;width:100vw;height:100vh}#animateImg[_ngcontent-%COMP%]   #canvas[_ngcontent-%COMP%]{width:100%;height:100%}']});let e=t;return e})();var RG=(()=>{let t=class t{constructor(){this.progress=0,this.progressIcon="",this.circumference=2*Math.PI*45,this.dashOffset=this.calculateDashOffset(this.progress)}ngOnChanges(i){if(i.progress){let r=i.progress;r.currentValue!==void 0&&(this.dashOffset=this.calculateDashOffset(r.currentValue))}}calculateDashOffset(i){return this.circumference-i/100*this.circumference}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["circular-progess-bar"]],inputs:{progress:"progress",progressIcon:"progressIcon"},standalone:!0,features:[fd,gt],decls:10,vars:2,consts:[[1,"progress-bar"],["viewBox","0 0 130 130",1,"circular-progress-bar"],["id","progress-bar-gradient","x1","-22.5913","y1","36.478","x2","119.673","y2","111.258","gradientUnits","userSpaceOnUse"],["stop-color","#0782F4"],["offset","1","stop-color","#22CAFF"],["cx","65","cy","65","r","60","fill","none","stroke","#1B2023","stroke-width","2"],["cx","65","cy","65","r","60","fill","none","stroke","url(#progress-bar-gradient)","stroke-width","2","stroke-dasharray","377","stroke-linecap","round",1,"progress-value"],[1,"progress-bar-icon"],["alt","",3,"src"]],template:function(r,o){r&1&&(f(0,"div",0),Z(),f(1,"svg",1)(2,"defs")(3,"linearGradient",2),A(4,"stop",3)(5,"stop",4),y()(),A(6,"circle",5)(7,"circle",6),y(),ee(),f(8,"div",7),A(9,"img",8),y()()),r&2&&(nn(7),dc("stroke-dashoffset",o.dashOffset),nn(2),gi("src",o.progressIcon,Hg))},styles:[".progress-bar[_ngcontent-%COMP%]{position:relative;width:8rem;height:8rem}.progress-bar[_ngcontent-%COMP%]   .circular-progress-bar[_ngcontent-%COMP%]{transform:rotate(-90deg);width:100%;height:100%}.progress-bar[_ngcontent-%COMP%]   .progress-bar-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:2rem;height:2rem}@media screen and (max-width: 767px){.progress-bar[_ngcontent-%COMP%]{width:6rem;height:6rem}.progress-bar[_ngcontent-%COMP%]   .progress-bar-icon[_ngcontent-%COMP%]{width:1.8rem;height:1.8rem}}.progress-value[_ngcontent-%COMP%]{transition:stroke-dashoffset .5s ease-out}"]});let e=t;return e})();var Ty,Dw,cEe=function(){return Ty||typeof window<"u"&&(Ty=window.gsap)&&Ty.registerPlugin&&Ty},hg={version:"3.12.5",name:"text",init:function(t,n,i){typeof n!="object"&&(n={value:n});var r=t.nodeName.toUpperCase(),o=this,a=n,s=a.newClass,l=a.oldClass,c=a.preserveSpaces,d=a.rtl,u=o.delimiter=n.delimiter||"",h=o.fillChar=n.fillChar||(n.padSpace?"&nbsp;":""),p,m,g,v,b,_,C,M;if(o.svg=t.getBBox&&(r==="TEXT"||r==="TSPAN"),!("innerHTML"in t)&&!o.svg)return!1;if(o.target=t,!("value"in n)){o.text=o.original=[""];return}for(g=Ub(t,u,!1,c),Dw||(Dw=document.createElement("div")),Dw.innerHTML=n.value,m=Ub(Dw,u,!1,c),o.from=i._from,(o.from||d)&&!(d&&o.from)&&(r=g,g=m,m=r),o.hasClass=!!(s||l),o.newClass=d?l:s,o.oldClass=d?s:l,r=g.length-m.length,p=r<0?g:m,r<0&&(r=-r);--r>-1;)p.push(h);if(n.type==="diff"){for(v=0,b=[],_=[],C="",r=0;r<m.length;r++)M=m[r],M===g[r]?C+=M:(b[v]=C+M,_[v++]=C+g[r],C="");m=b,g=_,C&&(m.push(C),g.push(C))}n.speed&&i.duration(Math.min(.05/n.speed*p.length,n.maxDuration||9999)),o.rtl=d,o.original=g,o.text=m,o._props.push("text")},render:function(t,n){t>1?t=1:t<0&&(t=0),n.from&&(t=1-t);var i=n.text,r=n.hasClass,o=n.newClass,a=n.oldClass,s=n.delimiter,l=n.target,c=n.fillChar,d=n.original,u=n.rtl,h=i.length,p=(u?1-t:t)*h+.5|0,m,g,v;r&&t?(m=o&&p,g=a&&p!==h,v=(m?"<span class='"+o+"'>":"")+i.slice(0,p).join(s)+(m?"</span>":"")+(g?"<span class='"+a+"'>":"")+s+d.slice(p).join(s)+(g?"</span>":"")):v=i.slice(0,p).join(s)+s+d.slice(p).join(s),n.svg?l.textContent=v:l.innerHTML=c==="&nbsp;"&&~v.indexOf("  ")?v.split("  ").join("&nbsp;&nbsp;"):v}};hg.splitInnerHTML=Ub;hg.emojiSafeSplit=ta;hg.getText=gm;cEe()&&Ty.registerPlugin(hg);var dEe=["top"],uEe=["bottom"],hEe=["middle"],pEe=["sidebar"],mEe=["sideMenuLink"],fEe=["serviceMegaMenu"],gEe=["caseMegaMenu"],vEe=["aboutMegaMenu"],yEe=["resourcesMegaMenu"],bEe=["contactMegaMenu"],_Ee=["megaMenuContent"],CEe=(e,t,n)=>({activeNavBg:e,hoverNavBg:t,fixNavbar:n}),Iy=e=>({active:e}),MEe=e=>({"active-mobile-menu":e});function wEe(e,t){e&1&&(f(0,"div",196)(1,"div",197)(2,"div",198)(3,"ul",199)(4,"li",200)(5,"button",201)(6,"span",15),w(7,"Services"),y(),f(8,"div",114),Z(),f(9,"svg",115),A(10,"use",16),y(),f(11,"svg",117),A(12,"use",118),y()()(),ee(),f(13,"div",202)(14,"div",203)(15,"ul")(16,"li",204)(17,"a",205),w(18,"Services main"),y(),Z(),f(19,"svg"),A(20,"use",45),y()(),ee(),f(21,"li")(22,"a",205),w(23,"cybersecurity"),y(),Z(),f(24,"svg"),A(25,"use",45),y()(),ee(),f(26,"li")(27,"a",205),w(28,"it & web development"),y(),Z(),f(29,"svg"),A(30,"use",45),y()(),ee(),f(31,"li")(32,"a",205),w(33,"digital marketing"),y(),Z(),f(34,"svg"),A(35,"use",45),y()()()()()(),ee(),f(36,"li",200)(37,"button",206)(38,"span",15),w(39,"Case Studies"),y(),f(40,"div",114),Z(),f(41,"svg",115),A(42,"use",16),y(),f(43,"svg",117),A(44,"use",118),y()()(),ee(),f(45,"div",207)(46,"div",203)(47,"ul")(48,"li",208)(49,"a",209),w(50,"Case Studies Main"),y(),Z(),f(51,"svg"),A(52,"use",45),y()(),ee(),f(53,"li",210)(54,"a",209),w(55,"cybersecurity"),y(),Z(),f(56,"svg"),A(57,"use",45),y()(),ee(),f(58,"li",211)(59,"a",209),w(60,"it & web development"),y(),Z(),f(61,"svg"),A(62,"use",45),y()(),ee(),f(63,"li",212)(64,"a",209),w(65,"digital marketing"),y(),Z(),f(66,"svg"),A(67,"use",45),y()()()()()(),ee(),f(68,"li",200)(69,"button",213)(70,"span",15),w(71,"Company"),y(),f(72,"div",114),Z(),f(73,"svg",115),A(74,"use",16),y(),f(75,"svg",117),A(76,"use",118),y()()(),ee(),f(77,"div",214)(78,"div",203)(79,"ul")(80,"li")(81,"a",205),w(82,"About Seirim"),y(),Z(),f(83,"svg"),A(84,"use",45),y()(),ee(),f(85,"li",215)(86,"a",209),w(87,"Who We Are"),y(),Z(),f(88,"svg"),A(89,"use",45),y()(),ee(),f(90,"li")(91,"a",205),w(92,"How we work"),y(),Z(),f(93,"svg"),A(94,"use",45),y()(),ee(),f(95,"li")(96,"a",205),w(97,"Team vision"),y(),Z(),f(98,"svg"),A(99,"use",45),y()()()()()(),ee(),f(100,"li",200)(101,"button",216)(102,"span",15),w(103,"Resources"),y(),f(104,"div",114),Z(),f(105,"svg",115),A(106,"use",16),y(),f(107,"svg",117),A(108,"use",118),y()()(),ee(),f(109,"div",217)(110,"div",203)(111,"ul")(112,"li",218)(113,"a",209),w(114,"News & Blog"),y(),Z(),f(115,"svg"),A(116,"use",45),y()(),ee(),f(117,"li")(118,"a",205),w(119,"Tools"),y(),Z(),f(120,"svg"),A(121,"use",45),y()(),ee(),f(122,"li")(123,"a",205),w(124,"Faqs"),y(),Z(),f(125,"svg"),A(126,"use",45),y()(),ee(),f(127,"li")(128,"a",205),w(129,"Cybersecurity 101"),y(),Z(),f(130,"svg"),A(131,"use",45),y()(),ee(),f(132,"li")(133,"a",205),w(134,"www.cyber.report"),y(),Z(),f(135,"svg",219),A(136,"use",27),y()()()()()(),ee(),f(137,"li",200)(138,"button",220)(139,"span",15),w(140,"Contact"),y(),Z(),f(141,"svg",26),A(142,"use",45),y()()()()(),ee(),f(143,"div",221)(144,"span"),w(145,"SEIRIM / Business Documentaries Ltd."),y()()()())}en.registerPlugin(hg);var Aw=(()=>{let t=class t{onWindowScroll(){if(this.isServiceMegaMenuActive||this.isCaseMegaMenuActive||this.isAboutMegaMenuActive||this.isResourcesMegaMenuActive||this.isContactMegaMenuActive)return;let i=window.pageYOffset;i<this.lastScrollPosition&&i>100?this.isNavbarFixed=!0:this.isNavbarFixed=!1,this.lastScrollPosition=i}activateTab(i){document.getElementById(i+"-tab").click()}constructor(i){this.renderer=i,this.isNavActive=!1,this.isHoverNavBg=!1,this.lastScrollTop=0,this.isServiceMegaMenuActive=!1,this.isCaseMegaMenuActive=!1,this.isAboutMegaMenuActive=!1,this.isResourcesMegaMenuActive=!1,this.isContactMegaMenuActive=!1,this.isMobileMenu=!0,this.isNavbarFixed=!1,this.lastScrollPosition=window.pageYOffset,this.originalTextMap=new Map}toggleMenu(){this.isMobileMenu=!this.isMobileMenu,this.isMobileMenu?this.renderer.removeClass(document.body,"no-scroll"):this.renderer.addClass(document.body,"no-scroll")}showServiceMegaMenu(){this.isServiceMegaMenuActive=!this.isServiceMegaMenuActive,this.animateOpenMegaMenu(this.serviceMegaMenu.nativeElement)}hideServicMegaMenu(){this.isServiceMegaMenuActive=!this.isServiceMegaMenuActive,this.animateCloseMegaMenu(this.serviceMegaMenu.nativeElement)}showCaseMegaMenu(){this.isCaseMegaMenuActive=!this.isCaseMegaMenuActive,this.animateOpenMegaMenu(this.caseMegaMenu.nativeElement)}hideCaseMegaMenu(){this.isCaseMegaMenuActive=!this.isCaseMegaMenuActive,this.animateCloseMegaMenu(this.caseMegaMenu.nativeElement)}showAboutMegaMenu(){this.isAboutMegaMenuActive=!this.isAboutMegaMenuActive,this.animateOpenMegaMenu(this.aboutMegaMenu.nativeElement)}hideAboutMegaMenu(){this.isAboutMegaMenuActive=!this.isAboutMegaMenuActive,this.animateCloseMegaMenu(this.aboutMegaMenu.nativeElement)}showResourcesMegaMenu(){this.isResourcesMegaMenuActive=!this.isResourcesMegaMenuActive,this.animateOpenMegaMenu(this.resourcesMegaMenu.nativeElement)}hideResourcesMegaMenu(){this.isResourcesMegaMenuActive=!this.isResourcesMegaMenuActive,this.animateCloseMegaMenu(this.resourcesMegaMenu.nativeElement)}showContactMegaMenu(){this.isContactMegaMenuActive=!this.isContactMegaMenuActive,this.animateOpenMegaMenu(this.contactMegaMenu.nativeElement)}hideContactMegaMenu(){this.isContactMegaMenuActive=!this.isContactMegaMenuActive,this.animateCloseMegaMenu(this.contactMegaMenu.nativeElement)}animateOpenMegaMenu(i){this.isNavActive=!0,this.isHoverNavBg=!0,en.fromTo(i,{opacity:0,overflow:"hidden",display:"none"},{height:"auto",opacity:1,overflow:"visible",display:"block",duration:.4,ease:"ease-in-out"})}animateCloseMegaMenu(i){this.isNavActive=!1,this.isHoverNavBg=!1,en.to(i,{opacity:0,height:0,overflow:"hidden",duration:.4,ease:"ease-in-out",onComplete:()=>{i.style.display="none"}})}onHoverTextScramble(i){let r=i.currentTarget,o=r.querySelector(".link-name");o&&(en.killTweensOf(o),en.set(o,{clearProps:"all"}),this.originalTextMap.has(r)||this.originalTextMap.set(r,o.innerText),en.to(o,{duration:.5,text:{value:this.scrambleText(this.originalTextMap.get(r)||""),scrambleText:{chars:"01",speed:.1,ease:"none"}},onComplete:()=>{en.to(o,{duration:.5,text:{value:this.originalTextMap.get(r)||""}})}}))}scrambleText(i){let r=i.split("");for(let o=r.length-1;o>0;o--){let a=Math.floor(Math.random()*(o+1));[r[o],r[a]]=[r[a],r[o]]}return r.join("")}};t.\u0275fac=function(r){return new(r||t)(kn(dl))},t.\u0275cmp=mt({type:t,selectors:[["app-header"]],viewQuery:function(r,o){if(r&1&&(dn(dEe,5),dn(uEe,5),dn(hEe,5),dn(pEe,5),dn(mEe,5),dn(fEe,7),dn(gEe,7),dn(vEe,7),dn(yEe,7),dn(bEe,7),dn(_Ee,7)),r&2){let a;Kt(a=Jt())&&(o.top=a.first),Kt(a=Jt())&&(o.bottom=a.first),Kt(a=Jt())&&(o.middle=a.first),Kt(a=Jt())&&(o.sidebar=a.first),Kt(a=Jt())&&(o.sideMenuLink=a.first),Kt(a=Jt())&&(o.serviceMegaMenu=a.first),Kt(a=Jt())&&(o.caseMegaMenu=a.first),Kt(a=Jt())&&(o.aboutMegaMenu=a.first),Kt(a=Jt())&&(o.resourcesMegaMenu=a.first),Kt(a=Jt())&&(o.contactMegaMenu=a.first),Kt(a=Jt())&&(o.megaMenuContent=a.first)}},hostBindings:function(r,o){r&1&&Cn("scroll",function(s){return o.onWindowScroll(s)},!1,H1)},standalone:!0,features:[gt],decls:836,vars:24,consts:[["serviceMegaMenu",""],["caseMegaMenu",""],["aboutMegaMenu",""],["resourcesMegaMenu",""],["contactMegaMenu",""],[1,"main-header",3,"ngClass"],[1,"app-container"],[1,"header-container"],[1,"header-logo"],["routerLink","/home"],[0,"xlink","href","#logoIcon"],[1,"header-menu"],[1,"header-menu-list"],[1,"header-menu-list-item",3,"mouseenter","mouseleave","ngClass"],["routerLink","/services","routerLinkActive","active",1,"link",3,"mouseenter"],[1,"link-name"],[0,"xlink","href","#arrowDownIcon"],[1,"active-line"],[1,"mega-menu"],[1,"mega-menu-content"],[1,"row"],[1,"col-md-3"],[1,"mega-menu-desc-wrapper"],[1,"mega-menu-title"],[1,"line"],["routerLink","/services",1,"btn-banner","btn-primary"],[1,"link-icon"],[0,"xlink","href","#arrowUpRightIcon"],[1,"col-md-9"],[1,"mega-menu-categories-wrapper"],["role","tablist",1,"tabs"],["id","cybersecurity-tab","data-bs-toggle","tab","href","#cybersecurity","role","tab","aria-controls","cybersecurity","aria-selected","true",1,"tab-item","active",3,"mouseenter"],["id","development-tab","data-bs-toggle","tab","href","#development","role","tab","aria-controls","development","aria-selected","false",1,"tab-item",3,"mouseenter"],["id","marketing-tab","data-bs-toggle","tab","href","#marketing","role","tab","aria-controls","marketing","aria-selected","false",1,"tab-item",3,"mouseenter"],[1,"tab-content"],["id","cybersecurity","role","tabpanel","aria-labelledby","cybersecurity-tab",1,"tab-pane","fade","show","active"],[1,"services-content"],[1,"row","card-gutter","g-xxl-5"],[1,"col-md-4"],[1,"category-hero-card"],[1,"category-title","box-title"],[1,"category-img"],["src","../../../../assets/images/mega-menu/services-1.jpg","alt",""],[1,"category-detail"],[1,"btn","btn-menu","mt-2"],[0,"xlink","href","#arrowRightIconOne"],[1,"col-md-8"],[1,"list"],[1,"list-item"],[1,"item-title"],[1,"item-para"],["id","development","role","tabpanel","aria-labelledby","development-tab",1,"tab-pane","fade"],["src","../../../../assets/images/mega-menu/services-2.jpg","alt",""],["id","marketing","role","tabpanel","aria-labelledby","marketing-tab",1,"tab-pane","fade"],["src","../../../../assets/images/mega-menu/services-3.jpg","alt",""],["routerLink","/case-study","routerLinkActive","active",1,"link",3,"mouseenter"],["routerLink","/case-study/overview",1,"btn-banner","btn-primary"],["id","case-studies-tab","data-bs-toggle","tab","href","#case-studies","role","tab","aria-controls","cybersecurity","aria-selected","true","routerLink","/case-study/overview",1,"tab-item","active"],["id","case-studies","role","tabpanel","aria-labelledby","case-studies-tab",1,"tab-pane","fade","show","active"],[1,"caseStudies-content"],[1,"row","g-5"],[1,"col-md-4","border-left"],["routerLink","/case-study/cybersecurity",1,"category-hero-card"],["src","../../../../assets/images/mega-menu/case-studies-1.jpg","alt",""],[1,"btn","btn-menu"],["routerLink","/case-study/development",1,"category-hero-card"],["src","../../../../assets/images/mega-menu/case-studies-2.jpg","alt",""],["routerLink","/case-study/marketing",1,"category-hero-card"],["src","../../../../assets/images/mega-menu/case-studies-3.jpg","alt",""],["routerLink","/company-page","routerLinkActive","active",1,"link",3,"mouseenter"],[1,"btn-banner","btn-primary"],["id","about-tab","data-bs-toggle","tab","href","#about-company","role","tab","aria-controls","cybersecurity","aria-selected","true",1,"tab-item","active"],["id","about-company","role","tabpanel","aria-labelledby","about-tab-tab",1,"tab-pane","fade","show","active"],[1,"about-content"],["routerLink","/company-page/who-we-are",1,"category-hero-card"],["src","../../../../assets/images/mega-menu/Company-Who-we-are.jpg","width","100%","height","100%","alt",""],["src","../../../../assets/images/mega-menu/Company-How-we-work.jpg","width","100%","height","100%","alt",""],[1,"category-hero-card","border-0"],["src","../../../../assets/images/mega-menu/Company-Team-vision.jpg","width","100%","height","100%","alt",""],["routerLink","/blog","routerLinkActive","active",1,"link",3,"mouseenter"],["routerLink","/blog",1,"btn-banner","btn-primary"],["id","news-blog-tab","data-bs-toggle","tab","href","#resources-news-blog","role","tab","aria-controls","news-blog","aria-selected","false",1,"tab-item","active",3,"mouseenter"],["id","tools-tab","data-bs-toggle","tab","href","#resources-tools","role","tab","aria-controls","tools","aria-selected","false",1,"tab-item",3,"mouseenter"],["id","resources-faq-tab","data-bs-toggle","tab","href","#resources-faq","role","tab","aria-controls","resources-faq","aria-selected","false",1,"tab-item",3,"mouseenter"],["id","resources-cybersecurity-tab","data-bs-toggle","tab","href","#resources-cybersecurity","role","tab","aria-controls","resources-cybersecurity","aria-selected","ture",1,"tab-item",3,"mouseenter"],["id","resources-security-tab","data-bs-toggle","tab","href","#resources-security","role","tab","aria-controls","resources-security","aria-selected","false",1,"tab-item",3,"mouseenter"],["id","resources-cyber-tab","data-bs-toggle","tab","href","#resources-cyber","role","tab","aria-controls","resources-cyber","aria-selected","false",1,"tab-item",3,"mouseenter"],["id","resources-news-blog","role","tabpanel","aria-labelledby","tools-tab",1,"tab-pane","fade","show","active"],[1,"resources-blog-content"],[1,"row","g-4"],[1,"col-md-5"],[1,"main-blog"],["src","../../../../assets/images/mega-menu/resources-1.png","width","100%","height","100%","alt",""],[1,"category-card-desc"],[1,"blog-date","mb-2"],[1,"btn","btn-menu","mt-3"],[1,"col-md-7"],[1,"news-list","flex-column"],[1,"card-list-item"],["src","../../../../assets/images/mega-menu/resources-2.png","alt",""],[1,"category-card-desc","py-0"],[1,"blog-date"],[1,"category-detail","m-0"],["src","../../../../assets/images/mega-menu/resources-3.png","alt",""],["src","../../../../assets/images/mega-menu/resources-4.png","alt",""],["id","resources-tools","role","tabpanel","aria-labelledby","tools-tab",1,"tab-pane","fade"],[1,"resources-tool-content"],[1,"d-flex","justify-content-end","pe-4"],[1,"btn","btn-menu","mt-0"],["id","resources-faq","role","tabpanel","aria-labelledby","resources-faq-tab",1,"tab-pane","fade"],[1,"resources-faq-content"],["id","accordionExample",1,"resources-faq-accordion","mb-3"],[1,"resources-faq-item"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"faq-accordion-btn"],[1,"icon"],[1,"open"],[0,"xlink","href","#plusIcon"],[1,"closed"],[0,"xlink","href","#minusIcon"],["id","collapseOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"faq-accordion-btn","collapsed"],["id","collapseTwo","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"faq-accordion-btn","collapsed"],["id","collapseThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseFour",1,"faq-accordion-btn","collapsed"],["id","collapseFour","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"faq-accordion-btn","collapsed"],["id","collapseFive","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","resources-cybersecurity","role","tabpanel","aria-labelledby","resources-cybersecurity-tab",1,"tab-pane","fade"],[1,"resources-cybersecurity-content"],[1,"main-title"],[1,"mb-1"],[1,"list","mt-4"],[1,"list-item","d-flex"],[1,"item-img"],["src","../../../../assets/images/mega-menu/Cyber-101-1.jpg","alt",""],[1,"item-content","ms-3"],[1,"item-title","box-title"],["src","../../../../assets/images/mega-menu/Cyber-101-4.jpg","alt",""],["src","../../../../assets/images/mega-menu/Cyber-101-2.jpg","alt",""],["src","../../../../assets/images/mega-menu/Cyber-101-5.jpg","alt",""],["src","../../../../assets/images/mega-menu/Cyber-101-3.jpg","alt",""],["src","../../../../assets/images/mega-menu/Cyber-101-6.jpg","alt",""],[1,"btn","btn-menu","mt-3","mt-xxl-4"],["id","resources-security","role","tabpanel","aria-labelledby","resources-security-tab",1,"tab-pane","fade"],[1,"resources-security-content"],[1,"col-md-5","pe-0","pe-xxl-3"],[1,"main-title","mb-3"],[1,"category-img","mt-0"],["src","../../../../assets/images/mega-menu/ST20-wide.jpg","width","100%","height","100%","alt",""],[1,"line","mb-2"],[1,"mb-0"],["text","COMING SOON"],[1,"d-flex"],["src","../../../../assets/images/mega-menu/ST20-1.jpg","width","100%","height","100%","alt",""],["src","../../../../assets/images/mega-menu/ST20-2.jpg","width","100%","height","100%","alt",""],[1,"d-flex","align-items-end","justify-content-end"],["id","resources-cyber","role","tabpanel","aria-labelledby","resources-cyber-tab",1,"tab-pane","fade"],[1,"resources-cyber-content"],[1,"row","gx-4","gx-xxl-5","mb-3"],["src","../../../../assets/images/mega-menu/cyber-1.png","width","100%","height","100%","alt",""],[1,"link",3,"mouseenter"],["id","contact-tab","data-bs-toggle","tab","href","#contact-us","role","tab","aria-controls","cybersecurity","aria-selected","true",1,"tab-item","active"],["id","contact-us","role","tabpanel","aria-labelledby","contact-tab",1,"tab-pane","fade","show","active"],[1,"contact-content"],[1,"col-md-4","border-right"],[1,"category-hero-card","pe-3"],[1,"category-img","mt-0","mb-3"],["src","../../../../assets/images/mega-menu/contact.jpg","width","100%","height","100%","alt",""],[1,"contact-details"],[1,"mb-3"],[1,"icon-wrapper"],["src","../../../../assets/images/general/icon/mail.svg","alt",""],["src","../../../../assets/images/general/icon/telephone.svg","alt",""],[1,"contact-input","ps-3"],["action","#"],[1,"col-6"],[1,"form-floating-group","mb-4"],["id","Email","type","text","required","",1,"form-floating-control"],["for","Email"],["id","Name","type","text","required","",1,"form-floating-control"],["for","Name"],[1,"col-12"],["id","Textarea","rows","4","required","",1,"form-floating-control"],["for","Textarea"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary"],[1,"mobile-menu"],[1,"language-selector"],["href","#"],[1,"border"],[1,"navbar-toggler",3,"click","ngClass"],[1,"sr-only"],[1,"icon-bar"],["class","sidebar",4,"ngIf"],[1,"sidebar"],[1,"sidemenu"],[1,"sidemenu-wrapper"],["id","mobile-menu",1,"menu-list"],[1,"menu-item"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseService","aria-expanded","false","aria-controls","collapseService",1,"mobile-menu-accordion","collapsed"],["id","collapseService","data-bs-parent","#mobile-menu",1,"accordion-collapse","collapse","mt-0"],[1,"sublinks-wrapper","px-3"],["routerLink","/services"],["href","#",1,"sublinks"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseCase","aria-expanded","false","aria-controls","collapseCase",1,"mobile-menu-accordion","collapsed"],["id","collapseCase","data-bs-parent","#mobile-menu",1,"accordion-collapse","collapse","mt-0"],["routerLink","/case-study/overview"],[1,"sublinks"],["routerLink","/case-study/cybersecurity"],["routerLink","/case-study/development"],["routerLink","/case-study/marketing"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseCompany","aria-expanded","false","aria-controls","collapseCompany",1,"mobile-menu-accordion","collapsed"],["id","collapseCompany","data-bs-parent","#mobile-menu",1,"accordion-collapse","collapse","mt-0"],["routerLink","/company-page/who-we-are"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseResources","aria-expanded","false","aria-controls","collapseResources",1,"mobile-menu-accordion","collapsed"],["id","collapseResources","data-bs-parent","#mobile-menu",1,"accordion-collapse","collapse"],["routerLink","/blog"],[1,"external-link-icon"],[1,"mobile-menu-accordion"],[1,"sidebar-footer"]],template:function(r,o){if(r&1){let a=J1();f(0,"header",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"a",9),Z(),f(5,"svg"),A(6,"use",10),y()()(),ee(),f(7,"div",11)(8,"ul",12)(9,"li",13),Cn("mouseenter",function(){return jn(a),Hn(o.showServiceMegaMenu())})("mouseleave",function(){return jn(a),Hn(o.hideServicMegaMenu())}),f(10,"a",14),Cn("mouseenter",function(l){return jn(a),Hn(o.onHoverTextScramble(l))}),f(11,"span",15),w(12,"Services"),y(),Z(),f(13,"svg"),A(14,"use",16),y(),ee(),A(15,"span",17),y(),f(16,"div",18,0)(18,"div",19)(19,"div",20)(20,"div",21)(21,"div",22)(22,"div",23)(23,"h6"),w(24,"Services"),y(),A(25,"div",24),y(),f(26,"p"),w(27," We deliver 3 key service types by design and for a reason. Cybersecurity is our top priority as without security all other advancement is lost. We deliver IT and web development because we love to build amazing solutions. We design and engage digital marketing to fuel success. "),y(),f(28,"button",25)(29,"span"),w(30,"SERVICES"),y(),Z(),f(31,"svg",26),A(32,"use",27),y()()()(),ee(),f(33,"div",28)(34,"div",29)(35,"ul",30)(36,"li")(37,"button",31),Cn("mouseenter",function(){return jn(a),Hn(o.activateTab("cybersecurity"))}),f(38,"span"),w(39,"cybersecurity"),y()()(),f(40,"li")(41,"button",32),Cn("mouseenter",function(){return jn(a),Hn(o.activateTab("development"))}),f(42,"span"),w(43,"it & web development"),y()()(),f(44,"li")(45,"button",33),Cn("mouseenter",function(){return jn(a),Hn(o.activateTab("marketing"))}),f(46,"span"),w(47,"digital marketing"),y()()()(),f(48,"div",34)(49,"div",35)(50,"div",36)(51,"div",37)(52,"div",38)(53,"div",39)(54,"h6",40),w(55," Security from the ground up "),y(),f(56,"div",41),A(57,"img",42),y(),f(58,"p",43),w(59," The SEIRIM team of professionals is working around the clock to secure, strengthen and make more resilient the data environments of our clients. "),y(),f(60,"button",44)(61,"span"),w(62,"cybersecurity main"),y(),Z(),f(63,"svg"),A(64,"use",45),y()()()(),ee(),f(65,"div",46)(66,"ul",47)(67,"li",48)(68,"h6",49),w(69,"Cybersecurity Consulting"),y(),f(70,"p",50),w(71," Systematic exploration of a scenario to assess and prescribe solutions. "),y()(),f(72,"li",48)(73,"h6",49),w(74,"Ransomware Protection"),y(),f(75,"p",50),w(76," Building up resilience and stratification to mitigate malicious attacks. "),y()(),f(77,"li",48)(78,"h6",49),w(79,"Risk Management"),y(),f(80,"p",50),w(81," Thorough investigation of a scenario to assess threats and plan actions to address them. "),y()(),f(82,"li",48)(83,"h6",49),w(84,"Incident Response"),y(),f(85,"p",50),w(86," Managing the mitigation of damages and assisting in repair in worst case scenarios. "),y()(),f(87,"li",48)(88,"h6",49),w(89,"Vulnerability Remediation"),y(),f(90,"p",50),w(91," Properly and cautiously scanning, confirming and resolving found issues. "),y()(),f(92,"li",48)(93,"h6",49),w(94,"Managed Security Services"),y(),f(95,"p",50),w(96," Delivering full-time consulting, monitoring, scanning, repair, incident response and more. "),y()(),f(97,"li",48)(98,"h6",49),w(99,"Penetration Testing"),y(),f(100,"p",50),w(101," Proactively probing and stressing systems to find deeper vulnerabilities "),y()(),f(102,"li",48)(103,"h6",49),w(104,"Systems Hardening"),y(),f(105,"p",50),w(106," Step by step assessing and improving configurations in devices, networks and systems "),y()()()()()()(),f(107,"div",51)(108,"div",36)(109,"div",37)(110,"div",38)(111,"div",39)(112,"h6",40),w(113," Creative solutions and innovation "),y(),f(114,"div",41),A(115,"img",52),y(),f(116,"p",43),w(117," Deep down from our core we love solving problems and building impressive features, applications and functionality. "),y(),f(118,"button",44)(119,"span"),w(120,"It & Web Development Main"),y(),Z(),f(121,"svg"),A(122,"use",45),y()()()(),ee(),f(123,"div",46)(124,"ul",47)(125,"li",48)(126,"h6",49),w(127,"Advanced Web Applications"),y(),f(128,"p",50),w(129," Feature rich development of custom programs delivering rich functionality. "),y()(),f(130,"li",48)(131,"h6",49),w(132,"Mobile Apps & Games"),y(),f(133,"p",50),w(134," Custom apps using modern platforms for iOS, Android or using Progressive Web Apps "),y()(),f(135,"li",48)(136,"h6",49),w(137,"E-Commerce"),y(),f(138,"p",50),w(139," High performance online marketplaces converting to sales and profits. "),y()(),f(140,"li",48)(141,"h6",49),w(142,"Outsourced Development"),y(),f(143,"p",50),w(144," Utilize our team as an extension of your own as an in-house internal expansion "),y()(),f(145,"li",48)(146,"h6",49),w(147,"Corporate Websites"),y(),f(148,"p",50),w(149," Professional presentations that display companies' strengths in style. "),y()(),f(150,"li",48)(151,"h6",49),w(152,"Custom Software"),y(),f(153,"p",50),w(154," Not just for the web - applications for beyond the browser and on to desktops and devices "),y()(),f(155,"li",48)(156,"h6",49),w(157,"Custom CMS Systems"),y(),f(158,"p",50),w(159," Based on our SD7 Hypersecure CMS delivering performance, security and ease of use. "),y()()()()()()(),f(160,"div",53)(161,"div",36)(162,"div",37)(163,"div",38)(164,"div",39)(165,"h6",40),w(166," Skills and design power success "),y(),f(167,"div",41),A(168,"img",54),y(),f(169,"p",43),w(170," With great care and forethought, we intelligently deliver visual design and digital marketing solutions to help your company win on the internet. "),y(),f(171,"button",44)(172,"span"),w(173,"Digital Marketing Main"),y(),Z(),f(174,"svg"),A(175,"use",45),y()()()(),ee(),f(176,"div",46)(177,"ul",47)(178,"li",48)(179,"h6",49),w(180,"Video Production"),y(),f(181,"p",50),w(182," Pre and Post Production video planning, editing, special effects, voiceover and more. "),y()(),f(183,"li",48)(184,"h6",49),w(185,"3D Animation"),y(),f(186,"p",50),w(187," Make digital objects come alive with objects made to move and react in space. "),y()(),f(188,"li",48)(189,"h6",49),w(190,"Virtual Reality"),y(),f(191,"p",50),w(192," Immersive experiences in three dimensional space to amaze users and engage them like never before. "),y()(),f(193,"li",48)(194,"h6",49),w(195,"Search Engine Optimization"),y(),f(196,"p",50),w(197," Achieving top ranking results for our clients over many years in all search engines in China and globally. "),y()(),f(198,"li",48)(199,"h6",49),w(200,"Marketing Materials Design"),y(),f(201,"p",50),w(202," From brochures, logos, banners, advertisements and more we design it all for the web. "),y()(),f(203,"li",48)(204,"h6",49),w(205,"Print and Offline Media"),y(),f(206,"p",50),w(207," Billboards, shirts, products, vehicle wraps, pop up banners and stands, interior shop designs etc. "),y()()()()()()()()()()()()()(),f(208,"li",13),Cn("mouseenter",function(){return jn(a),Hn(o.showCaseMegaMenu())})("mouseleave",function(){return jn(a),Hn(o.hideCaseMegaMenu())}),f(209,"a",55),Cn("mouseenter",function(l){return jn(a),Hn(o.onHoverTextScramble(l))}),f(210,"span",15),w(211,"Case Studies"),y(),Z(),f(212,"svg"),A(213,"use",16),y(),ee(),A(214,"span",17),y(),f(215,"div",18,1)(217,"div",19)(218,"div",20)(219,"div",21)(220,"div",22)(221,"div",23)(222,"h6"),w(223,"Case Studies"),y(),A(224,"div",24),y(),f(225,"p"),w(226,"Over a decade serving great brands and companies in Shanghai, China and beyond with a wide range of exciting projects. Our experience and expertise is both wide and deep in critical areas for companies online security and success."),y(),f(227,"button",56)(228,"span"),w(229,"Overview"),y(),Z(),f(230,"svg",26),A(231,"use",27),y()()()(),ee(),f(232,"div",28)(233,"div",29)(234,"ul",30)(235,"li")(236,"button",57)(237,"span"),w(238,"CASE STUDIES"),y()()()(),f(239,"div",34)(240,"div",58)(241,"div",59)(242,"div",60)(243,"div",61)(244,"div",62)(245,"h3",40),w(246," Cyber Resiliency and Strength delivered "),y(),f(247,"div",41),A(248,"img",63),y(),f(249,"p",43),w(250," From bird's eye view consulting to intensive bit-by-bit systems hardening SEIRIM has delivered critical cybersecurity solutions to help keep company's digital sphere's secure. "),y(),f(251,"button",64)(252,"span"),w(253,"cybersecurity"),y(),Z(),f(254,"svg"),A(255,"use",45),y()()()(),ee(),f(256,"div",61)(257,"div",65)(258,"h3",40),w(259," Web Apps and Sites driving forward success "),y(),f(260,"div",41),A(261,"img",66),y(),f(262,"p",43),w(263," Whether its e-commerce, advanced user applications, high performance corporate presentation websites and beyond our team has delivered hundreds of winning projects. "),y(),f(264,"button",64)(265,"span"),w(266,"it & web development"),y(),Z(),f(267,"svg"),A(268,"use",45),y()()()(),ee(),f(269,"div",61)(270,"div",67)(271,"h3",40),w(272," digital marketing to impress and empower "),y(),f(273,"div",41),A(274,"img",68),y(),f(275,"p",43),w(276," Beyond securing and building, polishing and promoting projects helps our client companies get their products and services achieving market success around the world. "),y(),f(277,"button",64)(278,"span"),w(279,"digital marketing"),y(),Z(),f(280,"svg"),A(281,"use",45),y()()()()()()()()()()()()()(),ee(),f(282,"li",13),Cn("mouseenter",function(){return jn(a),Hn(o.showAboutMegaMenu())})("mouseleave",function(){return jn(a),Hn(o.hideAboutMegaMenu())}),f(283,"a",69),Cn("mouseenter",function(l){return jn(a),Hn(o.onHoverTextScramble(l))}),f(284,"span",15),w(285,"Company"),y(),Z(),f(286,"svg"),A(287,"use",16),y(),ee(),A(288,"span",17),y(),f(289,"div",18,2)(291,"div",19)(292,"div",20)(293,"div",21)(294,"div",22)(295,"div",23)(296,"h6"),w(297,"About SEIRIM"),y(),A(298,"div",24),y(),f(299,"p"),w(300,'We are incrementally, purposefully and continually improving our skills and capacities to always deliver better results. We are a "system" as an interlocking team by design, always achieving more, together.'),y(),f(301,"button",70)(302,"span"),w(303,"Overview"),y(),Z(),f(304,"svg",26),A(305,"use",27),y()()()(),ee(),f(306,"div",28)(307,"div",29)(308,"ul",30)(309,"li")(310,"button",71)(311,"span"),w(312,"about seirim"),y()()()(),f(313,"div",34)(314,"div",72)(315,"div",73)(316,"div",60)(317,"div",61)(318,"div",74)(319,"h3",40),w(320," Quick History, Background and Focus "),y(),f(321,"div",41),A(322,"img",75),y(),f(323,"p",43),w(324," We are goals-oriented, systems-focused tech lovers on a mission to create ever more impressive projects, applications and security environments. "),y(),f(325,"button",64)(326,"span"),w(327,"WHO WE ARE"),y(),Z(),f(328,"svg"),A(329,"use",45),y()()()(),ee(),f(330,"div",61)(331,"div",39)(332,"h3",40),w(333," An optimized system for better results "),y(),f(334,"div",41),A(335,"img",76),y(),f(336,"p",43),w(337," We arrange all our priorities, processes and skills development with one mission - getting the job done better, faster, and with higher quality results. "),y(),f(338,"button",64)(339,"span"),w(340,"HOW WE WORK"),y(),Z(),f(341,"svg"),A(342,"use",45),y()()()(),ee(),f(343,"div",61)(344,"div",77)(345,"h3",40),w(346," Powered by People and Teamwork "),y(),f(347,"div",41),A(348,"img",78),y(),f(349,"p",43),w(350," We are continuously expanding our horizons by reinforcing our skills, systems and dedication to service with steadfast determination. "),y(),f(351,"button",64)(352,"span"),w(353,"TEAM VISION"),y(),Z(),f(354,"svg"),A(355,"use",45),y()()()()()()()()()()()()()(),ee(),f(356,"li",13),Cn("mouseenter",function(){return jn(a),Hn(o.showResourcesMegaMenu())})("mouseleave",function(){return jn(a),Hn(o.hideResourcesMegaMenu())}),f(357,"a",79),Cn("mouseenter",function(l){return jn(a),Hn(o.onHoverTextScramble(l))}),f(358,"span",15),w(359,"Resources "),y(),Z(),f(360,"svg"),A(361,"use",16),y(),ee(),A(362,"span",17),y(),f(363,"div",18,3)(365,"div",19)(366,"div",20)(367,"div",21)(368,"div",22)(369,"div",23)(370,"h6"),w(371,"Resources"),y(),A(372,"div",24),y(),f(373,"p"),w(374," Read through our blog for practical insights for company cybersecurity. Use our internet and security tools to help with your daily tasks. Check our Cyber 101 short course to learn fundamentals and our extended ST20 course for in-depth learning. Try out the Cyber Report tool for AI-assisted cybersecurity insights. "),y(),f(375,"button",80)(376,"span"),w(377,"NEWS & BLOG"),y(),Z(),f(378,"svg",26),A(379,"use",27),y()()()(),ee(),f(380,"div",28)(381,"div",29)(382,"ul",30)(383,"li")(384,"button",81),Cn("mouseenter",function(){return jn(a),Hn(o.activateTab("news-blog"))}),f(385,"span"),w(386,"News & blog"),y()()(),f(387,"li")(388,"button",82),Cn("mouseenter",function(){return jn(a),Hn(o.activateTab("tools"))}),f(389,"span"),w(390,"Tools"),y()()(),f(391,"li")(392,"button",83),Cn("mouseenter",function(){return jn(a),Hn(o.activateTab("resources-faq"))}),f(393,"span"),w(394,"faq"),y()()(),f(395,"li")(396,"button",84),Cn("mouseenter",function(){return jn(a),Hn(o.activateTab("resources-cybersecurity"))}),f(397,"span"),w(398,"cybersecurity 101"),y()()(),f(399,"li")(400,"button",85),Cn("mouseenter",function(){return jn(a),Hn(o.activateTab("resources-security"))}),f(401,"span"),w(402,"st20 security training"),y()()(),f(403,"li")(404,"button",86),Cn("mouseenter",function(){return jn(a),Hn(o.activateTab("resources-cyber"))}),f(405,"span"),w(406,"WWW.CYBER.REPORT"),y()()()(),f(407,"div",34)(408,"div",87)(409,"div",88)(410,"div",89)(411,"div",90)(412,"div",91)(413,"div",39)(414,"div",41),A(415,"img",92),y(),f(416,"div",93)(417,"div",94)(418,"span"),w(419,"04 Aug 2023 -cybersecurity"),y()(),f(420,"h3",40),w(421," Protecting Your Smart Home and Devices "),y(),f(422,"p",43),w(423,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y(),Z(),f(424,"svg"),A(425,"use",45),y()()(),ee(),f(426,"button",95)(427,"span"),w(428,"see all news & blog posts"),y(),Z(),f(429,"svg"),A(430,"use",45),y()()()(),ee(),f(431,"div",96)(432,"ul",97)(433,"li",98)(434,"div",39)(435,"div",41),A(436,"img",99),y(),f(437,"div",100)(438,"div",101)(439,"span"),w(440,"04 Aug 2023 -cybersecurity"),y()(),f(441,"h3",40),w(442," Protecting Your Smart Home and Devices "),y(),f(443,"p",102),w(444,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y()()()(),f(445,"li",98)(446,"div",39)(447,"div",41),A(448,"img",103),y(),f(449,"div",100)(450,"div",101)(451,"span"),w(452,"04 Aug 2023 -cybersecurity"),y()(),f(453,"h3",40),w(454," Protecting Your Smart Home and Devices "),y(),f(455,"p",102),w(456,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y()()()(),f(457,"li",98)(458,"div",39)(459,"div",41),A(460,"img",104),y(),f(461,"div",100)(462,"div",101)(463,"span"),w(464,"04 Aug 2023 -cybersecurity"),y()(),f(465,"h3",40),w(466," Protecting Your Smart Home and Devices "),y(),f(467,"p",102),w(468,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),y()()()()()()()()(),f(469,"div",105)(470,"div",106)(471,"ul",47)(472,"li",48)(473,"h6",49),w(474,"China website accessibility"),y(),f(475,"p",50),w(476," Test loads a website locally in China and returns a screenshot view of how it appears there. "),y()(),f(477,"li",48)(478,"h6",49),w(479,"SSL Status Checker"),y(),f(480,"p",50),w(481," Returns the expiration date and checks for any SSL/TLS configuration issues for a domain. "),y()(),f(482,"li",48)(483,"h6",49),w(484,"Whats my IP Address"),y(),f(485,"p",50),w(486," Informs user of their own IP address, IP geolocation and other info of interest. "),y()(),f(487,"li",48)(488,"h6",49),w(489,"secure password sharer"),y(),f(490,"p",50),w(491," Provides an encrypted, protected and temporary link to securely share info between users. "),y()(),f(492,"li",48)(493,"h6",49),w(494,"website blacklist checker"),y(),f(495,"p",50),w(496," Checks website domain against major spam, malware, trust and related databases. "),y()(),f(497,"li",48)(498,"h6",49),w(499,"reverse ip address check"),y(),f(500,"p",50),w(501," Gives all pertinent info found for a submitted IP address. "),y()(),f(502,"li",48)(503,"h6",49),w(504,"WHOIS / Domain Name Info"),y(),f(505,"p",50),w(506," Returns informative and useful info for a provided domain name or url. "),y()(),f(507,"li",48)(508,"h6",49),w(509,"Hosted by Check"),y(),f(510,"p",50),w(511," Distinguishes the hosting company and location for a provided website. "),y()(),f(512,"li",48)(513,"h6",49),w(514,"ephemeral chat"),y(),f(515,"p",50),w(516," Creates an encrypted, password-protected, single use chat room that auto-deletes after use. "),y()(),f(517,"li",48)(518,"h6",49),w(519,"spf/dkim/dmarc"),y(),f(520,"p",50),w(521," Checks the mail security settings for configuration issues for any domain name. "),y()(),f(522,"li",48)(523,"h6",49),w(524,"web pagespeed test"),y(),f(525,"p",50),w(526," Scans a website for speed and issues causing slow performance. "),y()()(),f(527,"div",107)(528,"button",108)(529,"span"),w(530,"go to tools"),y(),Z(),f(531,"svg"),A(532,"use",45),y()()()()(),ee(),f(533,"div",109)(534,"div",110)(535,"div",111)(536,"div",112)(537,"button",113)(538,"span"),w(539," Why is your agency the best choice for our needs?"),y(),f(540,"div",114),Z(),f(541,"svg",115),A(542,"use",116),y(),f(543,"svg",117),A(544,"use",118),y()()(),ee(),f(545,"div",119)(546,"div",120)(547,"p"),w(548,"SEIRIM is a tight-knit group of professionals with most of us having worked together for over 8+ years. We are highly experienced and skilled in our respective specialties and are dedicated to satisfying our clients with great communication, work and results."),y()()()(),f(549,"div",112)(550,"button",121)(551,"span"),w(552,"What is the project management and reporting system we can expect as a client?"),y(),f(553,"div",114),Z(),f(554,"svg",115),A(555,"use",116),y(),f(556,"svg",117),A(557,"use",118),y()()(),ee(),f(558,"div",122)(559,"div",120)(560,"p"),w(561,"We work with an Agile approach - continuously delivering and communicating results, and always remaining responsive and flexible to client input. Our project managers share progress with clients daily, and are available anytime for calls and discussions on work."),y()()()(),f(562,"div",112)(563,"button",123)(564,"span"),w(565,"Does your agency work on fixed price projects or at hourly rates and what are they?"),y(),f(566,"div",114),Z(),f(567,"svg",115),A(568,"use",116),y(),f(569,"svg",117),A(570,"use",118),y()()(),ee(),f(571,"div",124)(572,"div",120)(573,"p"),w(574,"We almost always work hourly because it allows the most flexibility and efficiency to arrive at the best solutions faster. It is also more economical for clients. We can work project-based but it requires more upfront requirements decisions, contract limitations etc. Rates available by discussion."),y()()()(),f(575,"div",112)(576,"button",125)(577,"span"),w(578,"Does SEIRIM work for the Chinese or Global Markets?"),y(),f(579,"div",114),Z(),f(580,"svg",115),A(581,"use",116),y(),f(582,"svg",117),A(583,"use",118),y()()(),ee(),f(584,"div",126)(585,"div",120)(586,"p"),w(587,"Both! SEIRIM is made up of roughly 50/50 Chinese and foreign team members, and our client base and projects are also relatively proportioned. We regularly cater to the needs of foreign firms building for the China market and vice versa."),y()()()(),f(588,"div",112)(589,"button",127)(590,"span"),w(591,"How do you measure the success of your cybersecurity and development projects?"),y(),f(592,"div",114),Z(),f(593,"svg",115),A(594,"use",116),y(),f(595,"svg",117),A(596,"use",118),y()()(),ee(),f(597,"div",128)(598,"div",120)(599,"p"),w(600,"Projects must succeed in regards to client satisfaction of the project owner (the client), the utility and joy experienced by the users or audience of the application, and also technically behind the scenes projects must match up to our own high standards."),y()()()()(),f(601,"button",64)(602,"span"),w(603,"Go to FAQ"),y(),Z(),f(604,"svg"),A(605,"use",45),y()()()(),ee(),f(606,"div",129)(607,"div",130)(608,"div",131)(609,"h6",132),w(610,"Cybersecurity 101"),y(),f(611,"p"),w(612,"Our quick course empowers you with all the key points to secure your organization."),y()(),f(613,"ul",133)(614,"li",134)(615,"div",135),A(616,"img",136),y(),f(617,"div",137)(618,"h6",138),w(619,"1/6 cybersecurity fundamentals"),y(),f(620,"p",50),w(621," Know what cybersecurity encompasses and the key concepts to master. "),y()()(),f(622,"li",134)(623,"div",135),A(624,"img",139),y(),f(625,"div",137)(626,"h6",138),w(627,"4/6 building a secure workplace"),y(),f(628,"p",50),w(629," People and their processes are the greatest vulnerabilities in any organization. "),y()()(),f(630,"li",134)(631,"div",135),A(632,"img",140),y(),f(633,"div",137)(634,"h6",138),w(635,"2/6 laws and compliance"),y(),f(636,"p",50),w(637," Every company has legal and industry requirements requiring action and attention. "),y()()(),f(638,"li",134)(639,"div",135),A(640,"img",141),y(),f(641,"div",137)(642,"h6",138),w(643,"5/6 effective incident response"),y(),f(644,"p",50),w(645," Prepare for when security issues will inevitably occur on a scale from major to minor. "),y()()(),f(646,"li",134)(647,"div",135),A(648,"img",142),y(),f(649,"div",137)(650,"h6",138),w(651,"3/6 risk assessment & management"),y(),f(652,"p",50),w(653," Understand the value of assets, security threats to them and then work to mitigate the threats. "),y()()(),f(654,"li",134)(655,"div",135),A(656,"img",143),y(),f(657,"div",137)(658,"h6",138),w(659,"6/6 future of cybersecurity"),y(),f(660,"p",50),w(661," It's not just AI - the threats, risks and tech for response in security is always evolving. "),y()()()(),f(662,"button",144)(663,"span"),w(664,"go to cybersecurity 101"),y(),Z(),f(665,"svg"),A(666,"use",45),y()()()(),ee(),f(667,"div",145)(668,"div",146)(669,"div",147)(670,"div",148)(671,"h6"),w(672,"ST20 Security Training Course"),y()()(),f(673,"div",20)(674,"div",90)(675,"div",39)(676,"div",149),A(677,"img",150),y(),f(678,"div",43)(679,"p"),w(680,"The SEIRIM Top 20 Cybersecurity Awareness Training Course (ST20) covers the key critical concepts and specific safeguards for office staff, remote working professionals and executives to keep their companies secure. "),y(),A(681,"div",151),f(682,"p",152),w(683,"The first modules are free to review, while the whole course is offered in addition to live training sessions."),y()()()(),f(684,"div",96)(685,"ul",47)(686,"li",134)(687,"tool-tip",153)(688,"div",154)(689,"div",135),A(690,"img",155),y(),f(691,"div",137)(692,"h6",138),w(693,"1/20 Why Cybersecurity is Important"),y(),f(694,"p",50),w(695," Key terms, types of cyber threats, and simple steps every professional can take to enhance security. "),y()()()()(),f(696,"li",48)(697,"tool-tip",153)(698,"div",154)(699,"div",135),A(700,"img",156),y(),f(701,"div",137)(702,"h6",138),w(703,"2/20 Defeat Social Engineering "),y(),f(704,"p",50),w(705," Increase knowledge, awareness and vigilance to safeguard against the #1 vulnerability in cybersecurity - the human element. "),y()()()()()()(),f(706,"div",157)(707,"tool-tip",153)(708,"button",108)(709,"span"),w(710,"check the course"),y(),Z(),f(711,"svg"),A(712,"use",45),y()()()()()()(),ee(),f(713,"div",158)(714,"div",159)(715,"div",148)(716,"h6"),w(717,"cyber report"),y()(),f(718,"div",160)(719,"div",96)(720,"div",43)(721,"p",132),w(722,"SEIRIM's Cyber Report tool is a free, one-of-a-kind cybersecurity threat intelligence application balancing a careful orchestration of industry standards, real world experienced-based algorithms and AI-assistance."),y(),f(723,"p"),w(724,"It quickly generates insight on a company's threat landscape delivering metrics reflecting their operating industry, working locations, company size and more. Based only on the submission of a company's website domain name, it makes a bird's eye view estimate of the company's cybersecurity preparedness sophistication level. It also returns relevant current cybersecurity news and intel for the company."),y(),A(725,"div",24),f(726,"p",152),w(727,"The Cyber Report tool is designed to help organizations get a quick understanding of the threats to any company, whether their own or a third party supplier, and make informed decisions about their security posture."),y()()(),f(728,"div",90)(729,"div",41),A(730,"img",161),y()()(),f(731,"button",108)(732,"span"),w(733,"Go to Cyber.Report"),y(),Z(),f(734,"svg"),A(735,"use",45),y()()()()()()()()()()(),ee(),f(736,"li",13),Cn("mouseenter",function(){return jn(a),Hn(o.showContactMegaMenu())})("mouseleave",function(){return jn(a),Hn(o.hideContactMegaMenu())}),f(737,"a",162),Cn("mouseenter",function(l){return jn(a),Hn(o.onHoverTextScramble(l))}),f(738,"span",15),w(739,"Contact"),y(),Z(),f(740,"svg"),A(741,"use",16),y(),ee(),A(742,"span",17),y(),f(743,"div",18,4)(745,"div",19)(746,"div",20)(747,"div",21)(748,"div",22)(749,"div",23)(750,"h6"),w(751,"Contact"),y(),A(752,"div",24),y(),f(753,"p"),w(754," Get in touch! We are a friendly bunch and easy to work with. Available for meetings in Shanghai and beyond. If far away we're happy to call on voice or video. "),y(),f(755,"button",70)(756,"span"),w(757,"CONTACT PAGE"),y(),Z(),f(758,"svg",26),A(759,"use",27),y()()()(),ee(),f(760,"div",28)(761,"div",29)(762,"ul",30)(763,"li")(764,"button",163)(765,"span"),w(766,"contact"),y()()()(),f(767,"div",34)(768,"div",164)(769,"div",165)(770,"div",38)(771,"h6",148),w(772," Put SEIRIM to work for you "),y()(),f(773,"div",60)(774,"div",166)(775,"div",167)(776,"div",168),A(777,"img",169),y(),f(778,"div",170)(779,"ul",171)(780,"li")(781,"span"),w(782,"SHANGHAI: 08-34-48 GMT +8"),y()(),f(783,"li")(784,"div",172),A(785,"img",173),y(),f(786,"span"),w(787,"info@seirim.com"),y()(),f(788,"li")(789,"div",172),A(790,"img",174),y(),f(791,"span"),w(792,"+86 152 2188 2181"),y()()()(),f(793,"button",44)(794,"span"),w(795,"Go to contact Page"),y(),Z(),f(796,"svg"),A(797,"use",45),y()()()(),ee(),f(798,"div",46)(799,"div",175)(800,"form",176)(801,"div",20)(802,"div",177)(803,"div",178),A(804,"input",179),f(805,"label",180),w(806,"Email"),y()()(),f(807,"div",177)(808,"div",178),A(809,"input",181),f(810,"label",182),w(811,"Name"),y()()(),f(812,"div",183)(813,"div",178),A(814,"textarea",184),f(815,"label",185),w(816,"Message"),y()()()(),f(817,"div",186)(818,"button",187)(819,"span"),w(820,"send"),y(),Z(),f(821,"svg"),A(822,"use",45),y()()()()()()()()()()()()()()()()()(),ee(),f(823,"div",188)(824,"div",189)(825,"a",190),w(826,"EN"),y(),A(827,"div",191),f(828,"a",190),w(829,"\u4E2D\u6587"),y()(),f(830,"button",192),Cn("click",function(){return jn(a),Hn(o.toggleMenu())}),A(831,"span",193)(832,"span",194)(833,"span",194)(834,"span",194),y(),_a(835,wEe,146,0,"div",195),y()()()()}r&2&&(gi("ngClass",aR(8,CEe,!o.isMobileMenu,o.isHoverNavBg,o.isNavbarFixed)),nn(9),gi("ngClass",uc(12,Iy,o.isServiceMegaMenuActive)),nn(199),gi("ngClass",uc(14,Iy,o.isCaseMegaMenuActive)),nn(74),gi("ngClass",uc(16,Iy,o.isAboutMegaMenuActive)),nn(74),gi("ngClass",uc(18,Iy,o.isResourcesMegaMenuActive)),nn(380),gi("ngClass",uc(20,Iy,o.isContactMegaMenuActive)),nn(94),gi("ngClass",uc(22,MEe,!o.isMobileMenu)),nn(5),gi("ngIf",!o.isMobileMenu))},dependencies:[ER,DR,Wi,Za,R8],styles:['.main-header[_ngcontent-%COMP%]{z-index:99;transition:background-color .3s ease;position:absolute;top:0;left:0;right:0;margin:auto;width:100%}@media screen and (max-width: 991px){.main-header.activeNavBg[_ngcontent-%COMP%]{background:var(--bg-1);position:fixed}}@media screen and (min-width: 991px){.main-header.hoverNavBg[_ngcontent-%COMP%]{background-color:var(--bg-5);position:fixed}}@media screen and (min-width: 991px){.main-header.fixNavbar[_ngcontent-%COMP%]{background-color:var(--bg-5);position:fixed}.main-header.fixNavbar[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]:after{background-color:transparent}}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]:after{position:absolute;content:"";bottom:0;left:0;height:1px;width:100%;background-color:#ffffff80;animation:borderSlideAnimation 3s ease-in-out unset}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:5.3rem;height:1.5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12.385px;height:6.841px;margin-left:.5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]{display:flex;align-items:center}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item[_ngcontent-%COMP%]{margin-left:2.25rem;position:relative}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item[_ngcontent-%COMP%]:hover   .mega-menu[_ngcontent-%COMP%]{display:block}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item.active[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item.active[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--tech-blue-1);--fill-color: var(--tech-blue-1)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item.active[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:none}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item.active[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   .active-line[_ngcontent-%COMP%]{display:block}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{position:relative;text-decoration:none;display:flex;align-items:center}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item[_ngcontent-%COMP%]   .link.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item[_ngcontent-%COMP%]   .link.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#0782f4;--fill-color: #0782f4}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item[_ngcontent-%COMP%]   .link.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:none}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item[_ngcontent-%COMP%]   .link.active[_ngcontent-%COMP%]   .active-line[_ngcontent-%COMP%]{display:block}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white);font-size:.8125rem;letter-spacing:.12188rem;font-weight:500;text-transform:uppercase;line-height:normal}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{--fill-color: var(--white);width:.77406rem;height:.42756rem;display:block}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   .active-line[_ngcontent-%COMP%]{background-color:var(--tech-blue-1);width:.625rem;height:.0625rem;margin-left:.5rem;display:none}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;overscroll-behavior:contain}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .language-selector[_ngcontent-%COMP%]{text-transform:uppercase;display:flex;align-items:stretch;margin-right:1.8rem;padding-top:.3rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .language-selector[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--white);font-size:.75rem;font-weight:400;line-height:100%;transition:all .3s ease-in-out;cursor:pointer;padding:0 .7rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .language-selector[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--tech-blue-1)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .language-selector[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{width:1px;height:.8rem;background-color:var(--white)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .navbar-toggler.active-mobile-menu[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]:nth-child(2){transform:rotate(45deg) translateY(5px) translate(4px)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .navbar-toggler.active-mobile-menu[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]:nth-child(3){transform:translate(10px);opacity:0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .navbar-toggler.active-mobile-menu[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]:nth-child(4){transform:rotate(-45deg) translateY(-5px) translate(3px)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]{background-color:var(--white);display:block;width:22px;height:2px;margin-top:4px;border-radius:1px;margin-left:auto;margin-right:auto;transition:transform .3s cubic-bezier(.55,0,.1,1),opacity .3s cubic-bezier(.55,0,.1,1);will-change:transform,opacity}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{background:var(--bg-1);position:fixed;right:0;top:60px;z-index:10;overflow:hidden;flex-direction:column;width:100%;max-height:calc(100vh - 60px);height:100%}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]{position:relative;height:100%}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]{height:100%;overflow-y:auto;padding:2rem 1.4rem 4rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .link-name[_ngcontent-%COMP%]{color:var(--white);font-size:1.1rem;font-weight:var(--fw-500);letter-spacing:.15rem;text-transform:uppercase;transition:all .3s ease-in-out}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{padding:1.2rem 0;background:transparent;border:none;border-bottom:2px solid #171c2e}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .link-name[_ngcontent-%COMP%]{color:#048bd7}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mobile-menu-accordion[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;background-color:transparent;border:none;box-shadow:none}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mobile-menu-accordion[_ngcontent-%COMP%]   .link-icon[_ngcontent-%COMP%]{width:.8rem;height:.8rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mobile-menu-accordion[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{width:.85rem;height:0rem;stroke-width:1px;stroke:var(--Tech-Blue, #0782f4)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mobile-menu-accordion[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]{width:.85rem;height:.375rem;stroke-width:1px;stroke:var(--Tech-Blue, #0782f4)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mobile-menu-accordion[aria-expanded=false][_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg.closed[_ngcontent-%COMP%]{display:none}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mobile-menu-accordion[aria-expanded=true][_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg.open[_ngcontent-%COMP%]{display:none}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .sublinks-wrapper[_ngcontent-%COMP%]{margin:.7rem 0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .sublinks-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.7rem 0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .sublinks-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .sublinks[_ngcontent-%COMP%]{color:#048bd7}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .sublinks-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transition:all .3s ease-in-out;transform:translate(.2rem)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .sublinks-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .sublinks[_ngcontent-%COMP%]{color:var(--white);font-size:.875rem;font-weight:var(--fw-400);letter-spacing:.13125rem;text-transform:uppercase}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .sublinks-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .external-link-icon[_ngcontent-%COMP%]{width:.6rem;height:.6rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .sublinks-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.8rem;height:.8rem;margin-left:.7rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidemenu-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .sublinks-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{padding-bottom:0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{position:absolute;top:90%;left:0;right:0;width:100%;min-height:4rem;background-color:var(--bg-1);display:flex;align-items:center;justify-content:center}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#8392a8;font-size:.75rem;font-weight:400;letter-spacing:.09rem;text-transform:uppercase}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]{opacity:0;height:0;background-color:var(--bg-5);position:fixed;top:70px;left:0;width:100%;box-shadow:0 2px 5px #0000001a;z-index:111;overflow-x:hidden;overflow-y:auto}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]{max-width:90rem;margin:0 auto}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-desc-wrapper[_ngcontent-%COMP%]   .mega-menu-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--white);font-size:2.188rem;font-weight:300;line-height:100%}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-desc-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:1rem;font-weight:400;line-height:25px;letter-spacing:.75px;max-width:18rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-desc-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.875rem 1.2rem;margin-top:2rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-desc-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;letter-spacing:1.8px;text-transform:uppercase}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-desc-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.75rem;height:.75rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;align-items:center}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]{border:none;background:none;padding:1rem 1.5rem;color:var(--white);font-size:.6875rem;font-weight:500;letter-spacing:1.65px;text-transform:uppercase;transition:all .3s ease-in-out}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab-item.active[_ngcontent-%COMP%]{color:#091421;background:var(--white)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]:hover{color:var(--tech-blue-1)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{background-color:var(--white);padding:2rem 0 1.5rem;max-height:75vh;overflow-x:hidden;overflow-y:auto}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .btn-menu[_ngcontent-%COMP%]{margin-top:1.4rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .btn-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-black-5);font-size:.75rem;font-weight:600;letter-spacing:.1125rem;text-transform:uppercase;transition:.3s all ease-in-out}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .btn-menu[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem;transition:.3s all ease-in-out}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .btn-menu[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--tech-blue-1)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .btn-menu[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:var(--tech-blue-1);transform:translate(.3rem)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]{cursor:pointer}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]:hover   .box-title[_ngcontent-%COMP%]{color:var(--tech-blue-1)!important}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]:hover   .btn-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tech-blue-1)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]:hover   .btn-menu[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--tech-blue-1);transform:translate(.3rem)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{color:var(--black);font-size:1rem;font-weight:var(--fw-500);line-height:normal;letter-spacing:.2rem;text-transform:uppercase}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-img[_ngcontent-%COMP%]{max-height:9rem;width:100%;margin:.875rem 0;overflow:hidden}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-detail[_ngcontent-%COMP%]{color:var(--black);font-size:.8125rem;font-weight:400;line-height:1.25rem;letter-spacing:.04063rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:grid;gap:1.5rem .8rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{cursor:pointer}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:var(--text-black-5);font-size:.8125rem;font-weight:600;line-height:20px;letter-spacing:.04063rem;text-transform:uppercase;margin:0;padding-bottom:.3rem;position:relative;transition:all .3s ease-in-out}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;bottom:0;width:112px;height:2px;background:#a8d3ff}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .item-para[_ngcontent-%COMP%]{color:var(--black);font-size:.875rem;font-weight:400;line-height:1.2rem;letter-spacing:.65px;margin:0;margin-top:.4rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   .item-title[_ngcontent-%COMP%]{color:var(--tech-blue-1)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .services-content[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .caseStudies-content[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-tool-content[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]{padding:0 1rem 0 1.5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-faq-content[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cyber-content[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]{padding:0 1.5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-faq-content[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cyber-content[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--text-black-5);font-size:1.5625rem;font-weight:var(--fw-400);letter-spacing:.23438rem;text-transform:uppercase}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .caseStudies-content[_ngcontent-%COMP%]   .border-left[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .border-left[_ngcontent-%COMP%]{border:none;border-right:1px solid #d5d5d5}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .caseStudies-content[_ngcontent-%COMP%]   .border-left[_ngcontent-%COMP%]:last-child, .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .border-left[_ngcontent-%COMP%]:last-child{border-right:0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .caseStudies-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{height:2.188rem;white-space:normal;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;cursor:pointer}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .services-content[_ngcontent-%COMP%]{overflow:hidden}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .services-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]{border:0;padding:0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .services-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{color:var(--text-black-5);font-size:1.375rem;font-weight:500;line-height:1.5625rem;letter-spacing:.06875rem;text-transform:uppercase}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .services-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-detail[_ngcontent-%COMP%]{font-size:.9375rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .services-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]{padding:0 1.5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .blog-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;color:#405882;font-size:.625rem;font-weight:400;line-height:100%;letter-spacing:.0625rem;text-transform:uppercase;margin:.2rem 0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-weight:var(--fw-500);text-transform:capitalize}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .main-blog[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]{padding:0;border:1px solid rgba(150,150,150,.2)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .main-blog[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-img[_ngcontent-%COMP%]{margin:0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .main-blog[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-card-desc[_ngcontent-%COMP%]{padding:.5rem 1rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .main-blog[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-card-desc[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:1.5625rem;font-weight:var(--fw-500);letter-spacing:-.01563rem;text-transform:capitalize}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .main-blog[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-card-desc[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.39838rem;height:1.14413rem;margin:0 0 .5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]{padding:1.2rem .7rem;border-bottom:1px solid rgba(150,150,150,.2)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]:first-child{padding-top:0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]:last-child{border-bottom:0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]{display:flex}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-img[_ngcontent-%COMP%]{max-width:6rem;max-height:6rem;margin:0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:6rem;height:6rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-card-desc[_ngcontent-%COMP%]{padding:0 0 0 1rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-card-desc[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.375rem;letter-spacing:-.01125rem;margin-bottom:.2rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-card-desc[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.39838rem;height:1.14413rem;margin:0 0 .5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-tool-content[_ngcontent-%COMP%]{padding:0 2.5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-tool-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-faq-content[_ngcontent-%COMP%]   .resources-faq-accordion[_ngcontent-%COMP%]   .resources-faq-item[_ngcontent-%COMP%]{border-top:0;border-left:0;border-right:0;border-bottom:1px solid #e0e0e0;border-radius:0!important}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-faq-content[_ngcontent-%COMP%]   .resources-faq-accordion[_ngcontent-%COMP%]   .resources-faq-item[_ngcontent-%COMP%]   .faq-accordion-btn[_ngcontent-%COMP%]{padding:1rem 0;color:var(--text-black-5);font-size:.8125rem;font-weight:var(--fw-600);line-height:1.25rem;letter-spacing:.04063rem;box-shadow:none;text-transform:uppercase;display:flex;justify-content:space-between;width:100%;background-color:var(--white)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-faq-content[_ngcontent-%COMP%]   .resources-faq-accordion[_ngcontent-%COMP%]   .resources-faq-item[_ngcontent-%COMP%]   .faq-accordion-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]{width:.5675rem;height:.58125rem;--fill-color: var(--tech-blue-1)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-faq-content[_ngcontent-%COMP%]   .resources-faq-accordion[_ngcontent-%COMP%]   .resources-faq-item[_ngcontent-%COMP%]   .faq-accordion-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .closed[_ngcontent-%COMP%]{width:.7rem;height:.7rem;--stroke-color: var(--tech-blue-1)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-faq-content[_ngcontent-%COMP%]   .resources-faq-accordion[_ngcontent-%COMP%]   .resources-faq-item[_ngcontent-%COMP%]   .faq-accordion-btn[aria-expanded=false][_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg.closed[_ngcontent-%COMP%]{display:none}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-faq-content[_ngcontent-%COMP%]   .resources-faq-accordion[_ngcontent-%COMP%]   .resources-faq-item[_ngcontent-%COMP%]   .faq-accordion-btn[aria-expanded=true][_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg.open[_ngcontent-%COMP%]{display:none}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-faq-content[_ngcontent-%COMP%]   .resources-faq-accordion[_ngcontent-%COMP%]   .resources-faq-item[_ngcontent-%COMP%]   .faq-accordion-btn[_ngcontent-%COMP%]:after{display:none}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-faq-content[_ngcontent-%COMP%]   .resources-faq-accordion[_ngcontent-%COMP%]   .resources-faq-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:.5rem 0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-faq-content[_ngcontent-%COMP%]   .resources-faq-accordion[_ngcontent-%COMP%]   .resources-faq-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--black);font-size:.8125rem;font-weight:var(--fw-400);line-height:1.25rem;letter-spacing:.04063rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{cursor:pointer}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   .box-title[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   .box-title[_ngcontent-%COMP%]{color:var(--tech-blue-1)!important}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]{max-width:6rem;max-height:4.5rem;width:100%;overflow:hidden}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:6rem;height:4.5rem;object-fit:cover}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--text-black-5);font-size:1.5rem;font-weight:var(--fw-400);line-height:100%;letter-spacing:.23438rem;text-transform:uppercase;margin:0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]   P[_ngcontent-%COMP%]{color:#000;font-size:.875rem;font-weight:400;line-height:1.375rem;margin:0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1.5rem 2rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-img[_ngcontent-%COMP%]{max-height:8.6875rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-black-5);font-size:.9rem;font-style:normal;font-weight:var(--fw-500);line-height:1.25rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{gap:0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0;padding:1.5rem 0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:first-child{padding-top:0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:last-child{border-bottom:0;padding-bottom:0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cyber-content[_ngcontent-%COMP%]   .category-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-black-5);font-size:.9375rem;font-weight:var(--fw-500);line-height:1.25rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cyber-content[_ngcontent-%COMP%]   .category-img[_ngcontent-%COMP%]{max-height:20rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cyber-content[_ngcontent-%COMP%]   .category-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{color:var(--black);font-size:1.2rem;font-weight:var(--fw-500);line-height:normal}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .border-right[_ngcontent-%COMP%]{border-right:1px solid var(--gray-1)}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .contact-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:.7rem;display:flex;align-items:center}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .contact-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{border-radius:50%;width:1.2rem;height:1.2rem;display:flex;align-items:center;justify-content:center;margin-right:.875rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .contact-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transform:none}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .contact-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--black);font-size:.875rem;font-weight:var(--fw-400);letter-spacing:1px}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .contact-input[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:var(--white);border-radius:0;padding:.8rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .contact-input[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;letter-spacing:1.8px;text-transform:uppercase;color:var(--black);transition:.3s all ease-in-out}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .contact-input[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.9rem;height:.9rem;margin-left:0;transition:.3s all ease-in-out}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .contact-input[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--white)}@media screen and (max-width: 991px){.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{padding:.875rem 0;height:60px}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]{display:none}}@media screen and (min-width: 991px){.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]{display:flex;align-items:center}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:70px}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]{display:none}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]{padding:1.75rem 4rem}}@media screen and (min-width: 991px) and (max-width: 1300px){.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:5rem;height:1.5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item[_ngcontent-%COMP%]{margin-left:1.8rem!important}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:50px}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   .header-menu-list[_ngcontent-%COMP%]   .header-menu-list-item[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem!important}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]{top:50px}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]{padding:1.4rem 3rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem!important;line-height:1.2rem!important}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-desc-wrapper[_ngcontent-%COMP%]   .mega-menu-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:2rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-desc-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.6rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-desc-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.6rem;height:.6rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]{padding:.7rem 1.4rem;font-size:.6rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .btn-menu[_ngcontent-%COMP%]{margin-top:.5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .btn-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .btn-menu[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.75rem;height:.75rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:.875rem;letter-spacing:.1rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-img[_ngcontent-%COMP%]{max-height:8rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .services-content[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .caseStudies-content[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-tool-content[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]{padding:0 .6rem 0 1.4rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-size:.8rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-tool-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{gap:.5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .services-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5rem;letter-spacing:.06rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .blog-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.55rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .main-blog[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-card-desc[_ngcontent-%COMP%]{padding:.5rem 1rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .main-blog[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-card-desc[_ngcontent-%COMP%]   .blog-date[_ngcontent-%COMP%]{margin-bottom:0!important}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .main-blog[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-card-desc[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:var(--fw-500);letter-spacing:-.01563rem;text-transform:capitalize}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .main-blog[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-card-desc[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.7rem;height:.7rem;margin:0 0 .5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]{padding:1rem .7rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]{display:flex}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-img[_ngcontent-%COMP%]{max-width:5rem;max-height:5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-card-desc[_ngcontent-%COMP%]{padding:0 0 0 1rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-card-desc[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:1rem;line-height:1.2rem;letter-spacing:-.01rem;margin-bottom:.1rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-blog-content[_ngcontent-%COMP%]   .news-list[_ngcontent-%COMP%]   .card-list-item[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .category-card-desc[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.7rem;height:.7rem;margin:0 0 .5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]{max-width:5rem;max-height:4.5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:4.5rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#081320;font-size:1.2rem;font-weight:var(--fw-400);line-height:100%;letter-spacing:.23438rem;text-transform:uppercase;margin:0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]   P[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cybersecurity-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{gap:1.5rem 2rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-faq-content[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:.7rem;padding:.7rem 0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-faq-content[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:.3rem 0}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-faq-content[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem!important}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-size:.752rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cyber-content[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.4rem}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cyber-content[_ngcontent-%COMP%]   .category-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .category-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem!important}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-cyber-content[_ngcontent-%COMP%]   .category-detail[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .resources-security-content[_ngcontent-%COMP%]   .category-detail[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{height:2px}.main-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .mega-menu[_ngcontent-%COMP%]   .mega-menu-content[_ngcontent-%COMP%]   .mega-menu-categories-wrapper[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .category-hero-card[_ngcontent-%COMP%]   .contact-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.785rem}}']});let e=t;return e})();var LG=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["company-vison"]],standalone:!0,features:[gt],decls:31,vars:0,consts:[[1,"vision"],[1,"title-label"],[1,"main-title"],[1,"row","align-items-center","gx-4","gx-md-5"],[1,"col-md-6"],[1,"image-wrapper"],["xmlns","http://www.w3.org/2000/svg","width","412","height","303","viewBox","0 0 412 303","fill","none"],["opacity","0.2","d","M199.5 0L345 302H54L199.5 0Z","fill","#0782F4"],["opacity","0.4"],["id","mask0_647_442","maskUnits","userSpaceOnUse","x","100","y","108","width","312","height","194",2,"mask-type","alpha"],["x","100.923","y","108.458","width","310.406","height","193.436","fill","#7F7F7F"],["mask","url(#mask0_647_442)"],["d","M258.415 0.133301L403.088 301.894H113.742L258.415 0.133301Z","fill","#0782F4"],["opacity","0.9"],["id","mask1_647_442","maskUnits","userSpaceOnUse","x","0","y","205","width","311","height","99",2,"mask-type","alpha"],["x","0.398438","y","205.729","width","310.406","height","97.2707","fill","#D9D9D9"],["mask","url(#mask1_647_442)"],["d","M157.891 1.24023L302.564 303H13.2178L157.891 1.24023Z","fill","#0782F4"],[1,"vision-desc"],[1,"title-label","mb-3"],[1,"vision-title"],[1,"line"]],template:function(r,o){r&1&&(f(0,"div",0)(1,"div",1),w(2,"experience"),y(),f(3,"h3",2),w(4,"Vision"),y(),f(5,"div",3)(6,"div",4)(7,"div",5),Z(),f(8,"svg",6),A(9,"path",7),f(10,"g",8)(11,"mask",9),A(12,"rect",10),y(),f(13,"g",11),A(14,"path",12),y()(),f(15,"g",13)(16,"mask",14),A(17,"rect",15),y(),f(18,"g",16),A(19,"path",17),y()()()()(),ee(),f(20,"div",4)(21,"div",18)(22,"div",19),w(23,"why we work like we wore"),y(),f(24,"h4",20),w(25,"security from the ground up"),y(),A(26,"div",21),f(27,"p"),w(28," Without confidence in the stability, resilience and privacy of your workplace\u2019s digital foundations, all else is teetering on a shaky foundation. "),y(),f(29,"p"),w(30," We start with security, and keep it constant as a lens through which to filter all work and operations. Information security is always our highest priority. "),y()()()()())},styles:[".vision[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{color:var(--white);font-size:2.1875rem;font-style:normal;font-weight:var(--fw-400);line-height:100%;margin-bottom:4.5rem}.vision[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:end;width:100%}.vision[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .dash-line[_ngcontent-%COMP%]{position:absolute;top:52%;right:0;width:7.875rem;height:.07rem;background:#56595a}.vision[_ngcontent-%COMP%]   .vision-desc[_ngcontent-%COMP%]{padding-top:5.2rem}.vision[_ngcontent-%COMP%]   .vision-desc[_ngcontent-%COMP%]   .vision-title[_ngcontent-%COMP%]{color:var(--white);font-size:1.5625rem;font-style:normal;font-weight:var(--fw-500);line-height:100%;letter-spacing:.15625rem;text-transform:uppercase}.vision[_ngcontent-%COMP%]   .vision-desc[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{height:.15rem;margin:1.5rem 0}.vision[_ngcontent-%COMP%]   .vision-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d9d9d9;font-size:1.0625rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem}@media screen and (max-width: 1300px){.vision[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-size:2rem}}@media screen and (max-width: 767px){.vision[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{margin-bottom:3rem}}"]});let e=t;return e})();var xEe=["panelsHorizontal"],PEe=["tabLinks"],OEe=e=>[e];function SEe(e,t){if(e&1&&(f(0,"div",133)(1,"h1"),w(2),y()()),e&2){let n=t.$implicit;nn(2),xa(n.title)}}function EEe(e,t){if(e&1&&A(0,"button"),e&2){let n=t.index,i=eb();qg("active",n===i.currentIndex)}}en.registerPlugin(Gt);var kG=(()=>{let t=class t{constructor(i,r){this.el=i,this.renderer=r,this.currentPanelIndex=0,this.currentIndex=0,this.ProgressOne=80,this.ProgressTwo=70,this.ProgressThree=20,this.ProgressFour=30,this.ProgressFive=50,this.iconNoOne="../../../../assets/images/pages/company/domain.svg",this.iconNoTwo="../../../../assets/images/pages/company/dollar.svg",this.iconNoThree="../../../../assets/images/pages/company/message.svg",this.iconNoFour="../../../../assets/images/pages/company/domain.svg",this.iconNoFive="../../../../assets/images/pages/company/dollar.svg",this.fundamentalsItems=[{title:"Believe that nothing is impossible - there is some way to solve every problem."},{title:"Tenacity to drive towards the solution - we don't quit until it's right and it's great."},{title:"Client's vision is our mission - our client's focus drives our effort forward."}],this.titlesArray=[{title:"At our core we are expert website and application developers."},{title:"SEIRIM has fully embraced cybersecurity to help protect our clients."},{title:"We add Video, 3D, VR, SEO and more to make our work connect."},{title:"We are a highly-skilled, creative team dedicated to our clients results."}]}setActiveIndex(i){this.currentIndex=i}ngOnInit(){this.startAutoSlide()}startAutoSlide(){this.interval=setInterval(()=>this.onNextSlide(),1e4)}onNextSlide(){this.changeSlide(1)}changeSlide(i){let r=this.fundamentalsItems.length-1;this.currentIndex=(this.currentIndex+i+this.fundamentalsItems.length)%this.fundamentalsItems.length,this.animateSlide()}animateSlide(){en.fromTo(".slide-content",{opacity:0},{opacity:1,duration:1}),this.animationText()}ngAfterViewInit(){this.initializeSliders(),this.initializeScrollBasedFadeAnimation(),this.animationText()}initializeScrollBasedFadeAnimation(){let i=this.panelsHorizontal.nativeElement.querySelector(".panel-fade-inner"),r=en.utils.toArray(".panel",i),o=this.panelsHorizontal.nativeElement.querySelector(".pagination-line"),a=100/r.length;en.set(r,{opacity:0}),en.set(o,{width:`${a}%`}),Gt.create({trigger:this.panelsHorizontal.nativeElement,start:"top top",end:()=>"+="+i.scrollWidth,scrub:!0,pin:!0,onUpdate:s=>{let l=s.end-s.start,c=s.progress*l,d=l/r.length,u=c/d,h=Math.min(Math.floor(u),r.length-1);r.forEach((m,g)=>{en.to(m,{opacity:g===h?1:0,duration:.3,ease:"power2.inOut"})});let p=(s.progress*75).toFixed(2);en.to(o,{left:`${p}%`,duration:.2,ease:"power2.inOut"})}})}updateProgress(i){this.ProgressOne=i,this.ProgressTwo=i,this.ProgressThree=i,this.ProgressFour=i,this.ProgressFive=i}animationText(){let i=this.el.nativeElement.querySelector(".fundamental-slider h3");i&&this.scrambleAnimationText(i,.2,.1,this.currentIndex,"title")}scrambleAnimationText(i,r,o,a,s){let l=this.fundamentalsItems[a][s]||"",c=Array.from(new Set(l.replace(/\s/g,""))).join("");en.to(i,{duration:1,scrambleText:{text:l,chars:c,revealDelay:r,speed:o,tweenLength:!1,rightToLeft:!1}})}initializeSliders(){$(".certificateSlider").slick({slidesToShow:8,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,prevArrow:$(".btn-certi-prev"),nextArrow:$(".btn-certi-next"),responsive:[{breakpoint:1200,settings:{slidesToShow:6}},{breakpoint:767,settings:{slidesToShow:4}},{breakpoint:520,settings:{slidesToShow:2}}]}),$(".feature-tab-slider-1").slick({slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:2e3,prevArrow:$(".btn-giti-prev"),nextArrow:$(".btn-giti-next")}),$(".feature-tab-slider-2").slick({slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:2e3,prevArrow:$(".btn-atam-prev"),nextArrow:$(".btn-atam-next")}),$(".feature-tab-slider-3").slick({slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:2e3,prevArrow:$(".btn-globe-prev"),nextArrow:$(".btn-globe-next")}),this.tabLinks.forEach(i=>{this.renderer.listen(i.nativeElement,"click",()=>{$(".slider").slick("setPosition")})})}};t.\u0275fac=function(r){return new(r||t)(kn(oo),kn(dl))},t.\u0275cmp=mt({type:t,selectors:[["app-who-we-are"]],viewQuery:function(r,o){if(r&1&&(dn(xEe,5),dn(PEe,5)),r&2){let a;Kt(a=Jt())&&(o.panelsHorizontal=a.first),Kt(a=Jt())&&(o.tabLinks=a)}},standalone:!0,features:[gt],decls:377,vars:16,consts:[["panelsHorizontal",""],["tabLinks",""],["progressBars",""],[1,"who-we-are"],[1,"who-we-are-hero-section"],[1,"app-breadcrumb"],[1,"app-container"],[1,"app-breadcrumb-wrapper"],[1,"breadcrumb-links"],["routerLink","/company-page/who-we-are","routerLinkActive","active",1,"breadcrumb-items"],["routerLink","/company-page/how-we-work","routerLinkActive","active",1,"breadcrumb-items"],["routerLink","/company-page/team-vision","routerLinkActive","active",1,"breadcrumb-items"],[1,"who-we-are-header"],[1,"who-we-are-header-wrapper"],[1,"who-we-are-header-content","panel-vertical-inner"],[1,"who-we-are-title"],[1,"panel-fade-inner"],["class","panel",4,"ngFor","ngForOf"],[1,"header-pagination"],[1,"pagination-line"],[1,"btn","btn-primary"],[0,"xlink","href","#arrowUpRightIcon"],[1,"header-link"],["href","#"],[1,"who-we-are-bg"],["autoplay","","loop","","src","../../../../assets/videos/blob.webm"],[1,"who-we-are-body"],[1,"challenge","section-margin"],[1,"row"],[1,"col-md-5"],[1,"text-label"],[1,"main-title"],[1,"col-md-7"],[1,"challenge-card"],[1,"challenge-card-img"],["src","../../../../assets/images/pages/company/challenge.png","width","100%","height","100%","alt",""],[1,"challenge-card-content"],[1,"fundamentals"],[1,"fundamental-wrapper","d-flex","justify-content-start","align-items-start","flex-column","justify-content-md-between","flex-md-row"],[1,"fundamental-slider"],[1,"slider-item"],[1,"fundamental-pagination"],[3,"active",4,"ngFor","ngForOf"],[1,"feature","section-margin"],[1,"feature-content","h-100"],["id","myTabContent",1,"tab-content"],["id","home","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],[1,"feature-pane"],[1,"feature-tab-wrapper"],[1,"row","gx-lg-5","gx-4"],[1,"col-md-4","mb-5","mb-md-4"],[1,"slider-wrapper"],[1,"feature-tab-slider-1"],["src","../../../../assets/images/pages/company/giti.png","width","100%","height","100%","alt",""],[1,"action-slide","d-flex","align-items-center"],[1,"btn-study-prev","btn-giti-prev"],[0,"xlink","href","#arrowRightIconOne"],[1,"btn-study-next","btn-giti-next","ms-2"],[1,"feature-tab-content"],[1,"text-label","mb-2"],[1,"feature-title","mb-3"],[1,"feature-para"],["type","submit",1,"btn","btn-primary"],[1,"col-md-4","mb-3","mb-md-5","mb-md-4"],[1,"quote-wrapper"],[0,"xlink","href","#quoteLeft"],[1,"quote-para"],[1,"ceo-name"],["id","profile","role","tabpanel","aria-labelledby","profile-tab",1,"tab-pane","fade"],[1,"feature-tab-slider-2","slider"],[1,"btn-study-prev","btn-atam-prev"],[1,"btn-study-next","btn-atam-next","ms-2"],["id","contact","role","tabpanel","aria-labelledby","contact-tab",1,"tab-pane","fade"],[1,"feature-tab-slider-3","slider"],[1,"btn-study-prev","btn-globe-prev"],[1,"btn-study-next","btn-globe-next","ms-2"],[1,"feature-tabs","d-flex","justify-content-center"],["id","myTab","role","tablist",1,"nav","feature-pills","d-flex","justify-content-center","mb-3"],["role","presentation",1,"nav-item","feature-item"],["id","home-tab","data-bs-toggle","tab","data-bs-target","#home","type","button","role","tab","aria-controls","home","aria-selected","true",1,"nav-link","feature-link","active"],[1,"btn-img"],["src","../../../../assets/images/pages/company/domain.svg","alt",""],[0,"xlink","href","#tabIcon"],["id","profile-tab","data-bs-toggle","tab","data-bs-target","#profile","type","button","role","tab","aria-controls","profile","aria-selected","false",1,"nav-link","feature-link"],["src","../../../../assets/images/pages/company/dollar.svg","alt",""],["id","contact-tab","data-bs-toggle","tab","data-bs-target","#contact","type","button","role","tab","aria-controls","contact","aria-selected","false",1,"nav-link","feature-link"],["src","../../../../assets/images/pages/company/message.svg","alt",""],[1,"counter","section-margin"],[1,"counter-wrapper"],[1,"counter-item"],[3,"progress","progressIcon"],[1,"counter-content"],[1,"certificates","section-margin"],[1,"btn-certi-prev"],[0,"xlink","href","#arrowRightIcon"],[1,"certificateSlider"],[1,"certificate-item"],["src","../../../../assets/images/pages/company/certificate1.png","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/company/certificate2.png","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/company/certificate3.png","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/company/certificate4.png","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/company/certificate5.png","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/company/certificate6.png","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/company/certificate7.png","width","100%","height","100%","alt",""],["src","../../../../assets/images/pages/company/certificate8.png","width","100%","height","100%","alt",""],[1,"btn-certi-next","ms-2"],[1,"company-vision","section-margin"],[1,"company-contact"],[1,"row","flex-column-reverse","flex-lg-row","align-items-center"],[1,"col-12","col-lg-7"],[1,"company-contact-wrapper"],["action","#"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"form-group","mb-4"],["for","FormControlInput1",1,"form-label"],["type","email","id","FormControlInput1","placeholder","your full name",1,"form-control"],["for","FormControlInput2",1,"form-label"],["type","text","id","FormControlInput2","placeholder","your email add",1,"form-control"],[1,"col-12"],["for","FormControlTextarea1",1,"form-label"],["id","FormControlTextarea1","rows","6","placeholder","write your message",1,"form-control"],[1,"col-12","col-lg-5"],[1,"company-contact-desc"],[1,"company-title","mb-4"],[1,"line"],[1,"company-para","mb-5"],[1,"company-contact-info","d-flex","flex-wrap","justify-content-start","justify-content-lg-between"],[1,"company-contact-info-item","d-flex","align-items-center","mb-3"],[1,"icon-wrapper"],["src","../../../assets/images/pages/case-study/icon/phone.svg","alt",""],[1,"company-contact-info-desc"],["src","../../../assets/images/pages/case-study/icon/mail.svg","alt",""],[1,"panel"]],template:function(r,o){r&1&&(f(0,"section",3)(1,"div",4,0),A(3,"app-header"),f(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"ul")(9,"li")(10,"a",9)(11,"span"),w(12,"Who We are "),y()()(),f(13,"li")(14,"a",10)(15,"span"),w(16,"How we work"),y()()(),f(17,"li")(18,"a",11)(19,"span"),w(20,"Team vision"),y()()()()()()()(),f(21,"div",12)(22,"div",6)(23,"div",13)(24,"div",14)(25,"div",15)(26,"div",16),_a(27,SEe,3,1,"div",17),y()(),f(28,"div",18)(29,"ul"),A(30,"li",19),y()(),f(31,"button",20)(32,"span"),w(33,"Lets get Started"),y(),Z(),f(34,"svg"),A(35,"use",21),y()(),ee(),f(36,"div",22)(37,"a",23),w(38,"Live Chat: Online \u2014 click here"),y()()(),f(39,"div",24),A(40,"video",25),y()()()()(),f(41,"div",26)(42,"div",6)(43,"div",27)(44,"div",28)(45,"div",29)(46,"div",30),w(47,"inception"),y(),f(48,"h3",31),w(49,"The Challenge"),y()(),f(50,"div",32)(51,"div",33)(52,"div",34),A(53,"img",35),y(),f(54,"div",36)(55,"p"),w(56," Founder S.R. Schroeder struggled with a challenge many companies can identify with. He had big ideas to build and the budget to back them up, but struggled getting various agencies freelancers to properly focus on the deep underlying ideas and concepts in a project. Even when properly focused and understanding an idea, they could lapse in their quality, or fail to deliver quickly enough or within budget. "),y(),f(57,"p"),w(58," ISEIRIM was launched to solve the challenge of having a well-rounded, highly skilled team of individuals who had the style and capacity to focus intently on a digital project goal and accomplish it. "),y(),f(59,"p"),w(60," Along our journey and growth several key characteristics has been emblematic of every person joining our growing team. We all live by these, and they are fundamental to how we work. "),y()()()()()(),f(61,"div",37)(62,"div",38)(63,"div",39)(64,"div",40)(65,"div",30),w(66),y(),f(67,"h3"),w(68),y()()(),f(69,"div",41),_a(70,EEe,1,2,"button",42),y()()(),f(71,"div",43)(72,"div",30),w(73,"experience"),y(),f(74,"h3",31),w(75,"Featured Case Studies"),y(),f(76,"div",44)(77,"div",45)(78,"div",46)(79,"div",47)(80,"div",48)(81,"div",49)(82,"div",50)(83,"div",51)(84,"div",52)(85,"div",40),A(86,"img",53),y(),f(87,"div",40),A(88,"img",53),y(),f(89,"div",40),A(90,"img",53),y()(),f(91,"div",54)(92,"button",55),Z(),f(93,"svg"),A(94,"use",56),y()(),ee(),f(95,"button",57),Z(),f(96,"svg"),A(97,"use",56),y()()()()(),ee(),f(98,"div",50)(99,"div",58)(100,"div",59),w(101,"Case Study"),y(),f(102,"h1",60),w(103,"GITI Tire"),y(),f(104,"div",61)(105,"p"),w(106," Quis viverra nibh cras pulvinar mattis nunc sed blandit. Vel fringilla est ullamcorper eget nulla facilisi etiam dignissim diam. Consectetur a erat nam at lectus urna. Nisl pretium fusce id velit ut tortor pretium viverra. "),y(),f(107,"p"),w(108," Adipiscing vitae proin sagittis nisl rhoncus mattis rhoncus urna. Erat imperdiet sed euismod nisi porta lorem mollis. "),y()(),f(109,"button",62)(110,"span"),w(111,"View Case Study"),y(),Z(),f(112,"svg"),A(113,"use",21),y()()()(),ee(),f(114,"div",63)(115,"div",64),Z(),f(116,"svg"),A(117,"use",65),y(),ee(),f(118,"div",66)(119,"p"),w(120," Auctor augue mauris augue neque gravida in fermentum et. Vestibulum morbi blandit cursus risus at. Ultrices gravida dictum fusce ut placerat. Fringilla urna porttitor rhoncus dolor purus non enim praesent. Molestie a iaculis at erat pellentesque adipiscing. A diam sollicitudin tempor id. Nunc sed id semper risus in hendrerit gravida. "),y(),f(121,"p"),w(122," Amet justo donec enim diam vulputate ut pharetra sit. Pellentesque massa placerat duis ultricies lacus sed turpis tincid. "),y()(),f(123,"div",67)(124,"h1"),w(125,"Jeffrey Uvero"),y(),f(126,"h3"),w(127,"CEO Pacpac Quiao Tech"),y()()()()()()()(),f(128,"div",68)(129,"div",47)(130,"div",48)(131,"div",49)(132,"div",50)(133,"div",51)(134,"div",69)(135,"div",40),A(136,"img",53),y(),f(137,"div",40),A(138,"img",53),y(),f(139,"div",40),A(140,"img",53),y()(),f(141,"div",54)(142,"button",70),Z(),f(143,"svg"),A(144,"use",56),y()(),ee(),f(145,"button",71),Z(),f(146,"svg"),A(147,"use",56),y()()()()(),ee(),f(148,"div",50)(149,"div",58)(150,"div",59),w(151,"Case Study"),y(),f(152,"h1",60),w(153,"GITI Tire"),y(),f(154,"div",61)(155,"p"),w(156," Quis viverra nibh cras pulvinar mattis nunc sed blandit. Vel fringilla est ullamcorper eget nulla facilisi etiam dignissim diam. Consectetur a erat nam at lectus urna. Nisl pretium fusce id velit ut tortor pretium viverra. "),y(),f(157,"p"),w(158," Adipiscing vitae proin sagittis nisl rhoncus mattis rhoncus urna. Erat imperdiet sed euismod nisi porta lorem mollis. "),y()(),f(159,"button",62)(160,"span"),w(161,"View Case Study"),y(),Z(),f(162,"svg"),A(163,"use",21),y()()()(),ee(),f(164,"div",63)(165,"div",64),Z(),f(166,"svg"),A(167,"use",65),y(),ee(),f(168,"div",66)(169,"p"),w(170," Auctor augue mauris augue neque gravida in fermentum et. Vestibulum morbi blandit cursus risus at. Ultrices gravida dictum fusce ut placerat. Fringilla urna porttitor rhoncus dolor purus non enim praesent. Molestie a iaculis at erat pellentesque adipiscing. A diam sollicitudin tempor id. Nunc sed id semper risus in hendrerit gravida. "),y(),f(171,"p"),w(172," Amet justo donec enim diam vulputate ut pharetra sit. Pellentesque massa placerat duis ultricies lacus sed turpis tincid. "),y()(),f(173,"div",67)(174,"h1"),w(175,"Jeffrey Kamal"),y(),f(176,"h3"),w(177,"CEO Pacpac Quiao Tech"),y()()()()()()()(),f(178,"div",72)(179,"div",47)(180,"div",48)(181,"div",49)(182,"div",50)(183,"div",51)(184,"div",73)(185,"div",40),A(186,"img",53),y(),f(187,"div",40),A(188,"img",53),y(),f(189,"div",40),A(190,"img",53),y()(),f(191,"div",54)(192,"button",74),Z(),f(193,"svg"),A(194,"use",56),y()(),ee(),f(195,"button",75),Z(),f(196,"svg"),A(197,"use",56),y()()()()(),ee(),f(198,"div",50)(199,"div",58)(200,"div",59),w(201,"Case Study"),y(),f(202,"h1",60),w(203,"GITI Tire"),y(),f(204,"div",61)(205,"p"),w(206," Quis viverra nibh cras pulvinar mattis nunc sed blandit. Vel fringilla est ullamcorper eget nulla facilisi etiam dignissim diam. Consectetur a erat nam at lectus urna. Nisl pretium fusce id velit ut tortor pretium viverra. "),y(),f(207,"p"),w(208," Adipiscing vitae proin sagittis nisl rhoncus mattis rhoncus urna. Erat imperdiet sed euismod nisi porta lorem mollis. "),y()(),f(209,"button",62)(210,"span"),w(211,"View Case Study"),y(),Z(),f(212,"svg"),A(213,"use",21),y()()()(),ee(),f(214,"div",63)(215,"div",64),Z(),f(216,"svg"),A(217,"use",65),y(),ee(),f(218,"div",66)(219,"p"),w(220," Auctor augue mauris augue neque gravida in fermentum et. Vestibulum morbi blandit cursus risus at. Ultrices gravida dictum fusce ut placerat. Fringilla urna porttitor rhoncus dolor purus non enim praesent. Molestie a iaculis at erat pellentesque adipiscing. A diam sollicitudin tempor id. Nunc sed id semper risus in hendrerit gravida. "),y(),f(221,"p"),w(222," Amet justo donec enim diam vulputate ut pharetra sit. Pellentesque massa placerat duis ultricies lacus sed turpis tincid. "),y()(),f(223,"div",67)(224,"h1"),w(225,"Jeffrey Uvero"),y(),f(226,"h3"),w(227,"CEO Pacpac Quiao Tech"),y()()()()()()()()(),f(228,"div",76)(229,"ul",77)(230,"li",78)(231,"button",79,1)(233,"div",80),A(234,"img",81),y(),Z(),f(235,"svg"),A(236,"use",82),y()()(),ee(),f(237,"li",78)(238,"button",83,1)(240,"div",80),A(241,"img",84),y(),Z(),f(242,"svg"),A(243,"use",82),y()()(),ee(),f(244,"li",78)(245,"button",85,1)(247,"div",80),A(248,"img",86),y(),Z(),f(249,"svg"),A(250,"use",82),y()()()()()()(),ee(),f(251,"div",87)(252,"div",null,2)(254,"div",88)(255,"div",89),A(256,"circular-progess-bar",90),f(257,"div",91)(258,"h1"),w(259,"155+"),y(),f(260,"span"),w(261,"Consequat id porta nibh"),y()()(),f(262,"div",89),A(263,"circular-progess-bar",90),f(264,"div",91)(265,"h1"),w(266,"35+"),y(),f(267,"span"),w(268,"Etiam tempor orci eu"),y()()(),f(269,"div",89),A(270,"circular-progess-bar",90),f(271,"div",91)(272,"h1"),w(273,"25+"),y(),f(274,"span"),w(275,"Enim neque volutpat"),y()()(),f(276,"div",89),A(277,"circular-progess-bar",90),f(278,"div",91)(279,"h1"),w(280,"32+"),y(),f(281,"span"),w(282,"Risus in hendrerit aliquam"),y()()(),f(283,"div",89),A(284,"circular-progess-bar",90),f(285,"div",91)(286,"h1"),w(287,"72+"),y(),f(288,"span"),w(289,"Faucibus pulvinar elem"),y()()()()()(),f(290,"div",92)(291,"div",30),w(292,"authoritative"),y(),f(293,"h3",31),w(294,"Certifications"),y(),f(295,"div",51)(296,"button",93),Z(),f(297,"svg"),A(298,"use",94),y()(),ee(),f(299,"div",95)(300,"div",96),A(301,"img",97),y(),f(302,"div",96),A(303,"img",98),y(),f(304,"div",96),A(305,"img",99),y(),f(306,"div",96),A(307,"img",100),y(),f(308,"div",96),A(309,"img",101),y(),f(310,"div",96),A(311,"img",102),y(),f(312,"div",96),A(313,"img",103),y(),f(314,"div",96),A(315,"img",104),y(),f(316,"div",96),A(317,"img",98),y(),f(318,"div",96),A(319,"img",100),y(),f(320,"div",96),A(321,"img",102),y(),f(322,"div",96),A(323,"img",104),y()(),f(324,"button",105),Z(),f(325,"svg"),A(326,"use",94),y()()()(),ee(),f(327,"div",106),A(328,"company-vison"),y()(),f(329,"div",107)(330,"div",6)(331,"div",108)(332,"div",109)(333,"div",110)(334,"form",111)(335,"div",112)(336,"div",113)(337,"div",114)(338,"label",115),w(339,"Email"),y(),A(340,"input",116),y()(),f(341,"div",113)(342,"div",114)(343,"label",117),w(344,"Name"),y(),A(345,"input",118),y()(),f(346,"div",119)(347,"div",114)(348,"label",120),w(349,"Message"),y(),A(350,"textarea",121),y()()(),f(351,"button",62)(352,"span"),w(353,"submit"),y(),Z(),f(354,"svg"),A(355,"use",21),y()()()()(),ee(),f(356,"div",122)(357,"div",123)(358,"h1",124),w(359,"Let's get to work"),y(),A(360,"div",125),f(361,"div",126)(362,"p"),w(363," Secure your digital presence with our expert Cybersecurity Services. Based in Shanghai, China. "),y()(),f(364,"div",127)(365,"div",128)(366,"div",129),A(367,"img",130),y(),f(368,"div",131)(369,"p"),w(370,"+86 152 2188 2181"),y()()(),f(371,"div",128)(372,"div",129),A(373,"img",132),y(),f(374,"div",131)(375,"p"),w(376,"info@seirim.com"),y()()()()()()()()()()()),r&2&&(nn(27),gi("ngForOf",o.titlesArray),nn(39),tb("Fundamentals 0",uc(14,OEe,o.currentIndex+1),"/03"),nn(2),xa(o.fundamentalsItems[o.currentIndex].title),nn(2),gi("ngForOf",o.fundamentalsItems),nn(186),gi("progress",o.ProgressOne)("progressIcon",o.iconNoOne),nn(7),gi("progress",o.ProgressTwo)("progressIcon",o.iconNoTwo),nn(7),gi("progress",o.ProgressThree)("progressIcon",o.iconNoThree),nn(7),gi("progress",o.ProgressFour)("progressIcon",o.iconNoFour),nn(7),gi("progress",o.ProgressFive)("progressIcon",o.iconNoFive))},dependencies:[ob,RG,Wi,Za,Aw,LG],styles:['.who-we-are[_ngcontent-%COMP%]{background-color:var(--bg-2)}.who-we-are[_ngcontent-%COMP%]   .who-we-are-hero-section[_ngcontent-%COMP%]{z-index:999}.who-we-are[_ngcontent-%COMP%]   .app-breadcrumb[_ngcontent-%COMP%]{padding:5.5rem 0 1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]{position:relative;height:46rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]{overflow:hidden}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .who-we-are-title[_ngcontent-%COMP%]{position:relative;max-width:81.15rem;height:30rem;z-index:1}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .who-we-are-title[_ngcontent-%COMP%]   .panel-fade-inner[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]{position:absolute;top:0;opacity:0}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .who-we-are-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--white);font-size:6.875rem;font-style:normal;font-weight:var(--fw-300);line-height:7.6875rem;letter-spacing:.2rem;white-space:wrap}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{position:absolute;top:62%;left:0;border-radius:0;z-index:1}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-pagination[_ngcontent-%COMP%]{position:absolute;top:65%;right:0;width:75%}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;background-color:#707070;height:.1rem;position:relative;width:100%;overflow:hidden}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .pagination-line[_ngcontent-%COMP%]{position:absolute;left:0;height:.1rem;background-color:var(--tech-blue-1);z-index:1}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{position:absolute;top:76%;right:0;z-index:1}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--white);text-align:right;font-size:.88563rem;font-style:normal;font-weight:400;line-height:1.5625rem;text-transform:uppercase;cursor:pointer;transition:.3s all ease-in-out}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--tech-blue-1)}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-bg[_ngcontent-%COMP%]{position:absolute;bottom:-4.5rem;right:5.5rem;width:50rem;height:40rem;z-index:0}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-bg[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]{z-index:1}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .text-label[_ngcontent-%COMP%]{color:var(--tech-blue-1);font-size:.75rem;font-style:normal;font-weight:var(--fw-500);line-height:normal;letter-spacing:.1125rem;text-transform:uppercase;margin-bottom:1.5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{color:var(--white);font-size:2.1875rem;font-style:normal;font-weight:var(--fw-400);line-height:100%;margin-bottom:4.5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .section-margin[_ngcontent-%COMP%]{margin-bottom:8rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .challenge[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]{margin-top:3.5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .challenge[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]   .challenge-card-img[_ngcontent-%COMP%]{width:100%;height:15rem;margin-bottom:2rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .challenge[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]   .challenge-card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .challenge[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]   .challenge-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:1.0625rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem;letter-spacing:.05313rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]{margin-bottom:4rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]   .fundamental-wrapper[_ngcontent-%COMP%]   .fundamental-slider[_ngcontent-%COMP%]{width:90%;overflow:hidden}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]   .fundamental-wrapper[_ngcontent-%COMP%]   .fundamental-slider[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:inline-block;height:180px;overflow:hidden;color:var(--white);font-size:4.375rem;font-style:normal;font-weight:300;line-height:5.625rem;letter-spacing:.13125rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]   .fundamental-wrapper[_ngcontent-%COMP%]   .fundamental-pagination[_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:.4rem;margin-top:4rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]   .fundamental-wrapper[_ngcontent-%COMP%]   .fundamental-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:.8125rem;height:.8125rem;border-radius:50%;border:1px solid var(--tech-blue-1);background:none;cursor:pointer;transition:background-color .3s ease-in-out}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]   .fundamental-wrapper[_ngcontent-%COMP%]   .fundamental-pagination[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--tech-blue-1)}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]{border-bottom:.25rem solid #1b2023;margin-bottom:1.5rem;display:block;transition:opacity .5s ease-in-out}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]{padding:0 0 .5rem;width:100%}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]{position:relative}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]{display:block;height:25.3rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]{position:absolute;bottom:5%;left:5%}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%], .who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]{background:none;padding:.4rem;border:1px solid #2c3b71;display:flex;align-items:center;position:relative;transition:all .3s ease-in-out}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]:after, .who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;bottom:0;width:0%;height:100%;background:transparent;transition:all .3s ease-in-out;z-index:1}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem;z-index:11}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]:hover:after, .who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]:hover:after{background:var(--lineargradient-bg);width:100%}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-next[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{--fill-color: #fff}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   .btn-study-prev[_ngcontent-%COMP%]{transform:rotate(180deg)}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#2e52cf!important}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .action-slide[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{--fill-color: var(--white)}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .feature-tab-content[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{color:var(--white);font-size:3.4375rem;font-style:normal;font-weight:var(--fw-500);line-height:normal;letter-spacing:-.03438rem;text-transform:capitalize}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .feature-tab-content[_ngcontent-%COMP%]   .feature-para[_ngcontent-%COMP%]{margin-bottom:5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .feature-tab-content[_ngcontent-%COMP%]   .feature-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:1.0625rem;font-style:normal;font-weight:400;line-height:1.5625rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .feature-tab-content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{border-radius:0;background-color:#044c8e}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.3125rem;height:1.1875rem;margin-bottom:1.5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   .quote-para[_ngcontent-%COMP%]{border-bottom:1px solid #555555;padding-bottom:1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   .quote-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d9d9d9;font-size:.875rem;font-style:normal;font-weight:var(--fw-400);line-height:1.5625rem;margin-bottom:1.8rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   .ceo-name[_ngcontent-%COMP%]{margin-top:4.5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   .ceo-name[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--white);font-size:1.25rem;font-style:normal;font-weight:var(--fw-400);line-height:100%}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   .ceo-name[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#818181;font-size:.875rem;font-style:normal;font-weight:var(--fw-400);line-height:100%}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-tabs[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{border:none;display:flex;column-gap:.5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-tabs[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-link[_ngcontent-%COMP%]{position:relative;border-radius:50%;width:3.3rem;height:3.3rem;padding:.15rem;background-color:var(--white);opacity:.5;transition:.3s all ease-in-out}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-tabs[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-link[_ngcontent-%COMP%]   .btn-img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-tabs[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-link[_ngcontent-%COMP%]   .btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;padding:.6rem;filter:grayscale(100)}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-tabs[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;top:-2.1rem;left:50%;transform:translate(-50%);width:1.5rem;height:1.5rem;opacity:0;transition:opacity .3s ease-in-out}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-tabs[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-link.active[_ngcontent-%COMP%]{opacity:1;background:linear-gradient(10deg,#00c2ff 12%,#0241bc)}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-tabs[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-link.active[_ngcontent-%COMP%]   .btn-img[_ngcontent-%COMP%]{background-color:var(--bg-2)}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-tabs[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-link.active[_ngcontent-%COMP%]   .btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(0)}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-tabs[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-link.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;column-gap:4rem;row-gap:4rem;justify-content:center}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]   .counter-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:22rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]   .counter-item[_ngcontent-%COMP%]   .counter-content[_ngcontent-%COMP%]{margin-left:1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]   .counter-item[_ngcontent-%COMP%]   .counter-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4.375rem;font-style:normal;font-weight:var(--fw-300);line-height:3.4375rem;background:linear-gradient(104deg,#07d8f4 16.56%,#0969ef 101.07%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]   .counter-item[_ngcontent-%COMP%]   .counter-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white);font-size:.9375rem;font-style:normal;font-weight:var(--fw-400);line-height:1.5625rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .certificates[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .certificates[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .certificateSlider[_ngcontent-%COMP%]{padding:0 1.5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .certificates[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .certificateSlider[_ngcontent-%COMP%]   .certificate-item[_ngcontent-%COMP%]{width:4rem;height:4rem;margin:0 1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .certificates[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .certificateSlider[_ngcontent-%COMP%]   .certificate-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .certificates[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .btn-certi-prev[_ngcontent-%COMP%], .who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .certificates[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .btn-certi-next[_ngcontent-%COMP%]{min-width:2rem;min-height:2rem;background-color:transparent}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .certificates[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .btn-certi-prev[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .certificates[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .btn-certi-next[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;--fill-color: var(--tech-blue-1) !important}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .certificates[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .btn-certi-prev[_ngcontent-%COMP%]{transform:rotate(180deg)}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]{position:relative;background:url("./media/inquiry-QJSVK2FM.png") no-repeat;background-size:cover;padding:5rem 0}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;opacity:.9;background:#080f1e;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:0}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-wrapper[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(0,197,207,.1254901961);background:#0d1324cc;box-shadow:0 0 100px 15px #233c6080;padding:4rem 4.5rem;z-index:1}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-wrapper[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--white);font-size:.75rem;font-weight:var(--fw-500);letter-spacing:.1125rem;text-transform:uppercase}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-wrapper[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{color:#65719c;font-size:.625rem;font-weight:var(--fw-500);letter-spacing:.09375rem;border-radius:0;border:1px solid var(--tech-blue-1);background-color:transparent;box-shadow:none;padding:1rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-wrapper[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#65719c;font-size:.625rem;font-weight:var(--fw-500);letter-spacing:.09375rem;text-transform:uppercase}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-wrapper[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:transparent;border-radius:0;border:1px solid var(--tech-blue-1)}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-wrapper[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--white);font-size:.75rem;font-weight:var(--fw-500);letter-spacing:.1125rem;text-transform:uppercase}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]{position:relative;z-index:1;padding:1rem 2.8rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]   .company-title[_ngcontent-%COMP%]{color:var(--white);font-size:6.875rem;font-style:normal;font-weight:var(--fw-300);line-height:6.875rem;letter-spacing:.20625rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{height:.17rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]   .company-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:1rem;font-style:normal;font-weight:var(--fw-400);line-height:1.875rem;letter-spacing:.05rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]   .company-contact-info[_ngcontent-%COMP%]   .company-contact-info-item[_ngcontent-%COMP%]{width:13rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]   .company-contact-info[_ngcontent-%COMP%]   .company-contact-info-item[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:2.75rem;height:2.75rem;margin-right:.8rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]   .company-contact-info[_ngcontent-%COMP%]   .company-contact-info-item[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]   .company-contact-info[_ngcontent-%COMP%]   .company-contact-info-item[_ngcontent-%COMP%]   .company-contact-info-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:1rem;font-weight:400;line-height:1.875rem;letter-spacing:.05rem;margin:0}@media screen and (max-width: 1300px){.who-we-are[_ngcontent-%COMP%]   .app-breadcrumb[_ngcontent-%COMP%]{padding:3.8rem 0 .5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .text-label[_ngcontent-%COMP%]{font-size:.65rem;margin-bottom:1.1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-size:2rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .challenge[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]   .challenge-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.75rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]{margin-bottom:3rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]   .fundamental-wrapper[_ngcontent-%COMP%]   .fundamental-slider[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:9.5rem;font-size:3.5rem;line-height:4.5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]{border-bottom:.25rem solid #1b2023;margin-bottom:1.5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]{height:20.8rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .feature-tab-content[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{font-size:2.8rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .feature-tab-content[_ngcontent-%COMP%]   .feature-para[_ngcontent-%COMP%]{margin-bottom:3rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .feature-tab-content[_ngcontent-%COMP%]   .feature-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;line-height:1.4rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .feature-tab-content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{padding:.8rem 1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .feature-tab-content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.6rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .feature-tab-content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.87rem;height:.87rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   .quote-para[_ngcontent-%COMP%]{padding-bottom:1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   .quote-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.785rem;line-height:1.4rem;margin-bottom:1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   .ceo-name[_ngcontent-%COMP%]{margin-top:2.1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   .ceo-name[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   .ceo-name[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.785rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.3125rem;height:1.3125rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]{column-gap:2.5rem;row-gap:2.5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]   .counter-item[_ngcontent-%COMP%]{width:18rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]   .counter-item[_ngcontent-%COMP%]   .counter-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.8rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]   .counter-item[_ngcontent-%COMP%]   .counter-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .vision[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .dash-line[_ngcontent-%COMP%]{width:6rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-wrapper[_ngcontent-%COMP%]{padding:3rem 3.5rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]{padding:1rem 2rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]   .company-title[_ngcontent-%COMP%]{font-size:5.8rem;line-height:6rem;letter-spacing:.13125rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]   .company-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]   .company-contact-info[_ngcontent-%COMP%]   .company-contact-info-item[_ngcontent-%COMP%]{width:12rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]   .company-contact-info[_ngcontent-%COMP%]   .company-contact-info-item[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:2.3rem;height:2.3rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]   .company-contact-info[_ngcontent-%COMP%]   .company-contact-info-item[_ngcontent-%COMP%]   .company-contact-info-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5rem}}@media screen and (max-width: 1350px){.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]{height:40rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .who-we-are-title[_ngcontent-%COMP%]{max-width:67rem;height:23rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .who-we-are-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5.6rem;line-height:6rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{top:60%}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-pagination[_ngcontent-%COMP%]{width:72%;top:64%}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{top:72%}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.7rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-bg[_ngcontent-%COMP%]{bottom:-2rem;right:6.5rem;width:45rem;height:35rem}}@media screen and (max-width: 1100px){.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .who-we-are-title[_ngcontent-%COMP%]{max-width:69.2rem;height:23rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .who-we-are-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5.3rem;line-height:6.3rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-bg[_ngcontent-%COMP%]{bottom:-1rem;right:5.5rem;width:41rem;height:31rem}}@media screen and (max-width: 992px){.who-we-are[_ngcontent-%COMP%]   .app-breadcrumb[_ngcontent-%COMP%]{padding:4.5rem 0 .5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]{height:35rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .who-we-are-title[_ngcontent-%COMP%]{height:21rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .who-we-are-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4.2rem;line-height:5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-pagination[_ngcontent-%COMP%]{width:64%}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{position:absolute;top:80%;right:0;z-index:1}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.8rem;font-weight:var(--fw-400);text-transform:uppercase}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-bg[_ngcontent-%COMP%]{bottom:-3rem;right:3.5rem;width:38rem;height:28rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]   .fundamental-wrapper[_ngcontent-%COMP%]   .fundamental-slider[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:8.5rem;font-size:3rem;line-height:4rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]   .fundamental-wrapper[_ngcontent-%COMP%]   .fundamental-pagination[_ngcontent-%COMP%]{width:8%}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .vision[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .vision[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .dash-line[_ngcontent-%COMP%]{top:65%;width:4rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .vision[_ngcontent-%COMP%]   .vision-desc[_ngcontent-%COMP%]   .vision-title[_ngcontent-%COMP%]{font-size:1.25rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .vision[_ngcontent-%COMP%]   .vision-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]   .counter-item[_ngcontent-%COMP%]{justify-content:start;width:20rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]{padding:2rem 0}}@media screen and (max-width: 767px){.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]{height:30rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .who-we-are-title[_ngcontent-%COMP%]{max-height:17rem;margin-bottom:1.5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .who-we-are-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem;line-height:4rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-pagination[_ngcontent-%COMP%]{position:relative;width:100%;margin-bottom:1rem;z-index:1}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{position:relative}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{position:relative;z-index:1;width:100%;text-align:right}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.8rem;font-weight:var(--fw-400);text-transform:uppercase}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-bg[_ngcontent-%COMP%]{top:50%;left:50%;width:100%;height:100%;transform:translate(-50%,-50%)}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{margin-bottom:3rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .challenge[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]{margin-top:0}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .challenge[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]   .challenge-card-img[_ngcontent-%COMP%]{height:100%}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]{margin-bottom:8rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]   .fundamental-wrapper[_ngcontent-%COMP%]   .fundamental-slider[_ngcontent-%COMP%]{width:100%}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]   .fundamental-wrapper[_ngcontent-%COMP%]   .fundamental-slider[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:9.5rem;font-size:2.3rem;line-height:3rem;margin:0}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]   .fundamental-wrapper[_ngcontent-%COMP%]   .fundamental-pagination[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]   .fundamental-wrapper[_ngcontent-%COMP%]   .fundamental-pagination[_ngcontent-%COMP%]     .slick-dots{justify-content:start}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]   .fundamental-wrapper[_ngcontent-%COMP%]   .fundamental-pagination[_ngcontent-%COMP%]     .slick-dots .slider-pagination-bullet{margin-left:0;margin-right:1.3rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]{border-bottom:.25rem solid #1b2023;margin-bottom:1.5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]{height:20rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .feature-tab-content[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{font-size:2.5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .feature-tab-content[_ngcontent-%COMP%]   .feature-para[_ngcontent-%COMP%]{margin-bottom:2rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .feature-tab-content[_ngcontent-%COMP%]   .feature-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.785rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   .quote-para[_ngcontent-%COMP%]{padding-bottom:.8rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   .quote-para[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.8rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-pane[_ngcontent-%COMP%]   .feature-tab-wrapper[_ngcontent-%COMP%]   .quote-wrapper[_ngcontent-%COMP%]   .ceo-name[_ngcontent-%COMP%]{margin-top:2rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]{row-gap:1rem;column-gap:1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]   .counter-item[_ngcontent-%COMP%]{width:17rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]   .counter-item[_ngcontent-%COMP%]   .counter-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:0}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]   .counter-item[_ngcontent-%COMP%]   .counter-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .vision[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:18rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .vision[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .dash-line[_ngcontent-%COMP%]{display:none}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .vision[_ngcontent-%COMP%]   .vision-desc[_ngcontent-%COMP%]{padding-top:2rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .certificates[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .certificateSlider[_ngcontent-%COMP%]{padding:0}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .certificates[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .certificateSlider[_ngcontent-%COMP%]   .certificate-item[_ngcontent-%COMP%]{width:4rem;height:4rem;margin:0 1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .certificates[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]   .certificateSlider[_ngcontent-%COMP%]   .certificate-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-wrapper[_ngcontent-%COMP%]{padding:1.5rem}.who-we-are[_ngcontent-%COMP%]   .company-contact[_ngcontent-%COMP%]   .company-contact-desc[_ngcontent-%COMP%]   .company-title[_ngcontent-%COMP%]{font-size:3.8rem}}@media screen and (max-width: 600px){.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]{height:auto}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .who-we-are-title[_ngcontent-%COMP%]{max-height:11rem;margin-bottom:1.5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .who-we-are-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.3rem;line-height:2.6rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-pagination[_ngcontent-%COMP%]{position:relative;width:100%;margin-bottom:1rem;z-index:1}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.7rem;font-weight:var(--fw-400);text-transform:uppercase}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-bg[_ngcontent-%COMP%]{top:50%;left:50%;width:100%;height:100%;transform:translate(-50%,-50%)}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]   .fundamental-wrapper[_ngcontent-%COMP%]   .fundamental-slider[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;height:12rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]{row-gap:2rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]   .counter-item[_ngcontent-%COMP%]{width:45%;flex-direction:column}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .counter-wrapper[_ngcontent-%COMP%]   .counter-item[_ngcontent-%COMP%]   .counter-content[_ngcontent-%COMP%]{margin-left:0;margin-top:1rem;text-align:center}}@media screen and (max-width: 425px){.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]{height:auto}.who-we-are[_ngcontent-%COMP%]   .who-we-are-header[_ngcontent-%COMP%]   .who-we-are-header-wrapper[_ngcontent-%COMP%]   .who-we-are-header-content[_ngcontent-%COMP%]   .who-we-are-title[_ngcontent-%COMP%]{max-height:15rem;margin-bottom:1.5rem}.who-we-are[_ngcontent-%COMP%]   .who-we-are-body[_ngcontent-%COMP%]   .fundamentals[_ngcontent-%COMP%]   .fundamental-wrapper[_ngcontent-%COMP%]   .fundamental-slider[_ngcontent-%COMP%]   .slider-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:15rem}}@media screen and (min-width: 991px){.who-we-are[_ngcontent-%COMP%]   .vision[_ngcontent-%COMP%]   .vision-desc[_ngcontent-%COMP%]{max-width:30rem}}']});let e=t;return e})();var FG=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["app-team"]],standalone:!0,features:[gt],decls:2,vars:0,template:function(r,o){r&1&&(f(0,"p"),w(1,"team works!"),y())}});let e=t;return e})();var NG=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["app-vision"]],standalone:!0,features:[gt],decls:2,vars:0,template:function(r,o){r&1&&(f(0,"p"),w(1,"vision works!"),y())}});let e=t;return e})();var zG=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:T8},{path:"blog",component:yh},{path:"services",component:IG},{path:"blog/article",component:I8},{path:"case-study/overview",component:L8},{path:"case-study/cybersecurity",component:F8},{path:"case-study/marketing",component:N8},{path:"case-study/digital-marketing-individual",component:B8},{path:"case-study/development",component:k8},{path:"case-study/development-individual-page",component:z8},{path:"company-page/who-we-are",component:kG},{path:"company-page/how-we-work",component:FG},{path:"company-page/team-vision",component:NG},{path:"resources",component:yh},{path:"about",component:yh},{path:"contact",component:yh},{path:"privacy",component:yh},{path:"terms",component:yh}];var BG={providers:[CL(zG,ML())]};var VG=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["global-svg-sprite"]],standalone:!0,features:[gt],decls:137,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["id","logoIcon","viewBox","0 0 95 27","fill","none"],["d","M14.3841 7.73278C13.2268 6.77097 11.7489 6.12585 10.2085 6.12585C9.05116 6.12585 7.5107 6.80225 7.5107 8.14721C7.5107 9.56256 9.21146 10.106 10.3062 10.4618L11.9131 10.9427C15.2834 11.9397 17.8873 13.6405 17.8873 17.5581C17.8873 19.9704 17.3086 22.4375 15.3811 24.0757C13.4849 25.6826 10.9513 26.3551 8.5077 26.3551C5.45806 26.3551 2.4749 25.3307 0 23.5948L2.69775 18.5238C4.26949 19.9039 6.13446 21.026 8.28484 21.026C9.76274 21.026 11.3345 20.2871 11.3345 18.5863C11.3345 16.8856 8.86349 16.2092 7.51461 15.826C3.56573 14.7039 0.965717 13.6757 0.965717 8.98782C0.965717 4.29998 4.46498 0.863281 9.31311 0.863281C11.7528 0.863281 14.7399 1.63351 16.8903 2.85336L14.388 7.73278H14.3841ZM23.9514 6.83353V10.8802H31.0476V16.2131H23.9514V20.3888H31.4308V25.7178H17.6566V1.50449H31.4308V6.83353H23.9514ZM38.875 25.7139H32.5803V1.50449H38.875V25.7178V25.7139ZM60.3867 25.7139H52.5475L46.6086 16.4008H46.546V25.7139H40.2513V1.50449H49.6621C54.4438 1.50449 58.0721 3.78389 58.0721 8.95263C58.0721 12.2916 56.211 15.1848 52.7782 15.7948L60.3867 25.7178V25.7139ZM46.546 12.3541H47.1559C49.2086 12.3541 51.5232 11.971 51.5232 9.33579C51.5232 6.70059 49.2086 6.31743 47.1559 6.31743H46.546V12.3541ZM65.1683 25.7139H58.8775V1.50449H65.1683V25.7178V25.7139ZM68.734 1.50449H74.9311L79.8457 14.4459L85.0496 1.50449H91.3092L94.9687 25.7178H88.6779L86.9146 11.7833H86.8481L81.0342 25.7178H78.5281L72.9723 11.7833H72.9097L70.8883 25.7178H64.6249L68.734 1.50449Z","fill","white"],["id","arrowDownIcon","viewBox","0 0 14 7","fill","none"],["d","M6.96624 6.98037L0.773926 0.788051L1.42233 0.139648L6.96624 5.6903L12.5102 0.146385L13.1586 0.794789L6.96624 6.98037Z","fill","var(--fill-color , #048BD7)"],["id","shieldIcon","viewBox","0 0 19 23","fill","none"],["d","M9.4868 0.223633L0.773926 3.39221V11.0566C0.776015 12.5525 1.1309 14.0268 1.80976 15.3598C2.48861 16.6928 3.4723 17.8469 4.68092 18.7283L9.4868 22.2236L14.2927 18.7283C15.5013 17.8469 16.485 16.6928 17.1638 15.3598C17.8427 14.0268 18.1976 12.5525 18.1997 11.0566V3.39221L9.4868 0.223633ZM16.7475 11.0566C16.7455 12.3235 16.4449 13.5721 15.87 14.701C15.2951 15.83 14.4622 16.8075 13.4388 17.5543L9.4868 20.4288L5.53478 17.5543C4.5114 16.8075 3.67847 15.83 3.10359 14.701C2.52871 13.5721 2.22808 12.3235 2.22607 11.0566V4.40872L9.4868 1.76872L16.7475 4.40872V11.0566Z","fill","var(--fill-color , #white)"],["d","M6.36968 9.37719L5.34302 10.4039L8.57912 13.64L13.6304 8.58868L12.6037 7.56201L8.57912 11.5866L6.36968 9.37719Z","fill","var(--fill-color , #white)"],["id","arrowUpRightIcon","viewBox","0 0 14 13","fill","none"],["d","M0.556396 1.22363H12.0802V12.2236","stroke","var(--stroke-color , #048BD7)","stroke-width","2"],["d","M12.0802 1.22363L1.604 11.6998","stroke","var(--stroke-color , #048BD7)","stroke-width","2"],["id","arrowRightIcon","viewBox","0 0 34 33","fill","none"],["d","M13.7781 8.53662L21.9266 16.6852L14.1485 24.4634","stroke","#048BD7","stroke-width","2"],["id","arrowLeftIcon","viewBox","0 0 34 33","fill","none"],["d","M20.2219 24.4634L12.0734 16.3148L19.8515 8.53664","stroke","white","stroke-width","2"],["id","browserIcon","viewBox","0 0 23 20","fill","none"],["d","M5.31113 9.92232H5.49552C5.66101 9.92232 5.80733 9.81681 5.85958 9.6598L6.38279 8.09435L6.90147 9.65933C6.9536 9.81665 7.09995 9.92232 7.26567 9.92232H7.4449C7.60868 9.92232 7.75448 9.81827 7.80775 9.66336L8.59705 7.3672C8.63785 7.24846 8.61944 7.12174 8.54651 7.01955C8.47357 6.91738 8.35975 6.85876 8.2342 6.85876C8.06801 6.85876 7.9215 6.96486 7.86965 7.12278L7.33327 8.75015L6.84809 7.20055C6.78408 6.9961 6.59714 6.85876 6.38288 6.85876C6.1692 6.85876 5.98243 6.99565 5.91808 7.19939L5.4261 8.75018L4.89662 7.12368C4.84506 6.96522 4.69845 6.85876 4.53079 6.85876C4.40549 6.85876 4.2918 6.91719 4.21885 7.01904C4.14591 7.12087 4.1272 7.2473 4.16751 7.36589L4.94783 9.66206C5.00076 9.81771 5.14675 9.92232 5.31113 9.92232Z","fill","url(#paint0_linear_1105_66)"],["d","M10.0307 9.92232H10.2151C10.3806 9.92232 10.5269 9.81681 10.5792 9.6598L11.1024 8.09435L11.6211 9.65933C11.6732 9.81665 11.8196 9.92232 11.9853 9.92232H12.1645C12.3283 9.92232 12.4741 9.81824 12.5274 9.66336L13.3167 7.3672C13.3575 7.24849 13.3391 7.1218 13.2662 7.01959C13.1932 6.91738 13.0794 6.85876 12.9538 6.85876C12.7876 6.85876 12.6411 6.96486 12.5893 7.12278L12.0529 8.75018L11.5677 7.20055C11.5036 6.99611 11.3167 6.85877 11.1025 6.85877C10.8888 6.85877 10.702 6.99566 10.6377 7.1994L10.1457 8.75018L9.61623 7.12368C9.56466 6.96523 9.41807 6.85877 9.2504 6.85877C9.1251 6.85877 9.01142 6.91719 8.93846 7.01904C8.86551 7.12088 8.84681 7.24731 8.88711 7.3659L9.66743 9.66206C9.72035 9.81771 9.86637 9.92232 10.0307 9.92232Z","fill","url(#paint1_linear_1105_66)"],["d","M15.2989 9.65979L15.8221 8.09434L16.3408 9.65936C16.393 9.81664 16.5393 9.92232 16.705 9.92232H16.8842C17.048 9.92232 17.1938 9.81827 17.2471 9.66336L18.0364 7.3672C18.0772 7.24846 18.0587 7.12174 17.9858 7.01957C17.9129 6.91738 17.7991 6.85876 17.6735 6.85876C17.5073 6.85876 17.3608 6.96486 17.309 7.12278L16.7726 8.75015L16.2874 7.20055C16.2234 6.9961 16.0364 6.85876 15.8222 6.85876C15.6086 6.85876 15.4217 6.99565 15.3574 7.19939L14.8655 8.75018L14.336 7.12368C14.2844 6.96522 14.1378 6.85876 13.9701 6.85876C13.8448 6.85876 13.7311 6.91719 13.6582 7.01904C13.5852 7.12087 13.5665 7.2473 13.6069 7.36589L14.3872 9.66206C14.4401 9.81771 14.5861 9.92232 14.7505 9.92232H14.9348C15.1003 9.92232 15.2466 9.81681 15.2989 9.65979Z","fill","url(#paint2_linear_1105_66)"],["d","M13.731 15.8733H2.49736C2.07732 15.8733 1.73562 15.5316 1.73562 15.1116V4.61013H21.2548V13.896C21.2548 14.127 21.4421 14.3143 21.6731 14.3143C21.9042 14.3143 22.0915 14.127 22.0915 13.896V1.66899C22.0915 0.787597 21.3744 0.0705566 20.4931 0.0705566H2.49736C1.61597 0.0705566 0.898926 0.787603 0.898926 1.66899V15.1116C0.898926 15.9929 1.61597 16.71 2.49736 16.71H13.731C13.962 16.71 14.1493 16.5227 14.1493 16.2916C14.1493 16.0606 13.962 15.8733 13.731 15.8733ZM2.49736 0.907244H20.4931C20.9131 0.907244 21.2548 1.24895 21.2548 1.66898V3.77343H1.73561V1.66898C1.73561 1.24895 2.07732 0.907244 2.49736 0.907244Z","fill","url(#paint3_linear_1105_66)"],["d","M2.88591 2.58956C2.89654 2.61464 2.90936 2.63864 2.92442 2.66151C2.93946 2.68436 2.95732 2.70558 2.97628 2.72508C2.99581 2.74461 3.017 2.7619 3.03988 2.77696C3.06275 2.79202 3.08672 2.80485 3.11238 2.81545C3.13749 2.82604 3.16369 2.83386 3.19047 2.83944C3.21727 2.84503 3.24516 2.8478 3.27193 2.8478C3.29924 2.8478 3.32713 2.84503 3.35391 2.83944C3.38068 2.83386 3.40691 2.82604 3.43199 2.81545C3.45765 2.80485 3.48164 2.79202 3.50452 2.77696C3.52737 2.7619 3.54859 2.74461 3.56809 2.72508C3.58707 2.70558 3.60491 2.68436 3.61997 2.66151C3.63503 2.63863 3.64786 2.61464 3.65846 2.58956C3.66905 2.5639 3.67687 2.53767 3.68245 2.5109C3.68804 2.48412 3.69027 2.45678 3.69027 2.42946C3.69027 2.40211 3.68804 2.37422 3.68245 2.34745C3.67687 2.32068 3.66905 2.29448 3.65846 2.26936C3.64786 2.24371 3.63503 2.21971 3.61997 2.19686C3.60491 2.17398 3.58707 2.1528 3.56809 2.13327C3.54859 2.11431 3.52737 2.09644 3.50452 2.08138C3.48164 2.06632 3.45765 2.05349 3.43199 2.0429C3.40691 2.03231 3.38068 2.02449 3.35391 2.01893C3.29982 2.00834 3.24458 2.00834 3.19046 2.01893C3.16369 2.02449 3.13749 2.0323 3.11237 2.0429C3.08672 2.05349 3.06275 2.06632 3.03987 2.08138C3.01699 2.09644 2.99581 2.11431 2.97628 2.13327C2.95732 2.1528 2.93945 2.17399 2.92442 2.19686C2.90936 2.21971 2.89653 2.24371 2.88591 2.26936C2.87532 2.29448 2.86752 2.32068 2.86194 2.34745C2.85636 2.37422 2.85413 2.40211 2.85413 2.42946C2.85413 2.45677 2.85636 2.48412 2.86194 2.5109C2.86752 2.53767 2.87532 2.5639 2.88591 2.58956Z","fill","url(#paint4_linear_1105_66)"],["d","M4.54931 2.58898C4.55934 2.61464 4.57217 2.63863 4.58723 2.66151C4.60286 2.68436 4.62015 2.70558 4.63968 2.72508C4.71719 2.80319 4.82541 2.8478 4.9353 2.8478C5.04517 2.8478 5.15341 2.80319 5.23092 2.72508C5.25045 2.70558 5.26775 2.68436 5.28335 2.66151C5.29841 2.63863 5.31124 2.61464 5.32186 2.58898C5.33188 2.5639 5.34025 2.53767 5.34528 2.5109C5.35087 2.48412 5.35364 2.45623 5.35364 2.42946C5.35364 2.40211 5.35087 2.37422 5.34528 2.34745C5.34025 2.32068 5.33188 2.29448 5.32186 2.26936C5.31124 2.24371 5.29841 2.21971 5.28335 2.19686C5.26774 2.17398 5.25045 2.1528 5.23092 2.13327C5.21197 2.11431 5.1902 2.09644 5.16736 2.08138C5.14502 2.06632 5.12049 2.05349 5.0954 2.0429C5.07029 2.03231 5.04352 2.02449 5.01729 2.01893C4.9632 2.00834 4.90742 2.00834 4.8533 2.01893C4.8271 2.02449 4.80033 2.0323 4.77522 2.0429C4.75013 2.05349 4.72557 2.06632 4.70326 2.08138C4.68041 2.09644 4.65865 2.11431 4.63969 2.13327C4.62017 2.1528 4.60287 2.17399 4.58724 2.19686C4.57218 2.21971 4.55935 2.24371 4.54933 2.26936C4.53873 2.29448 4.53034 2.32068 4.52533 2.34745C4.51975 2.37422 4.51697 2.40211 4.51697 2.42946C4.51697 2.45677 4.51975 2.48412 4.52533 2.5109C4.53033 2.53767 4.53872 2.5639 4.54931 2.58898Z","fill","url(#paint5_linear_1105_66)"],["d","M6.1786 2.58953C6.18919 2.61462 6.20202 2.63862 6.21708 2.66149C6.23268 2.68434 6.24998 2.70556 6.26896 2.72506C6.28846 2.74404 6.30968 2.76188 6.3331 2.77694C6.35541 2.792 6.37995 2.80483 6.40506 2.81542C6.43014 2.82602 6.45637 2.83384 6.48315 2.83942C6.51046 2.845 6.53781 2.84778 6.56513 2.84778C6.59247 2.84778 6.61982 2.845 6.64659 2.83942C6.67335 2.83384 6.70013 2.82602 6.72522 2.81542C6.75033 2.80483 6.77487 2.792 6.79717 2.77694C6.82005 2.76188 6.84181 2.74404 6.86077 2.72506C6.8803 2.70556 6.89759 2.68434 6.91265 2.66149C6.92769 2.63861 6.94109 2.61462 6.95114 2.58953C6.96173 2.56388 6.96952 2.53765 6.9751 2.51087C6.98069 2.4841 6.98347 2.45676 6.98347 2.42944C6.98347 2.40209 6.98069 2.3742 6.9751 2.34743C6.96952 2.32065 6.96175 2.29446 6.95115 2.26935C6.9411 2.24369 6.9277 2.2197 6.91266 2.19685C6.8976 2.17397 6.88031 2.15278 6.86078 2.13325C6.84183 2.1143 6.82006 2.09643 6.79718 2.08137C6.77488 2.06631 6.75034 2.05348 6.72523 2.04288C6.70015 2.03229 6.67337 2.02447 6.6466 2.01892C6.51104 1.99157 6.36658 2.03621 6.26897 2.13325C6.19143 2.21134 6.14679 2.319 6.14679 2.42945C6.14679 2.45676 6.1496 2.48411 6.15518 2.51089C6.16018 2.53765 6.16854 2.56388 6.1786 2.58953Z","fill","url(#paint6_linear_1105_66)"],["d","M10.4566 2.84744H18.905C19.136 2.84744 19.3233 2.66013 19.3233 2.42909C19.3233 2.19804 19.136 2.01074 18.905 2.01074H10.4566C10.2256 2.01074 10.0383 2.19804 10.0383 2.42909C10.0383 2.66013 10.2256 2.84744 10.4566 2.84744Z","fill","url(#paint7_linear_1105_66)"],["d","M22.7072 16.4826L16.3037 11.114C16.1906 11.0191 16.0309 11.0028 15.9009 11.0728C15.7708 11.1428 15.6966 11.285 15.7134 11.4317L16.6513 19.5963C16.6694 19.7538 16.7882 19.881 16.9441 19.9099C16.9661 19.914 16.9881 19.916 17.0099 19.916C17.1425 19.916 17.2668 19.8427 17.3297 19.722L18.8676 16.7739L22.4408 17.1183C22.5982 17.1335 22.7471 17.0444 22.8082 16.8986C22.8693 16.7528 22.8284 16.5841 22.7072 16.4826ZM18.6947 16.0322C18.5482 16.018 18.4082 16.0942 18.3402 16.2245L17.234 18.3451L16.5337 12.2486L21.3523 16.2883L18.6947 16.0322Z","fill","url(#paint8_linear_1105_66)"],["id","paint0_linear_1105_66","x1","6.3825","y1","6.85876","x2","6.3825","y2","9.92232","gradientUnits","userSpaceOnUse"],["stop-color","#08C1F3"],["offset","1","stop-color","#0075CA"],["id","paint1_linear_1105_66","x1","11.1021","y1","6.85876","x2","11.1021","y2","9.92232","gradientUnits","userSpaceOnUse"],["id","paint2_linear_1105_66","x1","15.8218","y1","6.85876","x2","15.8218","y2","9.92232","gradientUnits","userSpaceOnUse"],["id","paint3_linear_1105_66","x1","11.4952","y1","0.0705566","x2","11.4952","y2","16.71","gradientUnits","userSpaceOnUse"],["id","paint4_linear_1105_66","x1","3.2722","y1","2.01099","x2","3.2722","y2","2.8478","gradientUnits","userSpaceOnUse"],["id","paint5_linear_1105_66","x1","4.93531","y1","2.01099","x2","4.93531","y2","2.8478","gradientUnits","userSpaceOnUse"],["id","paint6_linear_1105_66","x1","6.56513","y1","2.01099","x2","6.56513","y2","2.84778","gradientUnits","userSpaceOnUse"],["id","paint7_linear_1105_66","x1","14.6808","y1","2.01074","x2","14.6808","y2","2.84744","gradientUnits","userSpaceOnUse"],["id","paint8_linear_1105_66","x1","19.2737","y1","11.0297","x2","19.2737","y2","19.916","gradientUnits","userSpaceOnUse"],["id","checkCircleIcon","viewBox","0 0 21 21","fill","none"],["cx","10.5","cy","10.5","r","10","fill","#00121D","stroke","#079AFF"],["d","M5 11.375L8.04347 14L15 8","stroke","white","stroke-width","1.5"],["id","arrowRightIconOne","viewBox","0 0 22 19","fill","none"],["d","M12.8879 0.646484L11.3975 2.17071L17.3589 8.26762H0.113403V10.4451H17.3589L11.3975 16.542L12.8879 18.0662L21.4042 9.35635L12.8879 0.646484Z","fill","var(--fill-color , #048BD7)"],["id","playIcon","viewBox","0 0 21 23","fill","none"],["d","M20.0767 11.4898L0.872542 22.5773L0.872543 0.402253L20.0767 11.4898Z","fill","white"],["id","circleMinusIcon","viewBox","0 0 21 21","fill","none"],["cx","10.5","cy","10.5","r","9.5","fill","#00121D","stroke","#079AFF","stroke-width","2"],["x1","5","y1","11.25","x2","16","y2","11.25","stroke","white","stroke-width","1.5"],["id","playBtnIcon","viewBox","0 0 69 70","fill","none"],["cx","34.6996","cy","35.1444","rx","33.8871","ry","34.8558","fill","black","fill-opacity","0.8"],["d","M44.583 35.1441L29.7574 43.9483L29.7574 26.3398L44.583 35.1441Z","fill","#D9D9D9"],["id","pauseBtnIcon","viewBox","0 0 14 20","fill","none"],["width","4","height","20","fill","white"],["x","10","width","4","height","20","fill","white"],["id","linkIcon","viewBox","0 0 13 13","fill","none"],["d","M7.33455 5.84264C7.21833 5.84264 7.10211 5.79838 7.01358 5.70962C6.30557 5.00162 5.15356 5.00139 4.44532 5.70962C4.26827 5.88691 3.98043 5.88691 3.80337 5.70962C3.62609 5.53234 3.62609 5.24496 3.80337 5.06767C4.8655 4.00532 6.59363 4.00555 7.65553 5.06767C7.83281 5.24496 7.83281 5.53234 7.65553 5.70962C7.567 5.79838 7.45055 5.84264 7.33455 5.84264Z","fill","var(--fill-color , #808080)"],["d","M7.01363 8.43253C6.31607 8.43253 5.6185 8.16695 5.08755 7.636C4.91027 7.45871 4.91027 7.17133 5.08755 6.99405C5.26461 6.81676 5.55245 6.81676 5.7295 6.99405C6.43751 7.70205 7.58952 7.70228 8.29776 6.99405C8.47482 6.81676 8.76265 6.81676 8.93971 6.99405C9.11699 7.17133 9.11699 7.45871 8.93971 7.636C8.40853 8.16695 7.71097 8.43253 7.01363 8.43253Z","fill","var(--fill-color , #808080)"],["d","M8.61849 7.76866C8.50227 7.76866 8.38604 7.7244 8.29751 7.63564C8.12023 7.45836 8.12023 7.17098 8.29751 6.99369L10.8335 4.45767C11.0106 4.28039 11.2984 4.28039 11.4755 4.45767C11.6528 4.63496 11.6528 4.92234 11.4755 5.09962L8.93946 7.63564C8.85094 7.7244 8.73471 7.76866 8.61849 7.76866Z","fill","var(--fill-color , #808080)"],["d","M4.79842 11.5887C4.6822 11.5887 4.56598 11.5445 4.47745 11.4557C4.30016 11.2784 4.30016 10.991 4.47745 10.8138L5.89505 9.39615C6.07211 9.21886 6.35994 9.21886 6.537 9.39615C6.71428 9.57343 6.71428 9.86081 6.537 10.0381L5.1194 11.4557C5.03087 11.5445 4.91464 11.5887 4.79842 11.5887Z","fill","var(--fill-color , #808080)"],["d","M1.58822 8.3783C1.47199 8.3783 1.35577 8.33403 1.26724 8.24528C1.08996 8.06799 1.08996 7.78061 1.26724 7.60333L3.80326 5.06753C3.98055 4.89025 4.26815 4.89025 4.44521 5.06753C4.6225 5.24482 4.6225 5.5322 4.44521 5.70948L1.90919 8.24528C1.82044 8.33381 1.70421 8.3783 1.58822 8.3783Z","fill","var(--fill-color , #808080)"],["d","M6.52669 3.44027C6.41047 3.44027 6.29447 3.396 6.20572 3.30747C6.02843 3.13019 6.02843 2.84281 6.20572 2.66529L7.62332 1.24747C7.80061 1.07018 8.08799 1.07018 8.2655 1.24747C8.44278 1.42475 8.44278 1.71213 8.2655 1.88964L6.84789 3.30747C6.75914 3.39577 6.64269 3.44027 6.52669 3.44027Z","fill","var(--fill-color , #808080)"],["d","M3.19335 12.2387C2.49125 12.2387 1.78914 11.9777 1.26727 11.4556C0.223083 10.4114 0.223083 8.64737 1.26727 7.60318C1.44433 7.42589 1.73217 7.42589 1.90922 7.60318C2.08651 7.78046 2.08651 8.06784 1.90922 8.24513C1.21325 8.9411 1.21325 10.1174 1.90922 10.8134C2.6052 11.5094 3.7815 11.5094 4.47748 10.8134C4.65454 10.6361 4.94237 10.6361 5.11943 10.8134C5.29671 10.9907 5.29671 11.278 5.11943 11.4553C4.59756 11.9777 3.89546 12.2387 3.19335 12.2387Z","fill","var(--fill-color , #808080)"],["d","M11.1544 5.23267C11.0382 5.23267 10.9219 5.18841 10.8334 5.09965C10.6561 4.92237 10.6561 4.63499 10.8334 4.4577C11.5294 3.76173 11.5294 2.58542 10.8334 1.88945C10.1374 1.19347 8.96112 1.19347 8.26515 1.88945C8.08809 2.06673 7.80026 2.06673 7.6232 1.88945C7.44591 1.71216 7.44591 1.42478 7.6232 1.2475C8.66739 0.203308 10.4314 0.203308 11.4756 1.2475C12.5198 2.29169 12.5198 4.05569 11.4756 5.09988C11.3868 5.18841 11.2706 5.23267 11.1544 5.23267Z","fill","var(--fill-color , #808080)"],["id","quoteLeft","viewBox","0 0 31 25","fill","none"],["d","M0.424805 24.3652V16.4763C0.424805 13.4393 0.90988 10.6245 1.88003 8.0319C2.9248 5.43931 4.67854 2.88375 7.14122 0.365234L11.5069 3.58746C9.8651 5.36523 8.67107 7.0319 7.92481 8.58746C7.17854 10.0689 6.73077 11.5504 6.58152 13.0319H11.8427V24.3652H0.424805ZM19.0069 24.3652V16.4763C19.0069 13.4393 19.492 10.6245 20.4621 8.0319C21.5069 5.43931 23.2606 2.88375 25.7233 0.365234L30.089 3.58746C28.4472 5.36523 27.2532 7.0319 26.5069 8.58746C25.7606 10.0689 25.3129 11.5504 25.1636 13.0319H30.4248V24.3652H19.0069Z","fill","#D9D9D9"],["id","quoteRight","viewBox","0 0 30 24","fill","none"],["d","M30 24V16.1111C30 13.0741 29.5149 10.2593 28.5448 7.66667C27.5 5.07407 25.7463 2.51852 23.2836 0L18.9179 3.22222C20.5597 5 21.7537 6.66667 22.5 8.22222C23.2463 9.7037 23.694 11.1852 23.8433 12.6667H18.5821V24H30ZM11.4179 24V16.1111C11.4179 13.0741 10.9328 10.2593 9.96269 7.66667C8.91791 5.07407 7.16418 2.51852 4.70149 0L0.335825 3.22222C1.97761 5 3.17164 6.66667 3.91791 8.22222C4.66418 9.7037 5.11194 11.1852 5.2612 12.6667H0V24H11.4179Z","fill","#D9D9D9"],["id","listCircleIcon","viewBox","0 0 12 11","fill","none"],["cx","5.99866","cy","5.48145","r","4.38586","fill","white","stroke","var(--stroke-color , #0063BE)","stroke-width","2"],["id","connectArrow","viewBox","0 0 15 15","fill","none"],["d","M0.213867 1.76562H14.0049V14.9297","stroke","#048BD7","stroke-width","2"],["d","M14.0048 1.76562L1.46753 14.3029","stroke","#048BD7","stroke-width","2"],["id","inquiryArrow","viewBox","0 0 13 13","fill","none"],["d","M0.273926 1H11.9405V12.1362","stroke","#048BD7","stroke-width","2"],["d","M11.9404 1L1.33447 11.6059","stroke","#048BD7","stroke-width","2"],["id","minusIcon","viewBox","0 0 12 2","fill","none"],["d","M0 1H6L12 1","stroke","var(--stroke-color , #0782F4)"],["id","plusIcon","viewBox","0 0 10 11","fill","none"],["d","M3.74 6.28009H0V4.70009H3.74V0.840088H5.34V4.70009H9.08V6.28009H5.34V10.1401H3.74V6.28009Z","fill","var(--fill-color , #0782F4)"],["id","circlePhoneIcon","viewBox","0 0 44 44","fill","none"],["cx","22","cy","22","r","21.5","stroke","#0066B0"],["d","M17.6623 12.1699C17.6992 12.1491 17.6896 12.1361 17.8191 12.1971C17.9487 12.2585 18.1545 12.4181 18.3566 12.6369C18.7598 13.0783 19.1646 13.7469 19.3753 14.1882C19.3819 14.2028 19.3899 14.2155 19.3977 14.2282C19.9921 15.2529 20.2481 16.0355 20.2562 16.5283C20.2646 17.0199 20.1335 17.2322 19.7157 17.4721L18.6352 18.0938C17.9322 18.4983 17.6006 19.2232 17.5182 19.8995C17.4351 20.5762 17.5588 21.2335 17.8597 21.7533L20.5221 26.3423C20.8249 26.8609 21.3364 27.296 21.9665 27.5632C22.5966 27.8307 23.3934 27.9063 24.0961 27.5022L25.1778 26.8835C25.5956 26.6436 25.8448 26.6368 26.2691 26.8897C26.6947 27.1426 27.2467 27.7532 27.8411 28.7773C27.8495 28.7921 27.8576 28.8048 27.8672 28.8194C28.1455 29.2205 28.5246 29.9036 28.7074 30.4723C28.7982 30.7556 28.8339 31.0116 28.8224 31.1551C28.8097 31.2971 28.8066 31.281 28.7691 31.3033L27.9493 31.7738C25.8882 32.6695 24 32.4681 22.3111 31.5903C20.6173 30.7122 19.1451 29.1222 18.1204 27.2573C18.1167 27.2539 18.1154 27.2489 18.112 27.2461L15.868 23.3771C15.8662 23.3722 15.8631 23.3691 15.8615 23.3638C14.7507 21.5488 14.0998 19.4852 14.1804 17.588C14.2616 15.6936 15.034 13.9654 16.8459 12.6363L17.6623 12.1699ZM18.3197 11.1408C17.9648 10.975 17.4757 10.9264 17.0756 11.157L16.208 11.6563C16.1882 11.6674 16.1705 11.6789 16.1529 11.6901C14.0638 13.2187 13.1018 15.3465 13.0082 17.5403C12.9136 19.7328 13.6463 21.9957 14.8557 23.9738L17.0889 27.8202C17.0901 27.8202 17.092 27.8202 17.092 27.8217L17.0951 27.8316C18.2124 29.8565 19.8142 31.6132 21.7672 32.628C23.7232 33.6431 26.0537 33.8783 28.4291 32.8425C28.4502 32.8344 28.4697 32.8248 28.4889 32.8149L29.3571 32.3159C29.7572 32.0853 29.9593 31.6427 29.9922 31.2543C30.0259 30.8644 29.9469 30.4894 29.827 30.1168C29.592 29.3807 29.1854 28.6694 28.8469 28.1775C28.2059 27.0791 27.5907 26.3141 26.8766 25.8889C26.1575 25.4606 25.2943 25.4668 24.5901 25.8712L23.5084 26.4914C23.1895 26.6749 22.8182 26.6554 22.428 26.4899C22.0362 26.3237 21.6754 25.9906 21.5394 25.7584L18.877 21.1694C18.7424 20.9375 18.6343 20.459 18.6845 20.0403C18.7359 19.6197 18.9042 19.2914 19.2232 19.1076L20.3018 18.4874C21.0063 18.0833 21.4451 17.3441 21.4318 16.5094C21.4172 15.6803 21.0596 14.7635 20.4195 13.6582C20.1604 13.1239 19.7463 12.4184 19.2263 11.8512C18.9625 11.5624 18.6742 11.3067 18.3197 11.1408Z","fill","url(#paint0_linear_3267_734)"],["id","paint0_linear_3267_734","x1","21.5","y1","11","x2","21.5","y2","33.5135","gradientUnits","userSpaceOnUse"],["stop-color","#045BDE"],["offset","1","stop-color","#00A3FF"],["id","circleMailIcon","viewBox","0 0 44 44","fill","none"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.4663 26.8664C11.4663 28.9105 13.172 30.5706 15.2663 30.5706H27.7336C29.8279 30.5706 31.5337 28.9104 31.5337 26.8664V19.1335C31.5337 18.4513 31.3421 17.8106 31.0095 17.2606L24.9262 23.1906C24.0161 24.0803 22.7973 24.5706 21.4987 24.5706C20.2027 24.5706 18.984 24.0803 18.0738 23.1906L11.9905 17.2606C11.6579 17.8106 11.4663 18.4513 11.4663 19.1335V26.8664H11.4663ZM15.2664 15.4293H27.7336C28.5985 15.4293 29.3969 15.7146 30.0355 16.1893L23.891 22.1815C23.255 22.7989 22.4061 23.1413 21.4987 23.1413C20.5939 23.1413 19.745 22.7989 19.109 22.1815L12.9645 16.1893C13.6031 15.7146 14.4014 15.4293 15.2664 15.4293ZM15.2664 14H27.7336C30.6369 14 33 16.3035 33 19.1336V26.8664C33 29.6991 30.6369 32 27.7336 32H15.2664C12.3631 32 10 29.6991 10 26.8664V19.1335C10 16.3035 12.3631 14 15.2664 14Z","fill","url(#paint0_linear_3267_740)"],["id","paint0_linear_3267_740","x1","21.5","y1","14","x2","21.5","y2","32","gradientUnits","userSpaceOnUse"],["stop-color","#044EBB"],["offset","1","stop-color","#07A6FF"],["id","circlePlayBtn","viewBox","0 0 64 64","fill","none"],["cx","32","cy","32","r","31.5","fill","#080808","fill-opacity","0.3","stroke","white"],["d","M41.3333 32L27.3333 40.0829L27.3333 23.9171L41.3333 32Z","fill","#D9D9D9"],["id","upIcon","viewBox","0 0 18 23","fill","none"],["d","M-6.20702e-07 8.8L1.575 10.34L7.875 4.17999L7.875 23L10.125 23L10.125 4.17999L16.425 10.34L18 8.79999L9 -3.93402e-07L-6.20702e-07 8.8Z","fill","#079AFF"],["id","colonIcon","viewBox","0 0 22 20","fill","none"],["d","M4.50165 10.1527C7.33333 9.61832 9.65677 11.2977 9.65677 14.8855C9.65677 18.1679 7.55115 20 4.93729 20C1.66997 20 0 17.2519 0 12.9771C0 7.40458 2.61386 1.0687 8.93069 0V4.35115C6.24422 4.8855 4.50165 7.25191 4.50165 10.1527ZM16.8449 10.1527C19.6766 9.61832 22 11.2977 22 14.8855C22 18.1679 19.8944 20 17.2805 20C14.0132 20 12.3432 17.2519 12.3432 12.9771C12.3432 7.40458 14.9571 1.0687 21.2739 0V4.35115C18.5875 4.8855 16.8449 7.25191 16.8449 10.1527Z","fill","#D4D4D4"],["id","volumeIcon","viewBox","0 0 26 26","fill","none"],["clip-path","url(#clip0_396_934)"],["d","M13.0012 0C5.82012 0 0.0012207 5.81983 0.0012207 12.9981C0.0012207 20.1792 5.82012 26 13.0012 26C20.1814 26 26.0003 20.1783 26.0003 12.9981C26.0003 5.81983 20.1805 0 13.0012 0ZM13.0012 24.6703C6.55376 24.6703 1.33088 19.4437 1.33088 12.9981C1.33088 6.55347 6.55376 1.32873 13.0012 1.32873C19.4459 1.32873 24.6688 6.55347 24.6688 12.9981C24.6678 19.4437 19.4459 24.6703 13.0012 24.6703Z","fill","#413939"],["d","M13.2434 7.22886L8.47221 10.4914H6V15.5392H8.47221L13.1409 18.7135C13.1409 18.7135 14 19.3715 14 18.6932C14 18.0117 14 7.86095 14 7.23939C14 6.70698 13.2434 7.22886 13.2434 7.22886Z","fill","white"],["d","M15.8087 9.18442C15.6233 8.93853 15.3232 8.93853 15.1391 9.18442C14.9536 9.42943 14.9536 9.82835 15.1391 10.0725C15.7487 10.8827 16.0515 11.9353 16.0515 12.9958C16.0515 14.0599 15.7487 15.1178 15.1391 15.9253C14.9536 16.1703 14.9536 16.5701 15.1391 16.816C15.2311 16.9416 15.3525 17 15.4759 17C15.5973 17 15.7167 16.9416 15.8087 16.816C16.6038 15.7626 17.0026 14.3756 17 12.9967C17.0033 11.6177 16.6031 10.2361 15.8087 9.18442Z","fill","white"],["d","M17.1572 8.16917C16.9484 8.39554 16.9484 8.76065 17.1572 8.98702C18.3274 10.2325 18.9144 11.8584 18.9144 13.4901C18.9144 15.1298 18.332 16.7615 17.1572 18.0126C16.9468 18.2398 16.9484 18.6041 17.1572 18.8304C17.2632 18.9432 17.405 19 17.543 19C17.6825 19 17.8197 18.9432 17.9264 18.8304C19.3086 17.3562 20.0015 15.4203 20 13.4901C20.0015 11.5655 19.3055 9.63773 17.9264 8.16917C17.7137 7.94361 17.3707 7.94361 17.1572 8.16917Z","fill","white"],["id","clip0_396_934"],["width","26","height","26","fill","white"],["id","muteIcon","viewBox","0 0 26 26","fill","none"],["d","M13 0C5.8189 0 0 5.81983 0 12.9981C0 20.1792 5.8189 26 13 26C20.1802 26 25.9991 20.1783 25.9991 12.9981C25.9991 5.81983 20.1792 0 13 0ZM13 24.6703C6.55254 24.6703 1.32966 19.4437 1.32966 12.9981C1.32966 6.55347 6.55254 1.32873 13 1.32873C19.4447 1.32873 24.6675 6.55347 24.6675 12.9981C24.6666 19.4437 19.4447 24.6703 13 24.6703Z","fill","#413939"],["d","M13.2422 7.22886L8.47099 10.4914H5.99878V15.5392H8.47099L13.1396 18.7135C13.1396 18.7135 13.9988 19.3715 13.9988 18.6932C13.9988 18.0117 13.9988 7.86095 13.9988 7.23939C13.9988 6.70698 13.2422 7.22886 13.2422 7.22886Z","fill","white"],["d","M18.206 13.5L19.8524 11.8535C20.0477 11.6583 20.0477 11.3417 19.8524 11.1465C19.6571 10.9512 19.3405 10.9512 19.1453 11.1465L17.4988 12.7929L15.8524 11.1465C15.6571 10.9512 15.3405 10.9512 15.1453 11.1465C14.95 11.3417 14.95 11.6583 15.1453 11.8535L16.7917 13.5L15.1453 15.1464C14.95 15.3417 14.95 15.6582 15.1453 15.8535C15.3405 16.0487 15.6571 16.0488 15.8524 15.8535L17.4988 14.207L19.1453 15.8535C19.3405 16.0487 19.6571 16.0488 19.8524 15.8535C20.0477 15.6582 20.0477 15.3416 19.8524 15.1464L18.206 13.5Z","fill","white"],["id","tabIcon","viewBox","0 0 21 21","fill","none"],["d","M10.5 21L1.40673 5.25L19.5933 5.25L10.5 21Z","fill","#1B2023"],["d","M10.5 13L5.73686 4.75L15.2631 4.75L10.5 13Z","fill","#06080F"],["id","accPlusIcon","viewBox","0 0 25 25","fill","none"],["x1","12.75","y1","3.27835e-08","x2","12.75","y2","25","stroke","#0782F4","stroke-width","1.5"],["x1","25","y1","12.1136","x2","-6.55671e-08","y2","12.1136","stroke","#0782F4","stroke-width","1.5"],["id","arrowCheckIcon","viewBox","0 0 32 28","fill","none"],["d","M7 14.5L11 18.5L20.5 9","stroke","#2382D9"],["d","M16.5939 0.499999C17.8301 0.499999 19.0118 1.00853 19.8617 1.90622L28.3824 10.9062C30.0254 12.6416 30.0254 15.3584 28.3824 17.0938L19.8617 26.0938C19.0118 26.9915 17.8301 27.5 16.5939 27.5L5 27.5C2.51472 27.5 0.500001 25.4853 0.500001 23L0.500002 5C0.500002 2.51472 2.51472 0.499999 5 0.499999L16.5939 0.499999Z","stroke","#2382D9"]],template:function(r,o){r&1&&(Z(),f(0,"svg",0)(1,"symbol",1),A(2,"path",2),y(),f(3,"symbol",3),A(4,"path",4),y(),f(5,"symbol",5),A(6,"path",6)(7,"path",7),y(),f(8,"symbol",8),A(9,"path",9)(10,"path",10),y(),f(11,"symbol",11),A(12,"path",12),y(),f(13,"symbol",13),A(14,"path",14),y(),f(15,"symbol",15),A(16,"path",16)(17,"path",17)(18,"path",18)(19,"path",19)(20,"path",20)(21,"path",21)(22,"path",22)(23,"path",23)(24,"path",24),f(25,"defs")(26,"linearGradient",25),A(27,"stop",26)(28,"stop",27),y(),f(29,"linearGradient",28),A(30,"stop",26)(31,"stop",27),y(),f(32,"linearGradient",29),A(33,"stop",26)(34,"stop",27),y(),f(35,"linearGradient",30),A(36,"stop",26)(37,"stop",27),y(),f(38,"linearGradient",31),A(39,"stop",26)(40,"stop",27),y(),f(41,"linearGradient",32),A(42,"stop",26)(43,"stop",27),y(),f(44,"linearGradient",33),A(45,"stop",26)(46,"stop",27),y(),f(47,"linearGradient",34),A(48,"stop",26)(49,"stop",27),y(),f(50,"linearGradient",35),A(51,"stop",26)(52,"stop",27),y()()(),f(53,"symbol",36),A(54,"circle",37)(55,"path",38),y(),f(56,"symbol",39),A(57,"path",40),y(),f(58,"symbol",41),A(59,"path",42),y(),f(60,"symbol",43),A(61,"circle",44)(62,"line",45),y(),f(63,"symbol",46),A(64,"ellipse",47)(65,"path",48),y(),f(66,"symbol",49),A(67,"rect",50)(68,"rect",51),y(),f(69,"symbol",52),A(70,"path",53)(71,"path",54)(72,"path",55)(73,"path",56)(74,"path",57)(75,"path",58)(76,"path",59)(77,"path",60),y(),f(78,"symbol",61),A(79,"path",62),y(),f(80,"symbol",63),A(81,"path",64),y(),f(82,"symbol",65),A(83,"circle",66),y(),f(84,"symbol",67),A(85,"path",68)(86,"path",69),y(),f(87,"symbol",70),A(88,"path",71)(89,"path",72),y(),f(90,"symbol",73),A(91,"path",74),y(),f(92,"symbol",75),A(93,"path",76),y(),f(94,"symbol",77),A(95,"circle",78)(96,"path",79),f(97,"defs")(98,"linearGradient",80),A(99,"stop",81)(100,"stop",82),y()()(),f(101,"symbol",83),A(102,"circle",78)(103,"path",84),f(104,"defs")(105,"linearGradient",85),A(106,"stop",86)(107,"stop",87),y()()(),f(108,"symbol",88),A(109,"circle",89)(110,"path",90),y(),f(111,"symbol",91),A(112,"path",92),y(),f(113,"symbol",93),A(114,"path",94),y(),f(115,"symbol",95)(116,"g",96),A(117,"path",97)(118,"path",98)(119,"path",99)(120,"path",100),y(),f(121,"defs")(122,"clipPath",101),A(123,"rect",102),y()()(),f(124,"symbol",103),A(125,"path",104)(126,"path",105)(127,"path",106),y(),f(128,"symbol",107),A(129,"path",108)(130,"path",109),y(),f(131,"symbol",110),A(132,"line",111)(133,"line",112),y(),f(134,"symbol",113),A(135,"path",114)(136,"path",115),y()())},encapsulation:2});let e=t;return e})();var DEe=["footerContentAnimation"];en.registerPlugin(Gt);var UG=(()=>{let t=class t{ngAfterViewInit(){this.playTopRightItemAnimation()}playTopRightItemAnimation(){let i=this.footerContentAnimation.nativeElement;en.timeline({scrollTrigger:{trigger:i,start:"top center",end:"bottom center",toggleActions:"play none none none"},defaults:{duration:.2}}).from(i.querySelectorAll(".main-links a"),{stagger:.1}).from(i.querySelectorAll(" .footer-links"),{opacity:0,stagger:.1})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=mt({type:t,selectors:[["app-footer"]],viewQuery:function(r,o){if(r&1&&dn(DEe,7),r&2){let a;Kt(a=Jt())&&(o.footerContentAnimation=a.first)}},standalone:!0,features:[gt],decls:166,vars:0,consts:[["footerContentAnimation",""],[1,"main-footer"],[1,"footer-top"],[1,"app-container"],[1,"footer-top-content"],[1,"footer-links","main-links"],["href",""],[1,"footer-links"],[1,"footer-link-title"],[1,"footer-bottom"],[1,"footer-bottom-content"],[1,"footer-bottom-menu"],[1,"footer-bottom-menu-identity"],[1,"menu-left-item"],[1,"footer-bottom-menu-widget"],[1,"menu-right-item"],[1,"d-flex","align-items-center"],[1,"active"],[1,"animated-border"],[1,"copyright"]],template:function(r,o){r&1&&(f(0,"footer",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li")(7,"a",6),w(8," ABout "),y()(),f(9,"li")(10,"a",6),w(11," Services "),y()(),f(12,"li")(13,"a",6),w(14," News & Blog "),y()(),f(15,"li")(16,"a",6),w(17," Contact "),y()()(),f(18,"div",7)(19,"h6",8),w(20," Cybersecurity "),y(),f(21,"ul")(22,"li")(23,"a",6),w(24," Cybersecurity Consulting "),y()(),f(25,"li")(26,"a",6),w(27," Penetration Testing "),y()(),f(28,"li")(29,"a",6),w(30," Risk Assessment "),y()(),f(31,"li")(32,"a",6),w(33," Vulnerability Scanning "),y()(),f(34,"li")(35,"a",6),w(36," Systems Hardening "),y()(),f(37,"li")(38,"a",6),w(39," Incident Response "),y()(),f(40,"li")(41,"a",6),w(42," Managed Security "),y()()()(),f(43,"div",7)(44,"h6",8),w(45," Development "),y(),f(46,"ul")(47,"li")(48,"a",6),w(49," Custom CMS Systems "),y()(),f(50,"li")(51,"a",6),w(52," E-Commerce "),y()(),f(53,"li")(54,"a",6),w(55," Corporate Websites "),y()(),f(56,"li")(57,"a",6),w(58," Custom Software "),y()(),f(59,"li")(60,"a",6),w(61," Mobile Apps & Games "),y()(),f(62,"li")(63,"a",6),w(64," Outsourced Development "),y()()()(),f(65,"div",7)(66,"h6",8),w(67," Digital Marketing "),y(),f(68,"ul")(69,"li")(70,"a",6),w(71," Video Production "),y()(),f(72,"li")(73,"a",6),w(74," 3D Animation "),y()(),f(75,"li")(76,"a",6),w(77," Virtual Reality "),y()(),f(78,"li")(79,"a",6),w(80," SEO Campaigns "),y()(),f(81,"li")(82,"a",6),w(83," Marketing Materials "),y()()()(),f(84,"div",7)(85,"h6",8),w(86," TOOLS "),y(),f(87,"ul")(88,"li")(89,"a",6),w(90," China Website Accessibility "),y()(),f(91,"li")(92,"a",6),w(93," WHOIS / Domain Name Info "),y()(),f(94,"li")(95,"a",6),w(96," Secure Password Sharer "),y()(),f(97,"li")(98,"a",6),w(99," SSL Status "),y()(),f(100,"li")(101,"a",6),w(102," SPF / DKIM / DMARC "),y()(),f(103,"li")(104,"a",6),w(105," Blacklist URL List Check "),y()(),f(106,"li")(107,"a",6),w(108," Hosted by & Built With Check "),y()(),f(109,"li")(110,"a",6),w(111," Whats My IP / Reverse IP "),y()()()()()()(),f(112,"div",9)(113,"div",3)(114,"div",10)(115,"div",11)(116,"div",12)(117,"p")(118,"span"),w(119,"SEIRIM"),y(),w(120," / Business Documentaries Ltd."),y(),f(121,"div",13)(122,"span"),w(123,"Elsewhere on the web:"),y(),f(124,"ul")(125,"li")(126,"a",6),w(127,"Mastodon"),y()(),f(128,"li")(129,"a",6),w(130,"Matrix"),y()(),f(131,"li")(132,"a",6),w(133,"Lemmy"),y()(),f(134,"li")(135,"a",6),w(136,"Cyber.Report"),y()()()()(),f(137,"div",14)(138,"p"),w(139,"Live Chat: Online \u2014 "),f(140,"a",6),w(141,"click here"),y()(),f(142,"div",15)(143,"ul")(144,"li")(145,"span"),w(146,"Language:"),y(),f(147,"div",16)(148,"button",17),w(149,"English /"),y(),f(150,"button"),w(151," \u4E2D\u6587"),y()()()()()()(),A(152,"div",18),f(153,"div",19)(154,"span"),w(155," Copyright 2023 Business Documentaries Ltd."),y(),f(156,"ul")(157,"li")(158,"a",6),w(159," Privacy Policy"),y()(),f(160,"li")(161,"a",6),w(162,"Terms & Conditions"),y()(),f(163,"li")(164,"a",6),w(165,"Sitemap"),y()()()()()()()())},styles:["footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .2s ease-in-out}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--tech-blue-2)!important}footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]{background:var(--bg-3)}footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-top-content[_ngcontent-%COMP%]{display:grid;grid:auto/repeat(5,1fr);row-gap:1.5rem;padding:7rem 0 4rem}footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-top-content[_ngcontent-%COMP%]   .footer-link-title[_ngcontent-%COMP%]{color:var(--tech-blue-3);font-size:17px;font-weight:400;line-height:36px;letter-spacing:2.04px;text-transform:uppercase}footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-top-content[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#9badc7;font-size:15px;font-weight:400;line-height:36px;letter-spacing:.75px;transition:all .2s ease-in-out}footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-top-content[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--tech-blue-3)}footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-top-content[_ngcontent-%COMP%]   .main-links[_ngcontent-%COMP%]{display:flex;flex-direction:column}footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-top-content[_ngcontent-%COMP%]   .main-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1.2rem}footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-top-content[_ngcontent-%COMP%]   .main-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--tech-blue-3);letter-spacing:1.8px;text-transform:uppercase}@media screen and (max-width: 1200px){footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-top-content[_ngcontent-%COMP%]{grid:auto/repeat(3,1fr)}}@media screen and (max-width: 767px){footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-top-content[_ngcontent-%COMP%]{grid:auto/repeat(2,1fr)}}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]{padding-bottom:1rem;background:var(--bg-3)}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-identity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gray-3);font-size:15px;font-weight:400;letter-spacing:1.8px;text-transform:uppercase}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-identity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#5d6269}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-identity[_ngcontent-%COMP%]   .menu-left-item[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-identity[_ngcontent-%COMP%]   .menu-left-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gray-3);font-size:15px;font-weight:400;letter-spacing:1.8px;text-transform:uppercase;margin-bottom:.75rem}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-identity[_ngcontent-%COMP%]   .menu-left-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;line-height:100%}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-identity[_ngcontent-%COMP%]   .menu-left-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 1rem;border-left:1px solid var(--gray-6);margin-bottom:.75rem}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-identity[_ngcontent-%COMP%]   .menu-left-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-left:none}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-identity[_ngcontent-%COMP%]   .menu-left-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--tech-blue-3);font-size:15px;font-weight:400;letter-spacing:1.8px;text-transform:uppercase}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-widget[_ngcontent-%COMP%]{margin-bottom:1.2rem}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-widget[_ngcontent-%COMP%]   .menu-right-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center;line-height:100%}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-widget[_ngcontent-%COMP%]   .menu-right-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{width:1px;height:1rem;background:var(--gray-6);border:none;margin:0 1rem}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-widget[_ngcontent-%COMP%]   .menu-right-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-widget[_ngcontent-%COMP%]   .menu-right-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gray-6);font-size:14.17px;font-weight:400;line-height:25px;text-transform:uppercase}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-widget[_ngcontent-%COMP%]   .menu-right-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;background:none;border:none;color:var(--gray-6);font-size:14.17px;font-weight:400;letter-spacing:1.7px;margin:0 0 0 6px;text-transform:uppercase}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-widget[_ngcontent-%COMP%]   .menu-right-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:var(--tech-blue-2)}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-widget[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gray-6);font-size:14.17px;font-weight:400;line-height:25px;text-transform:uppercase}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-widget[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--gray-6)}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{margin-top:1rem;display:flex;align-items:center;flex-wrap:wrap;color:var(--gray-3);font-size:12px;font-weight:400;letter-spacing:1.44px;text-transform:uppercase;line-height:100%}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:.5rem}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:.75rem;margin-bottom:.5rem}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 1rem;border-left:1px solid var(--gray-6)}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--gray-6)}@media screen and (min-width: 767px){footer[_ngcontent-%COMP%]   .animated-border[_ngcontent-%COMP%]{margin:0}}@media screen and (max-width: 767px){footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]{background:var(--bg-3)}footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-top-content[_ngcontent-%COMP%]{padding:4rem 0 3rem!important}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]{background:#0e1222;padding-top:49px}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px!important}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-content[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]{text-align:center}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-content[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .menu-left-item[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-content[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .menu-left-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{justify-content:center}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-content[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-widget[_ngcontent-%COMP%]{margin:auto}footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .footer-bottom-content[_ngcontent-%COMP%]   .footer-bottom-menu[_ngcontent-%COMP%]   .footer-bottom-menu-widget[_ngcontent-%COMP%]   .menu-right-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap}footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{justify-content:center}footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px!important}footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-wrap:wrap;margin-top:.75rem;justify-content:center}footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.75rem}footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-left:none!important}}"]});let e=t;return e})();function jG(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function AEe(e,t,n){return t&&jG(e.prototype,t),n&&jG(e,n),e}var Un,Tw,eo,fp,pg,el,TEe,mp,HG,on,ec,Iw,GG,WG,qG,YG,XG=function(){return typeof window<"u"},QG=function(){return Un||XG()&&(Un=window.gsap)&&Un.registerPlugin&&Un};var IEe=function(t){return Math.round(t*1e5)/1e5||0},fu=function(t){return on.maxScroll(t||eo)},REe=function(t,n){var i=t.parentNode||pg,r=t.getBoundingClientRect(),o=i.getBoundingClientRect(),a=o.top-r.top,s=o.bottom-r.bottom,l=(Math.abs(a)>Math.abs(s)?a:s)/(1-n),c=-l*n,d,u;return l>0&&(d=o.height/(eo.innerHeight+o.height),u=d===.5?o.height*2:Math.min(o.height,Math.abs(-l*d/(2*d-1)))*2*(n||1),c+=n?-u*n:-u/2,l+=u),{change:l,offset:c}},LEe=function(t){var n=fp.querySelector(".ScrollSmoother-wrapper");return n||(n=fp.createElement("div"),n.classList.add("ScrollSmoother-wrapper"),t.parentNode.insertBefore(n,t),n.appendChild(t)),n},gu=function(){function e(t){var n=this;Tw||e.register(Un)||console.warn("Please gsap.registerPlugin(ScrollSmoother)"),t=this.vars=t||{},ec&&ec.kill(),ec=this,qG(this);var i=t,r=i.smoothTouch,o=i.onUpdate,a=i.onStop,s=i.smooth,l=i.onFocusIn,c=i.normalizeScroll,d=i.wholePixels,u,h,p,m,g,v,b,_,C,M,P,x,E,O,S=this,D=t.effectsPrefix||"",I=on.getScrollFunc(eo),T=on.isTouch===1?r===!0?.8:parseFloat(r)||0:s===0||s===!1?0:parseFloat(s)||.8,R=T&&+t.speed||1,k=0,z=0,W=1,N=GG(0),F=function(){return N.update(-k)},X={y:0},V=function(){return u.style.overflow="visible"},G,Y=function(ce){ce.update();var Pe=ce.getTween();Pe&&(Pe.pause(),Pe._time=Pe._dur,Pe._tTime=Pe._tDur),G=!1,ce.animation.progress(ce.progress,!0)},ie=function(ce,Pe){(ce!==k&&!M||Pe)&&(d&&(ce=Math.round(ce)),T&&(u.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+ce+", 0, 1)",u._gsap.y=ce+"px"),z=ce-k,k=ce,on.isUpdating||e.isRefreshing||on.update())},te=function(ce){return arguments.length?(ce<0&&(ce=0),X.y=-ce,G=!0,M?k=-ce:ie(-ce),on.isRefreshing?m.update():I(ce/R),this):-k},ne=typeof ResizeObserver<"u"&&t.autoResize!==!1&&new ResizeObserver(function(){if(!on.isRefreshing){var fe=fu(h)*R;fe<-k&&te(fe),YG.restart(!0)}}),re,ye=function(ce){h.scrollTop=0,!(ce.target.contains&&ce.target.contains(h)||l&&l(n,ce)===!1)&&(on.isInViewport(ce.target)||ce.target===re||n.scrollTo(ce.target,!1,"center center"),re=ce.target)},he=function(ce,Pe){if(ce<Pe.start)return ce;var Q=isNaN(Pe.ratio)?1:Pe.ratio,H=Pe.end-Pe.start,ue=ce-Pe.start,Te=Pe.offset||0,j=Pe.pins||[],_e=j.offset||0,qe=Pe._startClamp&&Pe.start<=0||Pe.pins&&Pe.pins.offset?0:Pe._endClamp&&Pe.end===fu()?1:.5;return j.forEach(function(Ne){H-=Ne.distance,Ne.nativeStart<=ce&&(ue-=Ne.distance)}),_e&&(ue*=(H-_e/Q)/H),ce+(ue-Te*qe)/Q-ue},Me=function fe(ce,Pe,Q){Q||(ce.pins.length=ce.pins.offset=0);var H=ce.pins,ue=ce.markers,Te,j,_e,qe,Ne,we,je,Re;for(je=0;je<Pe.length;je++)if(Re=Pe[je],ce.trigger&&Re.trigger&&ce!==Re&&(Re.trigger===ce.trigger||Re.pinnedContainer===ce.trigger||ce.trigger.contains(Re.trigger))&&(Ne=Re._startNative||Re._startClamp||Re.start,we=Re._endNative||Re._endClamp||Re.end,_e=he(Ne,ce),qe=Re.pin&&we>0?_e+(we-Ne):he(we,ce),Re.setPositions(_e,qe,!0,(Re._startClamp?Math.max(0,_e):_e)-Ne),Re.markerStart&&ue.push(Un.quickSetter([Re.markerStart,Re.markerEnd],"y","px")),Re.pin&&Re.end>0&&!Q)){if(Te=Re.end-Re.start,j=ce._startClamp&&Re.start<0,j){if(ce.start>0){ce.setPositions(0,ce.end+(ce._startNative-ce.start),!0),fe(ce,Pe);return}Te+=Re.start,H.offset=-Re.start}H.push({start:Re.start,nativeStart:Ne,end:Re.end,distance:Te,trig:Re}),ce.setPositions(ce.start,ce.end+(j?-Re.start:Te),!0)}},pe=function(ce,Pe){g.forEach(function(Q){return Me(Q,ce,Pe)})},Ae=function(){V(),requestAnimationFrame(V),g&&(on.getAll().forEach(function(ce){ce._startNative=ce.start,ce._endNative=ce.end}),g.forEach(function(ce){var Pe=ce._startClamp||ce.start,Q=ce.autoSpeed?Math.min(fu(),ce.end):Pe+Math.abs((ce.end-Pe)/ce.ratio),H=Q-ce.end;if(Pe-=H/2,Q-=H/2,Pe>Q){var ue=Pe;Pe=Q,Q=ue}ce._startClamp&&Pe<0?(Q=ce.ratio<0?fu():ce.end/ce.ratio,H=Q-ce.end,Pe=0):(ce.ratio<0||ce._endClamp&&Q>=fu())&&(Q=fu(),Pe=ce.ratio<0||ce.ratio>1?0:Q-(Q-ce.start)/ce.ratio,H=(Q-Pe)*ce.ratio-(ce.end-ce.start)),ce.offset=H||1e-4,ce.pins.length=ce.pins.offset=0,ce.setPositions(Pe,Q,!0)}),pe(on.sort())),N.reset()},xe=function(){return on.addEventListener("refresh",Ae)},be=function(){return g&&g.forEach(function(ce){return ce.vars.onRefresh(ce)})},Ve=function(){return g&&g.forEach(function(ce){return ce.vars.onRefreshInit(ce)}),be},He=function(ce,Pe,Q,H){return function(){var ue=typeof Pe=="function"?Pe(Q,H):Pe;ue||ue===0||(ue=H.getAttribute("data-"+D+ce)||(ce==="speed"?1:0)),H.setAttribute("data-"+D+ce,ue);var Te=(ue+"").substr(0,6)==="clamp(";return{clamp:Te,value:Te?ue.substr(6,ue.length-7):ue}}},Ge=function(ce,Pe,Q,H,ue){ue=(typeof ue=="function"?ue(H,ce):ue)||0;var Te=He("speed",Pe,H,ce),j=He("lag",Q,H,ce),_e=Un.getProperty(ce,"y"),qe=ce._gsap,Ne,we,je,Re,$e,lt,at=[],Bt=function(){Pe=Te(),Q=parseFloat(j().value),Ne=parseFloat(Pe.value)||1,je=Pe.value==="auto",$e=je||we&&we._startClamp&&we.start<=0||at.offset?0:we&&we._endClamp&&we.end===fu()?1:.5,Re&&Re.kill(),Re=Q&&Un.to(ce,{ease:Iw,overwrite:!1,y:"+=0",duration:Q}),we&&(we.ratio=Ne,we.autoSpeed=je)},Qt=function(){qe.y=_e+"px",qe.renderTransform(1),Bt()},At=[],ae=0,De=function(Fe){if(je){Qt();var Qe=REe(ce,HG(0,1,-Fe.start/(Fe.end-Fe.start)));ae=Qe.change,lt=Qe.offset}else lt=at.offset||0,ae=(Fe.end-Fe.start-lt)*(1-Ne);at.forEach(function(st){return ae-=st.distance*(1-Ne)}),Fe.offset=ae||.001,Fe.vars.onUpdate(Fe),Re&&Re.progress(1)};return Bt(),(Ne!==1||je||Re)&&(we=on.create({trigger:je?ce.parentNode:ce,start:function(){return Pe.clamp?"clamp(top bottom+="+ue+")":"top bottom+="+ue},end:function(){return Pe.value<0?"max":Pe.clamp?"clamp(bottom top-="+ue+")":"bottom top-="+ue},scroller:h,scrub:!0,refreshPriority:-999,onRefreshInit:Qt,onRefresh:De,onKill:function(Fe){var Qe=g.indexOf(Fe);Qe>=0&&g.splice(Qe,1),Qt()},onUpdate:function(Fe){var Qe=_e+ae*(Fe.progress-$e),st=at.length,gn=0,sn,Pi,tt;if(Fe.offset){if(st){for(Pi=-k,tt=Fe.end;st--;){if(sn=at[st],sn.trig.isActive||Pi>=sn.start&&Pi<=sn.end){Re&&(sn.trig.progress+=sn.trig.direction<0?.001:-.001,sn.trig.update(0,0,1),Re.resetTo("y",parseFloat(qe.y),-z,!0),W&&Re.progress(1));return}Pi>sn.end&&(gn+=sn.distance),tt-=sn.distance}Qe=_e+gn+ae*((Un.utils.clamp(Fe.start,Fe.end,Pi)-Fe.start-gn)/(tt-Fe.start)-$e)}At.length&&!je&&At.forEach(function(ct){return ct(Qe-gn)}),Qe=IEe(Qe+lt),Re?(Re.resetTo("y",Qe,-z,!0),W&&Re.progress(1)):(qe.y=Qe+"px",qe.renderTransform(1))}}}),De(we),Un.core.getCache(we.trigger).stRevert=Ve,we.startY=_e,we.pins=at,we.markers=At,we.ratio=Ne,we.autoSpeed=je,ce.style.willChange="transform"),we};xe(),on.addEventListener("killAll",xe),Un.delayedCall(.5,function(){return W=0}),this.scrollTop=te,this.scrollTo=function(fe,ce,Pe){var Q=Un.utils.clamp(0,fu(),isNaN(fe)?n.offset(fe,Pe,!!ce&&!M):+fe);ce?M?Un.to(n,{duration:T,scrollTop:Q,overwrite:"auto",ease:Iw}):I(Q):te(Q)},this.offset=function(fe,ce,Pe){fe=mp(fe)[0];var Q=fe.style.cssText,H=on.create({trigger:fe,start:ce||"top top"}),ue;return g&&(W?on.refresh():pe([H],!0)),ue=H.start/(Pe?R:1),H.kill(!1),fe.style.cssText=Q,Un.core.getCache(fe).uncache=1,ue};function de(){return p=u.clientHeight,u.style.overflow="visible",el.style.height=eo.innerHeight+(p-eo.innerHeight)/R+"px",p-eo.innerHeight}this.content=function(fe){if(arguments.length){var ce=mp(fe||"#smooth-content")[0]||console.warn("ScrollSmoother needs a valid content element.")||el.children[0];return ce!==u&&(u=ce,C=u.getAttribute("style")||"",ne&&ne.observe(u),Un.set(u,{overflow:"visible",width:"100%",boxSizing:"border-box",y:"+=0"}),T||Un.set(u,{clearProps:"transform"})),this}return u},this.wrapper=function(fe){return arguments.length?(h=mp(fe||"#smooth-wrapper")[0]||LEe(u),_=h.getAttribute("style")||"",de(),Un.set(h,T?{overflow:"hidden",position:"fixed",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0}:{overflow:"visible",position:"relative",width:"100%",height:"auto",top:"auto",bottom:"auto",left:"auto",right:"auto"}),this):h},this.effects=function(fe,ce){var Pe;if(g||(g=[]),!fe)return g.slice(0);fe=mp(fe),fe.forEach(function(Ne){for(var we=g.length;we--;)g[we].trigger===Ne&&g[we].kill()}),ce=ce||{};var Q=ce,H=Q.speed,ue=Q.lag,Te=Q.effectsPadding,j=[],_e,qe;for(_e=0;_e<fe.length;_e++)qe=Ge(fe[_e],H,ue,_e,Te),qe&&j.push(qe);return(Pe=g).push.apply(Pe,j),ce.refresh!==!1&&on.refresh(),j},this.sections=function(fe,ce){var Pe;if(v||(v=[]),!fe)return v.slice(0);var Q=mp(fe).map(function(H){return on.create({trigger:H,start:"top 120%",end:"bottom -20%",onToggle:function(Te){H.style.opacity=Te.isActive?"1":"0",H.style.pointerEvents=Te.isActive?"all":"none"}})});return ce&&ce.add?(Pe=v).push.apply(Pe,Q):v=Q.slice(0),Q},this.content(t.content),this.wrapper(t.wrapper),this.render=function(fe){return ie(fe||fe===0?fe:k)},this.getVelocity=function(){return N.getVelocity(-k)},on.scrollerProxy(h,{scrollTop:te,scrollHeight:function(){return de()&&el.scrollHeight},fixedMarkers:t.fixedMarkers!==!1&&!!T,content:u,getBoundingClientRect:function(){return{top:0,left:0,width:eo.innerWidth,height:eo.innerHeight}}}),on.defaults({scroller:h});var Ue=on.getAll().filter(function(fe){return fe.scroller===eo||fe.scroller===h});Ue.forEach(function(fe){return fe.revert(!0,!0)}),m=on.create({animation:Un.fromTo(X,{y:function(){return O=0,0}},{y:function(){return O=1,-de()},immediateRender:!1,ease:"none",data:"ScrollSmoother",duration:100,onUpdate:function(){if(O){var ce=G;ce&&(Y(m),X.y=k),ie(X.y,ce),F(),o&&!M&&o(S)}}}),onRefreshInit:function(ce){if(!e.isRefreshing){if(e.isRefreshing=!0,g){var Pe=on.getAll().filter(function(H){return!!H.pin});g.forEach(function(H){H.vars.pinnedContainer||Pe.forEach(function(ue){if(ue.pin.contains(H.trigger)){var Te=H.vars;Te.pinnedContainer=ue.pin,H.vars=null,H.init(Te,H.animation)}})})}var Q=ce.getTween();E=Q&&Q._end>Q._dp._time,x=k,X.y=0,T&&(on.isTouch===1&&(h.style.position="absolute"),h.scrollTop=0,on.isTouch===1&&(h.style.position="fixed"))}},onRefresh:function(ce){ce.animation.invalidate(),ce.setPositions(ce.start,de()/R),E||Y(ce),X.y=-I()*R,ie(X.y),W||(E&&(G=!1),ce.animation.progress(Un.utils.clamp(0,1,x/R/-ce.end))),E&&(ce.progress-=.001,ce.update()),e.isRefreshing=!1},id:"ScrollSmoother",scroller:eo,invalidateOnRefresh:!0,start:0,refreshPriority:-9999,end:function(){return de()/R},onScrubComplete:function(){N.reset(),a&&a(n)},scrub:T||!0}),this.smooth=function(fe){return arguments.length&&(T=fe||0,R=T&&+t.speed||1,m.scrubDuration(fe)),m.getTween()?m.getTween().duration():0},m.getTween()&&(m.getTween().vars.ease=t.ease||Iw),this.scrollTrigger=m,t.effects&&this.effects(t.effects===!0?"[data-"+D+"speed], [data-"+D+"lag]":t.effects,{effectsPadding:t.effectsPadding,refresh:!1}),t.sections&&this.sections(t.sections===!0?"[data-section]":t.sections),Ue.forEach(function(fe){fe.vars.scroller=h,fe.revert(!1,!0),fe.init(fe.vars,fe.animation)}),this.paused=function(fe,ce){return arguments.length?(!!M!==fe&&(fe?(m.getTween()&&m.getTween().pause(),I(-k/R),N.reset(),P=on.normalizeScroll(),P&&P.disable(),M=on.observe({preventDefault:!0,type:"wheel,touch,scroll",debounce:!1,allowClicks:!0,onChangeY:function(){return te(-k)}}),M.nested=WG(pg,"wheel,touch,scroll",!0,ce!==!1)):(M.nested.kill(),M.kill(),M=0,P&&P.enable(),m.progress=(-k/R-m.start)/(m.end-m.start),Y(m))),this):!!M},this.kill=this.revert=function(){n.paused(!1),Y(m),m.kill();for(var fe=(g||[]).concat(v||[]),ce=fe.length;ce--;)fe[ce].kill();on.scrollerProxy(h),on.removeEventListener("killAll",xe),on.removeEventListener("refresh",Ae),h.style.cssText=_,u.style.cssText=C;var Pe=on.defaults({});Pe&&Pe.scroller===h&&on.defaults({scroller:eo}),n.normalizer&&on.normalizeScroll(!1),clearInterval(b),ec=null,ne&&ne.disconnect(),el.style.removeProperty("height"),eo.removeEventListener("focusin",ye)},this.refresh=function(fe,ce){return m.refresh(fe,ce)},c&&(this.normalizer=on.normalizeScroll(c===!0?{debounce:!0,content:!T&&u}:c)),on.config(t),"overscrollBehavior"in eo.getComputedStyle(el)&&Un.set([el,pg],{overscrollBehavior:"none"}),"scrollBehavior"in eo.getComputedStyle(el)&&Un.set([el,pg],{scrollBehavior:"auto"}),eo.addEventListener("focusin",ye),b=setInterval(F,250),fp.readyState==="loading"||requestAnimationFrame(function(){return on.refresh()})}return e.register=function(n){return Tw||(Un=n||QG(),XG()&&window.document&&(eo=window,fp=document,pg=fp.documentElement,el=fp.body),Un&&(mp=Un.utils.toArray,HG=Un.utils.clamp,Iw=Un.parseEase("expo"),qG=Un.core.context||function(){},on=Un.core.globals().ScrollTrigger,Un.core.globals("ScrollSmoother",e),el&&on&&(YG=Un.delayedCall(.2,function(){return on.isRefreshing||ec&&ec.refresh()}).pause(),TEe=[eo,fp,pg,el],GG=on.core._getVelocityProp,WG=on.core._inputObserver,e.refresh=on.refresh,Tw=1))),Tw},AEe(e,[{key:"progress",get:function(){return this.scrollTrigger?this.scrollTrigger.animation._time/100:0}}]),e}();gu.version="3.12.5";gu.create=function(e){return ec&&e&&ec.content()===mp(e.content)[0]?ec:new gu(e)};gu.get=function(){return ec};QG()&&Un.registerPlugin(gu);var ZG=(()=>{let t=class t{constructor(i){this.router=i,this.loading=!1,this.loadingDelayInMs=3e3,this.router.events.subscribe(r=>{r instanceof qu&&(this.loading=!0),(r instanceof Qa||r instanceof hl||r instanceof Xu)&&setTimeout(()=>{this.loading=!1},this.loadingDelayInMs)})}ngOnInit(){this.router.events.pipe(ya(i=>i instanceof Qa)).subscribe(()=>{window.scrollTo(0,0)}),en.registerPlugin(gu)}setupScrollSmoother(){let i=gu.create({smooth:2,effects:!0,wrapper:".main",content:".main-container"})}};t.\u0275fac=function(r){return new(r||t)(kn(om))},t.\u0275cmp=mt({type:t,selectors:[["app-root"]],standalone:!0,features:[gt],decls:6,vars:0,consts:[[1,"main"],[1,"main-container"]],template:function(r,o){r&1&&(A(0,"global-svg-sprite"),f(1,"div",0)(2,"div",1),A(3,"app-header")(4,"router-outlet")(5,"app-footer"),y()())},dependencies:[nS,VG,Aw,UG],styles:[".main[_ngcontent-%COMP%]{overflow:hidden}"]});let e=t;return e})();function $G(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function dI(e,t){e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(t).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:$G(t[n])&&$G(e[n])&&Object.keys(t[n]).length>0&&dI(e[n],t[n])})}var KG={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ui(){let e=typeof document<"u"?document:{};return dI(e,KG),e}var kEe={document:KG,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Jn(){let e=typeof window<"u"?window:{};return dI(e,kEe),e}function ad(e){return e===void 0&&(e=""),e.trim().split(" ").filter(t=>!!t.trim())}function JG(e){let t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function tl(e,t){return t===void 0&&(t=0),setTimeout(e,t)}function qo(){return Date.now()}function FEe(e){let t=Jn(),n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function Ry(e,t){t===void 0&&(t="x");let n=Jn(),i,r,o,a=FEe(e);return n.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(s=>s.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix(r==="none"?"":r)):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?r=o.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),t==="y"&&(n.WebKitCSSMatrix?r=o.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function mg(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function NEe(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function pa(){let e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){let i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!NEe(i)){let r=Object.keys(Object(i)).filter(o=>t.indexOf(o)<0);for(let o=0,a=r.length;o<a;o+=1){let s=r[o],l=Object.getOwnPropertyDescriptor(i,s);l!==void 0&&l.enumerable&&(mg(e[s])&&mg(i[s])?i[s].__swiper__?e[s]=i[s]:pa(e[s],i[s]):!mg(e[s])&&mg(i[s])?(e[s]={},i[s].__swiper__?e[s]=i[s]:pa(e[s],i[s])):e[s]=i[s])}}}return e}function gp(e,t,n){e.style.setProperty(t,n)}function uI(e){let{swiper:t,targetPosition:n,side:i}=e,r=Jn(),o=-t.translate,a=null,s,l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);let c=n>o?"next":"prev",d=(h,p)=>c==="next"&&h>=p||c==="prev"&&h<=p,u=()=>{s=new Date().getTime(),a===null&&(a=s);let h=Math.max(Math.min((s-a)/l,1),0),p=.5-Math.cos(h*Math.PI)/2,m=o+p*(n-o);if(d(m,n)&&(m=n),t.wrapperEl.scrollTo({[i]:m}),d(m,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[i]:m})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(u)};u()}function ma(e){return e.querySelector(".swiper-slide-transform")||e.shadowRoot&&e.shadowRoot.querySelector(".swiper-slide-transform")||e}function yi(e,t){return t===void 0&&(t=""),[...e.children].filter(n=>n.matches(t))}function Ly(e){try{console.warn(e);return}catch{}}function nr(e,t){t===void 0&&(t=[]);let n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:ad(t)),n}function vp(e){let t=Jn(),n=ui(),i=e.getBoundingClientRect(),r=n.body,o=e.clientTop||r.clientTop||0,a=e.clientLeft||r.clientLeft||0,s=e===t?t.scrollY:e.scrollTop,l=e===t?t.scrollX:e.scrollLeft;return{top:i.top+s-o,left:i.left+l-a}}function eW(e,t){let n=[];for(;e.previousElementSibling;){let i=e.previousElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}function tW(e,t){let n=[];for(;e.nextElementSibling;){let i=e.nextElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}function sd(e,t){return Jn().getComputedStyle(e,null).getPropertyValue(t)}function vu(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function nl(e,t){let n=[],i=e.parentElement;for(;i;)t?i.matches(t)&&n.push(i):n.push(i),i=i.parentElement;return n}function yu(e,t){function n(i){i.target===e&&(t.call(e,i),e.removeEventListener("transitionend",n))}t&&e.addEventListener("transitionend",n)}function ky(e,t,n){let i=Jn();return n?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}function an(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}var hI;function zEe(){let e=Jn(),t=ui();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function oW(){return hI||(hI=zEe()),hI}var pI;function BEe(e){let{userAgent:t}=e===void 0?{}:e,n=oW(),i=Jn(),r=i.navigator.platform,o=t||i.navigator.userAgent,a={ios:!1,android:!1},s=i.screen.width,l=i.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/),d=o.match(/(iPad).*OS\s([\d_]+)/),u=o.match(/(iPod)(.*OS\s([\d_]+))?/),h=!d&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=r==="Win32",m=r==="MacIntel",g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&m&&n.touch&&g.indexOf(`${s}x${l}`)>=0&&(d=o.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),m=!1),c&&!p&&(a.os="android",a.android=!0),(d||h||u)&&(a.os="ios",a.ios=!0),a}function aW(e){return e===void 0&&(e={}),pI||(pI=BEe(e)),pI}var mI;function VEe(){let e=Jn(),t=aW(),n=!1;function i(){let s=e.navigator.userAgent.toLowerCase();return s.indexOf("safari")>=0&&s.indexOf("chrome")<0&&s.indexOf("android")<0}if(i()){let s=String(e.navigator.userAgent);if(s.includes("Version/")){let[l,c]=s.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=l<16||l===16&&c<2}}let r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),o=i(),a=o||r&&t.ios;return{isSafari:n||o,needPerspectiveFix:n,need3dFix:a,isWebView:r}}function UEe(){return mI||(mI=VEe()),mI}function jEe(e){let{swiper:t,on:n,emit:i}=e,r=Jn(),o=null,a=null,s=()=>{!t||t.destroyed||!t.initialized||(i("beforeResize"),i("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(o=new ResizeObserver(u=>{a=r.requestAnimationFrame(()=>{let{width:h,height:p}=t,m=h,g=p;u.forEach(v=>{let{contentBoxSize:b,contentRect:_,target:C}=v;C&&C!==t.el||(m=_?_.width:(b[0]||b).inlineSize,g=_?_.height:(b[0]||b).blockSize)}),(m!==h||g!==p)&&s()})}),o.observe(t.el))},c=()=>{a&&r.cancelAnimationFrame(a),o&&o.unobserve&&t.el&&(o.unobserve(t.el),o=null)},d=()=>{!t||t.destroyed||!t.initialized||i("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",s),r.addEventListener("orientationchange",d)}),n("destroy",()=>{c(),r.removeEventListener("resize",s),r.removeEventListener("orientationchange",d)})}function HEe(e){let{swiper:t,extendParams:n,on:i,emit:r}=e,o=[],a=Jn(),s=function(d,u){u===void 0&&(u={});let h=a.MutationObserver||a.WebkitMutationObserver,p=new h(m=>{if(t.__preventObserver__)return;if(m.length===1){r("observerUpdate",m[0]);return}let g=function(){r("observerUpdate",m[0])};a.requestAnimationFrame?a.requestAnimationFrame(g):a.setTimeout(g,0)});p.observe(d,{attributes:typeof u.attributes>"u"?!0:u.attributes,childList:typeof u.childList>"u"?!0:u.childList,characterData:typeof u.characterData>"u"?!0:u.characterData}),o.push(p)},l=()=>{if(t.params.observer){if(t.params.observeParents){let d=nl(t.hostEl);for(let u=0;u<d.length;u+=1)s(d[u])}s(t.hostEl,{childList:t.params.observeSlideChildren}),s(t.wrapperEl,{attributes:!1})}},c=()=>{o.forEach(d=>{d.disconnect()}),o.splice(0,o.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",c)}var GEe={on(e,t,n){let i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;let r=n?"unshift":"push";return e.split(" ").forEach(o=>{i.eventsListeners[o]||(i.eventsListeners[o]=[]),i.eventsListeners[o][r](t)}),i},once(e,t,n){let i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;function r(){i.off(e,r),r.__emitterProxy&&delete r.__emitterProxy;for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];t.apply(i,a)}return r.__emitterProxy=t,i.on(e,r,n)},onAny(e,t){let n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;let i=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[i](e),n},offAny(e){let t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;let n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){let n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(i=>{typeof t>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,o)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[i].splice(o,1)})}),n},emit(){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,n,i;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return typeof o[0]=="string"||Array.isArray(o[0])?(t=o[0],n=o.slice(1,o.length),i=e):(t=o[0].events,n=o[0].data,i=o[0].context||e),n.unshift(i),(Array.isArray(t)?t:t.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...n])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(c=>{c.apply(i,n)})}),e}};function WEe(){let e=this,t,n,i=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=i.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=i.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(sd(i,"padding-left")||0,10)-parseInt(sd(i,"padding-right")||0,10),n=n-parseInt(sd(i,"padding-top")||0,10)-parseInt(sd(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function qEe(){let e=this;function t(D,I){return parseFloat(D.getPropertyValue(e.getDirectionLabel(I))||0)}let n=e.params,{wrapperEl:i,slidesEl:r,size:o,rtlTranslate:a,wrongRTL:s}=e,l=e.virtual&&n.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,d=yi(r,`.${e.params.slideClass}, swiper-slide`),u=l?e.virtual.slides.length:d.length,h=[],p=[],m=[],g=n.slidesOffsetBefore;typeof g=="function"&&(g=n.slidesOffsetBefore.call(e));let v=n.slidesOffsetAfter;typeof v=="function"&&(v=n.slidesOffsetAfter.call(e));let b=e.snapGrid.length,_=e.slidesGrid.length,C=n.spaceBetween,M=-g,P=0,x=0;if(typeof o>"u")return;typeof C=="string"&&C.indexOf("%")>=0?C=parseFloat(C.replace("%",""))/100*o:typeof C=="string"&&(C=parseFloat(C)),e.virtualSize=-C,d.forEach(D=>{a?D.style.marginLeft="":D.style.marginRight="",D.style.marginBottom="",D.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(gp(i,"--swiper-centered-offset-before",""),gp(i,"--swiper-centered-offset-after",""));let E=n.grid&&n.grid.rows>1&&e.grid;E?e.grid.initSlides(d):e.grid&&e.grid.unsetSlides();let O,S=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(D=>typeof n.breakpoints[D].slidesPerView<"u").length>0;for(let D=0;D<u;D+=1){O=0;let I;if(d[D]&&(I=d[D]),E&&e.grid.updateSlide(D,I,d),!(d[D]&&sd(I,"display")==="none")){if(n.slidesPerView==="auto"){S&&(d[D].style[e.getDirectionLabel("width")]="");let T=getComputedStyle(I),R=I.style.transform,k=I.style.webkitTransform;if(R&&(I.style.transform="none"),k&&(I.style.webkitTransform="none"),n.roundLengths)O=e.isHorizontal()?ky(I,"width",!0):ky(I,"height",!0);else{let z=t(T,"width"),W=t(T,"padding-left"),N=t(T,"padding-right"),F=t(T,"margin-left"),X=t(T,"margin-right"),V=T.getPropertyValue("box-sizing");if(V&&V==="border-box")O=z+F+X;else{let{clientWidth:G,offsetWidth:Y}=I;O=z+W+N+F+X+(Y-G)}}R&&(I.style.transform=R),k&&(I.style.webkitTransform=k),n.roundLengths&&(O=Math.floor(O))}else O=(o-(n.slidesPerView-1)*C)/n.slidesPerView,n.roundLengths&&(O=Math.floor(O)),d[D]&&(d[D].style[e.getDirectionLabel("width")]=`${O}px`);d[D]&&(d[D].swiperSlideSize=O),m.push(O),n.centeredSlides?(M=M+O/2+P/2+C,P===0&&D!==0&&(M=M-o/2-C),D===0&&(M=M-o/2-C),Math.abs(M)<1/1e3&&(M=0),n.roundLengths&&(M=Math.floor(M)),x%n.slidesPerGroup===0&&h.push(M),p.push(M)):(n.roundLengths&&(M=Math.floor(M)),(x-Math.min(e.params.slidesPerGroupSkip,x))%e.params.slidesPerGroup===0&&h.push(M),p.push(M),M=M+O+C),e.virtualSize+=O+C,P=O,x+=1}}if(e.virtualSize=Math.max(e.virtualSize,o)+v,a&&s&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${e.virtualSize+C}px`),n.setWrapperSize&&(i.style[e.getDirectionLabel("width")]=`${e.virtualSize+C}px`),E&&e.grid.updateWrapperSize(O,h),!n.centeredSlides){let D=[];for(let I=0;I<h.length;I+=1){let T=h[I];n.roundLengths&&(T=Math.floor(T)),h[I]<=e.virtualSize-o&&D.push(T)}h=D,Math.floor(e.virtualSize-o)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-o)}if(l&&n.loop){let D=m[0]+C;if(n.slidesPerGroup>1){let I=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),T=D*n.slidesPerGroup;for(let R=0;R<I;R+=1)h.push(h[h.length-1]+T)}for(let I=0;I<e.virtual.slidesBefore+e.virtual.slidesAfter;I+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+D),p.push(p[p.length-1]+D),e.virtualSize+=D}if(h.length===0&&(h=[0]),C!==0){let D=e.isHorizontal()&&a?"marginLeft":e.getDirectionLabel("marginRight");d.filter((I,T)=>!n.cssMode||n.loop?!0:T!==d.length-1).forEach(I=>{I.style[D]=`${C}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let D=0;m.forEach(T=>{D+=T+(C||0)}),D-=C;let I=D-o;h=h.map(T=>T<=0?-g:T>I?I+v:T)}if(n.centerInsufficientSlides){let D=0;if(m.forEach(I=>{D+=I+(C||0)}),D-=C,D<o){let I=(o-D)/2;h.forEach((T,R)=>{h[R]=T-I}),p.forEach((T,R)=>{p[R]=T+I})}}if(Object.assign(e,{slides:d,snapGrid:h,slidesGrid:p,slidesSizesGrid:m}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){gp(i,"--swiper-centered-offset-before",`${-h[0]}px`),gp(i,"--swiper-centered-offset-after",`${e.size/2-m[m.length-1]/2}px`);let D=-e.snapGrid[0],I=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(T=>T+D),e.slidesGrid=e.slidesGrid.map(T=>T+I)}if(u!==c&&e.emit("slidesLengthChange"),h.length!==b&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==_&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){let D=`${n.containerModifierClass}backface-hidden`,I=e.el.classList.contains(D);u<=n.maxBackfaceHiddenSlides?I||e.el.classList.add(D):I&&e.el.classList.remove(D)}}function YEe(e){let t=this,n=[],i=t.virtual&&t.params.virtual.enabled,r=0,o;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);let a=s=>i?t.slides[t.getSlideIndexByData(s)]:t.slides[s];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(s=>{n.push(s)});else for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){let s=t.activeIndex+o;if(s>t.slides.length&&!i)break;n.push(a(s))}else n.push(a(t.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){let s=n[o].offsetHeight;r=s>r?s:r}(r||r===0)&&(t.wrapperEl.style.height=`${r}px`)}function XEe(){let e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(e.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-n-e.cssOverflowAdjustment()}function QEe(e){e===void 0&&(e=this&&this.translate||0);let t=this,n=t.params,{slides:i,rtlTranslate:r,snapGrid:o}=t;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let a=-e;r&&(a=e),i.forEach(l=>{l.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let s=n.spaceBetween;typeof s=="string"&&s.indexOf("%")>=0?s=parseFloat(s.replace("%",""))/100*t.size:typeof s=="string"&&(s=parseFloat(s));for(let l=0;l<i.length;l+=1){let c=i[l],d=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=i[0].swiperSlideOffset);let u=(a+(n.centeredSlides?t.minTranslate():0)-d)/(c.swiperSlideSize+s),h=(a-o[0]+(n.centeredSlides?t.minTranslate():0)-d)/(c.swiperSlideSize+s),p=-(a-d),m=p+t.slidesSizesGrid[l],g=p>=0&&p<=t.size-t.slidesSizesGrid[l];(p>=0&&p<t.size-1||m>1&&m<=t.size||p<=0&&m>=t.size)&&(t.visibleSlides.push(c),t.visibleSlidesIndexes.push(l),i[l].classList.add(n.slideVisibleClass)),g&&i[l].classList.add(n.slideFullyVisibleClass),c.progress=r?-u:u,c.originalProgress=r?-h:h}}function ZEe(e){let t=this;if(typeof e>"u"){let d=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*d||0}let n=t.params,i=t.maxTranslate()-t.minTranslate(),{progress:r,isBeginning:o,isEnd:a,progressLoop:s}=t,l=o,c=a;if(i===0)r=0,o=!0,a=!0;else{r=(e-t.minTranslate())/i;let d=Math.abs(e-t.minTranslate())<1,u=Math.abs(e-t.maxTranslate())<1;o=d||r<=0,a=u||r>=1,d&&(r=0),u&&(r=1)}if(n.loop){let d=t.getSlideIndexByData(0),u=t.getSlideIndexByData(t.slides.length-1),h=t.slidesGrid[d],p=t.slidesGrid[u],m=t.slidesGrid[t.slidesGrid.length-1],g=Math.abs(e);g>=h?s=(g-h)/m:s=(g+m-p)/m,s>1&&(s-=1)}Object.assign(t,{progress:r,progressLoop:s,isBeginning:o,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),o&&!l&&t.emit("reachBeginning toEdge"),a&&!c&&t.emit("reachEnd toEdge"),(l&&!o||c&&!a)&&t.emit("fromEdge"),t.emit("progress",r)}var fI=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function $Ee(){let e=this,{slides:t,params:n,slidesEl:i,activeIndex:r}=e,o=e.virtual&&n.virtual.enabled,a=e.grid&&n.grid&&n.grid.rows>1,s=u=>yi(i,`.${n.slideClass}${u}, swiper-slide${u}`)[0],l,c,d;if(o)if(n.loop){let u=r-e.virtual.slidesBefore;u<0&&(u=e.virtual.slides.length+u),u>=e.virtual.slides.length&&(u-=e.virtual.slides.length),l=s(`[data-swiper-slide-index="${u}"]`)}else l=s(`[data-swiper-slide-index="${r}"]`);else a?(l=t.filter(u=>u.column===r)[0],d=t.filter(u=>u.column===r+1)[0],c=t.filter(u=>u.column===r-1)[0]):l=t[r];l&&(a||(d=tW(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=t[0]),c=eW(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=t[t.length-1]))),t.forEach(u=>{fI(u,u===l,n.slideActiveClass),fI(u,u===d,n.slideNextClass),fI(u,u===c,n.slidePrevClass)}),e.emitSlidesClasses()}var Rw=(e,t)=>{if(!e||e.destroyed||!e.params)return;let n=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,i=t.closest(n());if(i){let r=i.querySelector(`.${e.params.lazyPreloaderClass}`);!r&&e.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},gI=(e,t)=>{if(!e.slides[t])return;let n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},bI=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext,n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);let i=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),r=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){let a=r,s=[a-t];s.push(...Array.from({length:t}).map((l,c)=>a+i+c)),e.slides.forEach((l,c)=>{s.includes(l.column)&&gI(e,c)});return}let o=r+i-1;if(e.params.rewind||e.params.loop)for(let a=r-t;a<=o+t;a+=1){let s=(a%n+n)%n;(s<r||s>o)&&gI(e,s)}else for(let a=Math.max(r-t,0);a<=Math.min(o+t,n-1);a+=1)a!==r&&(a>o||a<r)&&gI(e,a)};function KEe(e){let{slidesGrid:t,params:n}=e,i=e.rtlTranslate?e.translate:-e.translate,r;for(let o=0;o<t.length;o+=1)typeof t[o+1]<"u"?i>=t[o]&&i<t[o+1]-(t[o+1]-t[o])/2?r=o:i>=t[o]&&i<t[o+1]&&(r=o+1):i>=t[o]&&(r=o);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function JEe(e){let t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:r,activeIndex:o,realIndex:a,snapIndex:s}=t,l=e,c,d=p=>{let m=p-t.virtual.slidesBefore;return m<0&&(m=t.virtual.slides.length+m),m>=t.virtual.slides.length&&(m-=t.virtual.slides.length),m};if(typeof l>"u"&&(l=KEe(t)),i.indexOf(n)>=0)c=i.indexOf(n);else{let p=Math.min(r.slidesPerGroupSkip,l);c=p+Math.floor((l-p)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===o&&!t.params.loop){c!==s&&(t.snapIndex=c,t.emit("snapIndexChange"));return}if(l===o&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=d(l);return}let u=t.grid&&r.grid&&r.grid.rows>1,h;if(t.virtual&&r.virtual.enabled&&r.loop)h=d(l);else if(u){let p=t.slides.filter(g=>g.column===l)[0],m=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(m)&&(m=Math.max(t.slides.indexOf(p),0)),h=Math.floor(m/r.grid.rows)}else if(t.slides[l]){let p=t.slides[l].getAttribute("data-swiper-slide-index");p?h=parseInt(p,10):h=l}else h=l;Object.assign(t,{previousSnapIndex:s,snapIndex:c,previousRealIndex:a,realIndex:h,previousIndex:o,activeIndex:l}),t.initialized&&bI(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(a!==h&&t.emit("realIndexChange"),t.emit("slideChange"))}function e3e(e,t){let n=this,i=n.params,r=e.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(s=>{!r&&s.matches&&s.matches(`.${i.slideClass}, swiper-slide`)&&(r=s)});let o=!1,a;if(r){for(let s=0;s<n.slides.length;s+=1)if(n.slides[s]===r){o=!0,a=s;break}}if(r&&o)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var t3e={updateSize:WEe,updateSlides:qEe,updateAutoHeight:YEe,updateSlidesOffset:XEe,updateSlidesProgress:QEe,updateProgress:ZEe,updateSlidesClasses:$Ee,updateActiveIndex:JEe,updateClickedSlide:e3e};function n3e(e){e===void 0&&(e=this.isHorizontal()?"x":"y");let t=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:o}=t;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let a=Ry(o,e);return a+=t.cssOverflowAdjustment(),i&&(a=-a),a||0}function i3e(e,t){let n=this,{rtlTranslate:i,params:r,wrapperEl:o,progress:a}=n,s=0,l=0,c=0;n.isHorizontal()?s=i?-e:e:l=e,r.roundLengths&&(s=Math.floor(s),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?s:l,r.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-s:-l:r.virtualTranslate||(n.isHorizontal()?s-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${s}px, ${l}px, ${c}px)`);let d,u=n.maxTranslate()-n.minTranslate();u===0?d=0:d=(e-n.minTranslate())/u,d!==a&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function r3e(){return-this.snapGrid[0]}function o3e(){return-this.snapGrid[this.snapGrid.length-1]}function a3e(e,t,n,i,r){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);let o=this,{params:a,wrapperEl:s}=o;if(o.animating&&a.preventInteractionOnTransition)return!1;let l=o.minTranslate(),c=o.maxTranslate(),d;if(i&&e>l?d=l:i&&e<c?d=c:d=e,o.updateProgress(d),a.cssMode){let u=o.isHorizontal();if(t===0)s[u?"scrollLeft":"scrollTop"]=-d;else{if(!o.support.smoothScroll)return uI({swiper:o,targetPosition:-d,side:u?"left":"top"}),!0;s.scrollTo({[u?"left":"top"]:-d,behavior:"smooth"})}return!0}return t===0?(o.setTransition(0),o.setTranslate(d),n&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(d),n&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(h){!o||o.destroyed||h.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var s3e={getTranslate:n3e,setTranslate:i3e,minTranslate:r3e,maxTranslate:o3e,translateTo:a3e};function l3e(e,t){let n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=e===0?"0ms":""),n.emit("setTransition",e,t)}function sW(e){let{swiper:t,runCallbacks:n,direction:i,step:r}=e,{activeIndex:o,previousIndex:a}=t,s=i;if(s||(o>a?s="next":o<a?s="prev":s="reset"),t.emit(`transition${r}`),n&&o!==a){if(s==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),s==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function c3e(e,t){e===void 0&&(e=!0);let n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),sW({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function d3e(e,t){e===void 0&&(e=!0);let n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),sW({swiper:n,runCallbacks:e,direction:t,step:"End"}))}var u3e={setTransition:l3e,transitionStart:c3e,transitionEnd:d3e};function h3e(e,t,n,i,r){e===void 0&&(e=0),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));let o=this,a=e;a<0&&(a=0);let{params:s,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:u,rtlTranslate:h,wrapperEl:p,enabled:m}=o;if(!m&&!i&&!r||o.destroyed||o.animating&&s.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=o.params.speed);let g=Math.min(o.params.slidesPerGroupSkip,a),v=g+Math.floor((a-g)/o.params.slidesPerGroup);v>=l.length&&(v=l.length-1);let b=-l[v];if(s.normalizeSlideIndex)for(let C=0;C<c.length;C+=1){let M=-Math.floor(b*100),P=Math.floor(c[C]*100),x=Math.floor(c[C+1]*100);typeof c[C+1]<"u"?M>=P&&M<x-(x-P)/2?a=C:M>=P&&M<x&&(a=C+1):M>=P&&(a=C)}if(o.initialized&&a!==u&&(!o.allowSlideNext&&(h?b>o.translate&&b>o.minTranslate():b<o.translate&&b<o.minTranslate())||!o.allowSlidePrev&&b>o.translate&&b>o.maxTranslate()&&(u||0)!==a))return!1;a!==(d||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(b);let _;if(a>u?_="next":a<u?_="prev":_="reset",h&&-b===o.translate||!h&&b===o.translate)return o.updateActiveIndex(a),s.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),s.effect!=="slide"&&o.setTranslate(b),_!=="reset"&&(o.transitionStart(n,_),o.transitionEnd(n,_)),!1;if(s.cssMode){let C=o.isHorizontal(),M=h?b:-b;if(t===0){let P=o.virtual&&o.params.virtual.enabled;P&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),P&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[C?"scrollLeft":"scrollTop"]=M})):p[C?"scrollLeft":"scrollTop"]=M,P&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1})}else{if(!o.support.smoothScroll)return uI({swiper:o,targetPosition:M,side:C?"left":"top"}),!0;p.scrollTo({[C?"left":"top"]:M,behavior:"smooth"})}return!0}return o.setTransition(t),o.setTranslate(b),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,i),o.transitionStart(n,_),t===0?o.transitionEnd(n,_):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(M){!o||o.destroyed||M.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,_))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function p3e(e,t,n,i){e===void 0&&(e=0),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));let r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let o=r.grid&&r.params.grid&&r.params.grid.rows>1,a=e;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)a=a+r.virtual.slidesBefore;else{let s;if(o){let h=a*r.params.grid.rows;s=r.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===h)[0].column}else s=r.getSlideIndexByData(a);let l=o?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params,d=r.params.slidesPerView;d==="auto"?d=r.slidesPerViewDynamic():(d=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let u=l-s<d;if(c&&(u=u||s<Math.ceil(d/2)),i&&c&&r.params.slidesPerView!=="auto"&&!o&&(u=!1),u){let h=c?s<r.activeIndex?"prev":"next":s-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?s+1:s-l+1,slideRealIndex:h==="next"?r.realIndex:void 0})}if(o){let h=a*r.params.grid.rows;a=r.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===h)[0].column}else a=r.getSlideIndexByData(a)}return requestAnimationFrame(()=>{r.slideTo(a,t,n,i)}),r}function m3e(e,t,n){t===void 0&&(t=!0);let i=this,{enabled:r,params:o,animating:a}=i;if(!r||i.destroyed)return i;typeof e>"u"&&(e=i.params.speed);let s=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(s=Math.max(i.slidesPerViewDynamic("current",!0),1));let l=i.activeIndex<o.slidesPerGroupSkip?1:s,c=i.virtual&&o.virtual.enabled;if(o.loop){if(a&&!c&&o.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,e,t,n)}),!0}return o.rewind&&i.isEnd?i.slideTo(0,e,t,n):i.slideTo(i.activeIndex+l,e,t,n)}function f3e(e,t,n){t===void 0&&(t=!0);let i=this,{params:r,snapGrid:o,slidesGrid:a,rtlTranslate:s,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;typeof e>"u"&&(e=i.params.speed);let d=i.virtual&&r.virtual.enabled;if(r.loop){if(c&&!d&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}let u=s?i.translate:-i.translate;function h(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}let p=h(u),m=o.map(b=>h(b)),g=o[m.indexOf(p)-1];if(typeof g>"u"&&r.cssMode){let b;o.forEach((_,C)=>{p>=_&&(b=C)}),typeof b<"u"&&(g=o[b>0?b-1:b])}let v=0;if(typeof g<"u"&&(v=a.indexOf(g),v<0&&(v=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(v=v-i.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),r.rewind&&i.isBeginning){let b=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(b,e,t,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(v,e,t,n)}),!0;return i.slideTo(v,e,t,n)}function g3e(e,t,n){t===void 0&&(t=!0);let i=this;if(!i.destroyed)return typeof e>"u"&&(e=i.params.speed),i.slideTo(i.activeIndex,e,t,n)}function v3e(e,t,n,i){t===void 0&&(t=!0),i===void 0&&(i=.5);let r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);let o=r.activeIndex,a=Math.min(r.params.slidesPerGroupSkip,o),s=a+Math.floor((o-a)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[s]){let c=r.snapGrid[s],d=r.snapGrid[s+1];l-c>(d-c)*i&&(o+=r.params.slidesPerGroup)}else{let c=r.snapGrid[s-1],d=r.snapGrid[s];l-c<=(d-c)*i&&(o-=r.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,r.slidesGrid.length-1),r.slideTo(o,e,t,n)}function y3e(){let e=this;if(e.destroyed)return;let{params:t,slidesEl:n}=e,i=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView,r=e.clickedIndex,o,a=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;o=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?r<e.loopedSlides-i/2||r>e.slides.length-e.loopedSlides+i/2?(e.loopFix(),r=e.getSlideIndex(yi(n,`${a}[data-swiper-slide-index="${o}"]`)[0]),tl(()=>{e.slideTo(r)})):e.slideTo(r):r>e.slides.length-i?(e.loopFix(),r=e.getSlideIndex(yi(n,`${a}[data-swiper-slide-index="${o}"]`)[0]),tl(()=>{e.slideTo(r)})):e.slideTo(r)}else e.slideTo(r)}var b3e={slideTo:h3e,slideToLoop:p3e,slideNext:m3e,slidePrev:f3e,slideReset:g3e,slideToClosest:v3e,slideToClickedSlide:y3e};function _3e(e){let t=this,{params:n,slidesEl:i}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;let r=()=>{yi(i,`.${n.slideClass}, swiper-slide`).forEach((u,h)=>{u.setAttribute("data-swiper-slide-index",h)})},o=t.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(o?n.grid.rows:1),s=t.slides.length%a!==0,l=o&&t.slides.length%n.grid.rows!==0,c=d=>{for(let u=0;u<d;u+=1){let h=t.isElement?nr("swiper-slide",[n.slideBlankClass]):nr("div",[n.slideClass,n.slideBlankClass]);t.slidesEl.append(h)}};if(s){if(n.loopAddBlankSlides){let d=a-t.slides.length%a;c(d),t.recalcSlides(),t.updateSlides()}else Ly("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(l){if(n.loopAddBlankSlides){let d=n.grid.rows-t.slides.length%n.grid.rows;c(d),t.recalcSlides(),t.updateSlides()}else Ly("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"})}function C3e(e){let{slideRealIndex:t,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:o,byController:a,byMousewheel:s}=e===void 0?{}:e,l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");let{slides:c,allowSlidePrev:d,allowSlideNext:u,slidesEl:h,params:p}=l,{centeredSlides:m}=p;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=u,l.emit("loopFix");return}let g=p.slidesPerView;g==="auto"?g=l.slidesPerViewDynamic():(g=Math.ceil(parseFloat(p.slidesPerView,10)),m&&g%2===0&&(g=g+1));let v=p.slidesPerGroupAuto?g:p.slidesPerGroup,b=v;b%v!==0&&(b+=v-b%v),b+=p.loopAdditionalSlides,l.loopedSlides=b;let _=l.grid&&p.grid&&p.grid.rows>1;c.length<g+b?Ly("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):_&&p.grid.fill==="row"&&Ly("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");let C=[],M=[],P=l.activeIndex;typeof o>"u"?o=l.getSlideIndex(c.filter(R=>R.classList.contains(p.slideActiveClass))[0]):P=o;let x=i==="next"||!i,E=i==="prev"||!i,O=0,S=0,D=_?Math.ceil(c.length/p.grid.rows):c.length,T=(_?c[o].column:o)+(m&&typeof r>"u"?-g/2+.5:0);if(T<b){O=Math.max(b-T,v);for(let R=0;R<b-T;R+=1){let k=R-Math.floor(R/D)*D;if(_){let z=D-k-1;for(let W=c.length-1;W>=0;W-=1)c[W].column===z&&C.push(W)}else C.push(D-k-1)}}else if(T+g>D-b){S=Math.max(T-(D-b*2),v);for(let R=0;R<S;R+=1){let k=R-Math.floor(R/D)*D;_?c.forEach((z,W)=>{z.column===k&&M.push(W)}):M.push(k)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),E&&C.forEach(R=>{c[R].swiperLoopMoveDOM=!0,h.prepend(c[R]),c[R].swiperLoopMoveDOM=!1}),x&&M.forEach(R=>{c[R].swiperLoopMoveDOM=!0,h.append(c[R]),c[R].swiperLoopMoveDOM=!1}),l.recalcSlides(),p.slidesPerView==="auto"?l.updateSlides():_&&(C.length>0&&E||M.length>0&&x)&&l.slides.forEach((R,k)=>{l.grid.updateSlide(k,R,l.slides)}),p.watchSlidesProgress&&l.updateSlidesOffset(),n){if(C.length>0&&E){if(typeof t>"u"){let R=l.slidesGrid[P],z=l.slidesGrid[P+O]-R;s?l.setTranslate(l.translate-z):(l.slideTo(P+Math.ceil(O),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-z,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-z))}else if(r){let R=_?C.length/p.grid.rows:C.length;l.slideTo(l.activeIndex+R,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(M.length>0&&x)if(typeof t>"u"){let R=l.slidesGrid[P],z=l.slidesGrid[P-S]-R;s?l.setTranslate(l.translate-z):(l.slideTo(P-S,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-z,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-z))}else{let R=_?M.length/p.grid.rows:M.length;l.slideTo(l.activeIndex-R,0,!1,!0)}}if(l.allowSlidePrev=d,l.allowSlideNext=u,l.controller&&l.controller.control&&!a){let R={slideRealIndex:t,direction:i,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(k=>{!k.destroyed&&k.params.loop&&k.loopFix(se(B({},R),{slideTo:k.params.slidesPerView===p.slidesPerView?n:!1}))}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix(se(B({},R),{slideTo:l.controller.control.params.slidesPerView===p.slidesPerView?n:!1}))}l.emit("loopFix")}function M3e(){let e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();let i=[];e.slides.forEach(r=>{let o=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[o]=r}),e.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var w3e={loopCreate:_3e,loopFix:C3e,loopDestroy:M3e};function x3e(e){let t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;let n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function P3e(){let e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var O3e={setGrabCursor:x3e,unsetGrabCursor:P3e};function S3e(e,t){t===void 0&&(t=this);function n(i){if(!i||i===ui()||i===Jn())return null;i.assignedSlot&&(i=i.assignedSlot);let r=i.closest(e);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(t)}function nW(e,t,n){let i=Jn(),{params:r}=e,o=r.edgeSwipeDetection,a=r.edgeSwipeThreshold;return o&&(n<=a||n>=i.innerWidth-a)?o==="prevent"?(t.preventDefault(),!0):!1:!0}function E3e(e){let t=this,n=ui(),i=e;i.originalEvent&&(i=i.originalEvent);let r=t.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){nW(t,i,i.targetTouches[0].pageX);return}let{params:o,touches:a,enabled:s}=t;if(!s||!o.simulateTouch&&i.pointerType==="mouse"||t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let l=i.target;if(o.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(l)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;let c=!!o.noSwipingClass&&o.noSwipingClass!=="",d=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&d&&(l=d[0]);let u=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,h=!!(i.target&&i.target.shadowRoot);if(o.noSwiping&&(h?S3e(u,l):l.closest(u))){t.allowClick=!0;return}if(o.swipeHandler&&!l.closest(o.swipeHandler))return;a.currentX=i.pageX,a.currentY=i.pageY;let p=a.currentX,m=a.currentY;if(!nW(t,i,p))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=p,a.startY=m,r.touchStartTime=qo(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(r.allowThresholdMove=!1);let g=!0;l.matches(r.focusableElements)&&(g=!1,l.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==l&&n.activeElement.blur();let v=g&&t.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||v)&&!l.isContentEditable&&i.preventDefault(),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",i)}function D3e(e){let t=ui(),n=this,i=n.touchEventsData,{params:r,touches:o,rtlTranslate:a,enabled:s}=n;if(!s||!r.simulateTouch&&e.pointerType==="mouse")return;let l=e;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].filter(x=>x.identifier===i.touchId)[0],!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",l);return}let d=c.pageX,u=c.pageY;if(l.preventedByNestedSwiper){o.startX=d,o.startY=u;return}if(!n.allowTouchMove){l.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(o,{startX:d,startY:u,currentX:d,currentY:u}),i.touchStartTime=qo());return}if(r.touchReleaseOnEdges&&!r.loop){if(n.isVertical()){if(u<o.startY&&n.translate<=n.maxTranslate()||u>o.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(d<o.startX&&n.translate<=n.maxTranslate()||d>o.startX&&n.translate>=n.minTranslate())return}if(t.activeElement&&l.target===t.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",l),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=d,o.currentY=u;let h=o.currentX-o.startX,p=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(h**2+p**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let x;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:h*h+p*p>=25&&(x=Math.atan2(Math.abs(p),Math.abs(h))*180/Math.PI,i.isScrolling=n.isHorizontal()?x>r.touchAngle:90-x>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let m=n.isHorizontal()?h:p,g=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;r.oneWayMovement&&(m=Math.abs(m)*(a?1:-1),g=Math.abs(g)*(a?1:-1)),o.diff=m,m*=r.touchRatio,a&&(m=-m,g=-g);let v=n.touchesDirection;n.swipeDirection=m>0?"prev":"next",n.touchesDirection=g>0?"prev":"next";let b=n.params.loop&&!r.cssMode,_=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(b&&_&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){let x=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(x)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let C;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&v!==n.touchesDirection&&b&&_&&Math.abs(m)>=1){Object.assign(o,{startX:d,startY:u,currentX:d,currentY:u,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=m+i.startTranslate;let M=!0,P=r.resistanceRatio;if(r.touchReleaseOnEdges&&(P=0),m>0?(b&&_&&!C&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(M=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+m)**P))):m<0&&(b&&_&&!C&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(M=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-m)**P))),M&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(m)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function A3e(e){let t=this,n=t.touchEventsData,i=e;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].filter(P=>P.identifier===n.touchId)[0],!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;let{params:a,touches:s,rtlTranslate:l,slidesGrid:c,enabled:d}=t;if(!d||!a.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);let u=qo(),h=u-n.touchStartTime;if(t.allowClick){let P=i.path||i.composedPath&&i.composedPath();t.updateClickedSlide(P&&P[0]||i.target,P),t.emit("tap click",i),h<300&&u-n.lastClickTime<300&&t.emit("doubleTap doubleClick",i)}if(n.lastClickTime=qo(),tl(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||s.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let p;if(a.followFinger?p=l?t.translate:-t.translate:p=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:p});return}let m=p>=-t.maxTranslate()&&!t.params.loop,g=0,v=t.slidesSizesGrid[0];for(let P=0;P<c.length;P+=P<a.slidesPerGroupSkip?1:a.slidesPerGroup){let x=P<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof c[P+x]<"u"?(m||p>=c[P]&&p<c[P+x])&&(g=P,v=c[P+x]-c[P]):(m||p>=c[P])&&(g=P,v=c[c.length-1]-c[c.length-2])}let b=null,_=null;a.rewind&&(t.isBeginning?_=a.virtual&&a.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(b=0));let C=(p-c[g])/v,M=g<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(h>a.longSwipesMs){if(!a.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(C>=a.longSwipesRatio?t.slideTo(a.rewind&&t.isEnd?b:g+M):t.slideTo(g)),t.swipeDirection==="prev"&&(C>1-a.longSwipesRatio?t.slideTo(g+M):_!==null&&C<0&&Math.abs(C)>a.longSwipesRatio?t.slideTo(_):t.slideTo(g))}else{if(!a.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(i.target===t.navigation.nextEl||i.target===t.navigation.prevEl)?i.target===t.navigation.nextEl?t.slideTo(g+M):t.slideTo(g):(t.swipeDirection==="next"&&t.slideTo(b!==null?b:g+M),t.swipeDirection==="prev"&&t.slideTo(_!==null?_:g))}}function iW(){let e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();let{allowSlideNext:i,allowSlidePrev:r,snapGrid:o}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();let s=a&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!s?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=r,e.allowSlideNext=i,e.params.watchOverflow&&o!==e.snapGrid&&e.checkOverflow()}function T3e(e){let t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function I3e(){let e=this,{wrapperEl:t,rtlTranslate:n,enabled:i}=e;if(!i)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let r,o=e.maxTranslate()-e.minTranslate();o===0?r=0:r=(e.translate-e.minTranslate())/o,r!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function R3e(e){let t=this;Rw(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function L3e(){let e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}var lW=(e,t)=>{let n=ui(),{params:i,el:r,wrapperEl:o,device:a}=e,s=!!i.nested,l=t==="on"?"addEventListener":"removeEventListener",c=t;n[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:s}),r[l]("touchstart",e.onTouchStart,{passive:!1}),r[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("touchmove",e.onTouchMove,{passive:!1,capture:s}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:s}),n[l]("touchend",e.onTouchEnd,{passive:!0}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("touchcancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),n[l]("contextmenu",e.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",e.onClick,!0),i.cssMode&&o[l]("scroll",e.onScroll),i.updateOnWindowResize?e[c](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",iW,!0):e[c]("observerUpdate",iW,!0),r[l]("load",e.onLoad,{capture:!0})};function k3e(){let e=this,{params:t}=e;e.onTouchStart=E3e.bind(e),e.onTouchMove=D3e.bind(e),e.onTouchEnd=A3e.bind(e),e.onDocumentTouchStart=L3e.bind(e),t.cssMode&&(e.onScroll=I3e.bind(e)),e.onClick=T3e.bind(e),e.onLoad=R3e.bind(e),lW(e,"on")}function F3e(){lW(this,"off")}var N3e={attachEvents:k3e,detachEvents:F3e},rW=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function z3e(){let e=this,{realIndex:t,initialized:n,params:i,el:r}=e,o=i.breakpoints;if(!o||o&&Object.keys(o).length===0)return;let a=e.getBreakpoint(o,e.params.breakpointsBase,e.el);if(!a||e.currentBreakpoint===a)return;let l=(a in o?o[a]:void 0)||e.originalParams,c=rW(e,i),d=rW(e,l),u=e.params.grabCursor,h=l.grabCursor,p=i.enabled;c&&!d?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),e.emitContainerClasses()):!c&&d&&(r.classList.add(`${i.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),e.emitContainerClasses()),u&&!h?e.unsetGrabCursor():!u&&h&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(C=>{if(typeof l[C]>"u")return;let M=i[C]&&i[C].enabled,P=l[C]&&l[C].enabled;M&&!P&&e[C].disable(),!M&&P&&e[C].enable()});let m=l.direction&&l.direction!==i.direction,g=i.loop&&(l.slidesPerView!==i.slidesPerView||m),v=i.loop;m&&n&&e.changeDirection(),pa(e.params,l);let b=e.params.enabled,_=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),p&&!b?e.disable():!p&&b&&e.enable(),e.currentBreakpoint=a,e.emit("_beforeBreakpoint",l),n&&(g?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!v&&_?(e.loopCreate(t),e.updateSlides()):v&&!_&&e.loopDestroy()),e.emit("breakpoint",l)}function B3e(e,t,n){if(t===void 0&&(t="window"),!e||t==="container"&&!n)return;let i=!1,r=Jn(),o=t==="window"?r.innerHeight:n.clientHeight,a=Object.keys(e).map(s=>{if(typeof s=="string"&&s.indexOf("@")===0){let l=parseFloat(s.substr(1));return{value:o*l,point:s}}return{value:s,point:s}});a.sort((s,l)=>parseInt(s.value,10)-parseInt(l.value,10));for(let s=0;s<a.length;s+=1){let{point:l,value:c}=a[s];t==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=n.clientWidth&&(i=l)}return i||"max"}var V3e={setBreakpoint:z3e,getBreakpoint:B3e};function U3e(e,t){let n=[];return e.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(t+r)}):typeof i=="string"&&n.push(t+i)}),n}function j3e(){let e=this,{classNames:t,params:n,rtl:i,el:r,device:o}=e,a=U3e(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...a),r.classList.add(...t),e.emitContainerClasses()}function H3e(){let e=this,{el:t,classNames:n}=e;t.classList.remove(...n),e.emitContainerClasses()}var G3e={addClasses:j3e,removeClasses:H3e};function W3e(){let e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:i}=n;if(i){let r=e.slides.length-1,o=e.slidesGrid[r]+e.slidesSizesGrid[r]+i*2;e.isLocked=e.size>o}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var q3e={checkOverflow:W3e},Lw={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Y3e(e,t){return function(i){i===void 0&&(i={});let r=Object.keys(i)[0],o=i[r];if(typeof o!="object"||o===null){pa(t,i);return}if(e[r]===!0&&(e[r]={enabled:!0}),r==="navigation"&&e[r]&&e[r].enabled&&!e[r].prevEl&&!e[r].nextEl&&(e[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&e[r]&&e[r].enabled&&!e[r].el&&(e[r].auto=!0),!(r in e&&"enabled"in o)){pa(t,i);return}typeof e[r]=="object"&&!("enabled"in e[r])&&(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),pa(t,i)}}var vI={eventsEmitter:GEe,update:t3e,translate:s3e,transition:u3e,slide:b3e,loop:w3e,grabCursor:O3e,events:N3e,breakpoints:V3e,checkOverflow:q3e,classes:G3e},yI={},bu=class e{constructor(){let t,n;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[t,n]=r,n||(n={}),n=pa({},n),t&&!n.el&&(n.el=t);let a=ui();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){let d=[];return a.querySelectorAll(n.el).forEach(u=>{let h=pa({},n,{el:u});d.push(new e(h))}),d}let s=this;s.__swiper__=!0,s.support=oW(),s.device=aW({userAgent:n.userAgent}),s.browser=UEe(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],n.modules&&Array.isArray(n.modules)&&s.modules.push(...n.modules);let l={};s.modules.forEach(d=>{d({params:n,swiper:s,extendParams:Y3e(n,l),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});let c=pa({},Lw,l);return s.params=pa({},c,yI,n),s.originalParams=pa({},s.params),s.passedParams=pa({},n),s.params&&s.params.on&&Object.keys(s.params.on).forEach(d=>{s.on(d,s.params.on[d])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),Object.assign(s,{enabled:s.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){let{slidesEl:n,params:i}=this,r=yi(n,`.${i.slideClass}, swiper-slide`),o=vu(r[0]);return vu(t)-o}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){let t=this,{slidesEl:n,params:i}=t;t.slides=yi(n,`.${i.slideClass}, swiper-slide`)}enable(){let t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){let t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){let i=this;t=Math.min(Math.max(t,0),1);let r=i.minTranslate(),a=(i.maxTranslate()-r)*t+r;i.translateTo(a,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){let t=this;if(!t.params._emitClasses||!t.el)return;let n=t.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){let n=this;return n.destroyed?"":t.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){let t=this;if(!t.params._emitClasses||!t.el)return;let n=[];t.slides.forEach(i=>{let r=t.getSlideClasses(i);n.push({slideEl:i,classNames:r}),t.emit("_slideClass",i,r)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t,n){t===void 0&&(t="current"),n===void 0&&(n=!1);let i=this,{params:r,slides:o,slidesGrid:a,slidesSizesGrid:s,size:l,activeIndex:c}=i,d=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let u=o[c]?Math.ceil(o[c].swiperSlideSize):0,h;for(let p=c+1;p<o.length;p+=1)o[p]&&!h&&(u+=Math.ceil(o[p].swiperSlideSize),d+=1,u>l&&(h=!0));for(let p=c-1;p>=0;p-=1)o[p]&&!h&&(u+=o[p].swiperSlideSize,d+=1,u>l&&(h=!0))}else if(t==="current")for(let u=c+1;u<o.length;u+=1)(n?a[u]+s[u]-a[c]<l:a[u]-a[c]<l)&&(d+=1);else for(let u=c-1;u>=0;u-=1)a[c]-a[u]<l&&(d+=1);return d}update(){let t=this;if(!t||t.destroyed)return;let{snapGrid:n,params:i}=t;i.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Rw(t,a)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function r(){let a=t.rtlTranslate?t.translate*-1:t.translate,s=Math.min(Math.max(a,t.maxTranslate()),t.minTranslate());t.setTranslate(s),t.updateActiveIndex(),t.updateSlidesClasses()}let o;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&t.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&t.isEnd&&!i.centeredSlides){let a=t.virtual&&i.virtual.enabled?t.virtual.slides:t.slides;o=t.slideTo(a.length-1,0,!1,!0)}else o=t.slideTo(t.activeIndex,0,!1,!0);o||r()}i.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n){n===void 0&&(n=!0);let i=this,r=i.params.direction;return t||(t=r==="horizontal"?"vertical":"horizontal"),t===r||t!=="horizontal"&&t!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${t}`),i.emitContainerClasses(),i.params.direction=t,i.slides.forEach(o=>{t==="vertical"?o.style.width="":o.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(t){let n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){let n=this;if(n.mounted)return!0;let i=t||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);let r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`,a=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):yi(i,r())[0];return!a&&n.params.createElements&&(a=nr("div",n.params.wrapperClass),i.append(a),yi(i,`.${n.params.slideClass}`).forEach(s=>{a.append(s)})),Object.assign(n,{el:i,wrapperEl:a,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:a,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||sd(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||sd(i,"direction")==="rtl"),wrongRTL:sd(a,"display")==="-webkit-box"}),!0}init(t){let n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();let r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(o=>{o.complete?Rw(n,o):o.addEventListener("load",a=>{Rw(n,a.target)})}),bI(n),n.initialized=!0,bI(n),n.emit("init"),n.emit("afterInit"),n}destroy(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0);let i=this,{params:r,el:o,wrapperEl:a,slides:s}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),o.removeAttribute("style"),a.removeAttribute("style"),s&&s.length&&s.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),t!==!1&&(i.el.swiper=null,JG(i)),i.destroyed=!0),null}static extendDefaults(t){pa(yI,t)}static get extendedDefaults(){return yI}static get defaults(){return Lw}static installModule(t){e.prototype.__modules__||(e.prototype.__modules__=[]);let n=e.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>e.installModule(n)),e):(e.installModule(t),e)}};Object.keys(vI).forEach(e=>{Object.keys(vI[e]).forEach(t=>{bu.prototype[t]=vI[e][t]})});bu.use([jEe,HEe]);function cW(e){let{swiper:t,extendParams:n,on:i,emit:r}=e;n({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let o,a=ui();t.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};let s=a.createElement("div");function l(m,g){let v=t.params.virtual;if(v.cache&&t.virtual.cache[g])return t.virtual.cache[g];let b;return v.renderSlide?(b=v.renderSlide.call(t,m,g),typeof b=="string"&&(s.innerHTML=b,b=s.children[0])):t.isElement?b=nr("swiper-slide"):b=nr("div",t.params.slideClass),b.setAttribute("data-swiper-slide-index",g),v.renderSlide||(b.innerHTML=m),v.cache&&(t.virtual.cache[g]=b),b}function c(m,g){let{slidesPerView:v,slidesPerGroup:b,centeredSlides:_,loop:C,initialSlide:M}=t.params;if(g&&!C&&M>0)return;let{addSlidesBefore:P,addSlidesAfter:x}=t.params.virtual,{from:E,to:O,slides:S,slidesGrid:D,offset:I}=t.virtual;t.params.cssMode||t.updateActiveIndex();let T=t.activeIndex||0,R;t.rtlTranslate?R="right":R=t.isHorizontal()?"left":"top";let k,z;_?(k=Math.floor(v/2)+b+x,z=Math.floor(v/2)+b+P):(k=v+(b-1)+x,z=(C?v:b)+P);let W=T-z,N=T+k;C||(W=Math.max(W,0),N=Math.min(N,S.length-1));let F=(t.slidesGrid[W]||0)-(t.slidesGrid[0]||0);C&&T>=z?(W-=z,_||(F+=t.slidesGrid[0])):C&&T<z&&(W=-z,_&&(F+=t.slidesGrid[0])),Object.assign(t.virtual,{from:W,to:N,offset:F,slidesGrid:t.slidesGrid,slidesBefore:z,slidesAfter:k});function X(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),r("virtualUpdate")}if(E===W&&O===N&&!m){t.slidesGrid!==D&&F!==I&&t.slides.forEach(ne=>{ne.style[R]=`${F-Math.abs(t.cssOverflowAdjustment())}px`}),t.updateProgress(),r("virtualUpdate");return}if(t.params.virtual.renderExternal){t.params.virtual.renderExternal.call(t,{offset:F,from:W,to:N,slides:function(){let re=[];for(let ye=W;ye<=N;ye+=1)re.push(S[ye]);return re}()}),t.params.virtual.renderExternalUpdate?X():r("virtualUpdate");return}let V=[],G=[],Y=ne=>{let re=ne;return ne<0?re=S.length+ne:re>=S.length&&(re=re-S.length),re};if(m)t.slides.filter(ne=>ne.matches(`.${t.params.slideClass}, swiper-slide`)).forEach(ne=>{ne.remove()});else for(let ne=E;ne<=O;ne+=1)if(ne<W||ne>N){let re=Y(ne);t.slides.filter(ye=>ye.matches(`.${t.params.slideClass}[data-swiper-slide-index="${re}"], swiper-slide[data-swiper-slide-index="${re}"]`)).forEach(ye=>{ye.remove()})}let ie=C?-S.length:0,te=C?S.length*2:S.length;for(let ne=ie;ne<te;ne+=1)if(ne>=W&&ne<=N){let re=Y(ne);typeof O>"u"||m?G.push(re):(ne>O&&G.push(re),ne<E&&V.push(re))}if(G.forEach(ne=>{t.slidesEl.append(l(S[ne],ne))}),C)for(let ne=V.length-1;ne>=0;ne-=1){let re=V[ne];t.slidesEl.prepend(l(S[re],re))}else V.sort((ne,re)=>re-ne),V.forEach(ne=>{t.slidesEl.prepend(l(S[ne],ne))});yi(t.slidesEl,".swiper-slide, swiper-slide").forEach(ne=>{ne.style[R]=`${F-Math.abs(t.cssOverflowAdjustment())}px`}),X()}function d(m){if(typeof m=="object"&&"length"in m)for(let g=0;g<m.length;g+=1)m[g]&&t.virtual.slides.push(m[g]);else t.virtual.slides.push(m);c(!0)}function u(m){let g=t.activeIndex,v=g+1,b=1;if(Array.isArray(m)){for(let _=0;_<m.length;_+=1)m[_]&&t.virtual.slides.unshift(m[_]);v=g+m.length,b=m.length}else t.virtual.slides.unshift(m);if(t.params.virtual.cache){let _=t.virtual.cache,C={};Object.keys(_).forEach(M=>{let P=_[M],x=P.getAttribute("data-swiper-slide-index");x&&P.setAttribute("data-swiper-slide-index",parseInt(x,10)+b),C[parseInt(M,10)+b]=P}),t.virtual.cache=C}c(!0),t.slideTo(v,0)}function h(m){if(typeof m>"u"||m===null)return;let g=t.activeIndex;if(Array.isArray(m))for(let v=m.length-1;v>=0;v-=1)t.params.virtual.cache&&(delete t.virtual.cache[m[v]],Object.keys(t.virtual.cache).forEach(b=>{b>m&&(t.virtual.cache[b-1]=t.virtual.cache[b],t.virtual.cache[b-1].setAttribute("data-swiper-slide-index",b-1),delete t.virtual.cache[b])})),t.virtual.slides.splice(m[v],1),m[v]<g&&(g-=1),g=Math.max(g,0);else t.params.virtual.cache&&(delete t.virtual.cache[m],Object.keys(t.virtual.cache).forEach(v=>{v>m&&(t.virtual.cache[v-1]=t.virtual.cache[v],t.virtual.cache[v-1].setAttribute("data-swiper-slide-index",v-1),delete t.virtual.cache[v])})),t.virtual.slides.splice(m,1),m<g&&(g-=1),g=Math.max(g,0);c(!0),t.slideTo(g,0)}function p(){t.virtual.slides=[],t.params.virtual.cache&&(t.virtual.cache={}),c(!0),t.slideTo(0,0)}i("beforeInit",()=>{if(!t.params.virtual.enabled)return;let m;if(typeof t.passedParams.virtual.slides>"u"){let g=[...t.slidesEl.children].filter(v=>v.matches(`.${t.params.slideClass}, swiper-slide`));g&&g.length&&(t.virtual.slides=[...g],m=!0,g.forEach((v,b)=>{v.setAttribute("data-swiper-slide-index",b),t.virtual.cache[b]=v,v.remove()}))}m||(t.virtual.slides=t.params.virtual.slides),t.classNames.push(`${t.params.containerModifierClass}virtual`),t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0,c(!1,!0)}),i("setTranslate",()=>{t.params.virtual.enabled&&(t.params.cssMode&&!t._immediateVirtual?(clearTimeout(o),o=setTimeout(()=>{c()},100)):c())}),i("init update resize",()=>{t.params.virtual.enabled&&t.params.cssMode&&gp(t.wrapperEl,"--swiper-virtual-size",`${t.virtualSize}px`)}),Object.assign(t.virtual,{appendSlide:d,prependSlide:u,removeSlide:h,removeAllSlides:p,update:c})}function dW(e){let{swiper:t,extendParams:n,on:i,emit:r}=e,o=ui(),a=Jn();t.keyboard={enabled:!1},n({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function s(d){if(!t.enabled)return;let{rtlTranslate:u}=t,h=d;h.originalEvent&&(h=h.originalEvent);let p=h.keyCode||h.charCode,m=t.params.keyboard.pageUpDown,g=m&&p===33,v=m&&p===34,b=p===37,_=p===39,C=p===38,M=p===40;if(!t.allowSlideNext&&(t.isHorizontal()&&_||t.isVertical()&&M||v)||!t.allowSlidePrev&&(t.isHorizontal()&&b||t.isVertical()&&C||g))return!1;if(!(h.shiftKey||h.altKey||h.ctrlKey||h.metaKey)&&!(o.activeElement&&o.activeElement.nodeName&&(o.activeElement.nodeName.toLowerCase()==="input"||o.activeElement.nodeName.toLowerCase()==="textarea"))){if(t.params.keyboard.onlyInViewport&&(g||v||b||_||C||M)){let P=!1;if(nl(t.el,`.${t.params.slideClass}, swiper-slide`).length>0&&nl(t.el,`.${t.params.slideActiveClass}`).length===0)return;let x=t.el,E=x.clientWidth,O=x.clientHeight,S=a.innerWidth,D=a.innerHeight,I=vp(x);u&&(I.left-=x.scrollLeft);let T=[[I.left,I.top],[I.left+E,I.top],[I.left,I.top+O],[I.left+E,I.top+O]];for(let R=0;R<T.length;R+=1){let k=T[R];if(k[0]>=0&&k[0]<=S&&k[1]>=0&&k[1]<=D){if(k[0]===0&&k[1]===0)continue;P=!0}}if(!P)return}t.isHorizontal()?((g||v||b||_)&&(h.preventDefault?h.preventDefault():h.returnValue=!1),((v||_)&&!u||(g||b)&&u)&&t.slideNext(),((g||b)&&!u||(v||_)&&u)&&t.slidePrev()):((g||v||C||M)&&(h.preventDefault?h.preventDefault():h.returnValue=!1),(v||M)&&t.slideNext(),(g||C)&&t.slidePrev()),r("keyPress",p)}}function l(){t.keyboard.enabled||(o.addEventListener("keydown",s),t.keyboard.enabled=!0)}function c(){t.keyboard.enabled&&(o.removeEventListener("keydown",s),t.keyboard.enabled=!1)}i("init",()=>{t.params.keyboard.enabled&&l()}),i("destroy",()=>{t.keyboard.enabled&&c()}),Object.assign(t.keyboard,{enable:l,disable:c})}function uW(e){let{swiper:t,extendParams:n,on:i,emit:r}=e,o=Jn();n({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),t.mousewheel={enabled:!1};let a,s=qo(),l,c=[];function d(C){let E=0,O=0,S=0,D=0;return"detail"in C&&(O=C.detail),"wheelDelta"in C&&(O=-C.wheelDelta/120),"wheelDeltaY"in C&&(O=-C.wheelDeltaY/120),"wheelDeltaX"in C&&(E=-C.wheelDeltaX/120),"axis"in C&&C.axis===C.HORIZONTAL_AXIS&&(E=O,O=0),S=E*10,D=O*10,"deltaY"in C&&(D=C.deltaY),"deltaX"in C&&(S=C.deltaX),C.shiftKey&&!S&&(S=D,D=0),(S||D)&&C.deltaMode&&(C.deltaMode===1?(S*=40,D*=40):(S*=800,D*=800)),S&&!E&&(E=S<1?-1:1),D&&!O&&(O=D<1?-1:1),{spinX:E,spinY:O,pixelX:S,pixelY:D}}function u(){t.enabled&&(t.mouseEntered=!0)}function h(){t.enabled&&(t.mouseEntered=!1)}function p(C){return t.params.mousewheel.thresholdDelta&&C.delta<t.params.mousewheel.thresholdDelta||t.params.mousewheel.thresholdTime&&qo()-s<t.params.mousewheel.thresholdTime?!1:C.delta>=6&&qo()-s<60?!0:(C.direction<0?(!t.isEnd||t.params.loop)&&!t.animating&&(t.slideNext(),r("scroll",C.raw)):(!t.isBeginning||t.params.loop)&&!t.animating&&(t.slidePrev(),r("scroll",C.raw)),s=new o.Date().getTime(),!1)}function m(C){let M=t.params.mousewheel;if(C.direction<0){if(t.isEnd&&!t.params.loop&&M.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&M.releaseOnEdges)return!0;return!1}function g(C){let M=C,P=!0;if(!t.enabled||C.target.closest(`.${t.params.mousewheel.noMousewheelClass}`))return;let x=t.params.mousewheel;t.params.cssMode&&M.preventDefault();let E=t.el;t.params.mousewheel.eventsTarget!=="container"&&(E=document.querySelector(t.params.mousewheel.eventsTarget));let O=E&&E.contains(M.target);if(!t.mouseEntered&&!O&&!x.releaseOnEdges)return!0;M.originalEvent&&(M=M.originalEvent);let S=0,D=t.rtlTranslate?-1:1,I=d(M);if(x.forceToAxis)if(t.isHorizontal())if(Math.abs(I.pixelX)>Math.abs(I.pixelY))S=-I.pixelX*D;else return!0;else if(Math.abs(I.pixelY)>Math.abs(I.pixelX))S=-I.pixelY;else return!0;else S=Math.abs(I.pixelX)>Math.abs(I.pixelY)?-I.pixelX*D:-I.pixelY;if(S===0)return!0;x.invert&&(S=-S);let T=t.getTranslate()+S*x.sensitivity;if(T>=t.minTranslate()&&(T=t.minTranslate()),T<=t.maxTranslate()&&(T=t.maxTranslate()),P=t.params.loop?!0:!(T===t.minTranslate()||T===t.maxTranslate()),P&&t.params.nested&&M.stopPropagation(),!t.params.freeMode||!t.params.freeMode.enabled){let R={time:qo(),delta:Math.abs(S),direction:Math.sign(S),raw:C};c.length>=2&&c.shift();let k=c.length?c[c.length-1]:void 0;if(c.push(R),k?(R.direction!==k.direction||R.delta>k.delta||R.time>k.time+150)&&p(R):p(R),m(R))return!0}else{let R={time:qo(),delta:Math.abs(S),direction:Math.sign(S)},k=l&&R.time<l.time+500&&R.delta<=l.delta&&R.direction===l.direction;if(!k){l=void 0;let z=t.getTranslate()+S*x.sensitivity,W=t.isBeginning,N=t.isEnd;if(z>=t.minTranslate()&&(z=t.minTranslate()),z<=t.maxTranslate()&&(z=t.maxTranslate()),t.setTransition(0),t.setTranslate(z),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!W&&t.isBeginning||!N&&t.isEnd)&&t.updateSlidesClasses(),t.params.loop&&t.loopFix({direction:R.direction<0?"next":"prev",byMousewheel:!0}),t.params.freeMode.sticky){clearTimeout(a),a=void 0,c.length>=15&&c.shift();let F=c.length?c[c.length-1]:void 0,X=c[0];if(c.push(R),F&&(R.delta>F.delta||R.direction!==F.direction))c.splice(0);else if(c.length>=15&&R.time-X.time<500&&X.delta-R.delta>=1&&R.delta<=6){let V=S>0?.8:.2;l=R,c.splice(0),a=tl(()=>{t.slideToClosest(t.params.speed,!0,void 0,V)},0)}a||(a=tl(()=>{l=R,c.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)},500))}if(k||r("scroll",M),t.params.autoplay&&t.params.autoplayDisableOnInteraction&&t.autoplay.stop(),x.releaseOnEdges&&(z===t.minTranslate()||z===t.maxTranslate()))return!0}}return M.preventDefault?M.preventDefault():M.returnValue=!1,!1}function v(C){let M=t.el;t.params.mousewheel.eventsTarget!=="container"&&(M=document.querySelector(t.params.mousewheel.eventsTarget)),M[C]("mouseenter",u),M[C]("mouseleave",h),M[C]("wheel",g)}function b(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",g),!0):t.mousewheel.enabled?!1:(v("addEventListener"),t.mousewheel.enabled=!0,!0)}function _(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,g),!0):t.mousewheel.enabled?(v("removeEventListener"),t.mousewheel.enabled=!1,!0):!1}i("init",()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&_(),t.params.mousewheel.enabled&&b()}),i("destroy",()=>{t.params.cssMode&&b(),t.mousewheel.enabled&&_()}),Object.assign(t.mousewheel,{enable:b,disable:_})}function fg(e,t,n,i){return e.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let o=yi(e.el,`.${i[r]}`)[0];o||(o=nr("div",i[r]),o.className=i[r],e.el.append(o)),n[r]=o,t[r]=o}}),n}function hW(e){let{swiper:t,extendParams:n,on:i,emit:r}=e;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function o(m){let g;return m&&typeof m=="string"&&t.isElement&&(g=t.el.querySelector(m),g)?g:(m&&(typeof m=="string"&&(g=[...document.querySelectorAll(m)]),t.params.uniqueNavElements&&typeof m=="string"&&g&&g.length>1&&t.el.querySelectorAll(m).length===1?g=t.el.querySelector(m):g&&g.length===1&&(g=g[0])),m&&!g?m:g)}function a(m,g){let v=t.params.navigation;m=an(m),m.forEach(b=>{b&&(b.classList[g?"add":"remove"](...v.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=g),t.params.watchOverflow&&t.enabled&&b.classList[t.isLocked?"add":"remove"](v.lockClass))})}function s(){let{nextEl:m,prevEl:g}=t.navigation;if(t.params.loop){a(g,!1),a(m,!1);return}a(g,t.isBeginning&&!t.params.rewind),a(m,t.isEnd&&!t.params.rewind)}function l(m){m.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function c(m){m.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function d(){let m=t.params.navigation;if(t.params.navigation=fg(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(m.nextEl||m.prevEl))return;let g=o(m.nextEl),v=o(m.prevEl);Object.assign(t.navigation,{nextEl:g,prevEl:v}),g=an(g),v=an(v);let b=(_,C)=>{_&&_.addEventListener("click",C==="next"?c:l),!t.enabled&&_&&_.classList.add(...m.lockClass.split(" "))};g.forEach(_=>b(_,"next")),v.forEach(_=>b(_,"prev"))}function u(){let{nextEl:m,prevEl:g}=t.navigation;m=an(m),g=an(g);let v=(b,_)=>{b.removeEventListener("click",_==="next"?c:l),b.classList.remove(...t.params.navigation.disabledClass.split(" "))};m.forEach(b=>v(b,"next")),g.forEach(b=>v(b,"prev"))}i("init",()=>{t.params.navigation.enabled===!1?p():(d(),s())}),i("toEdge fromEdge lock unlock",()=>{s()}),i("destroy",()=>{u()}),i("enable disable",()=>{let{nextEl:m,prevEl:g}=t.navigation;if(m=an(m),g=an(g),t.enabled){s();return}[...m,...g].filter(v=>!!v).forEach(v=>v.classList.add(t.params.navigation.lockClass))}),i("click",(m,g)=>{let{nextEl:v,prevEl:b}=t.navigation;v=an(v),b=an(b);let _=g.target;if(t.params.navigation.hideOnClick&&!b.includes(_)&&!v.includes(_)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===_||t.pagination.el.contains(_)))return;let C;v.length?C=v[0].classList.contains(t.params.navigation.hiddenClass):b.length&&(C=b[0].classList.contains(t.params.navigation.hiddenClass)),r(C===!0?"navigationShow":"navigationHide"),[...v,...b].filter(M=>!!M).forEach(M=>M.classList.toggle(t.params.navigation.hiddenClass))}});let h=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),d(),s()},p=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),u()};Object.assign(t.navigation,{enable:h,disable:p,update:s,init:d,destroy:u})}function _s(e){return e===void 0&&(e=""),`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function pW(e){let{swiper:t,extendParams:n,on:i,emit:r}=e,o="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:b=>b,formatFractionTotal:b=>b,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),t.pagination={el:null,bullets:[]};let a,s=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function c(b,_){let{bulletActiveClass:C}=t.params.pagination;b&&(b=b[`${_==="prev"?"previous":"next"}ElementSibling`],b&&(b.classList.add(`${C}-${_}`),b=b[`${_==="prev"?"previous":"next"}ElementSibling`],b&&b.classList.add(`${C}-${_}-${_}`)))}function d(b){let _=b.target.closest(_s(t.params.pagination.bulletClass));if(!_)return;b.preventDefault();let C=vu(_)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===C)return;t.slideToLoop(C)}else t.slideTo(C)}function u(){let b=t.rtl,_=t.params.pagination;if(l())return;let C=t.pagination.el;C=an(C);let M,P,x=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,E=t.params.loop?Math.ceil(x/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(P=t.previousRealIndex||0,M=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(M=t.snapIndex,P=t.previousSnapIndex):(P=t.previousIndex||0,M=t.activeIndex||0),_.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){let O=t.pagination.bullets,S,D,I;if(_.dynamicBullets&&(a=ky(O[0],t.isHorizontal()?"width":"height",!0),C.forEach(T=>{T.style[t.isHorizontal()?"width":"height"]=`${a*(_.dynamicMainBullets+4)}px`}),_.dynamicMainBullets>1&&P!==void 0&&(s+=M-(P||0),s>_.dynamicMainBullets-1?s=_.dynamicMainBullets-1:s<0&&(s=0)),S=Math.max(M-s,0),D=S+(Math.min(O.length,_.dynamicMainBullets)-1),I=(D+S)/2),O.forEach(T=>{let R=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(k=>`${_.bulletActiveClass}${k}`)].map(k=>typeof k=="string"&&k.includes(" ")?k.split(" "):k).flat();T.classList.remove(...R)}),C.length>1)O.forEach(T=>{let R=vu(T);R===M?T.classList.add(..._.bulletActiveClass.split(" ")):t.isElement&&T.setAttribute("part","bullet"),_.dynamicBullets&&(R>=S&&R<=D&&T.classList.add(...`${_.bulletActiveClass}-main`.split(" ")),R===S&&c(T,"prev"),R===D&&c(T,"next"))});else{let T=O[M];if(T&&T.classList.add(..._.bulletActiveClass.split(" ")),t.isElement&&O.forEach((R,k)=>{R.setAttribute("part",k===M?"bullet-active":"bullet")}),_.dynamicBullets){let R=O[S],k=O[D];for(let z=S;z<=D;z+=1)O[z]&&O[z].classList.add(...`${_.bulletActiveClass}-main`.split(" "));c(R,"prev"),c(k,"next")}}if(_.dynamicBullets){let T=Math.min(O.length,_.dynamicMainBullets+4),R=(a*T-a)/2-I*a,k=b?"right":"left";O.forEach(z=>{z.style[t.isHorizontal()?k:"top"]=`${R}px`})}}C.forEach((O,S)=>{if(_.type==="fraction"&&(O.querySelectorAll(_s(_.currentClass)).forEach(D=>{D.textContent=_.formatFractionCurrent(M+1)}),O.querySelectorAll(_s(_.totalClass)).forEach(D=>{D.textContent=_.formatFractionTotal(E)})),_.type==="progressbar"){let D;_.progressbarOpposite?D=t.isHorizontal()?"vertical":"horizontal":D=t.isHorizontal()?"horizontal":"vertical";let I=(M+1)/E,T=1,R=1;D==="horizontal"?T=I:R=I,O.querySelectorAll(_s(_.progressbarFillClass)).forEach(k=>{k.style.transform=`translate3d(0,0,0) scaleX(${T}) scaleY(${R})`,k.style.transitionDuration=`${t.params.speed}ms`})}_.type==="custom"&&_.renderCustom?(O.innerHTML=_.renderCustom(t,M+1,E),S===0&&r("paginationRender",O)):(S===0&&r("paginationRender",O),r("paginationUpdate",O)),t.params.watchOverflow&&t.enabled&&O.classList[t.isLocked?"add":"remove"](_.lockClass)})}function h(){let b=t.params.pagination;if(l())return;let _=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length,C=t.pagination.el;C=an(C);let M="";if(b.type==="bullets"){let P=t.params.loop?Math.ceil(_/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&P>_&&(P=_);for(let x=0;x<P;x+=1)b.renderBullet?M+=b.renderBullet.call(t,x,b.bulletClass):M+=`<${b.bulletElement} ${t.isElement?'part="bullet"':""} class="${b.bulletClass}"></${b.bulletElement}>`}b.type==="fraction"&&(b.renderFraction?M=b.renderFraction.call(t,b.currentClass,b.totalClass):M=`<span class="${b.currentClass}"></span> / <span class="${b.totalClass}"></span>`),b.type==="progressbar"&&(b.renderProgressbar?M=b.renderProgressbar.call(t,b.progressbarFillClass):M=`<span class="${b.progressbarFillClass}"></span>`),t.pagination.bullets=[],C.forEach(P=>{b.type!=="custom"&&(P.innerHTML=M||""),b.type==="bullets"&&t.pagination.bullets.push(...P.querySelectorAll(_s(b.bulletClass)))}),b.type!=="custom"&&r("paginationRender",C[0])}function p(){t.params.pagination=fg(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});let b=t.params.pagination;if(!b.el)return;let _;typeof b.el=="string"&&t.isElement&&(_=t.el.querySelector(b.el)),!_&&typeof b.el=="string"&&(_=[...document.querySelectorAll(b.el)]),_||(_=b.el),!(!_||_.length===0)&&(t.params.uniqueNavElements&&typeof b.el=="string"&&Array.isArray(_)&&_.length>1&&(_=[...t.el.querySelectorAll(b.el)],_.length>1&&(_=_.filter(C=>nl(C,".swiper")[0]===t.el)[0])),Array.isArray(_)&&_.length===1&&(_=_[0]),Object.assign(t.pagination,{el:_}),_=an(_),_.forEach(C=>{b.type==="bullets"&&b.clickable&&C.classList.add(...(b.clickableClass||"").split(" ")),C.classList.add(b.modifierClass+b.type),C.classList.add(t.isHorizontal()?b.horizontalClass:b.verticalClass),b.type==="bullets"&&b.dynamicBullets&&(C.classList.add(`${b.modifierClass}${b.type}-dynamic`),s=0,b.dynamicMainBullets<1&&(b.dynamicMainBullets=1)),b.type==="progressbar"&&b.progressbarOpposite&&C.classList.add(b.progressbarOppositeClass),b.clickable&&C.addEventListener("click",d),t.enabled||C.classList.add(b.lockClass)}))}function m(){let b=t.params.pagination;if(l())return;let _=t.pagination.el;_&&(_=an(_),_.forEach(C=>{C.classList.remove(b.hiddenClass),C.classList.remove(b.modifierClass+b.type),C.classList.remove(t.isHorizontal()?b.horizontalClass:b.verticalClass),b.clickable&&(C.classList.remove(...(b.clickableClass||"").split(" ")),C.removeEventListener("click",d))})),t.pagination.bullets&&t.pagination.bullets.forEach(C=>C.classList.remove(...b.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;let b=t.params.pagination,{el:_}=t.pagination;_=an(_),_.forEach(C=>{C.classList.remove(b.horizontalClass,b.verticalClass),C.classList.add(t.isHorizontal()?b.horizontalClass:b.verticalClass)})}),i("init",()=>{t.params.pagination.enabled===!1?v():(p(),h(),u())}),i("activeIndexChange",()=>{typeof t.snapIndex>"u"&&u()}),i("snapIndexChange",()=>{u()}),i("snapGridLengthChange",()=>{h(),u()}),i("destroy",()=>{m()}),i("enable disable",()=>{let{el:b}=t.pagination;b&&(b=an(b),b.forEach(_=>_.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),i("lock unlock",()=>{u()}),i("click",(b,_)=>{let C=_.target,M=an(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&M&&M.length>0&&!C.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&C===t.navigation.nextEl||t.navigation.prevEl&&C===t.navigation.prevEl))return;let P=M[0].classList.contains(t.params.pagination.hiddenClass);r(P===!0?"paginationShow":"paginationHide"),M.forEach(x=>x.classList.toggle(t.params.pagination.hiddenClass))}});let g=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:b}=t.pagination;b&&(b=an(b),b.forEach(_=>_.classList.remove(t.params.pagination.paginationDisabledClass))),p(),h(),u()},v=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:b}=t.pagination;b&&(b=an(b),b.forEach(_=>_.classList.add(t.params.pagination.paginationDisabledClass))),m()};Object.assign(t.pagination,{enable:g,disable:v,render:h,update:u,init:p,destroy:m})}function mW(e){let{swiper:t,extendParams:n,on:i,emit:r}=e,o=ui(),a=!1,s=null,l=null,c,d,u,h;n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null};function p(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;let{scrollbar:T,rtlTranslate:R}=t,{dragEl:k,el:z}=T,W=t.params.scrollbar,N=t.params.loop?t.progressLoop:t.progress,F=d,X=(u-d)*N;R?(X=-X,X>0?(F=d-X,X=0):-X+d>u&&(F=u+X)):X<0?(F=d+X,X=0):X+d>u&&(F=u-X),t.isHorizontal()?(k.style.transform=`translate3d(${X}px, 0, 0)`,k.style.width=`${F}px`):(k.style.transform=`translate3d(0px, ${X}px, 0)`,k.style.height=`${F}px`),W.hide&&(clearTimeout(s),z.style.opacity=1,s=setTimeout(()=>{z.style.opacity=0,z.style.transitionDuration="400ms"},1e3))}function m(T){!t.params.scrollbar.el||!t.scrollbar.el||(t.scrollbar.dragEl.style.transitionDuration=`${T}ms`)}function g(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;let{scrollbar:T}=t,{dragEl:R,el:k}=T;R.style.width="",R.style.height="",u=t.isHorizontal()?k.offsetWidth:k.offsetHeight,h=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),t.params.scrollbar.dragSize==="auto"?d=u*h:d=parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?R.style.width=`${d}px`:R.style.height=`${d}px`,h>=1?k.style.display="none":k.style.display="",t.params.scrollbar.hide&&(k.style.opacity=0),t.params.watchOverflow&&t.enabled&&T.el.classList[t.isLocked?"add":"remove"](t.params.scrollbar.lockClass)}function v(T){return t.isHorizontal()?T.clientX:T.clientY}function b(T){let{scrollbar:R,rtlTranslate:k}=t,{el:z}=R,W;W=(v(T)-vp(z)[t.isHorizontal()?"left":"top"]-(c!==null?c:d/2))/(u-d),W=Math.max(Math.min(W,1),0),k&&(W=1-W);let N=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*W;t.updateProgress(N),t.setTranslate(N),t.updateActiveIndex(),t.updateSlidesClasses()}function _(T){let R=t.params.scrollbar,{scrollbar:k,wrapperEl:z}=t,{el:W,dragEl:N}=k;a=!0,c=T.target===N?v(T)-T.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,T.preventDefault(),T.stopPropagation(),z.style.transitionDuration="100ms",N.style.transitionDuration="100ms",b(T),clearTimeout(l),W.style.transitionDuration="0ms",R.hide&&(W.style.opacity=1),t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",T)}function C(T){let{scrollbar:R,wrapperEl:k}=t,{el:z,dragEl:W}=R;a&&(T.preventDefault&&T.cancelable?T.preventDefault():T.returnValue=!1,b(T),k.style.transitionDuration="0ms",z.style.transitionDuration="0ms",W.style.transitionDuration="0ms",r("scrollbarDragMove",T))}function M(T){let R=t.params.scrollbar,{scrollbar:k,wrapperEl:z}=t,{el:W}=k;a&&(a=!1,t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="",z.style.transitionDuration=""),R.hide&&(clearTimeout(l),l=tl(()=>{W.style.opacity=0,W.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",T),R.snapOnRelease&&t.slideToClosest())}function P(T){let{scrollbar:R,params:k}=t,z=R.el;if(!z)return;let W=z,N=k.passiveListeners?{passive:!1,capture:!1}:!1,F=k.passiveListeners?{passive:!0,capture:!1}:!1;if(!W)return;let X=T==="on"?"addEventListener":"removeEventListener";W[X]("pointerdown",_,N),o[X]("pointermove",C,N),o[X]("pointerup",M,F)}function x(){!t.params.scrollbar.el||!t.scrollbar.el||P("on")}function E(){!t.params.scrollbar.el||!t.scrollbar.el||P("off")}function O(){let{scrollbar:T,el:R}=t;t.params.scrollbar=fg(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});let k=t.params.scrollbar;if(!k.el)return;let z;if(typeof k.el=="string"&&t.isElement&&(z=t.el.querySelector(k.el)),!z&&typeof k.el=="string"){if(z=o.querySelectorAll(k.el),!z.length)return}else z||(z=k.el);t.params.uniqueNavElements&&typeof k.el=="string"&&z.length>1&&R.querySelectorAll(k.el).length===1&&(z=R.querySelector(k.el)),z.length>0&&(z=z[0]),z.classList.add(t.isHorizontal()?k.horizontalClass:k.verticalClass);let W;z&&(W=z.querySelector(_s(t.params.scrollbar.dragClass)),W||(W=nr("div",t.params.scrollbar.dragClass),z.append(W))),Object.assign(T,{el:z,dragEl:W}),k.draggable&&x(),z&&z.classList[t.enabled?"remove":"add"](...ad(t.params.scrollbar.lockClass))}function S(){let T=t.params.scrollbar,R=t.scrollbar.el;R&&R.classList.remove(...ad(t.isHorizontal()?T.horizontalClass:T.verticalClass)),E()}i("changeDirection",()=>{if(!t.scrollbar||!t.scrollbar.el)return;let T=t.params.scrollbar,{el:R}=t.scrollbar;R=an(R),R.forEach(k=>{k.classList.remove(T.horizontalClass,T.verticalClass),k.classList.add(t.isHorizontal()?T.horizontalClass:T.verticalClass)})}),i("init",()=>{t.params.scrollbar.enabled===!1?I():(O(),g(),p())}),i("update resize observerUpdate lock unlock changeDirection",()=>{g()}),i("setTranslate",()=>{p()}),i("setTransition",(T,R)=>{m(R)}),i("enable disable",()=>{let{el:T}=t.scrollbar;T&&T.classList[t.enabled?"remove":"add"](...ad(t.params.scrollbar.lockClass))}),i("destroy",()=>{S()});let D=()=>{t.el.classList.remove(...ad(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.remove(...ad(t.params.scrollbar.scrollbarDisabledClass)),O(),g(),p()},I=()=>{t.el.classList.add(...ad(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.add(...ad(t.params.scrollbar.scrollbarDisabledClass)),S()};Object.assign(t.scrollbar,{enable:D,disable:I,updateSize:g,setTranslate:p,init:O,destroy:S})}function fW(e){let{swiper:t,extendParams:n,on:i}=e;n({parallax:{enabled:!1}});let r="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",o=(l,c)=>{let{rtl:d}=t,u=d?-1:1,h=l.getAttribute("data-swiper-parallax")||"0",p=l.getAttribute("data-swiper-parallax-x"),m=l.getAttribute("data-swiper-parallax-y"),g=l.getAttribute("data-swiper-parallax-scale"),v=l.getAttribute("data-swiper-parallax-opacity"),b=l.getAttribute("data-swiper-parallax-rotate");if(p||m?(p=p||"0",m=m||"0"):t.isHorizontal()?(p=h,m="0"):(m=h,p="0"),p.indexOf("%")>=0?p=`${parseInt(p,10)*c*u}%`:p=`${p*c*u}px`,m.indexOf("%")>=0?m=`${parseInt(m,10)*c}%`:m=`${m*c}px`,typeof v<"u"&&v!==null){let C=v-(v-1)*(1-Math.abs(c));l.style.opacity=C}let _=`translate3d(${p}, ${m}, 0px)`;if(typeof g<"u"&&g!==null){let C=g-(g-1)*(1-Math.abs(c));_+=` scale(${C})`}if(b&&typeof b<"u"&&b!==null){let C=b*c*-1;_+=` rotate(${C}deg)`}l.style.transform=_},a=()=>{let{el:l,slides:c,progress:d,snapGrid:u,isElement:h}=t,p=yi(l,r);t.isElement&&p.push(...yi(t.hostEl,r)),p.forEach(m=>{o(m,d)}),c.forEach((m,g)=>{let v=m.progress;t.params.slidesPerGroup>1&&t.params.slidesPerView!=="auto"&&(v+=Math.ceil(g/2)-d*(u.length-1)),v=Math.min(Math.max(v,-1),1),m.querySelectorAll(`${r}, [data-swiper-parallax-rotate]`).forEach(b=>{o(b,v)})})},s=function(l){l===void 0&&(l=t.params.speed);let{el:c,hostEl:d}=t,u=[...c.querySelectorAll(r)];t.isElement&&u.push(...d.querySelectorAll(r)),u.forEach(h=>{let p=parseInt(h.getAttribute("data-swiper-parallax-duration"),10)||l;l===0&&(p=0),h.style.transitionDuration=`${p}ms`})};i("beforeInit",()=>{t.params.parallax.enabled&&(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)}),i("init",()=>{t.params.parallax.enabled&&a()}),i("setTranslate",()=>{t.params.parallax.enabled&&a()}),i("setTransition",(l,c)=>{t.params.parallax.enabled&&s(c)})}function gW(e){let{swiper:t,extendParams:n,on:i,emit:r}=e,o=Jn();n({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};let a=1,s=!1,l,c,d=[],u={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},h={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},p={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},m=1;Object.defineProperty(t.zoom,"scale",{get(){return m},set(G){if(m!==G){let Y=u.imageEl,ie=u.slideEl;r("zoomChange",G,Y,ie)}m=G}});function g(){if(d.length<2)return 1;let G=d[0].pageX,Y=d[0].pageY,ie=d[1].pageX,te=d[1].pageY;return Math.sqrt((ie-G)**2+(te-Y)**2)}function v(){let G=t.params.zoom,Y=u.imageWrapEl.getAttribute("data-swiper-zoom")||G.maxRatio;if(G.limitToOriginalSize&&u.imageEl&&u.imageEl.naturalWidth){let ie=u.imageEl.naturalWidth/u.imageEl.offsetWidth;return Math.min(ie,Y)}return Y}function b(){if(d.length<2)return{x:null,y:null};let G=u.imageEl.getBoundingClientRect();return[(d[0].pageX+(d[1].pageX-d[0].pageX)/2-G.x-o.scrollX)/a,(d[0].pageY+(d[1].pageY-d[0].pageY)/2-G.y-o.scrollY)/a]}function _(){return t.isElement?"swiper-slide":`.${t.params.slideClass}`}function C(G){let Y=_();return!!(G.target.matches(Y)||t.slides.filter(ie=>ie.contains(G.target)).length>0)}function M(G){let Y=`.${t.params.zoom.containerClass}`;return!!(G.target.matches(Y)||[...t.hostEl.querySelectorAll(Y)].filter(ie=>ie.contains(G.target)).length>0)}function P(G){if(G.pointerType==="mouse"&&d.splice(0,d.length),!C(G))return;let Y=t.params.zoom;if(l=!1,c=!1,d.push(G),!(d.length<2)){if(l=!0,u.scaleStart=g(),!u.slideEl){u.slideEl=G.target.closest(`.${t.params.slideClass}, swiper-slide`),u.slideEl||(u.slideEl=t.slides[t.activeIndex]);let ie=u.slideEl.querySelector(`.${Y.containerClass}`);if(ie&&(ie=ie.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),u.imageEl=ie,ie?u.imageWrapEl=nl(u.imageEl,`.${Y.containerClass}`)[0]:u.imageWrapEl=void 0,!u.imageWrapEl){u.imageEl=void 0;return}u.maxRatio=v()}if(u.imageEl){let[ie,te]=b();u.originX=ie,u.originY=te,u.imageEl.style.transitionDuration="0ms"}s=!0}}function x(G){if(!C(G))return;let Y=t.params.zoom,ie=t.zoom,te=d.findIndex(ne=>ne.pointerId===G.pointerId);te>=0&&(d[te]=G),!(d.length<2)&&(c=!0,u.scaleMove=g(),u.imageEl&&(ie.scale=u.scaleMove/u.scaleStart*a,ie.scale>u.maxRatio&&(ie.scale=u.maxRatio-1+(ie.scale-u.maxRatio+1)**.5),ie.scale<Y.minRatio&&(ie.scale=Y.minRatio+1-(Y.minRatio-ie.scale+1)**.5),u.imageEl.style.transform=`translate3d(0,0,0) scale(${ie.scale})`))}function E(G){if(!C(G)||G.pointerType==="mouse"&&G.type==="pointerout")return;let Y=t.params.zoom,ie=t.zoom,te=d.findIndex(ne=>ne.pointerId===G.pointerId);te>=0&&d.splice(te,1),!(!l||!c)&&(l=!1,c=!1,u.imageEl&&(ie.scale=Math.max(Math.min(ie.scale,u.maxRatio),Y.minRatio),u.imageEl.style.transitionDuration=`${t.params.speed}ms`,u.imageEl.style.transform=`translate3d(0,0,0) scale(${ie.scale})`,a=ie.scale,s=!1,ie.scale>1&&u.slideEl?u.slideEl.classList.add(`${Y.zoomedSlideClass}`):ie.scale<=1&&u.slideEl&&u.slideEl.classList.remove(`${Y.zoomedSlideClass}`),ie.scale===1&&(u.originX=0,u.originY=0,u.slideEl=void 0)))}let O;function S(){t.touchEventsData.preventTouchMoveFromPointerMove=!1}function D(){clearTimeout(O),t.touchEventsData.preventTouchMoveFromPointerMove=!0,O=setTimeout(()=>{S()})}function I(G){let Y=t.device;if(!u.imageEl||h.isTouched)return;Y.android&&G.cancelable&&G.preventDefault(),h.isTouched=!0;let ie=d.length>0?d[0]:G;h.touchesStart.x=ie.pageX,h.touchesStart.y=ie.pageY}function T(G){if(!C(G)||!M(G))return;let Y=t.zoom;if(!u.imageEl||!h.isTouched||!u.slideEl)return;h.isMoved||(h.width=u.imageEl.offsetWidth||u.imageEl.clientWidth,h.height=u.imageEl.offsetHeight||u.imageEl.clientHeight,h.startX=Ry(u.imageWrapEl,"x")||0,h.startY=Ry(u.imageWrapEl,"y")||0,u.slideWidth=u.slideEl.offsetWidth,u.slideHeight=u.slideEl.offsetHeight,u.imageWrapEl.style.transitionDuration="0ms");let ie=h.width*Y.scale,te=h.height*Y.scale;if(ie<u.slideWidth&&te<u.slideHeight){S();return}if(h.minX=Math.min(u.slideWidth/2-ie/2,0),h.maxX=-h.minX,h.minY=Math.min(u.slideHeight/2-te/2,0),h.maxY=-h.minY,h.touchesCurrent.x=d.length>0?d[0].pageX:G.pageX,h.touchesCurrent.y=d.length>0?d[0].pageY:G.pageY,Math.max(Math.abs(h.touchesCurrent.x-h.touchesStart.x),Math.abs(h.touchesCurrent.y-h.touchesStart.y))>5&&(t.allowClick=!1),!h.isMoved&&!s){if(t.isHorizontal()&&(Math.floor(h.minX)===Math.floor(h.startX)&&h.touchesCurrent.x<h.touchesStart.x||Math.floor(h.maxX)===Math.floor(h.startX)&&h.touchesCurrent.x>h.touchesStart.x)){h.isTouched=!1,S();return}if(!t.isHorizontal()&&(Math.floor(h.minY)===Math.floor(h.startY)&&h.touchesCurrent.y<h.touchesStart.y||Math.floor(h.maxY)===Math.floor(h.startY)&&h.touchesCurrent.y>h.touchesStart.y)){h.isTouched=!1,S();return}}G.cancelable&&G.preventDefault(),G.stopPropagation(),D(),h.isMoved=!0;let re=(Y.scale-a)/(u.maxRatio-t.params.zoom.minRatio),{originX:ye,originY:he}=u;h.currentX=h.touchesCurrent.x-h.touchesStart.x+h.startX+re*(h.width-ye*2),h.currentY=h.touchesCurrent.y-h.touchesStart.y+h.startY+re*(h.height-he*2),h.currentX<h.minX&&(h.currentX=h.minX+1-(h.minX-h.currentX+1)**.8),h.currentX>h.maxX&&(h.currentX=h.maxX-1+(h.currentX-h.maxX+1)**.8),h.currentY<h.minY&&(h.currentY=h.minY+1-(h.minY-h.currentY+1)**.8),h.currentY>h.maxY&&(h.currentY=h.maxY-1+(h.currentY-h.maxY+1)**.8),p.prevPositionX||(p.prevPositionX=h.touchesCurrent.x),p.prevPositionY||(p.prevPositionY=h.touchesCurrent.y),p.prevTime||(p.prevTime=Date.now()),p.x=(h.touchesCurrent.x-p.prevPositionX)/(Date.now()-p.prevTime)/2,p.y=(h.touchesCurrent.y-p.prevPositionY)/(Date.now()-p.prevTime)/2,Math.abs(h.touchesCurrent.x-p.prevPositionX)<2&&(p.x=0),Math.abs(h.touchesCurrent.y-p.prevPositionY)<2&&(p.y=0),p.prevPositionX=h.touchesCurrent.x,p.prevPositionY=h.touchesCurrent.y,p.prevTime=Date.now(),u.imageWrapEl.style.transform=`translate3d(${h.currentX}px, ${h.currentY}px,0)`}function R(){let G=t.zoom;if(!u.imageEl)return;if(!h.isTouched||!h.isMoved){h.isTouched=!1,h.isMoved=!1;return}h.isTouched=!1,h.isMoved=!1;let Y=300,ie=300,te=p.x*Y,ne=h.currentX+te,re=p.y*ie,ye=h.currentY+re;p.x!==0&&(Y=Math.abs((ne-h.currentX)/p.x)),p.y!==0&&(ie=Math.abs((ye-h.currentY)/p.y));let he=Math.max(Y,ie);h.currentX=ne,h.currentY=ye;let Me=h.width*G.scale,pe=h.height*G.scale;h.minX=Math.min(u.slideWidth/2-Me/2,0),h.maxX=-h.minX,h.minY=Math.min(u.slideHeight/2-pe/2,0),h.maxY=-h.minY,h.currentX=Math.max(Math.min(h.currentX,h.maxX),h.minX),h.currentY=Math.max(Math.min(h.currentY,h.maxY),h.minY),u.imageWrapEl.style.transitionDuration=`${he}ms`,u.imageWrapEl.style.transform=`translate3d(${h.currentX}px, ${h.currentY}px,0)`}function k(){let G=t.zoom;u.slideEl&&t.activeIndex!==t.slides.indexOf(u.slideEl)&&(u.imageEl&&(u.imageEl.style.transform="translate3d(0,0,0) scale(1)"),u.imageWrapEl&&(u.imageWrapEl.style.transform="translate3d(0,0,0)"),u.slideEl.classList.remove(`${t.params.zoom.zoomedSlideClass}`),G.scale=1,a=1,u.slideEl=void 0,u.imageEl=void 0,u.imageWrapEl=void 0,u.originX=0,u.originY=0)}function z(G){let Y=t.zoom,ie=t.params.zoom;if(!u.slideEl){G&&G.target&&(u.slideEl=G.target.closest(`.${t.params.slideClass}, swiper-slide`)),u.slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?u.slideEl=yi(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:u.slideEl=t.slides[t.activeIndex]);let ue=u.slideEl.querySelector(`.${ie.containerClass}`);ue&&(ue=ue.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),u.imageEl=ue,ue?u.imageWrapEl=nl(u.imageEl,`.${ie.containerClass}`)[0]:u.imageWrapEl=void 0}if(!u.imageEl||!u.imageWrapEl)return;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),u.slideEl.classList.add(`${ie.zoomedSlideClass}`);let te,ne,re,ye,he,Me,pe,Ae,xe,be,Ve,He,Ge,de,Ue,fe,ce,Pe;typeof h.touchesStart.x>"u"&&G?(te=G.pageX,ne=G.pageY):(te=h.touchesStart.x,ne=h.touchesStart.y);let Q=typeof G=="number"?G:null;a===1&&Q&&(te=void 0,ne=void 0);let H=v();Y.scale=Q||H,a=Q||H,G&&!(a===1&&Q)?(ce=u.slideEl.offsetWidth,Pe=u.slideEl.offsetHeight,re=vp(u.slideEl).left+o.scrollX,ye=vp(u.slideEl).top+o.scrollY,he=re+ce/2-te,Me=ye+Pe/2-ne,xe=u.imageEl.offsetWidth||u.imageEl.clientWidth,be=u.imageEl.offsetHeight||u.imageEl.clientHeight,Ve=xe*Y.scale,He=be*Y.scale,Ge=Math.min(ce/2-Ve/2,0),de=Math.min(Pe/2-He/2,0),Ue=-Ge,fe=-de,pe=he*Y.scale,Ae=Me*Y.scale,pe<Ge&&(pe=Ge),pe>Ue&&(pe=Ue),Ae<de&&(Ae=de),Ae>fe&&(Ae=fe)):(pe=0,Ae=0),Q&&Y.scale===1&&(u.originX=0,u.originY=0),u.imageWrapEl.style.transitionDuration="300ms",u.imageWrapEl.style.transform=`translate3d(${pe}px, ${Ae}px,0)`,u.imageEl.style.transitionDuration="300ms",u.imageEl.style.transform=`translate3d(0,0,0) scale(${Y.scale})`}function W(){let G=t.zoom,Y=t.params.zoom;if(!u.slideEl){t.params.virtual&&t.params.virtual.enabled&&t.virtual?u.slideEl=yi(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:u.slideEl=t.slides[t.activeIndex];let ie=u.slideEl.querySelector(`.${Y.containerClass}`);ie&&(ie=ie.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),u.imageEl=ie,ie?u.imageWrapEl=nl(u.imageEl,`.${Y.containerClass}`)[0]:u.imageWrapEl=void 0}!u.imageEl||!u.imageWrapEl||(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),G.scale=1,a=1,u.imageWrapEl.style.transitionDuration="300ms",u.imageWrapEl.style.transform="translate3d(0,0,0)",u.imageEl.style.transitionDuration="300ms",u.imageEl.style.transform="translate3d(0,0,0) scale(1)",u.slideEl.classList.remove(`${Y.zoomedSlideClass}`),u.slideEl=void 0,u.originX=0,u.originY=0)}function N(G){let Y=t.zoom;Y.scale&&Y.scale!==1?W():z(G)}function F(){let G=t.params.passiveListeners?{passive:!0,capture:!1}:!1,Y=t.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:G,activeListenerWithCapture:Y}}function X(){let G=t.zoom;if(G.enabled)return;G.enabled=!0;let{passiveListener:Y,activeListenerWithCapture:ie}=F();t.wrapperEl.addEventListener("pointerdown",P,Y),t.wrapperEl.addEventListener("pointermove",x,ie),["pointerup","pointercancel","pointerout"].forEach(te=>{t.wrapperEl.addEventListener(te,E,Y)}),t.wrapperEl.addEventListener("pointermove",T,ie)}function V(){let G=t.zoom;if(!G.enabled)return;G.enabled=!1;let{passiveListener:Y,activeListenerWithCapture:ie}=F();t.wrapperEl.removeEventListener("pointerdown",P,Y),t.wrapperEl.removeEventListener("pointermove",x,ie),["pointerup","pointercancel","pointerout"].forEach(te=>{t.wrapperEl.removeEventListener(te,E,Y)}),t.wrapperEl.removeEventListener("pointermove",T,ie)}i("init",()=>{t.params.zoom.enabled&&X()}),i("destroy",()=>{V()}),i("touchStart",(G,Y)=>{t.zoom.enabled&&I(Y)}),i("touchEnd",(G,Y)=>{t.zoom.enabled&&R()}),i("doubleTap",(G,Y)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&N(Y)}),i("transitionEnd",()=>{t.zoom.enabled&&t.params.zoom.enabled&&k()}),i("slideChange",()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&k()}),Object.assign(t.zoom,{enable:X,disable:V,in:z,out:W,toggle:N})}function vW(e){let{swiper:t,extendParams:n,on:i}=e;n({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0};function r(c,d){let u=function(){let g,v,b;return(_,C)=>{for(v=-1,g=_.length;g-v>1;)b=g+v>>1,_[b]<=C?v=b:g=b;return g}}();this.x=c,this.y=d,this.lastIndex=c.length-1;let h,p;return this.interpolate=function(g){return g?(p=u(this.x,g),h=p-1,(g-this.x[h])*(this.y[p]-this.y[h])/(this.x[p]-this.x[h])+this.y[h]):0},this}function o(c){t.controller.spline=t.params.loop?new r(t.slidesGrid,c.slidesGrid):new r(t.snapGrid,c.snapGrid)}function a(c,d){let u=t.controller.control,h,p,m=t.constructor;function g(v){if(v.destroyed)return;let b=t.rtlTranslate?-t.translate:t.translate;t.params.controller.by==="slide"&&(o(v),p=-t.controller.spline.interpolate(-b)),(!p||t.params.controller.by==="container")&&(h=(v.maxTranslate()-v.minTranslate())/(t.maxTranslate()-t.minTranslate()),(Number.isNaN(h)||!Number.isFinite(h))&&(h=1),p=(b-t.minTranslate())*h+v.minTranslate()),t.params.controller.inverse&&(p=v.maxTranslate()-p),v.updateProgress(p),v.setTranslate(p,t),v.updateActiveIndex(),v.updateSlidesClasses()}if(Array.isArray(u))for(let v=0;v<u.length;v+=1)u[v]!==d&&u[v]instanceof m&&g(u[v]);else u instanceof m&&d!==u&&g(u)}function s(c,d){let u=t.constructor,h=t.controller.control,p;function m(g){g.destroyed||(g.setTransition(c,t),c!==0&&(g.transitionStart(),g.params.autoHeight&&tl(()=>{g.updateAutoHeight()}),yu(g.wrapperEl,()=>{h&&g.transitionEnd()})))}if(Array.isArray(h))for(p=0;p<h.length;p+=1)h[p]!==d&&h[p]instanceof u&&m(h[p]);else h instanceof u&&d!==h&&m(h)}function l(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}i("beforeInit",()=>{if(typeof window<"u"&&(typeof t.params.controller.control=="string"||t.params.controller.control instanceof HTMLElement)){let c=document.querySelector(t.params.controller.control);if(c&&c.swiper)t.controller.control=c.swiper;else if(c){let d=u=>{t.controller.control=u.detail[0],t.update(),c.removeEventListener("init",d)};c.addEventListener("init",d)}return}t.controller.control=t.params.controller.control}),i("update",()=>{l()}),i("resize",()=>{l()}),i("observerUpdate",()=>{l()}),i("setTranslate",(c,d,u)=>{!t.controller.control||t.controller.control.destroyed||t.controller.setTranslate(d,u)}),i("setTransition",(c,d,u)=>{!t.controller.control||t.controller.control.destroyed||t.controller.setTransition(d,u)}),Object.assign(t.controller,{setTranslate:a,setTransition:s})}function yW(e){let{swiper:t,extendParams:n,on:i}=e;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let r=null,o,a,s=new Date().getTime();function l(N){let F=r;F.length!==0&&(F.innerHTML="",F.innerHTML=N)}function c(N){N===void 0&&(N=16);let F=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(N).replace(/x/g,F)}function d(N){N=an(N),N.forEach(F=>{F.setAttribute("tabIndex","0")})}function u(N){N=an(N),N.forEach(F=>{F.setAttribute("tabIndex","-1")})}function h(N,F){N=an(N),N.forEach(X=>{X.setAttribute("role",F)})}function p(N,F){N=an(N),N.forEach(X=>{X.setAttribute("aria-roledescription",F)})}function m(N,F){N=an(N),N.forEach(X=>{X.setAttribute("aria-controls",F)})}function g(N,F){N=an(N),N.forEach(X=>{X.setAttribute("aria-label",F)})}function v(N,F){N=an(N),N.forEach(X=>{X.setAttribute("id",F)})}function b(N,F){N=an(N),N.forEach(X=>{X.setAttribute("aria-live",F)})}function _(N){N=an(N),N.forEach(F=>{F.setAttribute("aria-disabled",!0)})}function C(N){N=an(N),N.forEach(F=>{F.setAttribute("aria-disabled",!1)})}function M(N){if(N.keyCode!==13&&N.keyCode!==32)return;let F=t.params.a11y,X=N.target;if(!(t.pagination&&t.pagination.el&&(X===t.pagination.el||t.pagination.el.contains(N.target))&&!N.target.matches(_s(t.params.pagination.bulletClass)))){if(t.navigation&&t.navigation.prevEl&&t.navigation.nextEl){let V=an(t.navigation.prevEl);an(t.navigation.nextEl).includes(X)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?l(F.lastSlideMessage):l(F.nextSlideMessage)),V.includes(X)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?l(F.firstSlideMessage):l(F.prevSlideMessage))}t.pagination&&X.matches(_s(t.params.pagination.bulletClass))&&X.click()}}function P(){if(t.params.loop||t.params.rewind||!t.navigation)return;let{nextEl:N,prevEl:F}=t.navigation;F&&(t.isBeginning?(_(F),u(F)):(C(F),d(F))),N&&(t.isEnd?(_(N),u(N)):(C(N),d(N)))}function x(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function E(){return x()&&t.params.pagination.clickable}function O(){let N=t.params.a11y;x()&&t.pagination.bullets.forEach(F=>{t.params.pagination.clickable&&(d(F),t.params.pagination.renderBullet||(h(F,"button"),g(F,N.paginationBulletMessage.replace(/\{\{index\}\}/,vu(F)+1)))),F.matches(_s(t.params.pagination.bulletActiveClass))?F.setAttribute("aria-current","true"):F.removeAttribute("aria-current")})}let S=(N,F,X)=>{d(N),N.tagName!=="BUTTON"&&(h(N,"button"),N.addEventListener("keydown",M)),g(N,X),m(N,F)},D=N=>{a&&a!==N.target&&!a.contains(N.target)&&(o=!0),t.a11y.clicked=!0},I=()=>{o=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},T=N=>{s=new Date().getTime()},R=N=>{if(t.a11y.clicked||new Date().getTime()-s<100)return;let F=N.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!F||!t.slides.includes(F))return;a=F;let X=t.slides.indexOf(F)===t.activeIndex,V=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(F);X||V||N.sourceCapabilities&&N.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,requestAnimationFrame(()=>{o||(t.slideTo(t.slides.indexOf(F),0),o=!1)}))},k=()=>{let N=t.params.a11y;N.itemRoleDescriptionMessage&&p(t.slides,N.itemRoleDescriptionMessage),N.slideRole&&h(t.slides,N.slideRole);let F=t.slides.length;N.slideLabelMessage&&t.slides.forEach((X,V)=>{let G=t.params.loop?parseInt(X.getAttribute("data-swiper-slide-index"),10):V,Y=N.slideLabelMessage.replace(/\{\{index\}\}/,G+1).replace(/\{\{slidesLength\}\}/,F);g(X,Y)})},z=()=>{let N=t.params.a11y;t.el.append(r);let F=t.el;N.containerRoleDescriptionMessage&&p(F,N.containerRoleDescriptionMessage),N.containerMessage&&g(F,N.containerMessage);let X=t.wrapperEl,V=N.id||X.getAttribute("id")||`swiper-wrapper-${c(16)}`,G=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";v(X,V),b(X,G),k();let{nextEl:Y,prevEl:ie}=t.navigation?t.navigation:{};Y=an(Y),ie=an(ie),Y&&Y.forEach(ne=>S(ne,V,N.nextSlideMessage)),ie&&ie.forEach(ne=>S(ne,V,N.prevSlideMessage)),E()&&an(t.pagination.el).forEach(re=>{re.addEventListener("keydown",M)}),ui().addEventListener("visibilitychange",T),t.el.addEventListener("focus",R,!0),t.el.addEventListener("focus",R,!0),t.el.addEventListener("pointerdown",D,!0),t.el.addEventListener("pointerup",I,!0)};function W(){r&&r.remove();let{nextEl:N,prevEl:F}=t.navigation?t.navigation:{};N=an(N),F=an(F),N&&N.forEach(V=>V.removeEventListener("keydown",M)),F&&F.forEach(V=>V.removeEventListener("keydown",M)),E()&&an(t.pagination.el).forEach(G=>{G.removeEventListener("keydown",M)}),ui().removeEventListener("visibilitychange",T),t.el.removeEventListener("focus",R,!0),t.el.removeEventListener("pointerdown",D,!0),t.el.removeEventListener("pointerup",I,!0)}i("beforeInit",()=>{r=nr("span",t.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{t.params.a11y.enabled&&z()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&k()}),i("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&P()}),i("paginationUpdate",()=>{t.params.a11y.enabled&&O()}),i("destroy",()=>{t.params.a11y.enabled&&W()})}function bW(e){let{swiper:t,extendParams:n,on:i}=e;n({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let r=!1,o={},a=p=>p.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),s=p=>{let m=Jn(),g;p?g=new URL(p):g=m.location;let v=g.pathname.slice(1).split("/").filter(M=>M!==""),b=v.length,_=v[b-2],C=v[b-1];return{key:_,value:C}},l=(p,m)=>{let g=Jn();if(!r||!t.params.history.enabled)return;let v;t.params.url?v=new URL(t.params.url):v=g.location;let b=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${m}"]`):t.slides[m],_=a(b.getAttribute("data-history"));if(t.params.history.root.length>0){let M=t.params.history.root;M[M.length-1]==="/"&&(M=M.slice(0,M.length-1)),_=`${M}/${p?`${p}/`:""}${_}`}else v.pathname.includes(p)||(_=`${p?`${p}/`:""}${_}`);t.params.history.keepQuery&&(_+=v.search);let C=g.history.state;C&&C.value===_||(t.params.history.replaceState?g.history.replaceState({value:_},null,_):g.history.pushState({value:_},null,_))},c=(p,m,g)=>{if(m)for(let v=0,b=t.slides.length;v<b;v+=1){let _=t.slides[v];if(a(_.getAttribute("data-history"))===m){let M=t.getSlideIndex(_);t.slideTo(M,p,g)}}else t.slideTo(0,p,g)},d=()=>{o=s(t.params.url),c(t.params.speed,o.value,!1)},u=()=>{let p=Jn();if(t.params.history){if(!p.history||!p.history.pushState){t.params.history.enabled=!1,t.params.hashNavigation.enabled=!0;return}if(r=!0,o=s(t.params.url),!o.key&&!o.value){t.params.history.replaceState||p.addEventListener("popstate",d);return}c(0,o.value,t.params.runCallbacksOnInit),t.params.history.replaceState||p.addEventListener("popstate",d)}},h=()=>{let p=Jn();t.params.history.replaceState||p.removeEventListener("popstate",d)};i("init",()=>{t.params.history.enabled&&u()}),i("destroy",()=>{t.params.history.enabled&&h()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{r&&l(t.params.history.key,t.activeIndex)}),i("slideChange",()=>{r&&t.params.cssMode&&l(t.params.history.key,t.activeIndex)})}function _W(e){let{swiper:t,extendParams:n,emit:i,on:r}=e,o=!1,a=ui(),s=Jn();n({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(h,p){if(t.virtual&&t.params.virtual.enabled){let m=t.slides.filter(v=>v.getAttribute("data-hash")===p)[0];return m?parseInt(m.getAttribute("data-swiper-slide-index"),10):0}return t.getSlideIndex(yi(t.slidesEl,`.${t.params.slideClass}[data-hash="${p}"], swiper-slide[data-hash="${p}"]`)[0])}}});let l=()=>{i("hashChange");let h=a.location.hash.replace("#",""),p=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex],m=p?p.getAttribute("data-hash"):"";if(h!==m){let g=t.params.hashNavigation.getSlideIndex(t,h);if(typeof g>"u"||Number.isNaN(g))return;t.slideTo(g)}},c=()=>{if(!o||!t.params.hashNavigation.enabled)return;let h=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex],p=h?h.getAttribute("data-hash")||h.getAttribute("data-history"):"";t.params.hashNavigation.replaceState&&s.history&&s.history.replaceState?(s.history.replaceState(null,null,`#${p}`||""),i("hashSet")):(a.location.hash=p||"",i("hashSet"))},d=()=>{if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;o=!0;let h=a.location.hash.replace("#","");if(h){let m=t.params.hashNavigation.getSlideIndex(t,h);t.slideTo(m||0,0,t.params.runCallbacksOnInit,!0)}t.params.hashNavigation.watchState&&s.addEventListener("hashchange",l)},u=()=>{t.params.hashNavigation.watchState&&s.removeEventListener("hashchange",l)};r("init",()=>{t.params.hashNavigation.enabled&&d()}),r("destroy",()=>{t.params.hashNavigation.enabled&&u()}),r("transitionEnd _freeModeNoMomentumRelease",()=>{o&&c()}),r("slideChange",()=>{o&&t.params.cssMode&&c()})}function CW(e){let{swiper:t,extendParams:n,on:i,emit:r,params:o}=e;t.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,s,l=o&&o.autoplay?o.autoplay.delay:3e3,c=o&&o.autoplay?o.autoplay.delay:3e3,d,u=new Date().getTime(),h,p,m,g,v,b,_;function C(F){!t||t.destroyed||!t.wrapperEl||F.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",C),!_&&D())}let M=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?h=!0:h&&(c=d,h=!1);let F=t.autoplay.paused?d:u+c-new Date().getTime();t.autoplay.timeLeft=F,r("autoplayTimeLeft",F,F/l),s=requestAnimationFrame(()=>{M()})},P=()=>{let F;return t.virtual&&t.params.virtual.enabled?F=t.slides.filter(V=>V.classList.contains("swiper-slide-active"))[0]:F=t.slides[t.activeIndex],F?parseInt(F.getAttribute("data-swiper-autoplay"),10):void 0},x=F=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(s),M();let X=typeof F>"u"?t.params.autoplay.delay:F;l=t.params.autoplay.delay,c=t.params.autoplay.delay;let V=P();!Number.isNaN(V)&&V>0&&typeof F>"u"&&(X=V,l=V,c=V),d=X;let G=t.params.speed,Y=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(G,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,G,!0,!0),r("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(G,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,G,!0,!0),r("autoplay")),t.params.cssMode&&(u=new Date().getTime(),requestAnimationFrame(()=>{x()})))};return X>0?(clearTimeout(a),a=setTimeout(()=>{Y()},X)):requestAnimationFrame(()=>{Y()}),X},E=()=>{u=new Date().getTime(),t.autoplay.running=!0,x(),r("autoplayStart")},O=()=>{t.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(s),r("autoplayStop")},S=(F,X)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(a),F||(b=!0);let V=()=>{r("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",C):D()};if(t.autoplay.paused=!0,X){v&&(d=t.params.autoplay.delay),v=!1,V();return}d=(d||t.params.autoplay.delay)-(new Date().getTime()-u),!(t.isEnd&&d<0&&!t.params.loop)&&(d<0&&(d=0),V())},D=()=>{t.isEnd&&d<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(u=new Date().getTime(),b?(b=!1,x(d)):x(),t.autoplay.paused=!1,r("autoplayResume"))},I=()=>{if(t.destroyed||!t.autoplay.running)return;let F=ui();F.visibilityState==="hidden"&&(b=!0,S(!0)),F.visibilityState==="visible"&&D()},T=F=>{F.pointerType==="mouse"&&(b=!0,_=!0,!(t.animating||t.autoplay.paused)&&S(!0))},R=F=>{F.pointerType==="mouse"&&(_=!1,t.autoplay.paused&&D())},k=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",T),t.el.addEventListener("pointerleave",R))},z=()=>{t.el.removeEventListener("pointerenter",T),t.el.removeEventListener("pointerleave",R)},W=()=>{ui().addEventListener("visibilitychange",I)},N=()=>{ui().removeEventListener("visibilitychange",I)};i("init",()=>{t.params.autoplay.enabled&&(k(),W(),E())}),i("destroy",()=>{z(),N(),t.autoplay.running&&O()}),i("_freeModeStaticRelease",()=>{(m||b)&&D()}),i("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?O():S(!0,!0)}),i("beforeTransitionStart",(F,X,V)=>{t.destroyed||!t.autoplay.running||(V||!t.params.autoplay.disableOnInteraction?S(!0,!0):O())}),i("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){O();return}p=!0,m=!1,b=!1,g=setTimeout(()=>{b=!0,m=!0,S(!0)},200)}}),i("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!p)){if(clearTimeout(g),clearTimeout(a),t.params.autoplay.disableOnInteraction){m=!1,p=!1;return}m&&t.params.cssMode&&D(),m=!1,p=!1}}),i("slideChange",()=>{t.destroyed||!t.autoplay.running||(v=!0)}),Object.assign(t.autoplay,{start:E,stop:O,pause:S,resume:D})}function MW(e){let{swiper:t,extendParams:n,on:i}=e;n({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,o=!1;t.thumbs={swiper:null};function a(){let c=t.thumbs.swiper;if(!c||c.destroyed)return;let d=c.clickedIndex,u=c.clickedSlide;if(u&&u.classList.contains(t.params.thumbs.slideThumbActiveClass)||typeof d>"u"||d===null)return;let h;c.params.loop?h=parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):h=d,t.params.loop?t.slideToLoop(h):t.slideTo(h)}function s(){let{thumbs:c}=t.params;if(r)return!1;r=!0;let d=t.constructor;if(c.swiper instanceof d)t.thumbs.swiper=c.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update();else if(mg(c.swiper)){let u=Object.assign({},c.swiper);Object.assign(u,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new d(u),o=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",a),!0}function l(c){let d=t.thumbs.swiper;if(!d||d.destroyed)return;let u=d.params.slidesPerView==="auto"?d.slidesPerViewDynamic():d.params.slidesPerView,h=1,p=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(h=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(h=1),h=Math.floor(h),d.slides.forEach(v=>v.classList.remove(p)),d.params.loop||d.params.virtual&&d.params.virtual.enabled)for(let v=0;v<h;v+=1)yi(d.slidesEl,`[data-swiper-slide-index="${t.realIndex+v}"]`).forEach(b=>{b.classList.add(p)});else for(let v=0;v<h;v+=1)d.slides[t.realIndex+v]&&d.slides[t.realIndex+v].classList.add(p);let m=t.params.thumbs.autoScrollOffset,g=m&&!d.params.loop;if(t.realIndex!==d.realIndex||g){let v=d.activeIndex,b,_;if(d.params.loop){let C=d.slides.filter(M=>M.getAttribute("data-swiper-slide-index")===`${t.realIndex}`)[0];b=d.slides.indexOf(C),_=t.activeIndex>t.previousIndex?"next":"prev"}else b=t.realIndex,_=b>t.previousIndex?"next":"prev";g&&(b+=_==="next"?m:-1*m),d.visibleSlidesIndexes&&d.visibleSlidesIndexes.indexOf(b)<0&&(d.params.centeredSlides?b>v?b=b-Math.floor(u/2)+1:b=b+Math.floor(u/2)-1:b>v&&d.params.slidesPerGroup,d.slideTo(b,c?0:void 0))}}i("beforeInit",()=>{let{thumbs:c}=t.params;if(!(!c||!c.swiper))if(typeof c.swiper=="string"||c.swiper instanceof HTMLElement){let d=ui(),u=()=>{let p=typeof c.swiper=="string"?d.querySelector(c.swiper):c.swiper;if(p&&p.swiper)c.swiper=p.swiper,s(),l(!0);else if(p){let m=g=>{c.swiper=g.detail[0],p.removeEventListener("init",m),s(),l(!0),c.swiper.update(),t.update()};p.addEventListener("init",m)}return p},h=()=>{if(t.destroyed)return;u()||requestAnimationFrame(h)};requestAnimationFrame(h)}else s(),l(!0)}),i("slideChange update resize observerUpdate",()=>{l()}),i("setTransition",(c,d)=>{let u=t.thumbs.swiper;!u||u.destroyed||u.setTransition(d)}),i("beforeDestroy",()=>{let c=t.thumbs.swiper;!c||c.destroyed||o&&c.destroy()}),Object.assign(t.thumbs,{init:s,update:l})}function wW(e){let{swiper:t,extendParams:n,emit:i,once:r}=e;n({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(t.params.cssMode)return;let l=t.getTranslate();t.setTranslate(l),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})}function a(){if(t.params.cssMode)return;let{touchEventsData:l,touches:c}=t;l.velocities.length===0&&l.velocities.push({position:c[t.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[t.isHorizontal()?"currentX":"currentY"],time:qo()})}function s(l){let{currentPos:c}=l;if(t.params.cssMode)return;let{params:d,wrapperEl:u,rtlTranslate:h,snapGrid:p,touchEventsData:m}=t,v=qo()-m.touchStartTime;if(c<-t.minTranslate()){t.slideTo(t.activeIndex);return}if(c>-t.maxTranslate()){t.slides.length<p.length?t.slideTo(p.length-1):t.slideTo(t.slides.length-1);return}if(d.freeMode.momentum){if(m.velocities.length>1){let O=m.velocities.pop(),S=m.velocities.pop(),D=O.position-S.position,I=O.time-S.time;t.velocity=D/I,t.velocity/=2,Math.abs(t.velocity)<d.freeMode.minimumVelocity&&(t.velocity=0),(I>150||qo()-O.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=d.freeMode.momentumVelocityRatio,m.velocities.length=0;let b=1e3*d.freeMode.momentumRatio,_=t.velocity*b,C=t.translate+_;h&&(C=-C);let M=!1,P,x=Math.abs(t.velocity)*20*d.freeMode.momentumBounceRatio,E;if(C<t.maxTranslate())d.freeMode.momentumBounce?(C+t.maxTranslate()<-x&&(C=t.maxTranslate()-x),P=t.maxTranslate(),M=!0,m.allowMomentumBounce=!0):C=t.maxTranslate(),d.loop&&d.centeredSlides&&(E=!0);else if(C>t.minTranslate())d.freeMode.momentumBounce?(C-t.minTranslate()>x&&(C=t.minTranslate()+x),P=t.minTranslate(),M=!0,m.allowMomentumBounce=!0):C=t.minTranslate(),d.loop&&d.centeredSlides&&(E=!0);else if(d.freeMode.sticky){let O;for(let S=0;S<p.length;S+=1)if(p[S]>-C){O=S;break}Math.abs(p[O]-C)<Math.abs(p[O-1]-C)||t.swipeDirection==="next"?C=p[O]:C=p[O-1],C=-C}if(E&&r("transitionEnd",()=>{t.loopFix()}),t.velocity!==0){if(h?b=Math.abs((-C-t.translate)/t.velocity):b=Math.abs((C-t.translate)/t.velocity),d.freeMode.sticky){let O=Math.abs((h?-C:C)-t.translate),S=t.slidesSizesGrid[t.activeIndex];O<S?b=d.speed:O<2*S?b=d.speed*1.5:b=d.speed*2.5}}else if(d.freeMode.sticky){t.slideToClosest();return}d.freeMode.momentumBounce&&M?(t.updateProgress(P),t.setTransition(b),t.setTranslate(C),t.transitionStart(!0,t.swipeDirection),t.animating=!0,yu(u,()=>{!t||t.destroyed||!m.allowMomentumBounce||(i("momentumBounce"),t.setTransition(d.speed),setTimeout(()=>{t.setTranslate(P),yu(u,()=>{!t||t.destroyed||t.transitionEnd()})},0))})):t.velocity?(i("_freeModeNoMomentumRelease"),t.updateProgress(C),t.setTransition(b),t.setTranslate(C),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,yu(u,()=>{!t||t.destroyed||t.transitionEnd()}))):t.updateProgress(C),t.updateActiveIndex(),t.updateSlidesClasses()}else if(d.freeMode.sticky){t.slideToClosest();return}else d.freeMode&&i("_freeModeNoMomentumRelease");(!d.freeMode.momentum||v>=d.longSwipesMs)&&(i("_freeModeStaticRelease"),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}Object.assign(t,{freeMode:{onTouchStart:o,onTouchMove:a,onTouchEnd:s}})}function xW(e){let{swiper:t,extendParams:n,on:i}=e;n({grid:{rows:1,fill:"column"}});let r,o,a,s,l=()=>{let g=t.params.spaceBetween;return typeof g=="string"&&g.indexOf("%")>=0?g=parseFloat(g.replace("%",""))/100*t.size:typeof g=="string"&&(g=parseFloat(g)),g},c=g=>{let{slidesPerView:v}=t.params,{rows:b,fill:_}=t.params.grid,C=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:g.length;a=Math.floor(C/b),Math.floor(C/b)===C/b?r=C:r=Math.ceil(C/b)*b,v!=="auto"&&_==="row"&&(r=Math.max(r,v*b)),o=r/b},d=()=>{t.slides&&t.slides.forEach(g=>{g.swiperSlideGridSet&&(g.style.height="",g.style[t.getDirectionLabel("margin-top")]="")})},u=(g,v,b)=>{let{slidesPerGroup:_}=t.params,C=l(),{rows:M,fill:P}=t.params.grid,x=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:b.length,E,O,S;if(P==="row"&&_>1){let D=Math.floor(g/(_*M)),I=g-M*_*D,T=D===0?_:Math.min(Math.ceil((x-D*M*_)/M),_);S=Math.floor(I/T),O=I-S*T+D*_,E=O+S*r/M,v.style.order=E}else P==="column"?(O=Math.floor(g/M),S=g-O*M,(O>a||O===a&&S===M-1)&&(S+=1,S>=M&&(S=0,O+=1))):(S=Math.floor(g/o),O=g-S*o);v.row=S,v.column=O,v.style.height=`calc((100% - ${(M-1)*C}px) / ${M})`,v.style[t.getDirectionLabel("margin-top")]=S!==0?C&&`${C}px`:"",v.swiperSlideGridSet=!0},h=(g,v)=>{let{centeredSlides:b,roundLengths:_}=t.params,C=l(),{rows:M}=t.params.grid;if(t.virtualSize=(g+C)*r,t.virtualSize=Math.ceil(t.virtualSize/M)-C,t.params.cssMode||(t.wrapperEl.style[t.getDirectionLabel("width")]=`${t.virtualSize+C}px`),b){let P=[];for(let x=0;x<v.length;x+=1){let E=v[x];_&&(E=Math.floor(E)),v[x]<t.virtualSize+v[0]&&P.push(E)}v.splice(0,v.length),v.push(...P)}},p=()=>{s=t.params.grid&&t.params.grid.rows>1},m=()=>{let{params:g,el:v}=t,b=g.grid&&g.grid.rows>1;s&&!b?(v.classList.remove(`${g.containerModifierClass}grid`,`${g.containerModifierClass}grid-column`),a=1,t.emitContainerClasses()):!s&&b&&(v.classList.add(`${g.containerModifierClass}grid`),g.grid.fill==="column"&&v.classList.add(`${g.containerModifierClass}grid-column`),t.emitContainerClasses()),s=b};i("init",p),i("update",m),t.grid={initSlides:c,unsetSlides:d,updateSlide:u,updateWrapperSize:h}}function X3e(e){let t=this,{params:n,slidesEl:i}=t;n.loop&&t.loopDestroy();let r=o=>{if(typeof o=="string"){let a=document.createElement("div");a.innerHTML=o,i.append(a.children[0]),a.innerHTML=""}else i.append(o)};if(typeof e=="object"&&"length"in e)for(let o=0;o<e.length;o+=1)e[o]&&r(e[o]);else r(e);t.recalcSlides(),n.loop&&t.loopCreate(),(!n.observer||t.isElement)&&t.update()}function Q3e(e){let t=this,{params:n,activeIndex:i,slidesEl:r}=t;n.loop&&t.loopDestroy();let o=i+1,a=s=>{if(typeof s=="string"){let l=document.createElement("div");l.innerHTML=s,r.prepend(l.children[0]),l.innerHTML=""}else r.prepend(s)};if(typeof e=="object"&&"length"in e){for(let s=0;s<e.length;s+=1)e[s]&&a(e[s]);o=i+e.length}else a(e);t.recalcSlides(),n.loop&&t.loopCreate(),(!n.observer||t.isElement)&&t.update(),t.slideTo(o,0,!1)}function Z3e(e,t){let n=this,{params:i,activeIndex:r,slidesEl:o}=n,a=r;i.loop&&(a-=n.loopedSlides,n.loopDestroy(),n.recalcSlides());let s=n.slides.length;if(e<=0){n.prependSlide(t);return}if(e>=s){n.appendSlide(t);return}let l=a>e?a+1:a,c=[];for(let d=s-1;d>=e;d-=1){let u=n.slides[d];u.remove(),c.unshift(u)}if(typeof t=="object"&&"length"in t){for(let d=0;d<t.length;d+=1)t[d]&&o.append(t[d]);l=a>e?a+t.length:a}else o.append(t);for(let d=0;d<c.length;d+=1)o.append(c[d]);n.recalcSlides(),i.loop&&n.loopCreate(),(!i.observer||n.isElement)&&n.update(),i.loop?n.slideTo(l+n.loopedSlides,0,!1):n.slideTo(l,0,!1)}function $3e(e){let t=this,{params:n,activeIndex:i}=t,r=i;n.loop&&(r-=t.loopedSlides,t.loopDestroy());let o=r,a;if(typeof e=="object"&&"length"in e){for(let s=0;s<e.length;s+=1)a=e[s],t.slides[a]&&t.slides[a].remove(),a<o&&(o-=1);o=Math.max(o,0)}else a=e,t.slides[a]&&t.slides[a].remove(),a<o&&(o-=1),o=Math.max(o,0);t.recalcSlides(),n.loop&&t.loopCreate(),(!n.observer||t.isElement)&&t.update(),n.loop?t.slideTo(o+t.loopedSlides,0,!1):t.slideTo(o,0,!1)}function K3e(){let e=this,t=[];for(let n=0;n<e.slides.length;n+=1)t.push(n);e.removeSlide(t)}function PW(e){let{swiper:t}=e;Object.assign(t,{appendSlide:X3e.bind(t),prependSlide:Q3e.bind(t),addSlide:Z3e.bind(t),removeSlide:$3e.bind(t),removeAllSlides:K3e.bind(t)})}function Cs(e){let{effect:t,swiper:n,on:i,setTranslate:r,setTransition:o,overwriteParams:a,perspective:s,recreateShadows:l,getEffectParams:c}=e;i("beforeInit",()=>{if(n.params.effect!==t)return;n.classNames.push(`${n.params.containerModifierClass}${t}`),s&&s()&&n.classNames.push(`${n.params.containerModifierClass}3d`);let u=a?a():{};Object.assign(n.params,u),Object.assign(n.originalParams,u)}),i("setTranslate",()=>{n.params.effect===t&&r()}),i("setTransition",(u,h)=>{n.params.effect===t&&o(h)}),i("transitionEnd",()=>{if(n.params.effect===t&&l){if(!c||!c().slideShadows)return;n.slides.forEach(u=>{u.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(h=>h.remove())}),l()}});let d;i("virtualUpdate",()=>{n.params.effect===t&&(n.slides.length||(d=!0),requestAnimationFrame(()=>{d&&n.slides&&n.slides.length&&(r(),d=!1)}))})}function tc(e,t){let n=ma(t);return n!==t&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function _u(e){let{swiper:t,duration:n,transformElements:i,allSlides:r}=e,{activeIndex:o}=t,a=s=>s.parentElement?s.parentElement:t.slides.filter(c=>c.shadowRoot&&c.shadowRoot===s.parentNode)[0];if(t.params.virtualTranslate&&n!==0){let s=!1,l;r?l=i:l=i.filter(c=>{let d=c.classList.contains("swiper-slide-transform")?a(c):c;return t.getSlideIndex(d)===o}),l.forEach(c=>{yu(c,()=>{if(s||!t||t.destroyed)return;s=!0,t.animating=!1;let d=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(d)})})}}function OW(e){let{swiper:t,extendParams:n,on:i}=e;n({fadeEffect:{crossFade:!1}}),Cs({effect:"fade",swiper:t,on:i,setTranslate:()=>{let{slides:a}=t,s=t.params.fadeEffect;for(let l=0;l<a.length;l+=1){let c=t.slides[l],u=-c.swiperSlideOffset;t.params.virtualTranslate||(u-=t.translate);let h=0;t.isHorizontal()||(h=u,u=0);let p=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),m=tc(s,c);m.style.opacity=p,m.style.transform=`translate3d(${u}px, ${h}px, 0px)`}},setTransition:a=>{let s=t.slides.map(l=>ma(l));s.forEach(l=>{l.style.transitionDuration=`${a}ms`}),_u({swiper:t,duration:a,transformElements:s,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function SW(e){let{swiper:t,extendParams:n,on:i}=e;n({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});let r=(l,c,d)=>{let u=d?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),h=d?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");u||(u=nr("div",`swiper-slide-shadow-cube swiper-slide-shadow-${d?"left":"top"}`.split(" ")),l.append(u)),h||(h=nr("div",`swiper-slide-shadow-cube swiper-slide-shadow-${d?"right":"bottom"}`.split(" ")),l.append(h)),u&&(u.style.opacity=Math.max(-c,0)),h&&(h.style.opacity=Math.max(c,0))};Cs({effect:"cube",swiper:t,on:i,setTranslate:()=>{let{el:l,wrapperEl:c,slides:d,width:u,height:h,rtlTranslate:p,size:m,browser:g}=t,v=t.params.cubeEffect,b=t.isHorizontal(),_=t.virtual&&t.params.virtual.enabled,C=0,M;v.shadow&&(b?(M=t.wrapperEl.querySelector(".swiper-cube-shadow"),M||(M=nr("div","swiper-cube-shadow"),t.wrapperEl.append(M)),M.style.height=`${u}px`):(M=l.querySelector(".swiper-cube-shadow"),M||(M=nr("div","swiper-cube-shadow"),l.append(M))));for(let x=0;x<d.length;x+=1){let E=d[x],O=x;_&&(O=parseInt(E.getAttribute("data-swiper-slide-index"),10));let S=O*90,D=Math.floor(S/360);p&&(S=-S,D=Math.floor(-S/360));let I=Math.max(Math.min(E.progress,1),-1),T=0,R=0,k=0;O%4===0?(T=-D*4*m,k=0):(O-1)%4===0?(T=0,k=-D*4*m):(O-2)%4===0?(T=m+D*4*m,k=m):(O-3)%4===0&&(T=-m,k=3*m+m*4*D),p&&(T=-T),b||(R=T,T=0);let z=`rotateX(${b?0:-S}deg) rotateY(${b?S:0}deg) translate3d(${T}px, ${R}px, ${k}px)`;I<=1&&I>-1&&(C=O*90+I*90,p&&(C=-O*90-I*90),t.browser&&t.browser.need3dFix&&Math.abs(C)/90%2===1&&(C+=.001)),E.style.transform=z,v.slideShadows&&r(E,I,b)}if(c.style.transformOrigin=`50% 50% -${m/2}px`,c.style["-webkit-transform-origin"]=`50% 50% -${m/2}px`,v.shadow)if(b)M.style.transform=`translate3d(0px, ${u/2+v.shadowOffset}px, ${-u/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${v.shadowScale})`;else{let x=Math.abs(C)-Math.floor(Math.abs(C)/90)*90,E=1.5-(Math.sin(x*2*Math.PI/360)/2+Math.cos(x*2*Math.PI/360)/2),O=v.shadowScale,S=v.shadowScale/E,D=v.shadowOffset;M.style.transform=`scale3d(${O}, 1, ${S}) translate3d(0px, ${h/2+D}px, ${-h/2/S}px) rotateX(-89.99deg)`}let P=(g.isSafari||g.isWebView)&&g.needPerspectiveFix?-m/2:0;c.style.transform=`translate3d(0px,0,${P}px) rotateX(${t.isHorizontal()?0:C}deg) rotateY(${t.isHorizontal()?-C:0}deg)`,c.style.setProperty("--swiper-cube-translate-z",`${P}px`)},setTransition:l=>{let{el:c,slides:d}=t;if(d.forEach(u=>{u.style.transitionDuration=`${l}ms`,u.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(h=>{h.style.transitionDuration=`${l}ms`})}),t.params.cubeEffect.shadow&&!t.isHorizontal()){let u=c.querySelector(".swiper-cube-shadow");u&&(u.style.transitionDuration=`${l}ms`)}},recreateShadows:()=>{let l=t.isHorizontal();t.slides.forEach(c=>{let d=Math.max(Math.min(c.progress,1),-1);r(c,d,l)})},getEffectParams:()=>t.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function nc(e,t,n){let i=`swiper-slide-shadow${n?`-${n}`:""}${e?` swiper-slide-shadow-${e}`:""}`,r=ma(t),o=r.querySelector(`.${i.split(" ").join(".")}`);return o||(o=nr("div",i.split(" ")),r.append(o)),o}function EW(e){let{swiper:t,extendParams:n,on:i}=e;n({flipEffect:{slideShadows:!0,limitRotation:!0}});let r=(l,c)=>{let d=t.isHorizontal()?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),u=t.isHorizontal()?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");d||(d=nc("flip",l,t.isHorizontal()?"left":"top")),u||(u=nc("flip",l,t.isHorizontal()?"right":"bottom")),d&&(d.style.opacity=Math.max(-c,0)),u&&(u.style.opacity=Math.max(c,0))};Cs({effect:"flip",swiper:t,on:i,setTranslate:()=>{let{slides:l,rtlTranslate:c}=t,d=t.params.flipEffect;for(let u=0;u<l.length;u+=1){let h=l[u],p=h.progress;t.params.flipEffect.limitRotation&&(p=Math.max(Math.min(h.progress,1),-1));let m=h.swiperSlideOffset,v=-180*p,b=0,_=t.params.cssMode?-m-t.translate:-m,C=0;t.isHorizontal()?c&&(v=-v):(C=_,_=0,b=-v,v=0),t.browser&&t.browser.need3dFix&&(Math.abs(v)/90%2===1&&(v+=.001),Math.abs(b)/90%2===1&&(b+=.001)),h.style.zIndex=-Math.abs(Math.round(p))+l.length,d.slideShadows&&r(h,p);let M=`translate3d(${_}px, ${C}px, 0px) rotateX(${b}deg) rotateY(${v}deg)`,P=tc(d,h);P.style.transform=M}},setTransition:l=>{let c=t.slides.map(d=>ma(d));c.forEach(d=>{d.style.transitionDuration=`${l}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(u=>{u.style.transitionDuration=`${l}ms`})}),_u({swiper:t,duration:l,transformElements:c})},recreateShadows:()=>{t.params.flipEffect,t.slides.forEach(l=>{let c=l.progress;t.params.flipEffect.limitRotation&&(c=Math.max(Math.min(l.progress,1),-1)),r(l,c)})},getEffectParams:()=>t.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function DW(e){let{swiper:t,extendParams:n,on:i}=e;n({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),Cs({effect:"coverflow",swiper:t,on:i,setTranslate:()=>{let{width:a,height:s,slides:l,slidesSizesGrid:c}=t,d=t.params.coverflowEffect,u=t.isHorizontal(),h=t.translate,p=u?-h+a/2:-h+s/2,m=u?d.rotate:-d.rotate,g=d.depth;for(let v=0,b=l.length;v<b;v+=1){let _=l[v],C=c[v],M=_.swiperSlideOffset,P=(p-M-C/2)/C,x=typeof d.modifier=="function"?d.modifier(P):P*d.modifier,E=u?m*x:0,O=u?0:m*x,S=-g*Math.abs(x),D=d.stretch;typeof D=="string"&&D.indexOf("%")!==-1&&(D=parseFloat(d.stretch)/100*C);let I=u?0:D*x,T=u?D*x:0,R=1-(1-d.scale)*Math.abs(x);Math.abs(T)<.001&&(T=0),Math.abs(I)<.001&&(I=0),Math.abs(S)<.001&&(S=0),Math.abs(E)<.001&&(E=0),Math.abs(O)<.001&&(O=0),Math.abs(R)<.001&&(R=0),t.browser&&t.browser.need3dFix&&(Math.abs(E)/90%2===1&&(E+=.001),Math.abs(O)/90%2===1&&(O+=.001));let k=`translate3d(${T}px,${I}px,${S}px)  rotateX(${O}deg) rotateY(${E}deg) scale(${R})`,z=tc(d,_);if(z.style.transform=k,_.style.zIndex=-Math.abs(Math.round(x))+1,d.slideShadows){let W=u?_.querySelector(".swiper-slide-shadow-left"):_.querySelector(".swiper-slide-shadow-top"),N=u?_.querySelector(".swiper-slide-shadow-right"):_.querySelector(".swiper-slide-shadow-bottom");W||(W=nc("coverflow",_,u?"left":"top")),N||(N=nc("coverflow",_,u?"right":"bottom")),W&&(W.style.opacity=x>0?x:0),N&&(N.style.opacity=-x>0?-x:0)}}},setTransition:a=>{t.slides.map(l=>ma(l)).forEach(l=>{l.style.transitionDuration=`${a}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(c=>{c.style.transitionDuration=`${a}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function AW(e){let{swiper:t,extendParams:n,on:i}=e;n({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});let r=s=>typeof s=="string"?s:`${s}px`;Cs({effect:"creative",swiper:t,on:i,setTranslate:()=>{let{slides:s,wrapperEl:l,slidesSizesGrid:c}=t,d=t.params.creativeEffect,{progressMultiplier:u}=d,h=t.params.centeredSlides;if(h){let p=c[0]/2-t.params.slidesOffsetBefore||0;l.style.transform=`translateX(calc(50% - ${p}px))`}for(let p=0;p<s.length;p+=1){let m=s[p],g=m.progress,v=Math.min(Math.max(m.progress,-d.limitProgress),d.limitProgress),b=v;h||(b=Math.min(Math.max(m.originalProgress,-d.limitProgress),d.limitProgress));let _=m.swiperSlideOffset,C=[t.params.cssMode?-_-t.translate:-_,0,0],M=[0,0,0],P=!1;t.isHorizontal()||(C[1]=C[0],C[0]=0);let x={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};v<0?(x=d.next,P=!0):v>0&&(x=d.prev,P=!0),C.forEach((R,k)=>{C[k]=`calc(${R}px + (${r(x.translate[k])} * ${Math.abs(v*u)}))`}),M.forEach((R,k)=>{let z=x.rotate[k]*Math.abs(v*u);t.browser&&t.browser.need3dFix&&Math.abs(z)/90%2===1&&(z+=.001),M[k]=z}),m.style.zIndex=-Math.abs(Math.round(g))+s.length;let E=C.join(", "),O=`rotateX(${M[0]}deg) rotateY(${M[1]}deg) rotateZ(${M[2]}deg)`,S=b<0?`scale(${1+(1-x.scale)*b*u})`:`scale(${1-(1-x.scale)*b*u})`,D=b<0?1+(1-x.opacity)*b*u:1-(1-x.opacity)*b*u,I=`translate3d(${E}) ${O} ${S}`;if(P&&x.shadow||!P){let R=m.querySelector(".swiper-slide-shadow");if(!R&&x.shadow&&(R=nc("creative",m)),R){let k=d.shadowPerProgress?v*(1/d.limitProgress):v;R.style.opacity=Math.min(Math.max(Math.abs(k),0),1)}}let T=tc(d,m);T.style.transform=I,T.style.opacity=D,x.origin&&(T.style.transformOrigin=x.origin)}},setTransition:s=>{let l=t.slides.map(c=>ma(c));l.forEach(c=>{c.style.transitionDuration=`${s}ms`,c.querySelectorAll(".swiper-slide-shadow").forEach(d=>{d.style.transitionDuration=`${s}ms`})}),_u({swiper:t,duration:s,transformElements:l,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}function TW(e){let{swiper:t,extendParams:n,on:i}=e;n({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),Cs({effect:"cards",swiper:t,on:i,setTranslate:()=>{let{slides:a,activeIndex:s,rtlTranslate:l}=t,c=t.params.cardsEffect,{startTranslate:d,isTouched:u}=t.touchEventsData,h=l?-t.translate:t.translate;for(let p=0;p<a.length;p+=1){let m=a[p],g=m.progress,v=Math.min(Math.max(g,-4),4),b=m.swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&(t.wrapperEl.style.transform=`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(b-=a[0].swiperSlideOffset);let _=t.params.cssMode?-b-t.translate:-b,C=0,M=-100*Math.abs(v),P=1,x=-c.perSlideRotate*v,E=c.perSlideOffset-Math.abs(v)*.75,O=t.virtual&&t.params.virtual.enabled?t.virtual.from+p:p,S=(O===s||O===s-1)&&v>0&&v<1&&(u||t.params.cssMode)&&h<d,D=(O===s||O===s+1)&&v<0&&v>-1&&(u||t.params.cssMode)&&h>d;if(S||D){let k=(1-Math.abs((Math.abs(v)-.5)/.5))**.5;x+=-28*v*k,P+=-.5*k,E+=96*k,C=`${-25*k*Math.abs(v)}%`}if(v<0?_=`calc(${_}px ${l?"-":"+"} (${E*Math.abs(v)}%))`:v>0?_=`calc(${_}px ${l?"-":"+"} (-${E*Math.abs(v)}%))`:_=`${_}px`,!t.isHorizontal()){let k=C;C=_,_=k}let I=v<0?`${1+(1-P)*v}`:`${1-(1-P)*v}`,T=`
        translate3d(${_}, ${C}, ${M}px)
        rotateZ(${c.rotate?l?-x:x:0}deg)
        scale(${I})
      `;if(c.slideShadows){let k=m.querySelector(".swiper-slide-shadow");k||(k=nc("cards",m)),k&&(k.style.opacity=Math.min(Math.max((Math.abs(v)-.5)/.5,0),1))}m.style.zIndex=-Math.abs(Math.round(g))+a.length;let R=tc(c,m);R.style.transform=T}},setTransition:a=>{let s=t.slides.map(l=>ma(l));s.forEach(l=>{l.style.transitionDuration=`${a}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(c=>{c.style.transitionDuration=`${a}ms`})}),_u({swiper:t,duration:a,transformElements:s})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}var J3e=[cW,dW,uW,hW,pW,mW,fW,gW,vW,yW,bW,_W,CW,MW,wW,xW,PW,OW,SW,EW,DW,AW,TW];bu.use(J3e);var gg=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function yp(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function kw(e,t){let n=["__proto__","constructor","prototype"];Object.keys(t).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof e[i]>"u"?e[i]=t[i]:yp(t[i])&&yp(e[i])&&Object.keys(t[i]).length>0?t[i].__swiper__?e[i]=t[i]:kw(e[i],t[i]):e[i]=t[i]})}function IW(e){return e===void 0&&(e={}),e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function RW(e){return e===void 0&&(e={}),e.pagination&&typeof e.pagination.el>"u"}function LW(e){return e===void 0&&(e={}),e.scrollbar&&typeof e.scrollbar.el>"u"}function vg(e){return e===void 0&&(e=""),e.replace(/-[a-z]/g,t=>t.toUpperCase().replace("-",""))}function kW(e){let{swiper:t,slides:n,passedParams:i,changedParams:r,nextEl:o,prevEl:a,scrollbarEl:s,paginationEl:l}=e,c=r.filter(S=>S!=="children"&&S!=="direction"&&S!=="wrapperClass"),{params:d,pagination:u,navigation:h,scrollbar:p,virtual:m,thumbs:g}=t,v,b,_,C,M,P,x,E;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(v=!0),r.includes("controller")&&i.controller&&i.controller.control&&d.controller&&!d.controller.control&&(b=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(d.pagination||d.pagination===!1)&&u&&!u.el&&(_=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||s)&&(d.scrollbar||d.scrollbar===!1)&&p&&!p.el&&(C=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||a)&&(i.navigation.nextEl||o)&&(d.navigation||d.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(M=!0);let O=S=>{t[S]&&(t[S].destroy(),S==="navigation"?(t.isElement&&(t[S].prevEl.remove(),t[S].nextEl.remove()),d[S].prevEl=void 0,d[S].nextEl=void 0,t[S].prevEl=void 0,t[S].nextEl=void 0):(t.isElement&&t[S].el.remove(),d[S].el=void 0,t[S].el=void 0))};r.includes("loop")&&t.isElement&&(d.loop&&!i.loop?P=!0:!d.loop&&i.loop?x=!0:E=!0),c.forEach(S=>{if(yp(d[S])&&yp(i[S]))Object.assign(d[S],i[S]),(S==="navigation"||S==="pagination"||S==="scrollbar")&&"enabled"in i[S]&&!i[S].enabled&&O(S);else{let D=i[S];(D===!0||D===!1)&&(S==="navigation"||S==="pagination"||S==="scrollbar")?D===!1&&O(S):d[S]=i[S]}}),c.includes("controller")&&!b&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),r.includes("children")&&n&&m&&d.virtual.enabled?(m.slides=n,m.update(!0)):r.includes("virtual")&&m&&d.virtual.enabled&&(n&&(m.slides=n),m.update(!0)),r.includes("children")&&n&&d.loop&&(E=!0),v&&g.init()&&g.update(!0),b&&(t.controller.control=d.controller.control),_&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(d.pagination.el=l),u.init(),u.render(),u.update()),C&&(t.isElement&&(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-scrollbar"),s.part.add("scrollbar"),t.el.appendChild(s)),s&&(d.scrollbar.el=s),p.init(),p.updateSize(),p.setTranslate()),M&&(t.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=t.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),t.el.appendChild(o)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=t.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),t.el.appendChild(a))),o&&(d.navigation.nextEl=o),a&&(d.navigation.prevEl=a),h.init(),h.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&t.changeDirection(i.direction,!1),(P||E)&&t.loopDestroy(),(x||E)&&t.loopCreate(),t.update()}var FW=e=>{if(parseFloat(e)===Number(e))return Number(e);if(e==="true"||e==="")return!0;if(e==="false")return!1;if(e==="null")return null;if(e!=="undefined"){if(typeof e=="string"&&e.includes("{")&&e.includes("}")&&e.includes('"')){let t;try{t=JSON.parse(e)}catch{t=e}return t}return e}},NW=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function _I(e,t,n){let i={},r={};kw(i,Lw);let o=[...gg,"on"],a=o.map(l=>l.replace(/_/,""));o.forEach(l=>{l=l.replace("_",""),typeof e[l]<"u"&&(r[l]=e[l])});let s=[...e.attributes];return typeof t=="string"&&typeof n<"u"&&s.push({name:t,value:yp(n)?B({},n):n}),s.forEach(l=>{let c=NW.filter(d=>l.name.indexOf(`${d}-`)===0)[0];if(c){let d=vg(c),u=vg(l.name.split(`${c}-`)[1]);typeof r[d]>"u"&&(r[d]={}),r[d]===!0&&(r[d]={enabled:!0}),r[d][u]=FW(l.value)}else{let d=vg(l.name);if(!a.includes(d))return;let u=FW(l.value);r[d]&&NW.includes(l.name)&&!yp(u)?(r[d].constructor!==Object&&(r[d]={}),r[d].enabled=!!u):r[d]=u}}),kw(i,r),i.navigation?i.navigation=B({prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},i.navigation!==!0?i.navigation:{}):i.navigation===!1&&delete i.navigation,i.scrollbar?i.scrollbar=B({el:".swiper-scrollbar"},i.scrollbar!==!0?i.scrollbar:{}):i.scrollbar===!1&&delete i.scrollbar,i.pagination?i.pagination=B({el:".swiper-pagination"},i.pagination!==!0?i.pagination:{}):i.pagination===!1&&delete i.pagination,{params:i,passedParams:r}}var eDe=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",tDe="::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}",CI=class{},BW=typeof window>"u"||typeof HTMLElement>"u"?CI:HTMLElement,zW=`<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>
    `,VW=(e,t)=>{if(typeof CSSStyleSheet<"u"&&e.adoptedStyleSheets){let n=new CSSStyleSheet;n.replaceSync(t),e.adoptedStyleSheets=[n]}else{let n=document.createElement("style");n.rel="stylesheet",n.textContent=t,e.appendChild(n)}},Fw=class extends BW{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return zW}static get prevButtonSvg(){return zW.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[eDe,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join(`
`)}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){let t=this.slideSlots||0,n=[...this.querySelectorAll("[slot^=slide-]")].map(i=>parseInt(i.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=n.length?Math.max(...n)+1:0,!!this.rendered){if(this.slideSlots>t)for(let i=t;i<this.slideSlots;i+=1){let r=document.createElement("swiper-slide");r.setAttribute("part",`slide slide-${i+1}`);let o=document.createElement("slot");o.setAttribute("name",`slide-${i+1}`),r.appendChild(o),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(r)}else if(this.slideSlots<t){let i=this.swiper.slides;for(let r=i.length-1;r>=0;r-=1)r>this.slideSlots&&i[r].remove()}}}render(){if(this.rendered)return;this.calcSlideSlots();let t=this.cssStyles();this.slideSlots>0&&(t=t.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),t.length&&VW(this.shadowRoot,t),this.cssLinks().forEach(i=>{if(this.shadowRoot.querySelector(`link[href="${i}"]`))return;let o=document.createElement("link");o.rel="stylesheet",o.href=i,this.shadowRoot.appendChild(o)});let n=document.createElement("div");n.classList.add("swiper"),n.part="container",n.innerHTML=`
      <slot name="container-start"></slot>
      <div class="swiper-wrapper" part="wrapper">
        <slot></slot>
        ${Array.from({length:this.slideSlots}).map((i,r)=>`
        <swiper-slide part="slide slide-${r}">
          <slot name="slide-${r}"></slot>
        </swiper-slide>
        `).join("")}
      </div>
      <slot name="container-end"></slot>
      ${IW(this.passedParams)?`
        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>
        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>
      `:""}
      ${RW(this.passedParams)?`
        <div part="pagination" class="swiper-pagination"></div>
      `:""}
      ${LW(this.passedParams)?`
        <div part="scrollbar" class="swiper-scrollbar"></div>
      `:""}
    `,this.shadowRoot.appendChild(n),this.rendered=!0}initialize(){var t=this;if(this.initialized)return;this.initialized=!0;let{params:n,passedParams:i}=_I(this);this.swiperParams=n,this.passedParams=i,delete this.swiperParams.init,this.render(),this.swiper=new bu(this.shadowRoot.querySelector(".swiper"),se(B(B({},n.virtual?{}:{observer:!0,observeSlideChildren:this.slideSlots>0}),n),{touchEventsTarget:"container",onAny:function(r){r==="observerUpdate"&&t.calcSlideSlots();let o=n.eventsPrefix?`${n.eventsPrefix}${r.toLowerCase()}`:r.toLowerCase();for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];let c=new CustomEvent(o,{detail:s,bubbles:r!=="hashChange",cancelable:!0});t.dispatchEvent(c)}}))}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||this.init===!1||this.getAttribute("init")==="false"||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(t,n){let{params:i,passedParams:r}=_I(this,t,n);this.passedParams=r,this.swiperParams=i,!(this.swiper&&this.swiper.params[t]===n)&&kW(B(B(B({swiper:this.swiper,passedParams:this.passedParams,changedParams:[vg(t)]},t==="navigation"&&r[t]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{}),t==="pagination"&&r[t]?{paginationEl:".swiper-pagination"}:{}),t==="scrollbar"&&r[t]?{scrollbarEl:".swiper-scrollbar"}:{}))}attributeChangedCallback(t,n,i){this.initialized&&(n==="true"&&i===null&&(i=!1),this.updateSwiperOnPropChange(t,i))}static get observedAttributes(){return gg.filter(n=>n.includes("_")).map(n=>n.replace(/[A-Z]/g,i=>`-${i}`).replace("_","").toLowerCase())}};gg.forEach(e=>{e!=="init"&&(e=e.replace("_",""),Object.defineProperty(Fw.prototype,e,{configurable:!0,get(){return(this.passedParams||{})[e]},set(t){this.passedParams||(this.passedParams={}),this.passedParams[e]=t,this.initialized&&this.updateSwiperOnPropChange(e,t)}}))});var MI=class extends BW{constructor(){super(),this.attachShadow({mode:"open"})}render(){let t=this.lazy||this.getAttribute("lazy")===""||this.getAttribute("lazy")==="true";if(VW(this.shadowRoot,tDe),this.shadowRoot.appendChild(document.createElement("slot")),t){let n=document.createElement("div");n.classList.add("swiper-lazy-preloader"),n.part.add("preloader"),this.shadowRoot.appendChild(n)}}initialize(){this.render()}connectedCallback(){this.initialize()}},UW=()=>{typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",Fw),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",MI))};typeof window<"u"&&(window.SwiperElementRegisterParams=e=>{gg.push(...e)});UW();zR(ZG,BG).catch(e=>console.error(e));
